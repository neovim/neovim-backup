{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Description\n\nI recently updated and got a warning\n```\nThe `require('lspconfig')` \"framework\" is deprecated, use vim.lsp.config (see :help lspconfig-nvim-0.11) instead.\nFeature will be removed in nvim-lspconfig v3.0.0\n```\nso I went ahead and changed that.\n\nSpecifically, I changed the following file `lsp.lua` (original state):\n```Lua\nreturn {\n\t{\n\t\t\"mason-org/mason.nvim\",\n\t\topts = {\n\t\t\tui = {\n\t\t\t\ticons = {\n\t\t\t\t\tpackage_installed = \"✓\",\n\t\t\t\t\tpackage_pending = \"➜\",\n\t\t\t\t\tpackage_uninstalled = \"✗\",\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\t\"mason-org/mason-lspconfig.nvim\",\n\t\topts = { ensure_installed = { \"pylsp\", \"lua_ls\", \"rust_analyzer\", \"bashls\", \"tinymist\", \"astro\", \"ts_ls\", \"yamlls\", \"tailwindcss\", \"eslint\" } },\n\t},\n\t{\n\t\t\"neovim/nvim-lspconfig\",\n\t\tdependencies = { \"saghen/blink.cmp\" },\n\n\t\t-- example using `opts` for defining servers\n\t\topts = {\n\t\t\tservers = {\n\t\t\t\tlua_ls = { settings = { Lua = { diagnostics = { globals = { \"vim\" } } } } },\n\t\t\t\tpylsp = {},\n\t\t\t\trust_analyzer = { settings = { [\"rust-analyzer\"] = { check = { command = \"clippy\" } } } }, -- check used to be checkOnSave\n\t\t\t\tbashls = {},\n\t\t\t\tgdscript = { name = \"godot\", cmd = vim.lsp.rpc.connect(\"127.0.0.1\", 6005) },\n\t\t\t\ttinymist = { settings = { formatterMode = \"typstyle\", exportPdf = \"onType\", semanticTokens = \"disable\" } },\n\t\t\t\tastro = { init_options = { typescript = { tsdk = \"./node_modules/typescript/lib\" } } },\n\t\t\t\tts_ls = {\n\t\t\t\t\tinit_options = {\n\t\t\t\t\t\thostInfo = \"neovim\",\n\t\t\t\t\t\tpreferences = {\n\t\t\t\t\t\t\tincludeCompletionsForModuleExports = true,\n\t\t\t\t\t\t\tincludeCompletionsForImportStatements = true,\n\t\t\t\t\t\t\timportModuleSpecifierPreference = \"relative\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tyamlls = {},\n\t\t\t\ttailwindcss = {},\n\t\t\t\tmdx_analyzer = {},\n\t\t\t},\n\t\t},\n\t\tconfig = function(_, opts)\n\t\t\tlocal lspconfig = require(\"lspconfig\")\n\t\t\t-- Use an on_attach function to map additional LSP-specific keys when the server attaches\n\t\t\tlocal on_attach = function(_, bufnr)\n\t\t\t\t-- Enable completion triggered by <c-x><c-o> (blink should take care of it though)\n\t\t\t\tvim.api.nvim_buf_set_option(bufnr, \"omnifunc\", \"v:lua.vim.lsp.omnifunc\")\n\n\t\t\t\t-- LSP key mappings for this buffer\n\t\t\t\tvim.keymap.set(\"n\", \"gD\", vim.lsp.buf.declaration, { desc = \"Go to declaration\", buffer = bufnr })\n\t\t\t\tvim.keymap.set(\"n\", \"gd\", vim.lsp.buf.definition, { desc = \"Go to definition\", buffer = bufnr })\n\t\t\t\tvim.keymap.set(\"n\", \"K\", vim.lsp.buf.hover, { desc = \"LSP hover info\", buffer = bufnr })\n\t\t\t\tvim.keymap.set(\"n\", \"gi\", vim.lsp.buf.implementation, { desc = \"List all implementations\", buffer = bufnr })\n\t\t\t\tvim.keymap.set(\"n\", \"<C-k>\", vim.lsp.buf.signature_help, { desc = \"LSP signature help\", buffer = bufnr })\n\t\t\t\tvim.keymap.set(\"n\", \"<Leader>wa\", vim.lsp.buf.add_workspace_folder, { desc = \"Add folder to workspace folders\", buffer = bufnr })\n\t\t\t\tvim.keymap.set(\"n\", \"<Leader>wr\", vim.lsp.buf.remove_workspace_folder, { desc = \"Remove folder from workspace folders\", buffer = bufnr })\n\t\t\t\tvim.keymap.set(\"n\", \"<Leader>wl\", function()\n\t\t\t\t\tprint(vim.inspect(vim.lsp.buf.list_workspace_folders()))\n\t\t\t\tend, { desc = \"List workspace folders\", buffer = bufnr })\n\t\t\t\tvim.keymap.set(\"n\", \"<Leader>D\", vim.lsp.buf.type_definition, { desc = \"LSP type definition\", buffer = bufnr })\n\t\t\t\tvim.keymap.set(\"n\", \"<Leader>rn\", vim.lsp.buf.rename, { desc = \"LSP rename\", buffer = bufnr })\n\t\t\t\tvim.keymap.set(\"n\", \"<Leader>ca\", vim.lsp.buf.code_action, { desc = \"LSP code actions\", buffer = bufnr })\n\t\t\t\tvim.keymap.set(\"n\", \"gr\", vim.lsp.buf.references, { desc = \"LSP list references\", buffer = bufnr })\n\t\t\tend\n\t\t\t-- Set up servers\n\t\t\tfor server, config in pairs(opts.servers) do\n\t\t\t\t-- passing config.capabilities to blink.cmp merges with the capabilities in your\n\t\t\t\t-- `opts[server].capabilities, if you've defined it\n\t\t\t\tconfig.capabilities = require(\"blink.cmp\").get_lsp_capabilities(config.capabilities)\n\t\t\t\tconfig.on_attach = on_attach\n\t\t\t\tlspconfig[server].setup(config)\n\t\t\tend\n\t\tend,\n\t},\n}\n```\nand deleted `local lspconfig = require(\"lspconfig\")` and replaced `lspconfig[server].setup(config)` with `vim.lsp.config[server] = config`, and the warning went away. Most LSPs still work, I have tested `rust_analyzer`, `pylsp`, and `tinymist`. Godot's LSP, however, doesn't seem to work anymore. When set up neovim as an external editor, and I open a .gd file either manually or via the engine's UI, the LSP doesn't attach.\nSpecifically, when I use `:checkhealth lsp` I can see\n\n```\nvim.lsp: Active Clients ~\n- No active clients\n```\n, which seems to confirm the theory that it simply doesn't attach.\n\nI am not entirely sure that I haven't misconfigured something. I cobbled together that LSP config from a couple of separate guides and wiki pages. I am sure it looks horrendous, but I also think that if something previously worked and now doesn't, it's probably a bug. Or maybe I migrated to the new standard incorrectly, but then I'd assume that all LSPs would be broken.\n\nThe only difference between `gdscript` and the others I can find is that I installed the other LSPs I tested via Mason, while the Godot one was shipped with the engine. Could that affect something? I don't think so, since I still set it up in the `servers` table, but well, who knows.\n",
    "closed_at": "2025-10-23T10:56:27Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
        "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
        "followers_url": "https://api.github.com/users/justinmk/followers",
        "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
        "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/justinmk",
        "id": 1359421,
        "login": "justinmk",
        "node_id": "MDQ6VXNlcjEzNTk0MjE=",
        "organizations_url": "https://api.github.com/users/justinmk/orgs",
        "received_events_url": "https://api.github.com/users/justinmk/received_events",
        "repos_url": "https://api.github.com/users/justinmk/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/justinmk",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "> and replaced `lspconfig[server].setup(config)` with `vim.lsp.config[server] = config`\n\nThere is no reason to do that. By assigning `config[..] = ..`, you are *overwriting* (i.e. redefining) the config instead of augmenting it. This is explained at `:help lsp-config`.\n\nTo augment the config, use `vim.lsp.config(server, config)`. Then your config will be merged with the default config provided by nvim-lspconfig.",
            "created_at": "2025-10-23T10:56:27Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/4143#issuecomment-3436302087",
            "id": 3436302087,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4143",
            "node_id": "IC_kwDODTQC187M0c8H",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3436302087/reactions"
            },
            "updated_at": "2025-10-23T10:57:22Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3436302087",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> To augment the config, use `vim.lsp.config(server, config)`. Then your config will be merged with the default config provided by nvim-lspconfig.\n\nI see, sorry, I believe I had seen the way I did it somewhere when I was looking at how to migrate. Thanks for correcting that!\n\nSo, I just did it as you recommended, replacing my line of `vim.lsp.config[server] = config` with `vim.lsp.config(server, config)` and the result is the same, other LSPs like `rust_analyzer` attach, but `gdscript` still does not.\n\nIn case I am being a bit dense again, here's the server setup the way I have it now:\n```Lua\n\t\t\tfor server, config in pairs(opts.servers) do\n\t\t\t\tconfig.capabilities = require(\"blink.cmp\").get_lsp_capabilities(config.capabilities)\n\t\t\t\tconfig.on_attach = on_attach\n\t\t\t\tvim.lsp.config(server, config)\n\t\t\tend\n```\n\nAdmittedly, I am curious, how would the config by nvim-lspconfig get in there anyways, if I'm no longer calling it? The data has to be passed to the builtin nvim function, right? Or are they put in the runtime path and merged that way, as shown in the `:help lsp-config` entry?",
            "created_at": "2025-10-23T17:49:53Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/4143#issuecomment-3438348513",
            "id": 3438348513,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4143",
            "node_id": "IC_kwDODTQC187M8Qjh",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3438348513/reactions"
            },
            "updated_at": "2025-10-23T17:49:53Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3438348513",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/70770307?v=4",
                "events_url": "https://api.github.com/users/KeebCat/events{/privacy}",
                "followers_url": "https://api.github.com/users/KeebCat/followers",
                "following_url": "https://api.github.com/users/KeebCat/following{/other_user}",
                "gists_url": "https://api.github.com/users/KeebCat/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/KeebCat",
                "id": 70770307,
                "login": "KeebCat",
                "node_id": "MDQ6VXNlcjcwNzcwMzA3",
                "organizations_url": "https://api.github.com/users/KeebCat/orgs",
                "received_events_url": "https://api.github.com/users/KeebCat/received_events",
                "repos_url": "https://api.github.com/users/KeebCat/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/KeebCat/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/KeebCat/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/KeebCat",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4143/comments",
    "created_at": "2025-10-22T20:19:14Z",
    "events_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4143/events",
    "html_url": "https://github.com/neovim/nvim-lspconfig/issues/4143",
    "id": 3542266545,
    "issue_dependencies_summary": {
        "blocked_by": 0,
        "blocking": 0,
        "total_blocked_by": 0,
        "total_blocking": 0
    },
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "Something isn't working",
            "id": 1674892761,
            "name": "bug",
            "node_id": "MDU6TGFiZWwxNjc0ODkyNzYx",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/labels/bug"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4143/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDODTQC187TIrKx",
    "number": 4143,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4143/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/nvim-lspconfig",
    "state": "closed",
    "state_reason": "not_planned",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4143/timeline",
    "title": "GDScript LSP breaks using new setup schema",
    "type": null,
    "updated_at": "2025-10-23T17:49:53Z",
    "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4143",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/70770307?v=4",
        "events_url": "https://api.github.com/users/KeebCat/events{/privacy}",
        "followers_url": "https://api.github.com/users/KeebCat/followers",
        "following_url": "https://api.github.com/users/KeebCat/following{/other_user}",
        "gists_url": "https://api.github.com/users/KeebCat/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/KeebCat",
        "id": 70770307,
        "login": "KeebCat",
        "node_id": "MDQ6VXNlcjcwNzcwMzA3",
        "organizations_url": "https://api.github.com/users/KeebCat/orgs",
        "received_events_url": "https://api.github.com/users/KeebCat/received_events",
        "repos_url": "https://api.github.com/users/KeebCat/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/KeebCat/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/KeebCat/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/KeebCat",
        "user_view_type": "public"
    }
}