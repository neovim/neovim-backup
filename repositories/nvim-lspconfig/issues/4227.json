{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Description\n\n- nvim: v0.11.5\n- nvim-lspconfig: master\n\n`workingDirectory.mode` was updated from `location` to `auto` in https://github.com/neovim/nvim-lspconfig/pull/3955. After this change, I started seeing an issue with ESLint config path resolution in monorepo packages. Setting `workingDirectory.mode = location` fixes the issue.\n\nI created an example: https://github.com/MaxShymko/eslint-issue\nLSP works fine in [file1.ts](https://github.com/MaxShymko/eslint-issue/blob/main/src/file1.ts)\nbut breaks in [file2.ts](https://github.com/MaxShymko/eslint-issue/blob/main/src/packages/package1/file2.ts) with error\n```\neslint: Parsing error: Cannot read file '/Users/maxshymko/src/eslint-issue/src/packages/package1/tsconfig.json'.\n```\n\nMy workaround for now is:\n```lua\nvim.lsp.config('eslint', {\n  settings = {\n    workingDirectory = { mode = 'location' },\n  },\n})\n```\n\nShould we roll back `mode` to `location`, or will it break something else?\n@fuegoio, would love to hear your thoughts!",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "Hello!\n\nIt seems that your monorepo is a bit strangely shaped. ESLint expects a `tsconfig.json` file in the `package1` folder, which I think is not absurd. There is no `tsconfig` inheritance of parent project so if you want this package to be compatible with TS you need to add one I think.\n\nThe problem with `location` is that it refers to the current workspace but there is no such thing in Nvim. It will use the file folder but that's not really compatible with monorepos which can share ESLint configuration.\n\nIf that does not work for you, you can still override this in your Nvim config, but I do think the `auto` mode is a good default for everyone.",
            "created_at": "2025-12-10T16:41:41Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/4227#issuecomment-3637993945",
            "id": 3637993945,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4227",
            "node_id": "IC_kwDODTQC187Y12HZ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3637993945/reactions"
            },
            "updated_at": "2025-12-10T16:41:41Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3637993945",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/321778?v=4",
                "events_url": "https://api.github.com/users/fuegoio/events{/privacy}",
                "followers_url": "https://api.github.com/users/fuegoio/followers",
                "following_url": "https://api.github.com/users/fuegoio/following{/other_user}",
                "gists_url": "https://api.github.com/users/fuegoio/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/fuegoio",
                "id": 321778,
                "login": "fuegoio",
                "node_id": "MDQ6VXNlcjMyMTc3OA==",
                "organizations_url": "https://api.github.com/users/fuegoio/orgs",
                "received_events_url": "https://api.github.com/users/fuegoio/received_events",
                "repos_url": "https://api.github.com/users/fuegoio/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/fuegoio/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/fuegoio/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/fuegoio",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "ðŸ‘‹  Just to give a bit of feedback, I stumbled into this issue while trying to understand why `import/no-unresolved` was failing in nvim and not when running the CLI. Environment:\n\n* using `eslint-import-resolver-typescript`\n* monorepo similar to @MaxShymko example https://github.com/MaxShymko/eslint-issue (no tsconfig in packages)\n\n> The problem with location is that it refers to the current workspace but there is no such thing in Nvim. It will use the file folder but that's not really compatible with monorepos which can share ESLint configuration.\n\nFrom my experience, this is not the case. Using `mode = 'location'` fixes the issue, because it's using the `root_dir` as a working directory, which is detected by looking for the lockfile instead of package.json.\n\nThank you @MaxShymko for the workaround!",
            "created_at": "2026-01-19T10:32:14Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/4227#issuecomment-3767606108",
            "id": 3767606108,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4227",
            "node_id": "IC_kwDODTQC187gkRtc",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3767606108/reactions"
            },
            "updated_at": "2026-01-19T10:32:14Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3767606108",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/61787?v=4",
                "events_url": "https://api.github.com/users/BenoitZugmeyer/events{/privacy}",
                "followers_url": "https://api.github.com/users/BenoitZugmeyer/followers",
                "following_url": "https://api.github.com/users/BenoitZugmeyer/following{/other_user}",
                "gists_url": "https://api.github.com/users/BenoitZugmeyer/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/BenoitZugmeyer",
                "id": 61787,
                "login": "BenoitZugmeyer",
                "node_id": "MDQ6VXNlcjYxNzg3",
                "organizations_url": "https://api.github.com/users/BenoitZugmeyer/orgs",
                "received_events_url": "https://api.github.com/users/BenoitZugmeyer/received_events",
                "repos_url": "https://api.github.com/users/BenoitZugmeyer/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/BenoitZugmeyer/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/BenoitZugmeyer/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/BenoitZugmeyer",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4227/comments",
    "created_at": "2025-12-05T21:37:24Z",
    "events_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4227/events",
    "html_url": "https://github.com/neovim/nvim-lspconfig/issues/4227",
    "id": 3700417133,
    "issue_dependencies_summary": {
        "blocked_by": 0,
        "blocking": 0,
        "total_blocked_by": 0,
        "total_blocking": 0
    },
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "Something isn't working",
            "id": 1674892761,
            "name": "bug",
            "node_id": "MDU6TGFiZWwxNjc0ODkyNzYx",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/labels/bug"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4227/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDODTQC187cj-Jt",
    "number": 4227,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4227/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/nvim-lspconfig",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4227/timeline",
    "title": "Eslint workingDirectory.mode = auto breaks path resolution in a monorepo",
    "type": null,
    "updated_at": "2026-01-19T10:32:14Z",
    "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4227",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/19330151?v=4",
        "events_url": "https://api.github.com/users/MaxShymko/events{/privacy}",
        "followers_url": "https://api.github.com/users/MaxShymko/followers",
        "following_url": "https://api.github.com/users/MaxShymko/following{/other_user}",
        "gists_url": "https://api.github.com/users/MaxShymko/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/MaxShymko",
        "id": 19330151,
        "login": "MaxShymko",
        "node_id": "MDQ6VXNlcjE5MzMwMTUx",
        "organizations_url": "https://api.github.com/users/MaxShymko/orgs",
        "received_events_url": "https://api.github.com/users/MaxShymko/received_events",
        "repos_url": "https://api.github.com/users/MaxShymko/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/MaxShymko/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/MaxShymko/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/MaxShymko",
        "user_view_type": "public"
    }
}