{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Description\n\nThis is my current [`solidity_ls`](https://github.com/juanfranblanco/vscode-solidity) configuration:\n```lua\n    settings = {\n      solidity = {\n        compileUsingRemoteVersion = '0.8.26',\n        defaultCompiler = 'remote',\n        enabledAsYouTypeCompilationErrorCheck = true,\n      },\n    },\n```\nVersion: `vscode-solidity-server@0.0.179`\n\nUnfortunately, by looking at the logs, it looks like its being ignored and compiling using the latest solidity version, embedded compiler (just the defaults). There's also some ERROR there which doesn't provide many details but it seems related.\n\n```\n[DEBUG][2025-01-15 21:01:48] .../vim/lsp/rpc.lua:277\t\"rpc.send\"\t{ jsonrpc = \"2.0\", method = \"workspace/didChangeConfiguration\", params = { settings = { solidity = { compileUsingRemoteVersion = \"0.8.26\", defaultCompiler = \"remote\", enabledAsYouTypeCompilationErrorCheck = true } } } }\n[INFO][2025-01-15 21:01:48] ...m/lsp/client.lua:582\t\"LSP[solidity_ls]\"\t\"server_capabilities\"\t{ server_capabilities = { completionProvider = { resolveProvider = false, triggerCharacters = { \".\" } }, definitionProvider = true, hoverProvider = true, referencesProvider = true, textDocumentSync = { change = 1, openClose = true, save = { includeText = false }, willSave = false, willSaveWaitUntil = false }, workspace = { workspaceFolders = { supported = true } } } }\n[DEBUG][2025-01-15 21:01:48] .../vim/lsp/rpc.lua:393\t\"rpc.receive\"\t{ id = 0, jsonrpc = \"2.0\", method = \"client/registerCapability\", params = { registrations = { { id = \"408dafd1-76d5-47cc-991a-660f9449eace\", method = \"workspace/didChangeWorkspaceFolders\", registerOptions = vim.empty_dict() } } } }\n[WARN][2025-01-15 21:01:48] ...m/lsp/client.lua:867\t\"The language server solidity_ls triggers a registerCapability handler for workspace/didChangeWorkspaceFolders despite dynamicRegistration set to false. Report upstream, this warning is harmless\"\n[DEBUG][2025-01-15 21:01:48] .../vim/lsp/rpc.lua:409\t\"server_request: callback result\"\t{ result = vim.NIL, status = true }\n[DEBUG][2025-01-15 21:01:48] .../vim/lsp/rpc.lua:277\t\"rpc.send\"\t{ id = 0, jsonrpc = \"2.0\", result = vim.NIL }\n[DEBUG][2025-01-15 21:01:48] .../vim/lsp/rpc.lua:393\t\"rpc.receive\"\t{ jsonrpc = \"2.0\", method = \"window/logMessage\", params = { message = \"1\", type = 3 } }\n[DEBUG][2025-01-15 21:01:48] .../vim/lsp/rpc.lua:393\t\"rpc.receive\"\t{ jsonrpc = \"2.0\", method = \"window/logMessage\", params = { message = \"Notification handler 'workspace/didChangeConfiguration' failed with message: Cannot read properties of undefined (reading 'forEach')\", type = 1 } }\n[INFO][2025-01-15 21:01:48] ...lsp/handlers.lua:564\t\"1\"\n[ERROR][2025-01-15 21:01:48] ...lsp/handlers.lua:560\t\"Notification handler 'workspace/didChangeConfiguration' failed with message: Cannot read properties of undefined (reading 'forEach')\"\n[DEBUG][2025-01-15 21:01:48] .../vim/lsp/rpc.lua:393\t\"rpc.receive\"\t{ jsonrpc = \"2.0\", method = \"window/logMessage\", params = { message = vim.empty_dict(), type = 1 } }\n[ERROR][2025-01-15 21:01:48] ...lsp/handlers.lua:560\tvim.empty_dict()\n[DEBUG][2025-01-15 21:01:48] .../vim/lsp/rpc.lua:393\t\"rpc.receive\"\t{ jsonrpc = \"2.0\", method = \"window/logMessage\", params = { message = \"Validating using the compiler selected: embedded\", type = 3 } }\n[INFO][2025-01-15 21:01:48] ...lsp/handlers.lua:564\t\"Validating using the compiler selected: embedded\"\n[DEBUG][2025-01-15 21:01:48] .../vim/lsp/rpc.lua:393\t\"rpc.receive\"\t{ jsonrpc = \"2.0\", method = \"window/logMessage\", params = { message = \"Validating using compiler version: 0.8.28+commit.7893614a.Emscripten.clang\", type = 3 } }\n[DEBUG][2025-01-15 21:01:48] .../vim/lsp/rpc.lua:393\t\"rpc.receive\"\t{ jsonrpc = \"2.0\", method = \"window/logMessage\", params = { message = \"Validating using compiler selected version: \", type = 3 } }\n[DEBUG][2025-01-15 21:01:48] .../vim/lsp/rpc.lua:393\t\"rpc.receive\"\t{ jsonrpc = \"2.0\", method = \"window/logMessage\", params = { message = \"Cannot read properties of undefined (reading 'forEach')\", type = 3 } }\n```\n\nI wasn't sure where I should open this issue, but it seems to be `nvim-lspconfig` related. In any case I'll CC @juanfranblanco üôèüèª ",
    "closed_at": "2025-01-19T20:39:29Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
        "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
        "followers_url": "https://api.github.com/users/justinmk/followers",
        "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
        "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/justinmk",
        "id": 1359421,
        "login": "justinmk",
        "node_id": "MDQ6VXNlcjEzNTk0MjE=",
        "organizations_url": "https://api.github.com/users/justinmk/orgs",
        "received_events_url": "https://api.github.com/users/justinmk/received_events",
        "repos_url": "https://api.github.com/users/justinmk/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/justinmk",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "@justinmk (sorry for @'ing you), perhaps you could offer some insight on that LSP error, is it something common?",
            "created_at": "2025-01-16T12:05:55Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3562#issuecomment-2595353689",
            "id": 2595353689,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3562",
            "node_id": "IC_kwDODTQC186asfRZ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2595353689/reactions"
            },
            "updated_at": "2025-01-16T12:05:55Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2595353689",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/74260683?v=4",
                "events_url": "https://api.github.com/users/ndavd/events{/privacy}",
                "followers_url": "https://api.github.com/users/ndavd/followers",
                "following_url": "https://api.github.com/users/ndavd/following{/other_user}",
                "gists_url": "https://api.github.com/users/ndavd/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ndavd",
                "id": 74260683,
                "login": "ndavd",
                "node_id": "MDQ6VXNlcjc0MjYwNjgz",
                "organizations_url": "https://api.github.com/users/ndavd/orgs",
                "received_events_url": "https://api.github.com/users/ndavd/received_events",
                "repos_url": "https://api.github.com/users/ndavd/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ndavd/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ndavd/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ndavd",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Cannot recreate this. Did you install the server via Mason perhaps? Because it worked for me when I installed it manually via npm.",
            "created_at": "2025-01-18T18:27:18Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3562#issuecomment-2599820345",
            "id": 2599820345,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3562",
            "node_id": "IC_kwDODTQC186a9hw5",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 1,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2599820345/reactions"
            },
            "updated_at": "2025-01-18T18:27:18Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2599820345",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
                "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
                "followers_url": "https://api.github.com/users/dundargoc/followers",
                "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
                "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dundargoc",
                "id": 33953936,
                "login": "dundargoc",
                "node_id": "MDQ6VXNlcjMzOTUzOTM2",
                "organizations_url": "https://api.github.com/users/dundargoc/orgs",
                "received_events_url": "https://api.github.com/users/dundargoc/received_events",
                "repos_url": "https://api.github.com/users/dundargoc/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dundargoc",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> Cannot recreate this. Did you install the server via Mason perhaps? Because it worked for me when I installed it manually via npm.\n\nThat's surprising. No, I actually have a very basic setup that just uses `lspconfig`: https://github.com/ndavd/dotfiles/blob/main/.config/nvim/lua/plugins/lspconfig.lua.\n\nAll I did was adding those options `compileUsingRemoteVersion = \"0.8.26\", defaultCompiler = \"remote\"`, to the `solidity_ls` config.\n\nI have also installed the language server through npm (`npm 10.9.0`) `vscode-solidity-server@0.0.179`.\n\nAnd I'm on `NVIM v0.11.0-dev-1576+g5dd60e01ac`.\n\nEDIT: Would you mind sharing the config that worked for you and the versions of nvim, etc.?",
            "created_at": "2025-01-18T18:42:44Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3562#issuecomment-2599835189",
            "id": 2599835189,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3562",
            "node_id": "IC_kwDODTQC186a9lY1",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2599835189/reactions"
            },
            "updated_at": "2025-01-18T19:06:07Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2599835189",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/74260683?v=4",
                "events_url": "https://api.github.com/users/ndavd/events{/privacy}",
                "followers_url": "https://api.github.com/users/ndavd/followers",
                "following_url": "https://api.github.com/users/ndavd/following{/other_user}",
                "gists_url": "https://api.github.com/users/ndavd/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ndavd",
                "id": 74260683,
                "login": "ndavd",
                "node_id": "MDQ6VXNlcjc0MjYwNjgz",
                "organizations_url": "https://api.github.com/users/ndavd/orgs",
                "received_events_url": "https://api.github.com/users/ndavd/received_events",
                "repos_url": "https://api.github.com/users/ndavd/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ndavd/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ndavd/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ndavd",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I used nighty, `NVIM v0.11.0-dev-4735+g27da6f7757-Homebrew`. The config is the same as you used.",
            "created_at": "2025-01-18T19:35:28Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3562#issuecomment-2599851497",
            "id": 2599851497,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3562",
            "node_id": "IC_kwDODTQC186a9pXp",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2599851497/reactions"
            },
            "updated_at": "2025-01-18T19:35:41Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2599851497",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
                "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
                "followers_url": "https://api.github.com/users/dundargoc/followers",
                "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
                "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dundargoc",
                "id": 33953936,
                "login": "dundargoc",
                "node_id": "MDQ6VXNlcjMzOTUzOTM2",
                "organizations_url": "https://api.github.com/users/dundargoc/orgs",
                "received_events_url": "https://api.github.com/users/dundargoc/received_events",
                "repos_url": "https://api.github.com/users/dundargoc/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dundargoc",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> I used nighty, `NVIM v0.11.0-dev-4735+g27da6f7757-Homebrew`. The config is the same as you used.\n\nThat's so odd. Did you try the language server (e.g. auto-completion) and it worked? I just tried on a brand new Foundry project and got the same result, but in any case I doubt it depends on the context that it's being used. Not sure what else I can try...",
            "created_at": "2025-01-18T19:38:33Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3562#issuecomment-2599852419",
            "id": 2599852419,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3562",
            "node_id": "IC_kwDODTQC186a9pmD",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2599852419/reactions"
            },
            "updated_at": "2025-01-18T19:38:33Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2599852419",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/74260683?v=4",
                "events_url": "https://api.github.com/users/ndavd/events{/privacy}",
                "followers_url": "https://api.github.com/users/ndavd/followers",
                "following_url": "https://api.github.com/users/ndavd/following{/other_user}",
                "gists_url": "https://api.github.com/users/ndavd/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ndavd",
                "id": 74260683,
                "login": "ndavd",
                "node_id": "MDQ6VXNlcjc0MjYwNjgz",
                "organizations_url": "https://api.github.com/users/ndavd/orgs",
                "received_events_url": "https://api.github.com/users/ndavd/received_events",
                "repos_url": "https://api.github.com/users/ndavd/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ndavd/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ndavd/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ndavd",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "No, didn't try completion. Just check if server started.",
            "created_at": "2025-01-18T19:40:27Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3562#issuecomment-2599852961",
            "id": 2599852961,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3562",
            "node_id": "IC_kwDODTQC186a9puh",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2599852961/reactions"
            },
            "updated_at": "2025-01-18T19:40:27Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2599852961",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
                "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
                "followers_url": "https://api.github.com/users/dundargoc/followers",
                "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
                "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dundargoc",
                "id": 33953936,
                "login": "dundargoc",
                "node_id": "MDQ6VXNlcjMzOTUzOTM2",
                "organizations_url": "https://api.github.com/users/dundargoc/orgs",
                "received_events_url": "https://api.github.com/users/dundargoc/received_events",
                "repos_url": "https://api.github.com/users/dundargoc/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dundargoc",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Thanks for your report anyway.\n\nFor me, on a brand new Solidity project (`forge init`), I get these `DEBUG` LSP logs:\n```\n[START][2025-01-18 19:40:54] LSP logging initiated\n[INFO][2025-01-18 19:40:54] .../vim/lsp/rpc.lua:660\t\"Starting RPC client\"\t{ cmd = { \"/home/ndavd/.config/nvm/versions/node/v22.9.0/bin/vscode-solidity-server\", \"--stdio\" }, extra = { cwd = \"/home/ndavd/foo\" } }\n[DEBUG][2025-01-18 19:40:54] .../vim/lsp/rpc.lua:277\t\"rpc.send\"\t{ id = 1, jsonrpc = \"2.0\", method = \"initialize\", params = { capabilities = { general = { positionEncodings = { \"utf-8\", \"utf-16\", \"utf-32\" } }, textDocument = { callHierarchy = { dynamicRegistration = false }, codeAction = { codeActionLiteralSupport = { codeActionKind = { valueSet = { \"\", \"quickfix\", \"refactor\", \"refactor.extract\", \"refactor.inline\", \"refactor.rewrite\", \"source\", \"source.organizeImports\" } } }, dataSupport = true, dynamicRegistration = true, isPreferredSupport = true, resolveSupport = { properties = { \"edit\" } } }, codeLens = { dynamicRegistration = false, resolveSupport = { properties = { \"command\" } } }, completion = { completionItem = { commitCharactersSupport = true, deprecatedSupport = true, documentationFormat = { \"markdown\", \"plaintext\" }, insertReplaceSupport = true, insertTextModeSupport = { valueSet = { 1, 2 } }, labelDetailsSupport = true, preselectSupport = true, resolveSupport = { properties = { \"documentation\", \"additionalTextEdits\", \"insertTextFormat\", \"insertTextMode\", \"command\" } }, snippetSupport = true, tagSupport = { valueSet = { 1 } } }, completionItemKind = { valueSet = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25 } }, completionList = { itemDefaults = { \"commitCharacters\", \"editRange\", \"insertTextFormat\", \"insertTextMode\", \"data\" } }, contextSupport = true, dynamicRegistration = false, insertTextMode = 1 }, declaration = { linkSupport = true }, definition = { dynamicRegistration = true, linkSupport = true }, diagnostic = { dynamicRegistration = false }, documentHighlight = { dynamicRegistration = false }, documentSymbol = { dynamicRegistration = false, hierarchicalDocumentSymbolSupport = true, symbolKind = { valueSet = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26 } } }, foldingRange = { dynamicRegistration = false, foldingRange = { collapsedText = true }, lineFoldingOnly = true }, formatting = { dynamicRegistration = true }, hover = { contentFormat = { \"markdown\", \"plaintext\" }, dynamicRegistration = true }, implementation = { linkSupport = true }, inlayHint = { dynamicRegistration = true, resolveSupport = { properties = { \"textEdits\", \"tooltip\", \"location\", \"command\" } } }, publishDiagnostics = { dataSupport = true, relatedInformation = true, tagSupport = { valueSet = { 1, 2 } } }, rangeFormatting = { dynamicRegistration = true, rangesSupport = true }, references = { dynamicRegistration = false }, rename = { dynamicRegistration = true, prepareSupport = true }, semanticTokens = { augmentsSyntaxTokens = true, dynamicRegistration = false, formats = { \"relative\" }, multilineTokenSupport = false, overlappingTokenSupport = true, requests = { full = { delta = true }, range = false }, serverCancelSupport = false, tokenModifiers = { \"declaration\", \"definition\", \"readonly\", \"static\", \"deprecated\", \"abstract\", \"async\", \"modification\", \"documentation\", \"defaultLibrary\" }, tokenTypes = { \"namespace\", \"type\", \"class\", \"enum\", \"interface\", \"struct\", \"typeParameter\", \"parameter\", \"variable\", \"property\", \"enumMember\", \"event\", \"function\", \"method\", \"macro\", \"keyword\", \"modifier\", \"comment\", \"string\", \"number\", \"regexp\", \"operator\", \"decorator\" } }, signatureHelp = { dynamicRegistration = false, signatureInformation = { activeParameterSupport = true, documentationFormat = { \"markdown\", \"plaintext\" }, parameterInformation = { labelOffsetSupport = true } } }, synchronization = { didSave = true, dynamicRegistration = false, willSave = true, willSaveWaitUntil = true }, typeDefinition = { linkSupport = true } }, window = { showDocument = { support = true }, showMessage = { messageActionItem = { additionalPropertiesSupport = true } }, workDoneProgress = true }, workspace = { applyEdit = true, configuration = true, didChangeConfiguration = { dynamicRegistration = false }, didChangeWatchedFiles = { dynamicRegistration = false, relativePatternSupport = true }, inlayHint = { refreshSupport = true }, semanticTokens = { refreshSupport = true }, symbol = { dynamicRegistration = false, symbolKind = { valueSet = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26 } } }, workspaceEdit = { resourceOperations = { \"rename\", \"create\", \"delete\" } }, workspaceFolders = true } }, clientInfo = { name = \"Neovim\", version = \"0.11.0-dev+ga5b1b83a26\" }, initializationOptions = vim.empty_dict(), processId = 242223, rootPath = \"/home/ndavd/foo\", rootUri = \"file:///home/ndavd/foo\", trace = \"off\", workDoneToken = \"1\", workspaceFolders = { { name = \"/home/ndavd/foo\", uri = \"file:///home/ndavd/foo\" } } } }\n[DEBUG][2025-01-18 19:40:55] .../vim/lsp/rpc.lua:393\t\"rpc.receive\"\t{ id = 1, jsonrpc = \"2.0\", result = { capabilities = { completionProvider = { resolveProvider = false, triggerCharacters = { \".\" } }, definitionProvider = true, hoverProvider = true, referencesProvider = true, textDocumentSync = 1, workspace = { workspaceFolders = { supported = true } } } } }\n[DEBUG][2025-01-18 19:40:55] .../vim/lsp/rpc.lua:277\t\"rpc.send\"\t{ jsonrpc = \"2.0\", method = \"initialized\", params = vim.empty_dict() }\n[DEBUG][2025-01-18 19:40:55] .../vim/lsp/rpc.lua:277\t\"rpc.send\"\t{ jsonrpc = \"2.0\", method = \"workspace/didChangeConfiguration\", params = { settings = { solidity = { compileUsingRemoteVersion = \"0.8.26\", defaultCompiler = \"remote\", enabledAsYouTypeCompilationErrorCheck = true, validationDelay = 1500 } } } }\n[DEBUG][2025-01-18 19:40:55] .../vim/lsp/rpc.lua:277\t\"rpc.send\"\t{ jsonrpc = \"2.0\", method = \"textDocument/didOpen\", params = { textDocument = { languageId = \"solidity\", text = \"// SPDX-License-Identifier: UNLICENSED\\npragma solidity ^0.8.26;\\n\\ncontract Counter {\\n    uint256 public number;\\n\\n    function setNumber(uint256 newNumber) public {\\n        number = newNumber;\\n    }\\n\\n    function increment() public {\\n        number++;\\n    }\\n}\\n\", uri = \"file:///home/ndavd/foo/src/Counter.sol\", version = 0 } } }\n[INFO][2025-01-18 19:40:55] ...m/lsp/client.lua:582\t\"LSP[solidity_ls]\"\t\"server_capabilities\"\t{ server_capabilities = { completionProvider = { resolveProvider = false, triggerCharacters = { \".\" } }, definitionProvider = true, hoverProvider = true, referencesProvider = true, textDocumentSync = { change = 1, openClose = true, save = { includeText = false }, willSave = false, willSaveWaitUntil = false }, workspace = { workspaceFolders = { supported = true } } } }\n[DEBUG][2025-01-18 19:40:55] .../vim/lsp/rpc.lua:393\t\"rpc.receive\"\t{ id = 0, jsonrpc = \"2.0\", method = \"client/registerCapability\", params = { registrations = { { id = \"716244df-c721-496f-8da7-c932634609f6\", method = \"workspace/didChangeWorkspaceFolders\", registerOptions = vim.empty_dict() } } } }\n[WARN][2025-01-18 19:40:55] ...m/lsp/client.lua:867\t\"The language server solidity_ls triggers a registerCapability handler for workspace/didChangeWorkspaceFolders despite dynamicRegistration set to false. Report upstream, this warning is harmless\"\n[DEBUG][2025-01-18 19:40:55] .../vim/lsp/rpc.lua:409\t\"server_request: callback result\"\t{ result = vim.NIL, status = true }\n[DEBUG][2025-01-18 19:40:55] .../vim/lsp/rpc.lua:277\t\"rpc.send\"\t{ id = 0, jsonrpc = \"2.0\", result = vim.NIL }\n[DEBUG][2025-01-18 19:40:55] .../vim/lsp/rpc.lua:393\t\"rpc.receive\"\t{ jsonrpc = \"2.0\", method = \"window/logMessage\", params = { message = \"1\", type = 3 } }\n[DEBUG][2025-01-18 19:40:55] .../vim/lsp/rpc.lua:393\t\"rpc.receive\"\t{ jsonrpc = \"2.0\", method = \"window/logMessage\", params = { message = \"Notification handler 'workspace/didChangeConfiguration' failed with message: Cannot read properties of undefined (reading 'forEach')\", type = 1 } }\n[INFO][2025-01-18 19:40:55] ...lsp/handlers.lua:564\t\"1\"\n[ERROR][2025-01-18 19:40:55] ...lsp/handlers.lua:560\t\"Notification handler 'workspace/didChangeConfiguration' failed with message: Cannot read properties of undefined (reading 'forEach')\"\n[DEBUG][2025-01-18 19:40:55] .../vim/lsp/rpc.lua:393\t\"rpc.receive\"\t{ jsonrpc = \"2.0\", method = \"window/logMessage\", params = { message = vim.empty_dict(), type = 1 } }\n[ERROR][2025-01-18 19:40:55] ...lsp/handlers.lua:560\tvim.empty_dict()\n[DEBUG][2025-01-18 19:40:56] .../vim/lsp/rpc.lua:393\t\"rpc.receive\"\t{ jsonrpc = \"2.0\", method = \"window/logMessage\", params = { message = \"Validating using the compiler selected: embedded\", type = 3 } }\n[INFO][2025-01-18 19:40:56] ...lsp/handlers.lua:564\t\"Validating using the compiler selected: embedded\"\n[DEBUG][2025-01-18 19:40:56] .../vim/lsp/rpc.lua:393\t\"rpc.receive\"\t{ jsonrpc = \"2.0\", method = \"window/logMessage\", params = { message = \"Validating using compiler version: 0.8.28+commit.7893614a.Emscripten.clang\", type = 3 } }\n[DEBUG][2025-01-18 19:40:56] .../vim/lsp/rpc.lua:393\t\"rpc.receive\"\t{ jsonrpc = \"2.0\", method = \"window/logMessage\", params = { message = \"Validating using compiler selected version: \", type = 3 } }\n[DEBUG][2025-01-18 19:40:56] .../vim/lsp/rpc.lua:393\t\"rpc.receive\"\t{ jsonrpc = \"2.0\", method = \"window/logMessage\", params = { message = \"Cannot read properties of undefined (reading 'forEach')\", type = 3 } }\n[DEBUG][2025-01-18 19:40:56] .../vim/lsp/rpc.lua:393\t\"rpc.receive\"\t{ jsonrpc = \"2.0\", method = \"textDocument/publishDiagnostics\", params = { diagnostics = {}, uri = \"file:///home/ndavd/foo/src/Counter.sol\" } }\n[INFO][2025-01-18 19:40:56] ...lsp/handlers.lua:564\t\"Validating using compiler version: 0.8.28+commit.7893614a.Emscripten.clang\"\n[INFO][2025-01-18 19:40:56] ...lsp/handlers.lua:564\t\"Validating using compiler selected version: \"\n[INFO][2025-01-18 19:40:56] ...lsp/handlers.lua:564\t\"Cannot read properties of undefined (reading 'forEach')\"\n```",
            "created_at": "2025-01-18T19:44:14Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3562#issuecomment-2599854067",
            "id": 2599854067,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3562",
            "node_id": "IC_kwDODTQC186a9p_z",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2599854067/reactions"
            },
            "updated_at": "2025-01-18T19:44:47Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2599854067",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/74260683?v=4",
                "events_url": "https://api.github.com/users/ndavd/events{/privacy}",
                "followers_url": "https://api.github.com/users/ndavd/followers",
                "following_url": "https://api.github.com/users/ndavd/following{/other_user}",
                "gists_url": "https://api.github.com/users/ndavd/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ndavd",
                "id": 74260683,
                "login": "ndavd",
                "node_id": "MDQ6VXNlcjc0MjYwNjgz",
                "organizations_url": "https://api.github.com/users/ndavd/orgs",
                "received_events_url": "https://api.github.com/users/ndavd/received_events",
                "repos_url": "https://api.github.com/users/ndavd/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ndavd/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ndavd/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ndavd",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I see this in both log posts:\n\n> `[DEBUG][2025-01-15 21:01:48] .../vim/lsp/rpc.lua:393\t\"rpc.receive\"\t{ jsonrpc = \"2.0\", method = \"window/logMessage\", params = { message = \"Notification handler 'workspace/didChangeConfiguration' failed with message: Cannot read properties of undefined (reading 'forEach')\", type = 1 } }`\n\n\n`Cannot read properties of undefined (reading 'forEach')\"` is a bug in some javascript module (not Nvim, nor nvim-lspconfig).\n\nIt's possible that Nvim is sending an unexpected message or settings that trigger the bug, but the first place to start is with whatever code has that bug. That code should instead say what Nvim sent that was wrong, assuming Nvim is sending something wrong.\n\nMost like this is just a bug in the lsp server.\n\n",
            "created_at": "2025-01-19T20:39:29Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3562#issuecomment-2601013787",
            "id": 2601013787,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3562",
            "node_id": "IC_kwDODTQC186bCFIb",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2601013787/reactions"
            },
            "updated_at": "2025-01-19T20:40:30Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2601013787",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> `Cannot read properties of undefined (reading 'forEach')\"` is a bug in some javascript module (not Nvim, nor nvim-lspconfig).\n\nThat's a good point, didn't notice the `forEach` there. Thanks for the clarification.",
            "created_at": "2025-01-19T20:42:37Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3562#issuecomment-2601014653",
            "id": 2601014653,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3562",
            "node_id": "IC_kwDODTQC186bCFV9",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2601014653/reactions"
            },
            "updated_at": "2025-01-19T20:42:37Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2601014653",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/74260683?v=4",
                "events_url": "https://api.github.com/users/ndavd/events{/privacy}",
                "followers_url": "https://api.github.com/users/ndavd/followers",
                "following_url": "https://api.github.com/users/ndavd/following{/other_user}",
                "gists_url": "https://api.github.com/users/ndavd/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ndavd",
                "id": 74260683,
                "login": "ndavd",
                "node_id": "MDQ6VXNlcjc0MjYwNjgz",
                "organizations_url": "https://api.github.com/users/ndavd/orgs",
                "received_events_url": "https://api.github.com/users/ndavd/received_events",
                "repos_url": "https://api.github.com/users/ndavd/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ndavd/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ndavd/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ndavd",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 9,
    "comments_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3562/comments",
    "created_at": "2025-01-15T21:11:36Z",
    "events_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3562/events",
    "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3562",
    "id": 2790910580,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "Something isn't working",
            "id": 1674892761,
            "name": "bug",
            "node_id": "MDU6TGFiZWwxNjc0ODkyNzYx",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/labels/bug"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3562/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDODTQC186mWep0",
    "number": 3562,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3562/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/nvim-lspconfig",
    "state": "closed",
    "state_reason": "not_planned",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3562/timeline",
    "title": "solidity_ls settings not taking effect",
    "updated_at": "2025-01-19T20:42:41Z",
    "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3562",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/74260683?v=4",
        "events_url": "https://api.github.com/users/ndavd/events{/privacy}",
        "followers_url": "https://api.github.com/users/ndavd/followers",
        "following_url": "https://api.github.com/users/ndavd/following{/other_user}",
        "gists_url": "https://api.github.com/users/ndavd/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/ndavd",
        "id": 74260683,
        "login": "ndavd",
        "node_id": "MDQ6VXNlcjc0MjYwNjgz",
        "organizations_url": "https://api.github.com/users/ndavd/orgs",
        "received_events_url": "https://api.github.com/users/ndavd/received_events",
        "repos_url": "https://api.github.com/users/ndavd/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/ndavd/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ndavd/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/ndavd",
        "user_view_type": "public"
    }
}