{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "### Description\n\nI added an `eslint.lua` file in my `after/lsp` directory and I copied the code inside this repos `eslint.lua` to setup running `LspEslintFixAll` on save. I used the `base_on_attach` and called it first just like the code example and this killed LSP functionality as I ended up in an infinite loop as my new `on_attach` overwrote the one in this repo as it seems the `after/lsp` code is loaded over and over.\n\nI'm not sure if this is considered a bug but to me as an end user it's a poor experience. I'm not really sure how to deal with this issue other than continuing to provide the old style exports from this repo or expecting users to just copy the code into their config or not use `after/lsp`.",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "@briandipalma, could you please add code snippets of what you tried? Also, please check https://github.com/neovim/nvim-lspconfig#bug-reports.\n\nPer docs: \n> The configs live in the [lsp/](https://github.com/neovim/nvim-lspconfig/blob/master/lsp) directory. vim.lsp.config automatically finds them and merges them with any local lsp/*.lua configs defined by you or a plugin.\n\nAfter you install `nvim-lspconfig`, the configurations from it will be automatically detected. You don't need to manually copy-paste them, unless you want to rewrite the configuration. ",
            "created_at": "2026-01-24T13:03:22Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/4286#issuecomment-3794594585",
            "id": 3794594585,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4286",
            "node_id": "IC_kwDODTQC187iLOsZ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3794594585/reactions"
            },
            "updated_at": "2026-01-24T13:03:22Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3794594585",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/29626024?v=4",
                "events_url": "https://api.github.com/users/pisetski/events{/privacy}",
                "followers_url": "https://api.github.com/users/pisetski/followers",
                "following_url": "https://api.github.com/users/pisetski/following{/other_user}",
                "gists_url": "https://api.github.com/users/pisetski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/pisetski",
                "id": 29626024,
                "login": "pisetski",
                "node_id": "MDQ6VXNlcjI5NjI2MDI0",
                "organizations_url": "https://api.github.com/users/pisetski/orgs",
                "received_events_url": "https://api.github.com/users/pisetski/received_events",
                "repos_url": "https://api.github.com/users/pisetski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/pisetski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/pisetski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/pisetski",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I'll try it when I'm back in work on Monday but I think it was this:\n\n```lua\nlocal base_on_attach = vim.lsp.config.eslint.on_attach\n\nreturn {\n\ton_attach = function(client, bufnr)\n\t\tif not base_on_attach then\n\t\t\treturn\n\t\tend\n\n\t\tbase_on_attach(client, bufnr)\n\tend,\n}\n```\n\ninside `/nvim/after/lsp/eslint.lua`, you can imagine that if that file is executed over and over again then you end up in a longer and longer loop as `local base_on_attach = vim.lsp.config.eslint.on_attach` ends up being your `on_attach`...\n\nIf you just write\n\n```lua\nlocal base_on_attach = vim.lsp.config.eslint.on_attach\nvim.lsp.config(\"eslint\", {\n...\n```\n\nin your config then it won't be a problem but I'd much prefer to have my config specified via individual filetypes and language server files as it's simpler/cleaner.",
            "created_at": "2026-01-24T13:37:18Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/4286#issuecomment-3794640852",
            "id": 3794640852,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4286",
            "node_id": "IC_kwDODTQC187iLZ_U",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3794640852/reactions"
            },
            "updated_at": "2026-01-24T13:37:18Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3794640852",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1597820?v=4",
                "events_url": "https://api.github.com/users/briandipalma/events{/privacy}",
                "followers_url": "https://api.github.com/users/briandipalma/followers",
                "following_url": "https://api.github.com/users/briandipalma/following{/other_user}",
                "gists_url": "https://api.github.com/users/briandipalma/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/briandipalma",
                "id": 1597820,
                "login": "briandipalma",
                "node_id": "MDQ6VXNlcjE1OTc4MjA=",
                "organizations_url": "https://api.github.com/users/briandipalma/orgs",
                "received_events_url": "https://api.github.com/users/briandipalma/received_events",
                "repos_url": "https://api.github.com/users/briandipalma/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/briandipalma/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/briandipalma/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/briandipalma",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "It looks like you are causing an infinite loop by referencing `vim.lsp.config.eslint` from your `after/lsp/eslint.lua`. \n\nWhen you access `vim.lsp.config.eslint`, neovim [resolves](https://github.com/neovim/neovim/blob/master/runtime/lua/vim/lsp.lua#L361) the config by loading files from `lsp/*.lua` and `after/lsp/*.lua`. This creates circular recursion. Maybe someone more experienced will correct me, but I think you are not allowed to call `vim.lsp.config.eslint` from `eslint.lua` config files because of the aforementioned reason.\n\nIf you're copy-pasting the entire `nvim-lspconfig` eslint config into `after/lsp/eslint.lua`, you already have the `on_attach` code - there's no need to reference `vim.lsp.config.eslint.on_attach`. Just modify your `after/lsp/eslint.lua` as needed.\n\nIf your goal is to extend the base `on_attach` without duplicating the original code, then `after/lsp/` can't do this cleanly because of the resolution cycle ü§∑‚Äç‚ôÇÔ∏è",
            "created_at": "2026-01-24T14:58:16Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/4286#issuecomment-3794775168",
            "id": 3794775168,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4286",
            "node_id": "IC_kwDODTQC187iL6yA",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3794775168/reactions"
            },
            "updated_at": "2026-01-24T14:59:34Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3794775168",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/29626024?v=4",
                "events_url": "https://api.github.com/users/pisetski/events{/privacy}",
                "followers_url": "https://api.github.com/users/pisetski/followers",
                "following_url": "https://api.github.com/users/pisetski/following{/other_user}",
                "gists_url": "https://api.github.com/users/pisetski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/pisetski",
                "id": 29626024,
                "login": "pisetski",
                "node_id": "MDQ6VXNlcjI5NjI2MDI0",
                "organizations_url": "https://api.github.com/users/pisetski/orgs",
                "received_events_url": "https://api.github.com/users/pisetski/received_events",
                "repos_url": "https://api.github.com/users/pisetski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/pisetski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/pisetski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/pisetski",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I didn't know about the late resolution but I was pretty sure it was an infinite loop so that makes sense. It's a pity that configuration placed in `after/lsp` can't extend configuration from this repo. This is why I suggested keeping an export path for configuration when using this repository. Is there some architectural reason for discouraging importing from this repo? I guess it's because lua doesn't offer relative imports so you couldn't easily export the configuration inside `lsp`? ",
            "created_at": "2026-01-24T15:05:54Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/4286#issuecomment-3794783373",
            "id": 3794783373,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4286",
            "node_id": "IC_kwDODTQC187iL8yN",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3794783373/reactions"
            },
            "updated_at": "2026-01-24T15:05:54Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3794783373",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1597820?v=4",
                "events_url": "https://api.github.com/users/briandipalma/events{/privacy}",
                "followers_url": "https://api.github.com/users/briandipalma/followers",
                "following_url": "https://api.github.com/users/briandipalma/following{/other_user}",
                "gists_url": "https://api.github.com/users/briandipalma/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/briandipalma",
                "id": 1597820,
                "login": "briandipalma",
                "node_id": "MDQ6VXNlcjE1OTc4MjA=",
                "organizations_url": "https://api.github.com/users/briandipalma/orgs",
                "received_events_url": "https://api.github.com/users/briandipalma/received_events",
                "repos_url": "https://api.github.com/users/briandipalma/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/briandipalma/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/briandipalma/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/briandipalma",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "It seems this is not an architectural decision, but a limitation. It is being tracked upstream in https://github.com/neovim/neovim/issues/33577. See https://github.com/neovim/neovim/issues/33577#issuecomment-3568292351 specifically.",
            "created_at": "2026-01-24T18:19:10Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/4286#issuecomment-3795300827",
            "id": 3795300827,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4286",
            "node_id": "IC_kwDODTQC187iN7Hb",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3795300827/reactions"
            },
            "updated_at": "2026-01-24T18:19:10Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3795300827",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/29626024?v=4",
                "events_url": "https://api.github.com/users/pisetski/events{/privacy}",
                "followers_url": "https://api.github.com/users/pisetski/followers",
                "following_url": "https://api.github.com/users/pisetski/following{/other_user}",
                "gists_url": "https://api.github.com/users/pisetski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/pisetski",
                "id": 29626024,
                "login": "pisetski",
                "node_id": "MDQ6VXNlcjI5NjI2MDI0",
                "organizations_url": "https://api.github.com/users/pisetski/orgs",
                "received_events_url": "https://api.github.com/users/pisetski/received_events",
                "repos_url": "https://api.github.com/users/pisetski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/pisetski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/pisetski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/pisetski",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 5,
    "comments_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4286/comments",
    "created_at": "2026-01-19T16:58:44Z",
    "events_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4286/events",
    "html_url": "https://github.com/neovim/nvim-lspconfig/issues/4286",
    "id": 3830545049,
    "issue_dependencies_summary": {
        "blocked_by": 0,
        "blocking": 0,
        "total_blocked_by": 0,
        "total_blocking": 0
    },
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "Something isn't working",
            "id": 1674892761,
            "name": "bug",
            "node_id": "MDU6TGFiZWwxNjc0ODkyNzYx",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/labels/bug"
        },
        {
            "color": "e6e6e6",
            "default": true,
            "description": "Further information is requested",
            "id": 1674892775,
            "name": "question",
            "node_id": "MDU6TGFiZWwxNjc0ODkyNzc1",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/labels/question"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4286/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDODTQC187kUXqZ",
    "number": 4286,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4286/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/nvim-lspconfig",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4286/timeline",
    "title": "Base config isn't importable by plugin user",
    "type": null,
    "updated_at": "2026-01-25T16:43:50Z",
    "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4286",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1597820?v=4",
        "events_url": "https://api.github.com/users/briandipalma/events{/privacy}",
        "followers_url": "https://api.github.com/users/briandipalma/followers",
        "following_url": "https://api.github.com/users/briandipalma/following{/other_user}",
        "gists_url": "https://api.github.com/users/briandipalma/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/briandipalma",
        "id": 1597820,
        "login": "briandipalma",
        "node_id": "MDQ6VXNlcjE1OTc4MjA=",
        "organizations_url": "https://api.github.com/users/briandipalma/orgs",
        "received_events_url": "https://api.github.com/users/briandipalma/received_events",
        "repos_url": "https://api.github.com/users/briandipalma/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/briandipalma/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/briandipalma/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/briandipalma",
        "user_view_type": "public"
    }
}