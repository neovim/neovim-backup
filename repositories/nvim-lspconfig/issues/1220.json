{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "<!-- Before reporting: search existing issues and ensure you are running the latest nightly of neovim and the latest version of nvim-lspconfig. Note that this repository implements configuration and initialization of language servers. Implementation of the language server spec itself is located in the neovim core repository-->\r\n\r\n- `nvim --version`:\r\n    NVIM v0.5.0\r\n    Build type: Release\r\n    LuaJIT 2.0.5\r\n- nvim-lspconfig version(commit hash):\r\n    2f026f2177bff7c9599d8dc561a4bdb30626ad9c\r\n- Can you reproduce this behavior on other language servers offered in the nvim-lspconfig repo? (pyls -> pyright): lhs and texlab\r\n- Is the problem isolated to a particular language server: no\r\n- Operating system/version: archlinux\r\n\r\n### How to reproduce the problem from neovim startup\r\n:LspStop\r\n:setfiletype text.lhaskell\r\n:LspStart\r\n\r\n### Actual behaviour\r\nNo lsp started.\r\nUI remarks both fileytpes as detected\r\n```\r\n Language client log: /home/omega16/.cache/nvim/lsp.log\r\n Detected filetype:   tex.lhaskell\r\n \r\n 0 client(s) attached to this buffer: \r\n \r\n Configured servers list: texlab, hls\r\n\r\n```\r\n\r\n\r\n### Expected behaviour\r\nRun at least one of lhs or texlab\r\n\r\n### Minimal init.vim or init.lua and code sample\r\n```\r\nrequire'lspconfig'.texlab.setup{\r\n  settings = {\r\n    texlab = {\r\n      auxDirectory = \".\",\r\n      bibtexFormatter = \"texlab\",\r\n      build = {\r\n        args = { \"-pdf\", \"-interaction=nonstopmode\", \"-synctex=1\", \"%f\" },\r\n        executable = \"lualatex\",\r\n        forwardSearchAfter = false,\r\n        onSave = false\r\n      },\r\n      chktex = {\r\n        onEdit = false,\r\n        onOpenAndSave = false\r\n      },\r\n      diagnosticsDelay = 300,\r\n      formatterLineLength = 80,\r\n      forwardSearch = {\r\n        args = {}\r\n      },\r\n      latexFormatter = \"latexindent\",\r\n      latexindent = {\r\n        modifyLineBreaks = false\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nrequire'lspconfig'.hls.setup{default_config = {\r\n    cmd = { 'haskell-language-server-wrapper', '--lsp' },\r\n    filetypes = { 'haskell', 'lhaskell'},\r\n    root_dir = require('lspconfig/util').root_pattern('*.cabal', 'stack.yaml', 'cabal.project', 'package.yaml', 'hie.yaml')\r\n  }\r\n}\r\n```\r\n\r\n### Health check\r\n<details>\r\n<summary></summary>\r\n\r\n```\r\nhealth#lspconfig#check\r\n========================================================================\r\n## Checking language server protocol configuration\r\n  - INFO: texlab: configuration checked.\r\n  - INFO: hls: configuration checked.\r\n```\r\n</details>\r\n\r\n\r\n\r\nI'm attempting to write pandoc markdown, latex and lhaskell in the same file. \r\nBoth texlab and lhs work if I set the filetype to tex or lhaskell.\r\n\r\n\r\n\r\nAs a side note: Thanks to all of you, having an easy way to config all my lsp in neovim is pretty nice! ",
    "closed_at": "2021-09-05T01:19:14Z",
    "comment_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "If you want both language servers, modify the filetypes of the language servers in setup{} to operate on both filetypes",
            "created_at": "2021-09-05T01:19:11Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/1220#issuecomment-913065809",
            "id": 913065809,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1220",
            "node_id": "IC_kwDODTQC1842bEdR",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/913065809/reactions"
            },
            "updated_at": "2021-09-05T01:19:11Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/913065809",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/13316262?v=4",
                "events_url": "https://api.github.com/users/mjlbach/events{/privacy}",
                "followers_url": "https://api.github.com/users/mjlbach/followers",
                "following_url": "https://api.github.com/users/mjlbach/following{/other_user}",
                "gists_url": "https://api.github.com/users/mjlbach/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mjlbach",
                "id": 13316262,
                "login": "mjlbach",
                "node_id": "MDQ6VXNlcjEzMzE2MjYy",
                "organizations_url": "https://api.github.com/users/mjlbach/orgs",
                "received_events_url": "https://api.github.com/users/mjlbach/received_events",
                "repos_url": "https://api.github.com/users/mjlbach/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mjlbach/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mjlbach/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mjlbach"
            }
        },
        {
            "author_association": "NONE",
            "body": "I append \r\n`tex.lhaskell, lhaskell.tex`\r\n\r\n if I open \"some.latex\" and set \r\n`:setfiletype tex.lhaskell`\r\n\r\nit just starts texlab \r\n```\r\n\r\n Language client log: /home/anon/.cache/nvim/lsp.log\r\n Detected filetype:   tex.lhaskell\r\n \r\n 0 client(s) attached to this buffer: \r\n \r\n Configured servers list: texlab, hls\r\n```\r\n\r\n\r\nSame if i run\r\n`:setfiletype lhaskell.tex`\r\n\r\nNow if i just run \r\n`:setfiletype lhaskell`\r\n\r\nboth of them start\r\n```\r\n Language client log: /home/anon/.cache/nvim/lsp.log\r\n Detected filetype:   lhaskell\r\n \r\n 2 client(s) attached to this buffer: \r\n \r\n Client: texlab (id: 1, pid: 18765, bufnr: [1, 1])\r\n \tfiletypes:       tex, tex.lhaskell, lhaskell.text\r\n \tautostart:       true\r\n \troot directory:  /home/anon/projects/anon\r\n \tcmd:             texlab\r\n \r\n Client: hls (id: 2, pid: 18859, bufnr: [1])\r\n \tfiletypes:       haskell, lhaskell\r\n \tautostart:       true\r\n \troot directory:  /home/anon/projects/anon\r\n \tcmd:             haskell-language-server-wrapper --lsp\r\n \tversion:   haskell-language-server version: 1.3.0.0 (GHC: 8.10.4) (PATH: /home/anon/.ghcup/bin/haskell-language-server-wrapper-1.3.0) (GIT hash: e7c5e90b6df5dff2760d76169eddaea3bdd6a831)\r\n \r\n Configured servers list: texlab, hls\r\n```",
            "created_at": "2021-09-05T01:34:01Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/1220#issuecomment-913067941",
            "id": 913067941,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1220",
            "node_id": "IC_kwDODTQC1842bE-l",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/913067941/reactions"
            },
            "updated_at": "2021-09-05T01:34:01Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/913067941",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/73986926?v=4",
                "events_url": "https://api.github.com/users/Luis-omega/events{/privacy}",
                "followers_url": "https://api.github.com/users/Luis-omega/followers",
                "following_url": "https://api.github.com/users/Luis-omega/following{/other_user}",
                "gists_url": "https://api.github.com/users/Luis-omega/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Luis-omega",
                "id": 73986926,
                "login": "Luis-omega",
                "node_id": "MDQ6VXNlcjczOTg2OTI2",
                "organizations_url": "https://api.github.com/users/Luis-omega/orgs",
                "received_events_url": "https://api.github.com/users/Luis-omega/received_events",
                "repos_url": "https://api.github.com/users/Luis-omega/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Luis-omega/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Luis-omega/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Luis-omega"
            }
        },
        {
            "author_association": "NONE",
            "body": "To be clear, in the lat response i added `tex.lhaskell, lhaskell.tex` to both configs.\r\n\r\n`  filetypes = {'tex','tex.lhaskell', 'lhaskell.tex'},`\r\n\r\n`    filetypes = { 'haskell', 'lhaskell', 'tex.lhaskell', 'lhaskell.tex' },`",
            "created_at": "2021-09-05T01:37:06Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/1220#issuecomment-913068542",
            "id": 913068542,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1220",
            "node_id": "IC_kwDODTQC1842bFH-",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/913068542/reactions"
            },
            "updated_at": "2021-09-05T01:37:06Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/913068542",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/73986926?v=4",
                "events_url": "https://api.github.com/users/Luis-omega/events{/privacy}",
                "followers_url": "https://api.github.com/users/Luis-omega/followers",
                "following_url": "https://api.github.com/users/Luis-omega/following{/other_user}",
                "gists_url": "https://api.github.com/users/Luis-omega/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Luis-omega",
                "id": 73986926,
                "login": "Luis-omega",
                "node_id": "MDQ6VXNlcjczOTg2OTI2",
                "organizations_url": "https://api.github.com/users/Luis-omega/orgs",
                "received_events_url": "https://api.github.com/users/Luis-omega/received_events",
                "repos_url": "https://api.github.com/users/Luis-omega/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Luis-omega/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Luis-omega/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Luis-omega"
            }
        },
        {
            "author_association": "NONE",
            "body": "@mjlbach Are you sure nvim-lspconfig shouldn't split the filetype automatically? Both https://github.com/nvimtools/none-ls.nvim and https://github.com/dense-analysis/ale do this, (n)vim does this for syntax, ftplugins, etc. as well, it's just nvim-lspconfig that for some reason can't handle thisâ€¦",
            "created_at": "2023-12-06T23:15:40Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/1220#issuecomment-1843840657",
            "id": 1843840657,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1220",
            "node_id": "IC_kwDODTQC185t5saR",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1843840657/reactions"
            },
            "updated_at": "2023-12-06T23:15:40Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1843840657",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/300342?v=4",
                "events_url": "https://api.github.com/users/liskin/events{/privacy}",
                "followers_url": "https://api.github.com/users/liskin/followers",
                "following_url": "https://api.github.com/users/liskin/following{/other_user}",
                "gists_url": "https://api.github.com/users/liskin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/liskin",
                "id": 300342,
                "login": "liskin",
                "node_id": "MDQ6VXNlcjMwMDM0Mg==",
                "organizations_url": "https://api.github.com/users/liskin/orgs",
                "received_events_url": "https://api.github.com/users/liskin/received_events",
                "repos_url": "https://api.github.com/users/liskin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/liskin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/liskin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/liskin"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1220/comments",
    "created_at": "2021-09-05T01:13:29Z",
    "events_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1220/events",
    "html_url": "https://github.com/neovim/nvim-lspconfig/issues/1220",
    "id": 988398691,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "Something isn't working",
            "id": 1674892761,
            "name": "bug",
            "node_id": "MDU6TGFiZWwxNjc0ODkyNzYx",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/labels/bug"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1220/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU5ODgzOTg2OTE=",
    "number": 1220,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1220/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/nvim-lspconfig",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1220/timeline",
    "title": "multiple filetype fails",
    "updated_at": "2023-12-06T23:15:41Z",
    "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1220",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/73986926?v=4",
        "events_url": "https://api.github.com/users/Luis-omega/events{/privacy}",
        "followers_url": "https://api.github.com/users/Luis-omega/followers",
        "following_url": "https://api.github.com/users/Luis-omega/following{/other_user}",
        "gists_url": "https://api.github.com/users/Luis-omega/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/Luis-omega",
        "id": 73986926,
        "login": "Luis-omega",
        "node_id": "MDQ6VXNlcjczOTg2OTI2",
        "organizations_url": "https://api.github.com/users/Luis-omega/orgs",
        "received_events_url": "https://api.github.com/users/Luis-omega/received_events",
        "repos_url": "https://api.github.com/users/Luis-omega/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/Luis-omega/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Luis-omega/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/Luis-omega"
    }
}