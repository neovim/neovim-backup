{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Description\n\nI found when I was opening files by first navigating to them and then opening them with neovim, \nthat the lsp would fail with exit code 255 and signal 0.\n\nEventually I stumbled into a solution that worked.\n\n```lua\nvim.lsp.enable(\"phpactor\")\nvim.lsp.config(\"phpactor\", {\n\troot_dir = nil,\n\troot_markers = { 'composer.json', '.git', '.phpactor.json', '.phpactor.yml' }\n})\n```\nI had to disable the callback provided by lspconfig.\nI don't know the root of the issue, but this seems to have fixed it.\n\nI haven't seen any other issues posted about this, so I don't know if this is an issue for more people than me.\nI should also mention that I installed phpactor through mason. \n\nNvim: 0.11.1\nCachyOS with Linux 6.15",
    "closed_at": "2025-06-16T12:10:33Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
        "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
        "followers_url": "https://api.github.com/users/justinmk/followers",
        "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
        "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/justinmk",
        "id": 1359421,
        "login": "justinmk",
        "node_id": "MDQ6VXNlcjEzNTk0MjE=",
        "organizations_url": "https://api.github.com/users/justinmk/orgs",
        "received_events_url": "https://api.github.com/users/justinmk/received_events",
        "repos_url": "https://api.github.com/users/justinmk/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/justinmk",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "I'm not totally sure if I'm facing the same problem but even having `vim.lsp.enable` function in my config is messing with my setup where my `filetype` plugin isn't setting the file type for any file when opened with telescope / :e command after running nvim without any arguement. ",
            "created_at": "2025-06-05T22:35:25Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3888#issuecomment-2946632492",
            "id": 2946632492,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3888",
            "node_id": "IC_kwDODTQC186vogss",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2946632492/reactions"
            },
            "updated_at": "2025-06-06T13:21:06Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2946632492",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/75927811?v=4",
                "events_url": "https://api.github.com/users/psynyde/events{/privacy}",
                "followers_url": "https://api.github.com/users/psynyde/followers",
                "following_url": "https://api.github.com/users/psynyde/following{/other_user}",
                "gists_url": "https://api.github.com/users/psynyde/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/psynyde",
                "id": 75927811,
                "login": "psynyde",
                "node_id": "MDQ6VXNlcjc1OTI3ODEx",
                "organizations_url": "https://api.github.com/users/psynyde/orgs",
                "received_events_url": "https://api.github.com/users/psynyde/received_events",
                "repos_url": "https://api.github.com/users/psynyde/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/psynyde/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/psynyde/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/psynyde",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "the behavior of enable() changed in Nvim 0.11.2 , but you are using Nvim 0.11.1. upgrade and see if anything changed.\n\n@psynyde you didn't mention which Nvim version you are using",
            "created_at": "2025-06-06T12:40:53Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3888#issuecomment-2949147021",
            "id": 2949147021,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3888",
            "node_id": "IC_kwDODTQC186vyGmN",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2949147021/reactions"
            },
            "updated_at": "2025-06-06T12:42:03Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2949147021",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "looking at https://github.com/neovim/nvim-lspconfig/blob/master/lsp/phpactor.lua , it doesn't look like `root_dir` is intentionally used, so replacing it with `root_markers` would be an acceptable PR.",
            "created_at": "2025-06-06T12:42:57Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3888#issuecomment-2949153517",
            "id": 2949153517,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3888",
            "node_id": "IC_kwDODTQC186vyILt",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2949153517/reactions"
            },
            "updated_at": "2025-06-06T12:42:57Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2949153517",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> [@psynyde](https://github.com/psynyde) you didn't mention which Nvim version you are using\n\nHello, Sorry I should've added the nvim version to the previous comment. I'm using v0.11.2 from unstable branch of nixpkgs.\nand using this snippet to load lsp server\n```lua\nvim.lsp.enable(\"nil_ls\")\nvim.lsp.config.nil_ls = {\n    capabilities = capabilities,\n    on_attach = on_attach,\n    settings = {\n        [\"nil\"] = {\n            formatting = {\n                command = { \"nixfmt\" },\n            },\n        },\n    },\n}\n```\nFull file can be found [here](https://codeberg.org/psynyde/nvim/src/branch/master/lua/plugins/lsp.lua).\nfor testing, i had even commented out everything except `vim.lsp.enable(\"nil_ls\")` line and it still messed up the ftplugin. removing any enable function fixes the issue.\n\nlspconfig version (from lazy-lock.json):\n`\"nvim-lspconfig\": { \"branch\": \"master\", \"commit\": \"036885e8e5456d3907626b634693234f628afef6\" }`",
            "created_at": "2025-06-06T13:13:11Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3888#issuecomment-2949236365",
            "id": 2949236365,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3888",
            "node_id": "IC_kwDODTQC186vycaN",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2949236365/reactions"
            },
            "updated_at": "2025-06-06T13:21:01Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2949236365",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/75927811?v=4",
                "events_url": "https://api.github.com/users/psynyde/events{/privacy}",
                "followers_url": "https://api.github.com/users/psynyde/followers",
                "following_url": "https://api.github.com/users/psynyde/following{/other_user}",
                "gists_url": "https://api.github.com/users/psynyde/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/psynyde",
                "id": 75927811,
                "login": "psynyde",
                "node_id": "MDQ6VXNlcjc1OTI3ODEx",
                "organizations_url": "https://api.github.com/users/psynyde/orgs",
                "received_events_url": "https://api.github.com/users/psynyde/received_events",
                "repos_url": "https://api.github.com/users/psynyde/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/psynyde/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/psynyde/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/psynyde",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> my `filetype` plugin isn't setting the file type for any file when opened with telescope / :e command\n\ni don't see how this is related to this issue. unless the mentioned root_markers change fixes your issue.",
            "created_at": "2025-06-06T13:20:55Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3888#issuecomment-2949257949",
            "id": 2949257949,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3888",
            "node_id": "IC_kwDODTQC186vyhrd",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2949257949/reactions"
            },
            "updated_at": "2025-06-06T13:20:55Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2949257949",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "phpactor also crashes for me when opening a file outside of root. \nNeovim 0.11.2",
            "created_at": "2025-06-14T04:14:12Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3888#issuecomment-2972238694",
            "id": 2972238694,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3888",
            "node_id": "IC_kwDODTQC186xKMNm",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2972238694/reactions"
            },
            "updated_at": "2025-06-14T04:14:12Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2972238694",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5160368?v=4",
                "events_url": "https://api.github.com/users/muzzwood/events{/privacy}",
                "followers_url": "https://api.github.com/users/muzzwood/followers",
                "following_url": "https://api.github.com/users/muzzwood/following{/other_user}",
                "gists_url": "https://api.github.com/users/muzzwood/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/muzzwood",
                "id": 5160368,
                "login": "muzzwood",
                "node_id": "MDQ6VXNlcjUxNjAzNjg=",
                "organizations_url": "https://api.github.com/users/muzzwood/orgs",
                "received_events_url": "https://api.github.com/users/muzzwood/received_events",
                "repos_url": "https://api.github.com/users/muzzwood/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/muzzwood/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/muzzwood/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/muzzwood",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "so, add `workspace_required=true` to https://github.com/neovim/nvim-lspconfig/blob/master/lsp/phpactor.lua ?",
            "created_at": "2025-06-14T05:15:41Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3888#issuecomment-2972276492",
            "id": 2972276492,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3888",
            "node_id": "IC_kwDODTQC186xKVcM",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2972276492/reactions"
            },
            "updated_at": "2025-06-14T05:15:41Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2972276492",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> so, add `workspace_required=true` to https://github.com/neovim/nvim-lspconfig/blob/master/lsp/phpactor.lua ?\n\nThanks, that appears to stop the crashing, but it also seems to mean that I can't use it with included paths/stubs if they're outside the root. 🤔 \n(perhaps this is a phpactor limitation, and not the implementation)",
            "created_at": "2025-06-16T02:01:06Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3888#issuecomment-2974893506",
            "id": 2974893506,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3888",
            "node_id": "IC_kwDODTQC186xUUXC",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2974893506/reactions"
            },
            "updated_at": "2025-06-16T02:01:06Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2974893506",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5160368?v=4",
                "events_url": "https://api.github.com/users/muzzwood/events{/privacy}",
                "followers_url": "https://api.github.com/users/muzzwood/followers",
                "following_url": "https://api.github.com/users/muzzwood/following{/other_user}",
                "gists_url": "https://api.github.com/users/muzzwood/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/muzzwood",
                "id": 5160368,
                "login": "muzzwood",
                "node_id": "MDQ6VXNlcjUxNjAzNjg=",
                "organizations_url": "https://api.github.com/users/muzzwood/orgs",
                "received_events_url": "https://api.github.com/users/muzzwood/received_events",
                "repos_url": "https://api.github.com/users/muzzwood/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/muzzwood/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/muzzwood/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/muzzwood",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 8,
    "comments_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3888/comments",
    "created_at": "2025-06-04T17:49:10Z",
    "events_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3888/events",
    "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3888",
    "id": 3118616740,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "Something isn't working",
            "id": 1674892761,
            "name": "bug",
            "node_id": "MDU6TGFiZWwxNjc0ODkyNzYx",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/labels/bug"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3888/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDODTQC18654lCk",
    "number": 3888,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 1,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 1,
        "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3888/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/nvim-lspconfig",
    "state": "closed",
    "state_reason": "completed",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3888/timeline",
    "title": "phpactor non-root startup fails",
    "type": null,
    "updated_at": "2025-06-16T12:10:34Z",
    "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3888",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/113500517?v=4",
        "events_url": "https://api.github.com/users/Holub-Patrik/events{/privacy}",
        "followers_url": "https://api.github.com/users/Holub-Patrik/followers",
        "following_url": "https://api.github.com/users/Holub-Patrik/following{/other_user}",
        "gists_url": "https://api.github.com/users/Holub-Patrik/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/Holub-Patrik",
        "id": 113500517,
        "login": "Holub-Patrik",
        "node_id": "U_kgDOBsPhZQ",
        "organizations_url": "https://api.github.com/users/Holub-Patrik/orgs",
        "received_events_url": "https://api.github.com/users/Holub-Patrik/received_events",
        "repos_url": "https://api.github.com/users/Holub-Patrik/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/Holub-Patrik/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Holub-Patrik/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/Holub-Patrik",
        "user_view_type": "public"
    }
}