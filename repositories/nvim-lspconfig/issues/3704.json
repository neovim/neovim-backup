{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Description\n\nWhen running my Neovim configuration on WSL, every plugin loads almost as quickly as natively on Linux. However, lspconfig takes almost 2 seconds to require all configs (takes about 20ms on native Linux). Here is the ouput of `nvim --startuptime`:\n```\n029.652  000.032  000.032: require('vim.health')\n029.654  000.068  000.036: require('vim.deprecated.health')\n029.749  000.042  000.042: require('vim.iter')\n030.889  000.072  000.072: require('vim.lsp.log')\n031.225  000.332  000.332: require('vim.lsp.protocol')\n031.337  000.108  000.108: require('vim.lsp.util')\n031.414  000.026  000.026: require('vim.lsp.sync')\n031.417  000.065  000.039: require('vim.lsp._changetracking')\n031.497  000.038  000.038: require('vim.lsp._transport')\n031.508  000.089  000.051: require('vim.lsp.rpc')\n031.564  000.818  000.151: require('vim.lsp')\n032.171  000.606  000.606: require('lspconfig.util')\n032.186  001.473  000.049: sourcing /home/mn/.local/share/nvim/lazy/nvim-lspconfig/plugin/lspconfig.lua\n032.191  001.499  000.025: sourcing nvim_exec2() called at /home/mn/.config/nvim/init.lua:0\n032.197  000.002  000.002: sourcing nvim_exec2() called at /home/mn/.config/nvim/init.lua:0\n032.206  000.001  000.001: sourcing nvim_exec2() called at /home/mn/.config/nvim/init.lua:0\n032.310  000.028  000.028: require('lspconfig.async')\n032.313  000.073  000.045: require('lspconfig.configs')\n032.317  002.056  000.481: require('lspconfig')\n032.347  000.029  000.029: require('lspconfig.configs.hyprls')\n097.042  000.107  000.107: require('lspconfig.manager')\n098.081  000.056  000.056: require('lspconfig.configs.docker_compose_language_service')\n161.425  000.083  000.083: require('lspconfig.configs.helm_ls')\n226.029  000.103  000.103: require('lspconfig.configs.bashls')\n295.113  000.277  000.277: require('lspconfig.configs.kotlin_language_server')\n360.411  000.125  000.125: require('lspconfig.configs.clangd')\n428.449  000.157  000.157: require('lspconfig.configs.cssls')\n493.817  000.100  000.100: require('lspconfig.configs.dockerls')\n558.305  000.134  000.134: require('lspconfig.configs.eslint')\n622.795  000.116  000.116: require('lspconfig.configs.gitlab_ci_ls')\n687.363  000.098  000.098: require('lspconfig.configs.golangci_lint_ls')\n751.771  000.115  000.115: require('lspconfig.configs.gopls')\n822.704  000.112  000.112: require('lspconfig.configs.html')\n889.923  000.102  000.102: require('vim.lsp.completion')\n890.009  000.286  000.183: require('vim.lsp.handlers')\n890.019  000.414  000.128: require('lspconfig.configs.jdtls')\n955.248  000.097  000.097: require('lspconfig.configs.jsonls')\n1022.903  000.202  000.202: require('lspconfig.configs.lua_ls')\n1091.062  000.133  000.133: require('lspconfig.configs.marksman')\n1158.942  000.143  000.143: require('lspconfig.configs.nil_ls')\n1225.097  000.115  000.115: require('lspconfig.configs.nixd')\n1292.061  000.135  000.135: require('lspconfig.configs.pyright')\n1357.667  000.157  000.157: require('lspconfig.configs.rust_analyzer')\n1425.558  000.140  000.140: require('lspconfig.configs.sourcekit')\n1494.042  000.118  000.118: require('lspconfig.configs.taplo')\n1559.123  000.131  000.131: require('lspconfig.configs.terraformls')\n1625.734  000.219  000.219: require('lspconfig.configs.texlab')\n1692.442  000.160  000.160: require('lspconfig.configs.tinymist')\n1762.981  000.234  000.234: require('lspconfig.configs.vtsls')\n1834.273  000.158  000.158: require('lspconfig.configs.yamlls')\n1906.146  000.255  000.255: require('lspconfig.configs.zls')\n1975.347  000.086  000.086: require('cmp_nvim_lsp.source')\n1975.353  000.227  000.141: require('cmp_nvim_lsp')\n1976.097  000.371  000.371: sourcing /home/mn/.local/share/nvim/lazy/leap/plugin/init.lua\n```\n\nWhat could be the cause of this? I have tried different Linux distributions on WSL but all of them show this issue.. ",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "From past experience debugging WSL issues, my best guess is that this is caused by the storage location of the required files. If they are stored somewhere directly on Windows, stuff gets slow fast.\n\nEdit: This is not the case, all configs are properly stored at `/home/mn/.local/share/nvim/lazy/nvim-lspconfig/lua/lspconfig/configs/`. Nothing unusual",
            "created_at": "2025-04-10T12:15:19Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3704#issuecomment-2792544313",
            "id": 2792544313,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3704",
            "node_id": "IC_kwDODTQC186mctg5",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2792544313/reactions"
            },
            "updated_at": "2025-04-10T12:21:07Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2792544313",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26097311?v=4",
                "events_url": "https://api.github.com/users/m4r1vs/events{/privacy}",
                "followers_url": "https://api.github.com/users/m4r1vs/followers",
                "following_url": "https://api.github.com/users/m4r1vs/following{/other_user}",
                "gists_url": "https://api.github.com/users/m4r1vs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/m4r1vs",
                "id": 26097311,
                "login": "m4r1vs",
                "node_id": "MDQ6VXNlcjI2MDk3MzEx",
                "organizations_url": "https://api.github.com/users/m4r1vs/orgs",
                "received_events_url": "https://api.github.com/users/m4r1vs/received_events",
                "repos_url": "https://api.github.com/users/m4r1vs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/m4r1vs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/m4r1vs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/m4r1vs",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "util.root_pattern is called in lots of configs but does not seem to be the cause of this",
            "created_at": "2025-04-10T12:33:13Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3704#issuecomment-2792592061",
            "id": 2792592061,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3704",
            "node_id": "IC_kwDODTQC186mc5K9",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2792592061/reactions"
            },
            "updated_at": "2025-04-10T12:33:13Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2792592061",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26097311?v=4",
                "events_url": "https://api.github.com/users/m4r1vs/events{/privacy}",
                "followers_url": "https://api.github.com/users/m4r1vs/followers",
                "following_url": "https://api.github.com/users/m4r1vs/following{/other_user}",
                "gists_url": "https://api.github.com/users/m4r1vs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/m4r1vs",
                "id": 26097311,
                "login": "m4r1vs",
                "node_id": "MDQ6VXNlcjI2MDk3MzEx",
                "organizations_url": "https://api.github.com/users/m4r1vs/orgs",
                "received_events_url": "https://api.github.com/users/m4r1vs/received_events",
                "repos_url": "https://api.github.com/users/m4r1vs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/m4r1vs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/m4r1vs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/m4r1vs",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Okay, I have found the cause for this. If my PATH contains programs outside WSL, lspconfig is extremely slow. However, if my PATH only contains binaries inside the WSL system, it is quick as normal.\n\nNot sure if this should (or can) be addressed by lspconfig or not?",
            "created_at": "2025-04-10T12:40:08Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3704#issuecomment-2792609926",
            "id": 2792609926,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3704",
            "node_id": "IC_kwDODTQC186mc9iG",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2792609926/reactions"
            },
            "updated_at": "2025-04-10T12:40:08Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2792609926",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26097311?v=4",
                "events_url": "https://api.github.com/users/m4r1vs/events{/privacy}",
                "followers_url": "https://api.github.com/users/m4r1vs/followers",
                "following_url": "https://api.github.com/users/m4r1vs/following{/other_user}",
                "gists_url": "https://api.github.com/users/m4r1vs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/m4r1vs",
                "id": 26097311,
                "login": "m4r1vs",
                "node_id": "MDQ6VXNlcjI2MDk3MzEx",
                "organizations_url": "https://api.github.com/users/m4r1vs/orgs",
                "received_events_url": "https://api.github.com/users/m4r1vs/received_events",
                "repos_url": "https://api.github.com/users/m4r1vs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/m4r1vs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/m4r1vs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/m4r1vs",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> If my PATH contains programs outside WSL, lspconfig is extremely slow.\n\nThanks for debugging that! Likely caused by `exepath()` : https://github.com/neovim/nvim-lspconfig/blob/94dda50b2d9a29d0b76562a9027029538840e2d7/lua/lspconfig/configs.lua#L28-L31\n\nor maybe there's an `executable()` call somewhere. (related: https://github.com/neovim/neovim/issues/31506 )\n\n## Proposal\n\nIf you find that dropping the `exepath()` call fixes the issue, maybe we can just remove it. I don't quite see why it's necessary. (It's good to have explicit, full paths, but this is way too late in the lifecycle...)",
            "created_at": "2025-04-10T22:03:41Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3704#issuecomment-2795261951",
            "id": 2795261951,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3704",
            "node_id": "IC_kwDODTQC186mnE__",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2795261951/reactions"
            },
            "updated_at": "2025-04-10T22:03:41Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2795261951",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3704/comments",
    "created_at": "2025-04-10T12:10:03Z",
    "events_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3704/events",
    "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3704",
    "id": 2985457567,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "Something isn't working",
            "id": 1674892761,
            "name": "bug",
            "node_id": "MDU6TGFiZWwxNjc0ODkyNzYx",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/labels/bug"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3704/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDODTQC186x8nef",
    "number": 3704,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3704/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/nvim-lspconfig",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3704/timeline",
    "title": "Very slow startup time on WSL",
    "type": null,
    "updated_at": "2025-04-10T22:03:43Z",
    "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3704",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/26097311?v=4",
        "events_url": "https://api.github.com/users/m4r1vs/events{/privacy}",
        "followers_url": "https://api.github.com/users/m4r1vs/followers",
        "following_url": "https://api.github.com/users/m4r1vs/following{/other_user}",
        "gists_url": "https://api.github.com/users/m4r1vs/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/m4r1vs",
        "id": 26097311,
        "login": "m4r1vs",
        "node_id": "MDQ6VXNlcjI2MDk3MzEx",
        "organizations_url": "https://api.github.com/users/m4r1vs/orgs",
        "received_events_url": "https://api.github.com/users/m4r1vs/received_events",
        "repos_url": "https://api.github.com/users/m4r1vs/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/m4r1vs/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/m4r1vs/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/m4r1vs",
        "user_view_type": "public"
    }
}