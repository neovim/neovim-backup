{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "### Description\n\nHaving multiple composer.json files within a project seems to misbehave after the following change: fa91d1c90433aaf68c6a2774d5ffce7319effa09\n\ni.e. having a `composer.json` file in the root and one in `Test/composer.json` will now not include both `composer.json` files for LSP usage, but just the closest one.\nFiles within the `Test/` dir will use the `Test/composer.json` and the ones outside `Test/` will use the root one.\n\nThis isn't the way the LSP should be behaving when using PHP, seems like this change was done without really understanding how modern PHP apps work nowadays, seeing https://github.com/neovim/nvim-lspconfig/issues/3901#issuecomment-2965522593\n\nIt was behaving correctly before this commit, but updating this plugin (sadly) broke the entire workflow.",
    "closed_at": "2025-06-30T09:35:34Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
        "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
        "followers_url": "https://api.github.com/users/justinmk/followers",
        "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
        "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/justinmk",
        "id": 1359421,
        "login": "justinmk",
        "node_id": "MDQ6VXNlcjEzNTk0MjE=",
        "organizations_url": "https://api.github.com/users/justinmk/orgs",
        "received_events_url": "https://api.github.com/users/justinmk/received_events",
        "repos_url": "https://api.github.com/users/justinmk/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/justinmk",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "> will now not include both `composer.json` files for LSP usage\n\nwhat does this mean? how did the [old code](https://github.com/neovim/nvim-lspconfig/commit/fa91d1c90433aaf68c6a2774d5ffce7319effa09) \"include both files\"? \n\nand if this is something required bt php lsp, it should be explained in the config (as a code comment), because it wasn't clear at all.\n\ni'm not quite sure what you actually are saying though. do you have a docs reference ? ",
            "created_at": "2025-06-27T16:23:38Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3930#issuecomment-3013623693",
            "id": 3013623693,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3930",
            "node_id": "IC_kwDODTQC186zoD-N",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3013623693/reactions"
            },
            "updated_at": "2025-06-27T16:23:57Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3013623693",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "After further investigation, I realized only one root directory is being used.\nBoth the old `root_dir` function and the new `root_markers` setup resolve to the same path. \nSo, the behavior difference likely isn’t due to the root detection logic, but possibly something internal to Intelephense or specific to our PHP project setup. \nI also tested Intelephense in VS Code (default config) and it behaves the same as before the recent Intelphense config change. I’ll keep investigating whether this is a broader issue or unique to our environment.\n",
            "created_at": "2025-06-30T06:46:48Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3930#issuecomment-3017994309",
            "id": 3017994309,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3930",
            "node_id": "IC_kwDODTQC186z4vBF",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3017994309/reactions"
            },
            "updated_at": "2025-06-30T06:46:48Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3017994309",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/9702432?v=4",
                "events_url": "https://api.github.com/users/pimpeters/events{/privacy}",
                "followers_url": "https://api.github.com/users/pimpeters/followers",
                "following_url": "https://api.github.com/users/pimpeters/following{/other_user}",
                "gists_url": "https://api.github.com/users/pimpeters/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/pimpeters",
                "id": 9702432,
                "login": "pimpeters",
                "node_id": "MDQ6VXNlcjk3MDI0MzI=",
                "organizations_url": "https://api.github.com/users/pimpeters/orgs",
                "received_events_url": "https://api.github.com/users/pimpeters/received_events",
                "repos_url": "https://api.github.com/users/pimpeters/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/pimpeters/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/pimpeters/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/pimpeters",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Did some investigation, looks like [vscode-intelephense](https://github.com/bmewburn/vscode-intelephense) is always using the workspace root as base for the LSP.\nThere isn't any docs about in which dir Intelphense should be used as the [docs](https://github.com/bmewburn/intelephense-docs) are mainly targeted towards VS Code usage, but maybe @bmewburn can enlighten us on this question.\n\nDid some tests and removing `composer.json` from the `root_markers` (as it will always use the \"git\" root this way) and it does result in my situation to intended behavior.\n\nI'm wondering if @pogyomo (https://github.com/neovim/nvim-lspconfig/issues/3901#issuecomment-2965522593) is having a similar situation when remove `composer.json` from these root markers.",
            "created_at": "2025-06-30T09:28:24Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3930#issuecomment-3018443537",
            "id": 3018443537,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3930",
            "node_id": "IC_kwDODTQC186z6csR",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3018443537/reactions"
            },
            "updated_at": "2025-06-30T09:28:24Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3018443537",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/9702432?v=4",
                "events_url": "https://api.github.com/users/pimpeters/events{/privacy}",
                "followers_url": "https://api.github.com/users/pimpeters/followers",
                "following_url": "https://api.github.com/users/pimpeters/following{/other_user}",
                "gists_url": "https://api.github.com/users/pimpeters/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/pimpeters",
                "id": 9702432,
                "login": "pimpeters",
                "node_id": "MDQ6VXNlcjk3MDI0MzI=",
                "organizations_url": "https://api.github.com/users/pimpeters/orgs",
                "received_events_url": "https://api.github.com/users/pimpeters/received_events",
                "repos_url": "https://api.github.com/users/pimpeters/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/pimpeters/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/pimpeters/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/pimpeters",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> removing `composer.json` from the `root_markers`\n\nyou can swap the order, so .git comes first and has higher precedence. idk if that's something that should be in the default config, need php users to decide that. feel free to send a pr to do that (with a clear explanation), maybe others will comment",
            "created_at": "2025-06-30T09:35:25Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3930#issuecomment-3018465294",
            "id": 3018465294,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3930",
            "node_id": "IC_kwDODTQC186z6iAO",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3018465294/reactions"
            },
            "updated_at": "2025-06-30T09:36:05Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3018465294",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3930/comments",
    "created_at": "2025-06-27T14:30:13Z",
    "events_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3930/events",
    "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3930",
    "id": 3183045703,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "Something isn't working",
            "id": 1674892761,
            "name": "bug",
            "node_id": "MDU6TGFiZWwxNjc0ODkyNzYx",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/labels/bug"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3930/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDODTQC1869uWxH",
    "number": 3930,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3930/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/nvim-lspconfig",
    "state": "closed",
    "state_reason": "completed",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3930/timeline",
    "title": "Intelephense LSP config update broke the support for multiple composer.json files",
    "type": null,
    "updated_at": "2025-06-30T09:36:05Z",
    "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3930",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/9702432?v=4",
        "events_url": "https://api.github.com/users/pimpeters/events{/privacy}",
        "followers_url": "https://api.github.com/users/pimpeters/followers",
        "following_url": "https://api.github.com/users/pimpeters/following{/other_user}",
        "gists_url": "https://api.github.com/users/pimpeters/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/pimpeters",
        "id": 9702432,
        "login": "pimpeters",
        "node_id": "MDQ6VXNlcjk3MDI0MzI=",
        "organizations_url": "https://api.github.com/users/pimpeters/orgs",
        "received_events_url": "https://api.github.com/users/pimpeters/received_events",
        "repos_url": "https://api.github.com/users/pimpeters/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/pimpeters/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/pimpeters/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/pimpeters",
        "user_view_type": "public"
    }
}