{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Description\n\nI tried switching to the new oxlint lsp config, but there is an issue.\nIn my monorepo, I have just one .oxlintrc.json file at the root of the repo. The older config with lspconfig.oxlint.setup() was able to correctly identify the root directory and the server would attach. But with the new version, that is not the case, even if I manually replace the new root_dir function with the older one.",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "the new config, unlike the old one, checks for a `oxlint` field in the json: https://github.com/neovim/nvim-lspconfig/blob/46434074f188e6bfccf9d9153dd8be6b1381498b/lsp/oxlint.lua#L27\n\n\n\n> even if I manually replace the new root_dir function with the older one.\n\nalways show the exact code sample. wastes time to just describe things vaguely.\n\nif you did this:\n\n    root_dir = util.root_pattern('.oxlintrc.json'),\n\nthen that isn't valid. `root_pattern()` returns a *function*, but that function does not call `on_dir()` which is required by the function form of `root_dir()` (as documented).",
            "created_at": "2025-05-03T16:49:19Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3818#issuecomment-2848708568",
            "id": 2848708568,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3818",
            "node_id": "IC_kwDODTQC186py9fY",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848708568/reactions"
            },
            "updated_at": "2025-05-03T16:52:05Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848708568",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Ah yeah I must have mixed them up. \nWhat I was doing was this:\n```\n  root_dir = require(\"lspconfig.util\").root_pattern \".oxlintrc.json\",\n```\n\nI assumed this would be correct since this is what the previous config used and because the name is the same, but now I realize the return signature is different. \n\nThe same issue remains though. Because if, like in my case, oxlint is indeed in the local package.json file but the .oxlintrc.json is in an upper path, the callback won't be called and the lsp won't attach.\n\nPersonally, I think it would be better to revert to the previous approach of searching directly for a .oxlintrc.json because that's more accurate. ",
            "created_at": "2025-05-03T17:21:40Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3818#issuecomment-2848720691",
            "id": 2848720691,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3818",
            "node_id": "IC_kwDODTQC186pzAcz",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848720691/reactions"
            },
            "updated_at": "2025-05-03T17:21:40Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848720691",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/180959305?v=4",
                "events_url": "https://api.github.com/users/Rick-Phoenix/events{/privacy}",
                "followers_url": "https://api.github.com/users/Rick-Phoenix/followers",
                "following_url": "https://api.github.com/users/Rick-Phoenix/following{/other_user}",
                "gists_url": "https://api.github.com/users/Rick-Phoenix/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Rick-Phoenix",
                "id": 180959305,
                "login": "Rick-Phoenix",
                "node_id": "U_kgDOCsk4SQ",
                "organizations_url": "https://api.github.com/users/Rick-Phoenix/orgs",
                "received_events_url": "https://api.github.com/users/Rick-Phoenix/received_events",
                "repos_url": "https://api.github.com/users/Rick-Phoenix/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Rick-Phoenix/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Rick-Phoenix/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Rick-Phoenix",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> revert to the previous approach of searching directly for a .oxlintrc.json\n\nthat would allow the use of `root_markers`, then we can drop the `root_dir()` entirely.\n\nwdyt @maximtrp ",
            "created_at": "2025-05-03T17:29:23Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3818#issuecomment-2848723396",
            "id": 2848723396,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3818",
            "node_id": "IC_kwDODTQC186pzBHE",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848723396/reactions"
            },
            "updated_at": "2025-05-03T17:29:23Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848723396",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Actually, I can't reproduce this issue. Whether I remove `.oxlintrc.json` or keep `oxlint` in `package.json`, the Oxlint language server still attaches without any problems.\n\n@Rick-Phoenix  Could you please share the output of `tree` showing the directory structure with `package.json` and `.oxlintrc.json` files?\n\n@justinmk  Removing `root_dir` would make it more difficult to detect Oxlint-enabled workspaces that don’t use a `.oxlintrc.json` file. The thing is, Oxlint doesn’t require a configuration file, it can also be configured via inline comments.",
            "created_at": "2025-05-03T21:21:05Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3818#issuecomment-2848813650",
            "id": 2848813650,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3818",
            "node_id": "IC_kwDODTQC186pzXJS",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848813650/reactions"
            },
            "updated_at": "2025-05-03T21:21:05Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848813650",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10440350?v=4",
                "events_url": "https://api.github.com/users/maximtrp/events{/privacy}",
                "followers_url": "https://api.github.com/users/maximtrp/followers",
                "following_url": "https://api.github.com/users/maximtrp/following{/other_user}",
                "gists_url": "https://api.github.com/users/maximtrp/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/maximtrp",
                "id": 10440350,
                "login": "maximtrp",
                "node_id": "MDQ6VXNlcjEwNDQwMzUw",
                "organizations_url": "https://api.github.com/users/maximtrp/orgs",
                "received_events_url": "https://api.github.com/users/maximtrp/received_events",
                "repos_url": "https://api.github.com/users/maximtrp/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/maximtrp/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/maximtrp/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/maximtrp",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I actually found out that the lsp attachment issue was due to a mismatch of version between my global oxlint package managed by mason and the local one used in the project.\n\nThe real issue is rather that if the .oxlintrc.json file is outside of the package's root, it does not get detected correctly. \n\nSo this is what the file tree looks like for my project. \nIf I open monorepo-starter/packages/hono-starter/src/index.ts with the default config, the lsp does attach and the root directory for oxlint is monorepo-starter/packages/hono-starter, but since there is no .oxlintrc.json file there, the diagnostics I get from the oxlint server do not reflect the settings of my .oxlintrc.json file in the root of the repo.\n\n![Image](https://github.com/user-attachments/assets/bb464a82-81c4-46bf-ad5e-dbefdf6c1e6c)\n\nIf instead I change the root_dir function to one that looks upwards until it can find a .oxlintrc.json file, the root directory is correctly identified and my settings are reflected in the diagnostic messages.",
            "created_at": "2025-05-03T21:31:22Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3818#issuecomment-2848816798",
            "id": 2848816798,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3818",
            "node_id": "IC_kwDODTQC186pzX6e",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848816798/reactions"
            },
            "updated_at": "2025-05-03T21:31:22Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848816798",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/180959305?v=4",
                "events_url": "https://api.github.com/users/Rick-Phoenix/events{/privacy}",
                "followers_url": "https://api.github.com/users/Rick-Phoenix/followers",
                "following_url": "https://api.github.com/users/Rick-Phoenix/following{/other_user}",
                "gists_url": "https://api.github.com/users/Rick-Phoenix/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Rick-Phoenix",
                "id": 180959305,
                "login": "Rick-Phoenix",
                "node_id": "U_kgDOCsk4SQ",
                "organizations_url": "https://api.github.com/users/Rick-Phoenix/orgs",
                "received_events_url": "https://api.github.com/users/Rick-Phoenix/received_events",
                "repos_url": "https://api.github.com/users/Rick-Phoenix/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Rick-Phoenix/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Rick-Phoenix/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Rick-Phoenix",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> If I open monorepo-starter/packages/hono-starter/src/index.ts with the default config, the lsp does attach and the root directory for oxlint is monorepo-starter/packages/hono-starter,\n\n~~that definitely seems like the correct ws root.~~\n\n\n> If instead I change the root_dir function to one that looks upwards until it can find a .oxlintrc.json file, the root directory is correctly identified and my settings are reflected in the diagnostic messages.\n\nso `monorepo-starter/` is the desired root?",
            "created_at": "2025-05-03T21:35:38Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3818#issuecomment-2848818242",
            "id": 2848818242,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3818",
            "node_id": "IC_kwDODTQC186pzYRC",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848818242/reactions"
            },
            "updated_at": "2025-05-03T21:39:54Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848818242",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Like I said, do what the older config did and look for a .oxlintrc.json file rather from the file's directory upwards rarther than an oxlint entry in the package.json file.\n\n> what exactly do you mean \"correctly indentified\"? what is the ws root in that case?\n\nmonorepo-starter, which is the folder where the first .oxlintrc.json file is found from that buffer's directory upwards",
            "created_at": "2025-05-03T21:38:16Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3818#issuecomment-2848819118",
            "id": 2848819118,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3818",
            "node_id": "IC_kwDODTQC186pzYeu",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848819118/reactions"
            },
            "updated_at": "2025-05-03T21:38:16Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848819118",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/180959305?v=4",
                "events_url": "https://api.github.com/users/Rick-Phoenix/events{/privacy}",
                "followers_url": "https://api.github.com/users/Rick-Phoenix/followers",
                "following_url": "https://api.github.com/users/Rick-Phoenix/following{/other_user}",
                "gists_url": "https://api.github.com/users/Rick-Phoenix/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Rick-Phoenix",
                "id": 180959305,
                "login": "Rick-Phoenix",
                "node_id": "U_kgDOCsk4SQ",
                "organizations_url": "https://api.github.com/users/Rick-Phoenix/orgs",
                "received_events_url": "https://api.github.com/users/Rick-Phoenix/received_events",
                "repos_url": "https://api.github.com/users/Rick-Phoenix/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Rick-Phoenix/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Rick-Phoenix/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Rick-Phoenix",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I understand now.\n\n> the root directory for oxlint is monorepo-starter/packages/hono-starter, but since there is no .oxlintrc.json file there\n\nbut looking at the logic of https://github.com/neovim/nvim-lspconfig/blob/46434074f188e6bfccf9d9153dd8be6b1381498b/lua/lspconfig/util.lua#L47 , it would only stop at `monorepo-starter/packages/hono-starter/` if it found a package.json file with the expected field.\n\nand even then, here `'.oxlintrc.json'` is the *first* item in the root markers list: https://github.com/neovim/nvim-lspconfig/blob/46434074f188e6bfccf9d9153dd8be6b1381498b/lsp/oxlint.lua#L27\n\nso all ancestors should be searched for `'.oxlintrc.json'` *first*, before trying other things like package.json.\n\nso i don't see how your problem can occur",
            "created_at": "2025-05-03T21:45:03Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3818#issuecomment-2848821637",
            "id": 2848821637,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3818",
            "node_id": "IC_kwDODTQC186pzZGF",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848821637/reactions"
            },
            "updated_at": "2025-05-03T21:45:03Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848821637",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@justinmk Yeah, exactly. This is what I am struggling to understand now. I have reproduced this case locally. And the LS is attached to the folder where `package.json` is located even though the config file is the first one in the `root_markers` table.\n\nThe table returned by:\n```lua\nlocal root_markers = util.insert_package_json({ '.oxlintrc.json' }, 'oxlint', fname)\nvim.fs.find(root_markers, { path = fname, upward = true })\n```\ncontains just the path to the root directory of `package.json`.",
            "created_at": "2025-05-03T22:00:53Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3818#issuecomment-2848828187",
            "id": 2848828187,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3818",
            "node_id": "IC_kwDODTQC186pzasb",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848828187/reactions"
            },
            "updated_at": "2025-05-03T22:01:31Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848828187",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10440350?v=4",
                "events_url": "https://api.github.com/users/maximtrp/events{/privacy}",
                "followers_url": "https://api.github.com/users/maximtrp/followers",
                "following_url": "https://api.github.com/users/maximtrp/following{/other_user}",
                "gists_url": "https://api.github.com/users/maximtrp/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/maximtrp",
                "id": 10440350,
                "login": "maximtrp",
                "node_id": "MDQ6VXNlcjEwNDQwMzUw",
                "organizations_url": "https://api.github.com/users/maximtrp/orgs",
                "received_events_url": "https://api.github.com/users/maximtrp/received_events",
                "repos_url": "https://api.github.com/users/maximtrp/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/maximtrp/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/maximtrp/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/maximtrp",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@justinmk Could it be that `vim.fs.find` searches for all files in `root_markers` asynchronously and selects the first one it finds? Seems like this is the case.",
            "created_at": "2025-05-03T22:04:39Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3818#issuecomment-2848829622",
            "id": 2848829622,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3818",
            "node_id": "IC_kwDODTQC186pzbC2",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848829622/reactions"
            },
            "updated_at": "2025-05-03T22:04:39Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848829622",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10440350?v=4",
                "events_url": "https://api.github.com/users/maximtrp/events{/privacy}",
                "followers_url": "https://api.github.com/users/maximtrp/followers",
                "following_url": "https://api.github.com/users/maximtrp/following{/other_user}",
                "gists_url": "https://api.github.com/users/maximtrp/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/maximtrp",
                "id": 10440350,
                "login": "maximtrp",
                "node_id": "MDQ6VXNlcjEwNDQwMzUw",
                "organizations_url": "https://api.github.com/users/maximtrp/orgs",
                "received_events_url": "https://api.github.com/users/maximtrp/received_events",
                "repos_url": "https://api.github.com/users/maximtrp/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/maximtrp/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/maximtrp/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/maximtrp",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "no, it searches in-order: https://github.com/neovim/neovim/blob/b877aa34cf366982bf92aa8b17a8409a1f8eb134/runtime/lua/vim/fs.lua#L304-L305",
            "created_at": "2025-05-03T22:18:38Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3818#issuecomment-2848833704",
            "id": 2848833704,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3818",
            "node_id": "IC_kwDODTQC186pzcCo",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848833704/reactions"
            },
            "updated_at": "2025-05-03T22:18:38Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848833704",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@justinmk Yeah, thank you, I have just dived in there. It returns the first found directory for one of the root markers (in-order) before going upwards. So, it will never find `.oxlintrc.json` in a such project structure. Is it a good case to implement an option for `vim.fs.find` to use another algorithm and try all parents for the first item, then for the second and so on?",
            "created_at": "2025-05-03T22:28:24Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3818#issuecomment-2848836794",
            "id": 2848836794,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3818",
            "node_id": "IC_kwDODTQC186pzcy6",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848836794/reactions"
            },
            "updated_at": "2025-05-03T22:28:43Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848836794",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10440350?v=4",
                "events_url": "https://api.github.com/users/maximtrp/events{/privacy}",
                "followers_url": "https://api.github.com/users/maximtrp/followers",
                "following_url": "https://api.github.com/users/maximtrp/following{/other_user}",
                "gists_url": "https://api.github.com/users/maximtrp/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/maximtrp",
                "id": 10440350,
                "login": "maximtrp",
                "node_id": "MDQ6VXNlcjEwNDQwMzUw",
                "organizations_url": "https://api.github.com/users/maximtrp/orgs",
                "received_events_url": "https://api.github.com/users/maximtrp/received_events",
                "repos_url": "https://api.github.com/users/maximtrp/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/maximtrp/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/maximtrp/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/maximtrp",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "oh good point. that's wrong. it's contrary to the behavior of `root_markers`, which searchs \"depth first\": https://github.com/neovim/neovim/blob/b877aa34cf366982bf92aa8b17a8409a1f8eb134/runtime/lua/vim/lsp.lua#L726-L731\n\nso to avoid confusion, we should change the behavior of `insert_package_json` to match that.\n",
            "created_at": "2025-05-03T22:32:37Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3818#issuecomment-2848838037",
            "id": 2848838037,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3818",
            "node_id": "IC_kwDODTQC186pzdGV",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848838037/reactions"
            },
            "updated_at": "2025-05-03T22:32:37Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2848838037",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 13,
    "comments_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3818/comments",
    "created_at": "2025-05-03T16:24:12Z",
    "events_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3818/events",
    "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3818",
    "id": 3037493701,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "Something isn't working",
            "id": 1674892761,
            "name": "bug",
            "node_id": "MDU6TGFiZWwxNjc0ODkyNzYx",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/labels/bug"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3818/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDODTQC1861DHnF",
    "number": 3818,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3818/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/nvim-lspconfig",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3818/timeline",
    "title": ".oxlintrc.json not found (because insert_package_json() searchs breadth-first instead of depth-first)",
    "type": null,
    "updated_at": "2025-05-03T22:33:17Z",
    "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3818",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/180959305?v=4",
        "events_url": "https://api.github.com/users/Rick-Phoenix/events{/privacy}",
        "followers_url": "https://api.github.com/users/Rick-Phoenix/followers",
        "following_url": "https://api.github.com/users/Rick-Phoenix/following{/other_user}",
        "gists_url": "https://api.github.com/users/Rick-Phoenix/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/Rick-Phoenix",
        "id": 180959305,
        "login": "Rick-Phoenix",
        "node_id": "U_kgDOCsk4SQ",
        "organizations_url": "https://api.github.com/users/Rick-Phoenix/orgs",
        "received_events_url": "https://api.github.com/users/Rick-Phoenix/received_events",
        "repos_url": "https://api.github.com/users/Rick-Phoenix/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/Rick-Phoenix/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Rick-Phoenix/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/Rick-Phoenix",
        "user_view_type": "public"
    }
}