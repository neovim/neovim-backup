{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Description\n\nThe tsgo.lua implementation supports filetypes \"typescript.tsx\" and\n\"javascript.jsx\" but tsgo doesn't or no longer supports them.\nSee https://github.com/microsoft/typescript-go/blob/3a82d575f3f777e783291d562223c5459b63d279/internal/ls/converters.go#L72\n\nThe result is if you open a tsx file tsgo even quits:\n\n```\n:messages\n\"./src/components/signedin-page-with-menu.tsx\" 25L, 669B\nClient tsgo quit with exit code 2 and signal 0. Check log for errors: [..]/lsp.log\n\nlsp.log:\n[...] panic: ScriptKind must be specified when parsing source files\n```\n\nsuggested fix this repository:\n\n- remove the .tsx .jsx lines from the tsgo.lua implementation\n  adding the hints below:\n\nfixes (user)\n\n- typescript.tsx javascript.jsx not supported by tsgo ensure you're vim\n  configuration keeps default filetype typescriptreact/javascriptreact for\n  those\n\n- If this fails look at LanguageKindToScriptKind implementation typescript-go\n  repository and patch.\n",
    "closed_at": "2025-08-22T18:38:38Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
        "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
        "followers_url": "https://api.github.com/users/justinmk/followers",
        "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
        "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/justinmk",
        "id": 1359421,
        "login": "justinmk",
        "node_id": "MDQ6VXNlcjEzNTk0MjE=",
        "organizations_url": "https://api.github.com/users/justinmk/orgs",
        "received_events_url": "https://api.github.com/users/justinmk/received_events",
        "repos_url": "https://api.github.com/users/justinmk/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/justinmk",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "> suggested fix this repository:\n> \n> * remove the .tsx .jsx lines from the tsgo.lua implementation\n>   adding the hints below:\n\nsend a pr",
            "created_at": "2025-08-20T16:33:21Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/4018#issuecomment-3207125067",
            "id": 3207125067,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4018",
            "node_id": "IC_kwDODTQC186_KNhL",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3207125067/reactions"
            },
            "updated_at": "2025-08-20T16:33:21Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3207125067",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I tried but I failed. Maybe somebody knowing the code better should have a look at it.\ndont' get why there is lsp/*.lua files and lua/lspconfigs/*.\nBut on_dir which gets passed isn't a function which puzzles me cause its used in many other files.\nIts called from  lua/lspconfig/manager.lua line 210 which is root_dir = get_root_dir(buf_path, bufnr)\n\nTried adding this lua/lspconfigs/tsgo.lua\n\n```\n---@brief\n---\n--- https://github.com/microsoft/typescript-go\n---\n--- `typescript-go` is experimental port of the TypeScript compiler (tsc) and language server (tsserver) to the Go programming language.\n---\n--- `tsgo` can be installed via npm `npm install @typescript/native-preview`.\n---\n--- ### Monorepo support\n---\n--- `tsgo` supports monorepos by default. It will automatically find the `tsconfig.json` or `jsconfig.json` corresponding to the package you are working on.\n--- This works without the need of spawning multiple instances of `tsgo`, saving memory.\n---\n--- It is recommended to use the same version of TypeScript in all packages, and therefore have it available in your workspace root. The location of the TypeScript binary will be determined automatically, but only once.\n---\n\n---@type vim.lsp.Config\n\nreturn {\n  default_config = {\n    cmd = { 'tsgo', '--lsp', '--stdio' },\n    filetypes = {\n      'javascript',\n      'javascriptreact',\n      'typescript',\n      'typescriptreact',\n    },\n    root_dir = function(bufnr, on_dir)\n\n      -- !! TODO this is debug stuff can be removed\n      -- problem this root_dir gets called from  lua/lspconfig/manager.lua line 210 which is root_dir = get_root_dir(buf_path, bufnr)\n      -- and on_dir isn't a function !? So there are inconsistencies way beyond this code ?\n      print(vim.inspect({bufnr= bufnr, on_dir = on_dir}));\n      local status, error = xpcall(func, debug.traceback)\n      if not status then  print(vim.inspect(error)) end\n\n      -- The project root is where the LSP can be started from\n      -- As stated in the documentation above, this LSP supports monorepos and simple projects.\n      -- We select then from the project root, which is identified by the presence of a package\n      -- manager lock file.\n      local root_markers = { 'package-lock.json', 'yarn.lock', 'pnpm-lock.yaml', 'bun.lockb', 'bun.lock' }\n      -- Give the root markers equal priority by wrapping them in a table\n      root_markers = vim.fn.has('nvim-0.11.3') == 1 and { root_markers } or root_markers\n      local project_root = vim.fs.root(bufnr, root_markers)\n      if not project_root then\n        return\n      end\n\n      on_dir(project_root)\n    end,\n\n  },\n  docs = {\n    description = [[\nhttps://github.com/microsoft/typescript-go\n\nInstallation:\ntypescript-go is still in development and not production ready but still useful for fastest syntax checking.\nYou can install from source easily follow its README.md file\n`tsgo` can be installed via npm `npm install @typescript/native-preview`\n\n\njavascript.jsx and typescript.tsx are not supported by tsgo see func LanguageKindToScriptKind\nat https://github.com/microsoft/typescript-go/blob/3a82d575f3f777e783291d562223c5459b63d279/internal/ls/converters.go#L72\nIf you use them consider switching to javascriptreact, typescriptreact or patch that function.\n\n\n\n]],\n  },\n}\n\n```\n\nThis code is known to work with master of tsgo compiled from source (compleiton, syntax but no code fixes yet).\n\n```\n    local lspconfig = require'lspconfig'\n    local configs = require \"lspconfig.configs\"\n\n    if not configs.tsgo then\n     configs.tsgo = {\n       default_config = {\n         cmd = { \"tsgo\", \"--lsp\", \"--stdio\" },\n         filetypes = {\n           \"javascript\",\n           \"javascriptreact\",\n           -- \"javascript.jsx\",\n           \"typescript\",\n           \"typescriptreact\",\n           -- \"typescript.tsx\",\n         },\n         root_dir = lspconfig.util.root_pattern(\n           \"tsconfig.json\",\n           \"jsconfig.json\",\n           \"package.json\",\n           \".git\",\n           \"tsconfig.base.json\"\n         ),\n         settings = {},\n       },\n     }\n    end\n    require('lspconfig').tsgo.setup { capabilities =  require('cmp_nvim_lsp').default_capabilities()}\n\n```",
            "created_at": "2025-08-22T15:02:18Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/4018#issuecomment-3214692689",
            "id": 3214692689,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4018",
            "node_id": "IC_kwDODTQC186_nFFR",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3214692689/reactions"
            },
            "updated_at": "2025-08-22T15:02:18Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3214692689",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/34086?v=4",
                "events_url": "https://api.github.com/users/MarcWeber/events{/privacy}",
                "followers_url": "https://api.github.com/users/MarcWeber/followers",
                "following_url": "https://api.github.com/users/MarcWeber/following{/other_user}",
                "gists_url": "https://api.github.com/users/MarcWeber/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MarcWeber",
                "id": 34086,
                "login": "MarcWeber",
                "node_id": "MDQ6VXNlcjM0MDg2",
                "organizations_url": "https://api.github.com/users/MarcWeber/orgs",
                "received_events_url": "https://api.github.com/users/MarcWeber/received_events",
                "repos_url": "https://api.github.com/users/MarcWeber/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MarcWeber/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MarcWeber/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MarcWeber",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> dont' get why there is lsp/_.lua files and lua/lspconfigs/_.\n\nThe latter is legacy, and will be removed. README explains this.\n\n> Tried adding this lua/lspconfigs/tsgo.lua\n\nShould be `lsp/tsgo.lua` if you are using `vim.lsp.config` in Nvim 0.11.x+. Don't use `require'lspconfig'.foo()` because again, that will be removed (as mentioned in README).",
            "created_at": "2025-08-22T18:37:52Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/4018#issuecomment-3215272358",
            "id": 3215272358,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4018",
            "node_id": "IC_kwDODTQC186_pSmm",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3215272358/reactions"
            },
            "updated_at": "2025-08-22T18:37:52Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3215272358",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Going to assume this is a setup issue since there seems to be confusion.",
            "created_at": "2025-08-22T18:38:38Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/4018#issuecomment-3215273962",
            "id": 3215273962,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4018",
            "node_id": "IC_kwDODTQC186_pS_q",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3215273962/reactions"
            },
            "updated_at": "2025-08-22T18:38:38Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/3215273962",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4018/comments",
    "created_at": "2025-08-20T08:26:44Z",
    "events_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4018/events",
    "html_url": "https://github.com/neovim/nvim-lspconfig/issues/4018",
    "id": 3337091890,
    "issue_dependencies_summary": {
        "blocked_by": 0,
        "blocking": 0,
        "total_blocked_by": 0,
        "total_blocking": 0
    },
    "labels": [],
    "labels_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4018/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDODTQC187G5_sy",
    "number": 4018,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4018/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/nvim-lspconfig",
    "state": "closed",
    "state_reason": "not_planned",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4018/timeline",
    "title": "tsgo with manually patched filetype typescript.tsx panics with error: panic: ScriptKind must be specified when parsing source files",
    "type": null,
    "updated_at": "2025-08-22T18:38:44Z",
    "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4018",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/34086?v=4",
        "events_url": "https://api.github.com/users/MarcWeber/events{/privacy}",
        "followers_url": "https://api.github.com/users/MarcWeber/followers",
        "following_url": "https://api.github.com/users/MarcWeber/following{/other_user}",
        "gists_url": "https://api.github.com/users/MarcWeber/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/MarcWeber",
        "id": 34086,
        "login": "MarcWeber",
        "node_id": "MDQ6VXNlcjM0MDg2",
        "organizations_url": "https://api.github.com/users/MarcWeber/orgs",
        "received_events_url": "https://api.github.com/users/MarcWeber/received_events",
        "repos_url": "https://api.github.com/users/MarcWeber/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/MarcWeber/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/MarcWeber/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/MarcWeber",
        "user_view_type": "public"
    }
}