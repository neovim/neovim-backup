{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4157/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/nvim-lspconfig/pulls/4157/commits"
        },
        "html": {
            "href": "https://github.com/neovim/nvim-lspconfig/pull/4157"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4157"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/nvim-lspconfig/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/nvim-lspconfig/pulls/4157/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/nvim-lspconfig/pulls/4157"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/nvim-lspconfig/statuses/e63b9ca42bcc5702c0980bd23bb261be1e7a89c3"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "FIRST_TIME_CONTRIBUTOR",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/nvim-lspconfig/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/nvim-lspconfig/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/nvim-lspconfig/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/nvim-lspconfig/branches{/branch}",
            "clone_url": "https://github.com/neovim/nvim-lspconfig.git",
            "collaborators_url": "https://api.github.com/repos/neovim/nvim-lspconfig/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/nvim-lspconfig/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/nvim-lspconfig/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/nvim-lspconfig/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/nvim-lspconfig/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/nvim-lspconfig/contributors",
            "created_at": "2019-11-13T17:12:28Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/nvim-lspconfig/deployments",
            "description": "Quickstart configs for Nvim LSP",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/nvim-lspconfig/downloads",
            "events_url": "https://api.github.com/repos/neovim/nvim-lspconfig/events",
            "fork": false,
            "forks": 2352,
            "forks_count": 2352,
            "forks_url": "https://api.github.com/repos/neovim/nvim-lspconfig/forks",
            "full_name": "neovim/nvim-lspconfig",
            "git_commits_url": "https://api.github.com/repos/neovim/nvim-lspconfig/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/nvim-lspconfig/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/nvim-lspconfig/git/tags{/sha}",
            "git_url": "git://github.com/neovim/nvim-lspconfig.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": false,
            "has_wiki": true,
            "homepage": "",
            "hooks_url": "https://api.github.com/repos/neovim/nvim-lspconfig/hooks",
            "html_url": "https://github.com/neovim/nvim-lspconfig",
            "id": 221512407,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/nvim-lspconfig/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/nvim-lspconfig/labels{/name}",
            "language": "Lua",
            "languages_url": "https://api.github.com/repos/neovim/nvim-lspconfig/languages",
            "license": {
                "key": "apache-2.0",
                "name": "Apache License 2.0",
                "node_id": "MDc6TGljZW5zZTI=",
                "spdx_id": "Apache-2.0",
                "url": "https://api.github.com/licenses/apache-2.0"
            },
            "merges_url": "https://api.github.com/repos/neovim/nvim-lspconfig/merges",
            "milestones_url": "https://api.github.com/repos/neovim/nvim-lspconfig/milestones{/number}",
            "mirror_url": null,
            "name": "nvim-lspconfig",
            "node_id": "MDEwOlJlcG9zaXRvcnkyMjE1MTI0MDc=",
            "notifications_url": "https://api.github.com/repos/neovim/nvim-lspconfig/notifications{?since,all,participating}",
            "open_issues": 35,
            "open_issues_count": 35,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/nvim-lspconfig/pulls{/number}",
            "pushed_at": "2025-10-27T22:49:07Z",
            "releases_url": "https://api.github.com/repos/neovim/nvim-lspconfig/releases{/id}",
            "size": 7222,
            "ssh_url": "git@github.com:neovim/nvim-lspconfig.git",
            "stargazers_count": 12872,
            "stargazers_url": "https://api.github.com/repos/neovim/nvim-lspconfig/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/nvim-lspconfig/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/nvim-lspconfig/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/nvim-lspconfig/subscription",
            "svn_url": "https://github.com/neovim/nvim-lspconfig",
            "tags_url": "https://api.github.com/repos/neovim/nvim-lspconfig/tags",
            "teams_url": "https://api.github.com/repos/neovim/nvim-lspconfig/teams",
            "topics": [
                "language-server",
                "language-server-protocol",
                "lsp",
                "neovim",
                "nvim",
                "plugin",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/nvim-lspconfig/git/trees{/sha}",
            "updated_at": "2025-10-27T23:23:40Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig",
            "visibility": "public",
            "watchers": 12872,
            "watchers_count": 12872,
            "web_commit_signoff_required": false
        },
        "sha": "a9b2fb560c4ab22c10728fd5149dbd7b62aa4f69",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim",
            "user_view_type": "public"
        }
    },
    "body": "# Add GitLab Duo Language Server Configuration\r\n\r\n## Summary\r\n\r\nThis PR adds native support for the [GitLab Duo Language Server](https://gitlab.com/gitlab-org/editor-extensions/gitlab-lsp) to the Neovim LSP configuration collection, enabling AI-powered code suggestions from GitLab Duo directly in Neovim.\r\n\r\n## Motivation\r\n\r\nGitLab Duo provides AI-assisted code completion similar to GitHub Copilot, but requires a specific LSP setup with OAuth device flow authentication. This configuration makes it easy for Neovim users to integrate GitLab Duo into their workflow without manual LSP setup.\r\n\r\n## Features\r\n\r\n### üîê OAuth Device Flow Authentication\r\n- Full implementation of GitLab's OAuth device flow\r\n- Automatic token refresh before expiration\r\n- Secure token storage in Neovim's data directory\r\n- No manual PAT management required\r\n\r\n### üîÑ Automatic Token Management\r\n- Detects expired tokens and refreshes automatically\r\n- Handles token validation errors from the server\r\n- Provides clear status messages and error handling\r\n\r\n### üéÆ User Commands\r\n- `:LspGitLabDuoSignIn` - Start OAuth authentication flow\r\n- `:LspGitLabDuoSignOut` - Sign out and remove stored token\r\n- `:LspGitLabDuoStatus` - View authentication and token status\r\n\r\n### ‚å®Ô∏è Standard Keybindings\r\n- **Tab** - Accept suggestion\r\n- **Alt/Option+[** - Previous suggestion\r\n- **Alt/Option+]** - Next suggestion\r\n\r\n## Implementation Details\r\n\r\n### Authentication Flow\r\n1. User runs `:LspGitLabDuoSignIn`\r\n2. Device code is copied to clipboard automatically\r\n3. Browser opens to GitLab verification URL\r\n4. User authorizes the application\r\n5. Token is automatically retrieved and stored\r\n6. LSP configuration is updated with the new token\r\n\r\n### Token Lifecycle\r\n- Access tokens are stored with refresh tokens and expiration times\r\n- Tokens are automatically refreshed 60 seconds before expiry\r\n- Failed refresh attempts prompt re-authentication\r\n- Token validation errors trigger automatic refresh attempts\r\n\r\n### LSP Handlers\r\n- `$/gitlab/token/check` - Handles token validation errors\r\n- `$/gitlab/featureStateChange` - Notifies about feature availability\r\n- Workspace configuration updates for token changes\r\n\r\n## Dependencies\r\n\r\n**Required:**\r\n- [plenary.nvim](https://github.com/nvim-lua/plenary.nvim)- For HTTP requests via `curl` module\r\n\r\n**Runtime:**\r\n- Node.js and npm (for GitLab LSP server)\r\n- GitLab account with Duo Pro license\r\n- Internet connection for OAuth flow\r\n\r\n## Installation & Usage\r\n\r\n### Basic Setup\r\n\r\n```lua\r\n\r\n-- Enable the LSP\r\nvim.lsp.enable('gitlab_duo')\r\n\r\n-- Setup keybindings for inline completion\r\nvim.api.nvim_create_autocmd('LspAttach', {\r\n  callback = function(args)\r\n    local client = vim.lsp.get_client_by_id(args.data.client_id)\r\n    local bufnr = args.buf\r\n    \r\n    if client.name == 'gitlab_duo' and \r\n        vim.lsp.inline_completion  and\r\n       client:supports_method(vim.lsp.protocol.Methods.textDocument_inlineCompletion, bufnr) then\r\n      vim.lsp.inline_completion.enable(true, { bufnr = bufnr })\r\n      \r\n      -- Tab to accept suggestion\r\n      vim.keymap.set('i', '<Tab>', function()\r\n        if vim.lsp.inline_completion.is_visible() then\r\n          return vim.lsp.inline_completion.accept()\r\n        else\r\n          return '<Tab>'\r\n        end\r\n      end, { expr = true, buffer = bufnr })\r\n      \r\n      -- Navigate suggestions\r\n      vim.keymap.set('i', '<M-[>', vim.lsp.inline_completion.select_prev, { buffer = bufnr })\r\n      vim.keymap.set('i', '<M-]>', vim.lsp.inline_completion.select_next, { buffer = bufnr })\r\n    end\r\n  end\r\n})\r\n```\r\n\r\n### First-Time Authentication\r\n\r\n```vim\r\n:GitLabDuoSignIn\r\n```\r\n\r\nFollow the browser prompts to authorize the application.\r\n\r\n## Testing\r\n\r\n### Manual Testing Steps\r\n\r\n1. **Install dependencies:**\r\n   ```lua\r\n   -- With lazy.nvim\r\n   { 'nvim-lua/plenary.nvim' }\r\n   ```\r\n\r\n2. **Load the configuration:**\r\n   ```lua\r\n   vim.lsp.enable('gitlab_duo')\r\n   ```\r\n\r\n3. **Authenticate:**\r\n   ```vim\r\n   :LspGitLabDuoSignIn\r\n   ```\r\n\r\n4. **Test suggestions:**\r\n   - Open a supported file (`.lua`, `.py`, `.js`, etc.)\r\n   - Start typing code\r\n   - Verify suggestions appear\r\n   - Test Tab to accept\r\n   - Test Alt+[ and Alt+] to cycle\r\n\r\n5. **Test token management:**\r\n   ```vim\r\n   :LspGitLabDuoStatus    \" View authentication status\r\n   :LspGitLabDuoSignOut   \" Sign out\r\n   :LspGitLabDuoSignIn    \" Sign back in\r\n   ```\r\n\r\n### Expected Behavior\r\n\r\n- ‚úÖ OAuth flow completes successfully\r\n- ‚úÖ Code suggestions appear while typing\r\n- ‚úÖ Token refreshes automatically before expiry\r\n- ‚úÖ Error messages are clear and actionable\r\n- ‚úÖ Commands work in all supported file types\r\n\r\n## Configuration Options\r\n\r\nUsers can customize the GitLab instance URL via environment variable:\r\n\r\n```bash\r\nexport GITLAB_URL=\"https://gitlab.example.com\"\r\n```\r\n\r\nDefault is `https://gitlab.com`.\r\n\r\n## Supported Languages\r\n\r\nRuby, Go, JavaScript, TypeScript, React, Rust, Lua, Python, Java, C, C++, PHP, C#, Kotlin, Swift, Scala, Vue, Svelte, HTML, CSS, SCSS, JSON, YAML\r\n\r\n## Documentation\r\n\r\n- [GitLab LSP Documentation](https://gitlab.com/gitlab-org/editor-extensions/gitlab-lsp)\r\n- [GitLab Duo Code Suggestions](https://docs.gitlab.com/ee/user/project/repository/code_suggestions/)\r\n- [Neovim LSP Documentation](https://neovim.io/doc/user/lsp.html)\r\n\r\n## Checklist\r\n\r\n- [x] OAuth device flow implementation\r\n- [x] Automatic token refresh\r\n- [x] Error handling and user notifications\r\n- [x] User commands for auth management\r\n- [x] LSP handlers for GitLab-specific messages\r\n- [x] Documentation and usage examples\r\n- [x] Support for self-hosted GitLab instances\r\n\r\n\r\n## Screenshots\r\n\r\n<img width=\"504\" height=\"298\" alt=\"Screenshot 2025-10-27 at 1 17 41‚ÄØPM\" src=\"https://github.com/user-attachments/assets/881a3ab5-c34d-449f-93df-a7f630fd4f3c\" />\r\n<img width=\"504\" height=\"298\" alt=\"Screenshot 2025-10-27 at 1 17 59‚ÄØPM\" src=\"https://github.com/user-attachments/assets/210889da-cfa8-4537-bb99-8951e0703b7d\" />\r\n\r\n\r\n---\r\n\r\n**Note:** This configuration requires Neovim 0.12+ for native inline completion support.",
    "closed_at": null,
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/nvim-lspconfig/pull/4157#discussion_r2466940180"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/nvim-lspconfig/pulls/4157"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/nvim-lspconfig/pulls/comments/2466940180"
                }
            },
            "author_association": "MEMBER",
            "body": "Nvim 0.12 has `vim.net.request` but currently does not support POST :(\n\nWe have gone to a lot of trouble to keep all the configs in this repo totally \"isolated\" (self-contained), so would like to avoid a dependency on `plenary`.\n\nWriting a `curl` wrapper for the purposes of this config using `vim.system` should not be much code.\n\nAlternatively, we are interested in gaining POST support for `vim.net.request` if you want to work on that.",
            "commit_id": "e63b9ca42bcc5702c0980bd23bb261be1e7a89c3",
            "created_at": "2025-10-27T20:08:56Z",
            "diff_hunk": "@@ -0,0 +1,426 @@\n+---@brief\n+---\n+--- GitLab Duo Language Server Configuration for Neovim\n+---\n+--- https://gitlab.com/gitlab-org/editor-extensions/gitlab-lsp\n+---\n+--- The GitLab LSP enables any editor or IDE to integrate with GitLab Duo\n+--- for AI-powered code suggestions via the Language Server Protocol.\n+---\n+--- **Prerequisites:**\n+--- - Node.js and npm installed\n+--- - GitLab account with Duo Pro license\n+--- - Internet connection for OAuth device flow\n+---\n+--- **Setup:**\n+--- 1. Run :LspGitLabDuoSignIn to start OAuth authentication\n+--- 2. Follow the browser prompts to authorize\n+--- 3. Enable inline completion in LspAttach event (see example below)\n+---\n+--- **Inline Completion Example:**\n+--- ```lua\n+--- vim.api.nvim_create_autocmd('LspAttach', {\n+---   callback = function(args)\n+---     local bufnr = args.buf\n+---     local client = assert(vim.lsp.get_client_by_id(args.data.client_id))\n+---\n+---     if client.name == 'gitlab_duo' and\n+---        client:supports_method(vim.lsp.protocol.Methods.textDocument_inlineCompletion, bufnr) then\n+---       vim.lsp.inline_completion.enable(true, { bufnr = bufnr })\n+---\n+---       -- Tab to accept suggestion\n+---       vim.keymap.set('i', '<Tab>', function()\n+---         if vim.lsp.inline_completion.is_visible() then\n+---           return vim.lsp.inline_completion.accept()\n+---         else\n+---           return '<Tab>'\n+---         end\n+---       end, { expr = true, buffer = bufnr, desc = 'GitLab Duo: Accept suggestion' })\n+---\n+---       -- Alt/Option+[ for previous suggestion\n+---       vim.keymap.set('i', '<M-[>', vim.lsp.inline_completion.select_prev,\n+---         { buffer = bufnr, desc = 'GitLab Duo: Previous suggestion' })\n+---\n+---       -- Alt/Option+] for next suggestion\n+---       vim.keymap.set('i', '<M-]>', vim.lsp.inline_completion.select_next,\n+---         { buffer = bufnr, desc = 'GitLab Duo: Next suggestion' })\n+---     end\n+---   end\n+--- })\n+--- ```\n+\n+local curl = require('plenary.curl')",
            "html_url": "https://github.com/neovim/nvim-lspconfig/pull/4157#discussion_r2466940180",
            "id": 2466940180,
            "line": 52,
            "node_id": "PRRC_kwDODTQC186TCoUU",
            "original_commit_id": "e63b9ca42bcc5702c0980bd23bb261be1e7a89c3",
            "original_line": 52,
            "original_position": 52,
            "original_start_line": null,
            "path": "lsp/gitlab_duo.lua",
            "position": 52,
            "pull_request_review_id": 3385274027,
            "pull_request_url": "https://api.github.com/repos/neovim/nvim-lspconfig/pulls/4157",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/pulls/comments/2466940180/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-10-27T20:14:10Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/pulls/comments/2466940180",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/nvim-lspconfig/pull/4157#discussion_r2466951023"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/nvim-lspconfig/pulls/4157"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/nvim-lspconfig/pulls/comments/2466951023"
                }
            },
            "author_association": "MEMBER",
            "body": "can we drop this condition? similar to https://github.com/neovim/nvim-lspconfig/blob/master/lsp/copilot.lua , there is nothing service-specific about inline_completion. The `desc` field should be generic like in the copilot config.",
            "commit_id": "e63b9ca42bcc5702c0980bd23bb261be1e7a89c3",
            "created_at": "2025-10-27T20:12:03Z",
            "diff_hunk": "@@ -0,0 +1,426 @@\n+---@brief\n+---\n+--- GitLab Duo Language Server Configuration for Neovim\n+---\n+--- https://gitlab.com/gitlab-org/editor-extensions/gitlab-lsp\n+---\n+--- The GitLab LSP enables any editor or IDE to integrate with GitLab Duo\n+--- for AI-powered code suggestions via the Language Server Protocol.\n+---\n+--- **Prerequisites:**\n+--- - Node.js and npm installed\n+--- - GitLab account with Duo Pro license\n+--- - Internet connection for OAuth device flow\n+---\n+--- **Setup:**\n+--- 1. Run :LspGitLabDuoSignIn to start OAuth authentication\n+--- 2. Follow the browser prompts to authorize\n+--- 3. Enable inline completion in LspAttach event (see example below)\n+---\n+--- **Inline Completion Example:**\n+--- ```lua\n+--- vim.api.nvim_create_autocmd('LspAttach', {\n+---   callback = function(args)\n+---     local bufnr = args.buf\n+---     local client = assert(vim.lsp.get_client_by_id(args.data.client_id))\n+---\n+---     if client.name == 'gitlab_duo' and",
            "html_url": "https://github.com/neovim/nvim-lspconfig/pull/4157#discussion_r2466951023",
            "id": 2466951023,
            "line": 27,
            "node_id": "PRRC_kwDODTQC186TCq9v",
            "original_commit_id": "e63b9ca42bcc5702c0980bd23bb261be1e7a89c3",
            "original_line": 27,
            "original_position": 27,
            "original_start_line": null,
            "path": "lsp/gitlab_duo.lua",
            "position": 27,
            "pull_request_review_id": 3385288611,
            "pull_request_url": "https://api.github.com/repos/neovim/nvim-lspconfig/pulls/4157",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/pulls/comments/2466951023/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-10-27T20:12:03Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/pulls/comments/2466951023",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/nvim-lspconfig/pull/4157#discussion_r2466965843"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/nvim-lspconfig/pulls/4157"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/nvim-lspconfig/pulls/comments/2466965843"
                }
            },
            "author_association": "MEMBER",
            "body": "Just mentioning: users can provide arbitrary fields using `vim.lsp.config()`:\n\n```lua\nvim.lsp.config('gitlab_duo', {\n  gitlab_duo = {\n    gitlab_url = '...',\n  },\n})\n```\n\nThen in callbacks such as `cmd()` in this config, which are passed a `config` object, you can access those fields:\n\n```lua\ncmd = function(..., config)\n  local foo = config.gitlab_duo\n  ...\nend)\n```",
            "commit_id": "e63b9ca42bcc5702c0980bd23bb261be1e7a89c3",
            "created_at": "2025-10-27T20:17:54Z",
            "diff_hunk": "@@ -0,0 +1,426 @@\n+---@brief\n+---\n+--- GitLab Duo Language Server Configuration for Neovim\n+---\n+--- https://gitlab.com/gitlab-org/editor-extensions/gitlab-lsp\n+---\n+--- The GitLab LSP enables any editor or IDE to integrate with GitLab Duo\n+--- for AI-powered code suggestions via the Language Server Protocol.\n+---\n+--- **Prerequisites:**\n+--- - Node.js and npm installed\n+--- - GitLab account with Duo Pro license\n+--- - Internet connection for OAuth device flow\n+---\n+--- **Setup:**\n+--- 1. Run :LspGitLabDuoSignIn to start OAuth authentication\n+--- 2. Follow the browser prompts to authorize\n+--- 3. Enable inline completion in LspAttach event (see example below)\n+---\n+--- **Inline Completion Example:**\n+--- ```lua\n+--- vim.api.nvim_create_autocmd('LspAttach', {\n+---   callback = function(args)\n+---     local bufnr = args.buf\n+---     local client = assert(vim.lsp.get_client_by_id(args.data.client_id))\n+---\n+---     if client.name == 'gitlab_duo' and\n+---        client:supports_method(vim.lsp.protocol.Methods.textDocument_inlineCompletion, bufnr) then\n+---       vim.lsp.inline_completion.enable(true, { bufnr = bufnr })\n+---\n+---       -- Tab to accept suggestion\n+---       vim.keymap.set('i', '<Tab>', function()\n+---         if vim.lsp.inline_completion.is_visible() then\n+---           return vim.lsp.inline_completion.accept()\n+---         else\n+---           return '<Tab>'\n+---         end\n+---       end, { expr = true, buffer = bufnr, desc = 'GitLab Duo: Accept suggestion' })\n+---\n+---       -- Alt/Option+[ for previous suggestion\n+---       vim.keymap.set('i', '<M-[>', vim.lsp.inline_completion.select_prev,\n+---         { buffer = bufnr, desc = 'GitLab Duo: Previous suggestion' })\n+---\n+---       -- Alt/Option+] for next suggestion\n+---       vim.keymap.set('i', '<M-]>', vim.lsp.inline_completion.select_next,\n+---         { buffer = bufnr, desc = 'GitLab Duo: Next suggestion' })\n+---     end\n+---   end\n+--- })\n+--- ```\n+\n+local curl = require('plenary.curl')\n+\n+-- Configuration\n+local config = {\n+  gitlab_url = vim.env.GITLAB_URL or 'https://gitlab.com',",
            "html_url": "https://github.com/neovim/nvim-lspconfig/pull/4157#discussion_r2466965843",
            "id": 2466965843,
            "line": 56,
            "node_id": "PRRC_kwDODTQC186TCulT",
            "original_commit_id": "e63b9ca42bcc5702c0980bd23bb261be1e7a89c3",
            "original_line": 56,
            "original_position": 56,
            "original_start_line": null,
            "path": "lsp/gitlab_duo.lua",
            "position": 56,
            "pull_request_review_id": 3385309744,
            "pull_request_url": "https://api.github.com/repos/neovim/nvim-lspconfig/pulls/4157",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/pulls/comments/2466965843/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-10-27T20:17:54Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/pulls/comments/2466965843",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comment_regular_data": [],
    "comments_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4157/comments",
    "commits_url": "https://api.github.com/repos/neovim/nvim-lspconfig/pulls/4157/commits",
    "created_at": "2025-10-27T07:44:44Z",
    "diff_url": "https://github.com/neovim/nvim-lspconfig/pull/4157.diff",
    "draft": false,
    "head": {
        "label": "tachyons:patch-1",
        "ref": "patch-1",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/branches{/branch}",
            "clone_url": "https://github.com/tachyons/nvim-lspconfig.git",
            "collaborators_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/comments{/number}",
            "commits_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/commits{/sha}",
            "compare_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/contributors",
            "created_at": "2025-10-27T07:03:42Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/deployments",
            "description": "Quickstart configs for Nvim LSP",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/downloads",
            "events_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/forks",
            "full_name": "tachyons/nvim-lspconfig",
            "git_commits_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/git/tags{/sha}",
            "git_url": "git://github.com/tachyons/nvim-lspconfig.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "",
            "hooks_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/hooks",
            "html_url": "https://github.com/tachyons/nvim-lspconfig",
            "id": 1084064129,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/issues{/number}",
            "keys_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/labels{/name}",
            "language": null,
            "languages_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/languages",
            "license": {
                "key": "apache-2.0",
                "name": "Apache License 2.0",
                "node_id": "MDc6TGljZW5zZTI=",
                "spdx_id": "Apache-2.0",
                "url": "https://api.github.com/licenses/apache-2.0"
            },
            "merges_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/merges",
            "milestones_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/milestones{/number}",
            "mirror_url": null,
            "name": "nvim-lspconfig",
            "node_id": "R_kgDOQJ2BgQ",
            "notifications_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3112976?v=4",
                "events_url": "https://api.github.com/users/tachyons/events{/privacy}",
                "followers_url": "https://api.github.com/users/tachyons/followers",
                "following_url": "https://api.github.com/users/tachyons/following{/other_user}",
                "gists_url": "https://api.github.com/users/tachyons/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/tachyons",
                "id": 3112976,
                "login": "tachyons",
                "node_id": "MDQ6VXNlcjMxMTI5NzY=",
                "organizations_url": "https://api.github.com/users/tachyons/orgs",
                "received_events_url": "https://api.github.com/users/tachyons/received_events",
                "repos_url": "https://api.github.com/users/tachyons/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/tachyons/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tachyons/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/tachyons",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/pulls{/number}",
            "pushed_at": "2025-10-27T13:40:49Z",
            "releases_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/releases{/id}",
            "size": 7210,
            "ssh_url": "git@github.com:tachyons/nvim-lspconfig.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/stargazers",
            "statuses_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/subscribers",
            "subscription_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/subscription",
            "svn_url": "https://github.com/tachyons/nvim-lspconfig",
            "tags_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/tags",
            "teams_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/tachyons/nvim-lspconfig/git/trees{/sha}",
            "updated_at": "2025-10-27T07:03:42Z",
            "url": "https://api.github.com/repos/tachyons/nvim-lspconfig",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "e63b9ca42bcc5702c0980bd23bb261be1e7a89c3",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/3112976?v=4",
            "events_url": "https://api.github.com/users/tachyons/events{/privacy}",
            "followers_url": "https://api.github.com/users/tachyons/followers",
            "following_url": "https://api.github.com/users/tachyons/following{/other_user}",
            "gists_url": "https://api.github.com/users/tachyons/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/tachyons",
            "id": 3112976,
            "login": "tachyons",
            "node_id": "MDQ6VXNlcjMxMTI5NzY=",
            "organizations_url": "https://api.github.com/users/tachyons/orgs",
            "received_events_url": "https://api.github.com/users/tachyons/received_events",
            "repos_url": "https://api.github.com/users/tachyons/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/tachyons/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tachyons/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/tachyons",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/neovim/nvim-lspconfig/pull/4157",
    "id": 2949824505,
    "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/4157",
    "labels": [],
    "locked": false,
    "merge_commit_sha": "f2e7a1b18f9c285e5199531d529796959e74735a",
    "merged_at": null,
    "milestone": null,
    "node_id": "PR_kwDODTQC186v0r_5",
    "number": 4157,
    "patch_url": "https://github.com/neovim/nvim-lspconfig/pull/4157.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/nvim-lspconfig/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/nvim-lspconfig/pulls/4157/comments",
    "state": "open",
    "statuses_url": "https://api.github.com/repos/neovim/nvim-lspconfig/statuses/e63b9ca42bcc5702c0980bd23bb261be1e7a89c3",
    "title": "Add Gitlab Duo LSP configuration",
    "updated_at": "2025-10-27T20:17:54Z",
    "url": "https://api.github.com/repos/neovim/nvim-lspconfig/pulls/4157",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/3112976?v=4",
        "events_url": "https://api.github.com/users/tachyons/events{/privacy}",
        "followers_url": "https://api.github.com/users/tachyons/followers",
        "following_url": "https://api.github.com/users/tachyons/following{/other_user}",
        "gists_url": "https://api.github.com/users/tachyons/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/tachyons",
        "id": 3112976,
        "login": "tachyons",
        "node_id": "MDQ6VXNlcjMxMTI5NzY=",
        "organizations_url": "https://api.github.com/users/tachyons/orgs",
        "received_events_url": "https://api.github.com/users/tachyons/received_events",
        "repos_url": "https://api.github.com/users/tachyons/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/tachyons/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/tachyons/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/tachyons",
        "user_view_type": "public"
    }
}