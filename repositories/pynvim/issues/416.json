{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "On 0.4.0, with Python-3.7.5 and neovim-0.4.3, I've got:\r\n```\r\n=================================== FAILURES ===================================\r\n__________________________________ test_repr ___________________________________\r\n\r\nvim = <pynvim.api.nvim.Nvim object at 0xee53c6e5c10>\r\n\r\n    def test_repr(vim):\r\n>       assert repr(vim.current.buffer) == \"<Buffer(handle=1)>\"\r\nE       AssertionError: assert '<Buffer(handle=2)>' == '<Buffer(handle=1)>'\r\nE         - <Buffer(handle=2)>\r\nE         ?                ^\r\nE         + <Buffer(handle=1)>\r\nE         ?                ^\r\n\r\ntest/test_buffer.py:10: AssertionError\r\n__________________________________ test_repr ___________________________________\r\n\r\nvim = <pynvim.api.nvim.Nvim object at 0xee506337ad0>\r\n\r\n    def test_repr(vim):\r\n>       assert repr(vim.current.tabpage) == \"<Tabpage(handle=1)>\"\r\nE       AssertionError: assert '<Tabpage(handle=2)>' == '<Tabpage(handle=1)>'\r\nE         - <Tabpage(handle=2)>\r\nE         ?                 ^\r\nE         + <Tabpage(handle=1)>\r\nE         ?                 ^\r\n\r\ntest/test_tabpage.py:48: AssertionError\r\n__________________________________ test_repr ___________________________________\r\n\r\nvim = <pynvim.api.nvim.Nvim object at 0xee5f5135110>\r\n\r\n    def test_repr(vim):\r\n>       assert repr(vim.current.window) == \"<Window(handle=1000)>\"\r\nE       AssertionError: assert '<Window(handle=1001)>' == '<Window(handle=1000)>'\r\nE         - <Window(handle=1001)>\r\nE         ?                   ^\r\nE         + <Window(handle=1000)>\r\nE         ?                   ^\r\n\r\ntest/test_window.py:124: AssertionError\r\n```\r\n\r\nHowever, I don't seem to get this on master when running py.test out of the source dir, yet they are the same commit.\r\n\r\nI'm confused. Any ideas?",
    "closed_at": "2026-02-06T13:31:47Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
        "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
        "followers_url": "https://api.github.com/users/justinmk/followers",
        "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
        "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/justinmk",
        "id": 1359421,
        "login": "justinmk",
        "node_id": "MDQ6VXNlcjEzNTk0MjE=",
        "organizations_url": "https://api.github.com/users/justinmk/orgs",
        "received_events_url": "https://api.github.com/users/justinmk/received_events",
        "repos_url": "https://api.github.com/users/justinmk/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/justinmk",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "Similar issue on pynvim-0.4.1 and neovim-0.4.4:\r\n\r\n```\r\n===>  Regression tests for py3-neovim-0.4.1\r\ncd /usr/local/pobj/py-neovim-0.4.1-python3/pynvim-0.4.1 && env HOME=/usr/local/pobj/py-neovim-0.4.1-python3  /usr/local/bin/py.test-3\r\n============================= test session starts ==============================\r\nplatform openbsd6 -- Python 3.8.5, pytest-4.4.0, py-1.8.0, pluggy-0.11.0\r\nrootdir: /usr/local/pobj/py-neovim-0.4.1-python3/pynvim-0.4.1, inifile: setup.cfg, testpaths: test\r\ncollected 68 items\r\n\r\ntest/test_buffer.py F................                                    [ 25%]\r\ntest/test_client_rpc.py ....                                             [ 30%]\r\ntest/test_concurrency.py ..                                              [ 33%]\r\ntest/test_decorators.py .                                                [ 35%]\r\ntest/test_events.py ....                                                 [ 41%]\r\ntest/test_host.py ..                                                     [ 44%]\r\ntest/test_logging.py .                                                   [ 45%]\r\ntest/test_tabpage.py ....F                                               [ 52%]\r\ntest/test_vim.py ....................                                    [ 82%]\r\ntest/test_window.py ...........F                                         [100%]\r\n\r\n=================================== FAILURES ===================================\r\n__________________________________ test_repr ___________________________________\r\n\r\nvim = <pynvim.api.nvim.Nvim object at 0x96d803b24f0>\r\n\r\n    def test_repr(vim):\r\n>       assert repr(vim.current.buffer) == \"<Buffer(handle=1)>\"\r\nE       AssertionError: assert '<Buffer(handle=2)>' == '<Buffer(handle=1)>'\r\nE         - <Buffer(handle=2)>\r\nE         ?                ^\r\nE         + <Buffer(handle=1)>\r\nE         ?                ^\r\n\r\ntest/test_buffer.py:10: AssertionError\r\n__________________________________ test_repr ___________________________________\r\n\r\nvim = <pynvim.api.nvim.Nvim object at 0x96d3171f610>\r\n\r\n    def test_repr(vim):\r\n>       assert repr(vim.current.tabpage) == \"<Tabpage(handle=1)>\"\r\nE       AssertionError: assert '<Tabpage(handle=2)>' == '<Tabpage(handle=1)>'\r\nE         - <Tabpage(handle=2)>\r\nE         ?                 ^\r\nE         + <Tabpage(handle=1)>\r\nE         ?                 ^\r\n\r\ntest/test_tabpage.py:48: AssertionError\r\n__________________________________ test_repr ___________________________________\r\n\r\nvim = <pynvim.api.nvim.Nvim object at 0x96cbdcba460>\r\n\r\n    def test_repr(vim):\r\n>       assert repr(vim.current.window) == \"<Window(handle=1000)>\"\r\nE       AssertionError: assert '<Window(handle=1001)>' == '<Window(handle=1000)>'\r\nE         - <Window(handle=1001)>\r\nE         ?                   ^\r\nE         + <Window(handle=1000)>\r\nE         ?                   ^\r\n\r\ntest/test_window.py:124: AssertionError\r\n===================== 3 failed, 65 passed in 4.83 seconds ======================\r\n*** Error 1 in . (Makefile:32 'do-test')\r\n*** Error 2 in . (/usr/ports/infrastructure/mk/bsd.port.mk:2954 '/usr/local/pobj/py-neovim-0.4.1-python3/.test_done': @cd /usr/ports/editors...)\r\n*** Error 2 in /usr/ports/editors/py-neovim (/usr/ports/infrastructure/mk/bsd.port.mk:2584 'test': @lock=py3-neovim-0.4.1;  export _LOCKS_HE...)\r\n```\r\n\r\n",
            "created_at": "2020-08-10T22:35:51Z",
            "html_url": "https://github.com/neovim/pynvim/issues/416#issuecomment-671623662",
            "id": 671623662,
            "issue_url": "https://api.github.com/repos/neovim/pynvim/issues/416",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY3MTYyMzY2Mg==",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/pynvim/issues/comments/671623662/reactions"
            },
            "updated_at": "2020-08-10T22:35:51Z",
            "url": "https://api.github.com/repos/neovim/pynvim/issues/comments/671623662",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/604955?v=4",
                "events_url": "https://api.github.com/users/vext01/events{/privacy}",
                "followers_url": "https://api.github.com/users/vext01/followers",
                "following_url": "https://api.github.com/users/vext01/following{/other_user}",
                "gists_url": "https://api.github.com/users/vext01/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/vext01",
                "id": 604955,
                "login": "vext01",
                "node_id": "MDQ6VXNlcjYwNDk1NQ==",
                "organizations_url": "https://api.github.com/users/vext01/orgs",
                "received_events_url": "https://api.github.com/users/vext01/received_events",
                "repos_url": "https://api.github.com/users/vext01/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/vext01/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/vext01/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/vext01",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "is this still happening?",
            "created_at": "2026-02-06T13:31:47Z",
            "html_url": "https://github.com/neovim/pynvim/issues/416#issuecomment-3860489146",
            "id": 3860489146,
            "issue_url": "https://api.github.com/repos/neovim/pynvim/issues/416",
            "node_id": "IC_kwDOASpKTs7mGmO6",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/pynvim/issues/comments/3860489146/reactions"
            },
            "updated_at": "2026-02-06T13:31:47Z",
            "url": "https://api.github.com/repos/neovim/pynvim/issues/comments/3860489146",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/neovim/pynvim/issues/416/comments",
    "created_at": "2019-11-18T16:44:10Z",
    "events_url": "https://api.github.com/repos/neovim/pynvim/issues/416/events",
    "html_url": "https://github.com/neovim/pynvim/issues/416",
    "id": 524485797,
    "issue_dependencies_summary": {
        "blocked_by": 0,
        "blocking": 0,
        "total_blocked_by": 0,
        "total_blocking": 0
    },
    "labels": [
        {
            "color": "fef2c0",
            "default": true,
            "description": null,
            "id": 97892279,
            "name": "help wanted",
            "node_id": "MDU6TGFiZWw5Nzg5MjI3OQ==",
            "url": "https://api.github.com/repos/neovim/pynvim/labels/help%20wanted"
        },
        {
            "color": "e6e6e6",
            "default": true,
            "description": "",
            "id": 97892281,
            "name": "question",
            "node_id": "MDU6TGFiZWw5Nzg5MjI4MQ==",
            "url": "https://api.github.com/repos/neovim/pynvim/labels/question"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/pynvim/issues/416/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU1MjQ0ODU3OTc=",
    "number": 416,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/pynvim/issues/416/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/pynvim",
    "state": "closed",
    "state_reason": "completed",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/pynvim/issues/416/timeline",
    "title": "Test failures on OpenBSD",
    "type": null,
    "updated_at": "2026-02-06T13:31:48Z",
    "url": "https://api.github.com/repos/neovim/pynvim/issues/416",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/604955?v=4",
        "events_url": "https://api.github.com/users/vext01/events{/privacy}",
        "followers_url": "https://api.github.com/users/vext01/followers",
        "following_url": "https://api.github.com/users/vext01/following{/other_user}",
        "gists_url": "https://api.github.com/users/vext01/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/vext01",
        "id": 604955,
        "login": "vext01",
        "node_id": "MDQ6VXNlcjYwNDk1NQ==",
        "organizations_url": "https://api.github.com/users/vext01/orgs",
        "received_events_url": "https://api.github.com/users/vext01/received_events",
        "repos_url": "https://api.github.com/users/vext01/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/vext01/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/vext01/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/vext01",
        "user_view_type": "public"
    }
}