{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "I don't know if it's related to __go-client__ or __neovim__, so I'm sorry if it's off-topic.\n\nI'm trying to add support for proportional fonts to [goneovim](https://github.com/akiyosi/goneovim), and I feel like it would be great if the GUI client could have a direct access to the function [win_col_off](https://github.com/neovim/neovim/blob/master/src/nvim/move.c#L770), which returns the actual width of the gutter containing sign columns and line numbers.\nAs now, goneovim uses the highlights groups names of the cells to identify when the gutter stops, but having this information directly would make easier to draw separately the gutter and the buffer.\nFor proportional fonts, it would make easier to align the content of the buffer.\n\n(It's related to #17229, but I think that having to call the `getwininfo` function to get its `textoff` fields is a bit complicated, when a direct call to `win_col_off` using the window id could be easily added..?)",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "> having to call the `getwininfo` function to get its `textoff` fields is a bit complicated, when a direct call to `win_col_off` using the window id could be easily added..?)\n\n? show code examples",
            "created_at": "2025-06-23T08:28:14Z",
            "html_url": "https://github.com/neovim/go-client/issues/186#issuecomment-2995446228",
            "id": 2995446228,
            "issue_url": "https://api.github.com/repos/neovim/go-client/issues/186",
            "node_id": "IC_kwDOAZWux86yiuHU",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/go-client/issues/comments/2995446228/reactions"
            },
            "updated_at": "2025-06-23T08:28:14Z",
            "url": "https://api.github.com/repos/neovim/go-client/issues/comments/2995446228",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "@justinmk \nFirst of all, I'm sorry if it's just me having not understood something, which I believe is the case. I've read many times the UI page and some of the source code of other GUIs but I'm sure I haven't understand all the thing. Sorry, I probably should have waited and studied/tried more before posting (twice). Plus, I have no real formation in programming (but I don't use AI, I really learn), that's why I try so much to add support for proportional fonts.\n\nI thought that API function were more available for GUI than other functions, e.g. using Go-Client, because they are defined in `api_def.go` and then generated to `api.go`, while other functions aren't. So I thought there was an advantage for the GUI to use the Go method `Nvim.WindowPosition(...)`, instead of calling Vimscript functions. I did wish there was a similar way to get the buffer offset, since it's required to draw the buffer content when using a proportional font (thus its required frequently), or when drawing the sign/numbercolumn separately than the buffer content (which Goneovim does in some cases). The fact that no GUI seems to call `getwininfo` made me believe that is was uncallable in an easy and performant way (maybe they just don't need it).\n\nThat's why on the [PR](https://github.com/neovim/neovim/pull/13931) you commented too, I said it would be great to have the textoff as an API function: I understood how to add an API function in Go-Client, and how it's easily callable. What I did think was something like:\n\n```go\nwinColOff, err := nvim.WindowColOff(window)\n\n// similar to:\npos,       err := nvim.WindowPosition(window)\nwinConfig, err := nvim.WindowConfig(window)\n```\n\nI get the `getwininfo` output this way (I have to admit it's not really \"complicated\"): \n\n ```go\nvar output interface{}\nerr := nvim.Call(\"getwininfo\", &output, window)\nif err != nil {\n    // ...\n}\n\n// I could probably also do:\nerr := vim.ExecLua(\"return vim.fn.getwininfo(...)\", &output, window)\n// ...\n```\n\nWhat I need is in the result, but after some times it leads to lags and eventually to non-responding state: I thought it was because I call it too often (but cannot call it less, since the offset can change all the time). But now, I think I've actually identified the issue I was encountering. So if you think that this is not desirable/useful to add such an API function, I think the issue can be closed. Sorry again (also for my english).\n",
            "created_at": "2025-06-23T10:05:58Z",
            "html_url": "https://github.com/neovim/go-client/issues/186#issuecomment-2995788669",
            "id": 2995788669,
            "issue_url": "https://api.github.com/repos/neovim/go-client/issues/186",
            "node_id": "IC_kwDOAZWux86ykBt9",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/go-client/issues/comments/2995788669/reactions"
            },
            "updated_at": "2025-06-23T10:06:17Z",
            "url": "https://api.github.com/repos/neovim/go-client/issues/comments/2995788669",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/109964512?v=4",
                "events_url": "https://api.github.com/users/thjbdvlt/events{/privacy}",
                "followers_url": "https://api.github.com/users/thjbdvlt/followers",
                "following_url": "https://api.github.com/users/thjbdvlt/following{/other_user}",
                "gists_url": "https://api.github.com/users/thjbdvlt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/thjbdvlt",
                "id": 109964512,
                "login": "thjbdvlt",
                "node_id": "U_kgDOBo3s4A",
                "organizations_url": "https://api.github.com/users/thjbdvlt/orgs",
                "received_events_url": "https://api.github.com/users/thjbdvlt/received_events",
                "repos_url": "https://api.github.com/users/thjbdvlt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/thjbdvlt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/thjbdvlt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/thjbdvlt",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/neovim/go-client/issues/186/comments",
    "created_at": "2025-06-19T16:21:23Z",
    "events_url": "https://api.github.com/repos/neovim/go-client/issues/186/events",
    "html_url": "https://github.com/neovim/go-client/issues/186",
    "id": 3160846005,
    "labels": [],
    "labels_url": "https://api.github.com/repos/neovim/go-client/issues/186/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAZWux868Zq61",
    "number": 186,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/go-client/issues/186/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/go-client",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/go-client/issues/186/timeline",
    "title": "[Enhancement] Add direct access to `win_col_off`",
    "type": null,
    "updated_at": "2025-06-23T10:06:17Z",
    "url": "https://api.github.com/repos/neovim/go-client/issues/186",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/109964512?v=4",
        "events_url": "https://api.github.com/users/thjbdvlt/events{/privacy}",
        "followers_url": "https://api.github.com/users/thjbdvlt/followers",
        "following_url": "https://api.github.com/users/thjbdvlt/following{/other_user}",
        "gists_url": "https://api.github.com/users/thjbdvlt/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/thjbdvlt",
        "id": 109964512,
        "login": "thjbdvlt",
        "node_id": "U_kgDOBo3s4A",
        "organizations_url": "https://api.github.com/users/thjbdvlt/orgs",
        "received_events_url": "https://api.github.com/users/thjbdvlt/received_events",
        "repos_url": "https://api.github.com/users/thjbdvlt/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/thjbdvlt/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/thjbdvlt/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/thjbdvlt",
        "user_view_type": "public"
    }
}