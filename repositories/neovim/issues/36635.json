{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nBit of a weird title but I thought it would be interesting to flag up how setting `$TERM` manually on Windows using,\n```powershell\n$env:TERM = \"xterm-256-color\"\n```\nin PowerShell, fixes my issue here (https://github.com/OXY2DEV/markview.nvim/issues/446). If you don't set this variable then when executing `:echo $TERM` in Neovim it returns nothing. \n\nSee [here](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_environment_variables?view=powershell-7.5#terminal-features) in the Microsoft docs for how the `TERM` variable is used.\n\nI believe this issue here (https://github.com/neovim/neovim/issues/26221) is related. Maybe setting this environment variable could be a temporary fix until that issue gets fixed on both the dependency and Neovim itself? Is there something that should be done to prevent this from being necessary? Should this be a part of the Neovim install process or does it a signify a more complex problem like the one I linked in this paragraph? Please let me know of your thoughts!\n\n### Steps to reproduce\n\n1. Open Neovim in Windows Terminal using Powershell\n2. Run `:echo $TERM`.\n\n### Expected behavior\n\nFor `xterm-256color` to be outputted.\n\n### Nvim version (nvim -v)\n\n0.11.5\n\n### Vim (not Nvim) behaves the same?\n\nyes, 9.1.1825\n\n### Operating system/version\n\nWindows 11\n\n### Terminal name/version\n\nWindows Terminal\n\n### $TERM environment variable\n\nblank\n\n### Installation\n\nwinget",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "> See [here](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_environment_variables?view=powershell-7.5#terminal-features) in the Microsoft docs for how the `TERM` variable is used.\n\nThat only affects how powershell commands decide to output stuff. Powershell is unrelated. \n\nWhat matters is the terminal that powershell is running in (Windows Terminal in your case).\n\n\n\n> Maybe setting this environment variable could be a temporary fix\n\nCheck `:echo &term`, currently it defaults to ~~\"ansi\"~~ \"vtpcon\" if TERM is not set. \n\nIf we detect Windows Terminal we should definitely default to something like `xterm-256color` instead, and perhaps it also makes sense to set `$TERM` (though, Windows Terminal or your shell config are expected to do that).\n\nNote that #26221 is related, but it may be outdated since it's now possible to build without unibilium:\n\n```\nmake distclean\nmake CMAKE_BUILD_TYPE=Release CMAKE_EXTRA_FLAGS=\"-DENABLE_UNIBILIUM=0\" BUNDLED_CMAKE_FLAG=\"-DUSE_BUNDLED_UNIBILIUM=0\"\nsudo make install\n```\n\nIf you can build latest master, try the above. \n\nThough in any case, changing the default `&term` and `$TERM` likely still makes sense, if we can detect Windows Terminal (as opposed to Console/cmd.exe).",
            "created_at": "2025-11-20T23:06:26Z",
            "html_url": "https://github.com/neovim/neovim/issues/36635#issuecomment-3560531916",
            "id": 3560531916,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36635",
            "node_id": "IC_kwDOAPphoM7UOWfM",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3560531916/reactions"
            },
            "updated_at": "2025-11-21T00:00:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3560531916",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Latest Windows Terminal Canary and Neovim HEAD reports 'vtpcon' for me. Not sure how OP got 'ansi', can you give us more details about your setup and minimal reproducible script please? \n\nBTW you put down that it is a problem in Vim too, but since Vim 9.0.something it should default to using Vim's builtin 'win32' for `&term`, I've tried both 'ansi' and 'xterm' on WT and they both break things and leave you with unusable terminal until you do `:set term=win32` again, so i'm not sure how you are getting `set term=xterm-256color` on Windows Terminal powershell/pwsh/cmd to work.\n\nEdit: rereading your post I realized you were talking about setting $TERM outside of Vim/Nvim (in profile.ps1 or something?) and not in your vim/nvim init file.",
            "created_at": "2025-11-20T23:43:18Z",
            "html_url": "https://github.com/neovim/neovim/issues/36635#issuecomment-3560664733",
            "id": 3560664733,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36635",
            "node_id": "IC_kwDOAPphoM7UO26d",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3560664733/reactions"
            },
            "updated_at": "2025-11-21T17:23:30Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3560664733",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7416158?v=4",
                "events_url": "https://api.github.com/users/craigmac/events{/privacy}",
                "followers_url": "https://api.github.com/users/craigmac/followers",
                "following_url": "https://api.github.com/users/craigmac/following{/other_user}",
                "gists_url": "https://api.github.com/users/craigmac/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/craigmac",
                "id": 7416158,
                "login": "craigmac",
                "node_id": "MDQ6VXNlcjc0MTYxNTg=",
                "organizations_url": "https://api.github.com/users/craigmac/orgs",
                "received_events_url": "https://api.github.com/users/craigmac/received_events",
                "repos_url": "https://api.github.com/users/craigmac/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/craigmac/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/craigmac/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/craigmac",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "ignore what i said about \"ansi\", i was testing on non-Windows and forgot about \"vtpcon\".\n\n\n> not sure how you are getting `set term=xterm-256color` on Windows\n\n`$TERM` and `&term` are separate",
            "created_at": "2025-11-21T00:00:57Z",
            "html_url": "https://github.com/neovim/neovim/issues/36635#issuecomment-3560705724",
            "id": 3560705724,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36635",
            "node_id": "IC_kwDOAPphoM7UPA68",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3560705724/reactions"
            },
            "updated_at": "2025-11-21T17:23:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3560705724",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> Edit: rereading your post I realized you were talking about setting $TERM outside of Vim/Nvim (in profile.ps1 or something?) and not in your vim/nvim init file.\n\nYes, I'm referring to setting it in your Windows environment variables.\n",
            "created_at": "2025-11-21T13:23:06Z",
            "html_url": "https://github.com/neovim/neovim/issues/36635#issuecomment-3563017748",
            "id": 3563017748,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36635",
            "node_id": "IC_kwDOAPphoM7UX1YU",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3563017748/reactions"
            },
            "updated_at": "2025-11-21T17:23:39Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3563017748",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/79522843?v=4",
                "events_url": "https://api.github.com/users/ymich9963/events{/privacy}",
                "followers_url": "https://api.github.com/users/ymich9963/followers",
                "following_url": "https://api.github.com/users/ymich9963/following{/other_user}",
                "gists_url": "https://api.github.com/users/ymich9963/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ymich9963",
                "id": 79522843,
                "login": "ymich9963",
                "node_id": "MDQ6VXNlcjc5NTIyODQz",
                "organizations_url": "https://api.github.com/users/ymich9963/orgs",
                "received_events_url": "https://api.github.com/users/ymich9963/received_events",
                "repos_url": "https://api.github.com/users/ymich9963/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ymich9963/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ymich9963/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ymich9963",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> Check `:echo &term`, currently it defaults to ~\"ansi\"~ \"vtpcon\" if TERM is not set.\n\nIndeed it outputs `builtin_vtpcon`. \n\n> Though in any case, changing the default &term and $TERM likely still makes sense, if we can detect Windows Terminal (as opposed to Console/cmd.exe).\n\nIt can detect if it's a valid Windows Terminal session if `WT_SESSION` is set. See `:echo $WT_SESSION` when using Neovim from a Windows Terminal.\n\n",
            "created_at": "2025-11-21T13:34:05Z",
            "html_url": "https://github.com/neovim/neovim/issues/36635#issuecomment-3563057595",
            "id": 3563057595,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36635",
            "node_id": "IC_kwDOAPphoM7UX_G7",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3563057595/reactions"
            },
            "updated_at": "2025-11-21T13:34:05Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3563057595",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/79522843?v=4",
                "events_url": "https://api.github.com/users/ymich9963/events{/privacy}",
                "followers_url": "https://api.github.com/users/ymich9963/followers",
                "following_url": "https://api.github.com/users/ymich9963/following{/other_user}",
                "gists_url": "https://api.github.com/users/ymich9963/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ymich9963",
                "id": 79522843,
                "login": "ymich9963",
                "node_id": "MDQ6VXNlcjc5NTIyODQz",
                "organizations_url": "https://api.github.com/users/ymich9963/orgs",
                "received_events_url": "https://api.github.com/users/ymich9963/received_events",
                "repos_url": "https://api.github.com/users/ymich9963/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ymich9963/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ymich9963/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ymich9963",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I glanced at https://github.com/OXY2DEV/markview.nvim/issues/446 , where you mention that strikethrough works if `TERM=xterm-256color` is set.\n\nThat does not mean we should force `TERM` on Windows, it means that in `tui.c` or `terminfo_builtin.h`, we are not enabling some feature for `vtpcon` but we should.",
            "created_at": "2025-11-21T17:23:42Z",
            "html_url": "https://github.com/neovim/neovim/issues/36635#issuecomment-3563975681",
            "id": 3563975681,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36635",
            "node_id": "IC_kwDOAPphoM7UbfQB",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3563975681/reactions"
            },
            "updated_at": "2025-11-21T17:24:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3563975681",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 6,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/36635/comments",
    "created_at": "2025-11-20T13:07:43Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/36635/events",
    "html_url": "https://github.com/neovim/neovim/issues/36635",
    "id": 3647216319,
    "issue_dependencies_summary": {
        "blocked_by": 0,
        "blocking": 0,
        "total_blocked_by": 0,
        "total_blocking": 0
    },
    "labels": [
        {
            "color": "d4c5f9",
            "default": false,
            "description": null,
            "id": 109461219,
            "name": "platform:windows",
            "node_id": "MDU6TGFiZWwxMDk0NjEyMTk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/platform:windows"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "termcodes, terminfo, termcap",
            "id": 197254545,
            "name": "tui",
            "node_id": "MDU6TGFiZWwxOTcyNTQ1NDU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/tui"
        },
        {
            "color": "BFDADC",
            "default": false,
            "description": "Low-risk, self-contained. Do NOT ask \"can I work on this\", just read CONTRIBUTING.md",
            "id": 407246773,
            "name": "complexity:low",
            "node_id": "MDU6TGFiZWw0MDcyNDY3NzM=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/complexity:low"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/36635/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 753,
        "created_at": "2014-05-10T20:43:04Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "Low priority items. We plan to work on this but don't have a target date.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/6",
        "id": 655037,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lNjU1MDM3",
        "number": 6,
        "open_issues": 642,
        "state": "open",
        "title": "backlog",
        "updated_at": "2025-11-25T01:11:18Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/6"
    },
    "node_id": "I_kwDOAPphoM7ZZBq_",
    "number": 36635,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/36635/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/36635/timeline",
    "title": "Windows: strikethrough not enabled in vtpcon unless TERM=xterm-256color",
    "type": {
        "color": "red",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "An unexpected problem or behavior",
        "id": 597163,
        "is_enabled": true,
        "name": "Bug",
        "node_id": "IT_kwDOAGK_Pc4ACRyr",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-11-21T17:24:00Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/36635",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/79522843?v=4",
        "events_url": "https://api.github.com/users/ymich9963/events{/privacy}",
        "followers_url": "https://api.github.com/users/ymich9963/followers",
        "following_url": "https://api.github.com/users/ymich9963/following{/other_user}",
        "gists_url": "https://api.github.com/users/ymich9963/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/ymich9963",
        "id": 79522843,
        "login": "ymich9963",
        "node_id": "MDQ6VXNlcjc5NTIyODQz",
        "organizations_url": "https://api.github.com/users/ymich9963/orgs",
        "received_events_url": "https://api.github.com/users/ymich9963/received_events",
        "repos_url": "https://api.github.com/users/ymich9963/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/ymich9963/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ymich9963/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/ymich9963",
        "user_view_type": "public"
    }
}