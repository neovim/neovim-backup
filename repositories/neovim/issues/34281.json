{
    "active_lock_reason": null,
    "assignee": {
        "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
        "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
        "followers_url": "https://api.github.com/users/luukvbaal/followers",
        "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
        "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/luukvbaal",
        "id": 31730729,
        "login": "luukvbaal",
        "node_id": "MDQ6VXNlcjMxNzMwNzI5",
        "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
        "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
        "repos_url": "https://api.github.com/users/luukvbaal/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/luukvbaal",
        "user_view_type": "public"
    },
    "assignees": [
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
            "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
            "followers_url": "https://api.github.com/users/luukvbaal/followers",
            "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
            "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/luukvbaal",
            "id": 31730729,
            "login": "luukvbaal",
            "node_id": "MDQ6VXNlcjMxNzMwNzI5",
            "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
            "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
            "repos_url": "https://api.github.com/users/luukvbaal/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/luukvbaal",
            "user_view_type": "public"
        }
    ],
    "author_association": "MEMBER",
    "body": "## Problem\n\nCurrently (with `require('vim._extui').enable({})`), there are still many cases where user now has to press \"q\", and we need to avoid those aggressively.\n\nThe Big Unlock of https://github.com/neovim/neovim/issues/27811 is to avoid press-enter. That also means avoiding \"press q\". \n\nKey idea: no press-enter/press-q for mappings or commands, ever. Users that don't like this can enable the legacy press-enter behavior (which we can emulate with `vim._extui`, to a reasonable extent, at low cost).\n\n## Expected behavior\n\nFor all kinds of \"pager\" output, the user should never get trapped in the pager (the \"more\" window). We can address this in phases, as follows. As we discover problems with each stage, we can move to the next stage.\n\n### Phase 1\n\nThe pager should never be \"focused\" unless the user requests it via `g<`. Users need to get used to hitting `g<` to activate the pager. This includes all non-input message kinds, including `shell_cmd`, etc.\n\nFor example: when I use vim-fugitive `:Git commit`, I shouldn't have to exit the shell output. \n\n### Phase 2\n\nIntroduce a `'messagesheight'` (`'pagerheight'`?) option, instead of `'cmdheight'`. This controls the maximum height of text shown by default. The pager is still never focused by default, but output is shown up to 'messagesheight' and may overlay the current buffer. \n\n- The user cursor position remains in whatever buffer they were in when they invoked a mapping/command that triggered output. \n- The pager disappears on any kind of user input. It is not timer-based.\n\nAs always, if 'messagesheight' didn't show enough, the user hits `g<` to opt-in to the full pager.\n\n### Phase 3\n\nWe may want to special-case \"interactive\" commands that were invoked via the `:` cmdline. Maybe it's expected and more ergonomic that `g<` is not required here. I hope we can avoid this, but we can consider this if necessary. This approach won't help users that are using third-party command-invocation plugins (but those plugins can easily call `g<` by default).",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Thanks for writing this up.\n\nWe already had a mini phase 1 which led to people suggesting typed commands should always be routed to the more window (if they exceed 'cmdheight'). That and `list_cmd` kinds are the only messages that currently open the more window:\nhttps://github.com/neovim/neovim/blob/963308439a5dff5a55b837c74d0a50c2c069ae23/runtime/lua/vim/_extui/messages.lua#L363-L365\n\n> For example: when I use vim-fugitive :Git commit, I shouldn't have to exit the shell output.\n\nYeah this is unfortunate. The typed command detection would have to somehow exclude invoked plugin commands that emit messages using those \"inspection\" kinds. Only if the user types a command that directly emits a message should this happen.",
            "created_at": "2025-06-02T14:01:19Z",
            "html_url": "https://github.com/neovim/neovim/issues/34281#issuecomment-2930879328",
            "id": 2930879328,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34281",
            "node_id": "IC_kwDOAPphoM6usatg",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2930879328/reactions"
            },
            "updated_at": "2025-06-02T14:01:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2930879328",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Key idea: no press-enter/press-q for mappings or commands, ever. Users that don't like this can enable the legacy press-enter behavior (which we can emulate with vim._extui, to a reasonable extent, at low cost).\n\nBut if I do `:Inspect`, I _want_ the output, and I want it to remain visible until _I_ say so. So we can't just kill _all_ \"press foo\" prompts. \n\n> Users need to get used to hitting g< to activate the pager\n\nAbsolutely not; now things that were one keystroke become three. That just replaced \"kill press enter\" with \"kill press g<\".\n\n> Introduce a 'messagesheight' \n\nWe already tried this; this is a poor heuristic.\n\nWhat we do need is smarter routing, with per-command behavior opt-in/out if necessary.",
            "created_at": "2025-06-02T14:04:45Z",
            "html_url": "https://github.com/neovim/neovim/issues/34281#issuecomment-2930892712",
            "id": 2930892712,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34281",
            "node_id": "IC_kwDOAPphoM6usd-o",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 4,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 4,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2930892712/reactions"
            },
            "updated_at": "2025-06-02T14:08:30Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2930892712",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> But if I do `:Inspect`, I _want_ the output, and I want it to remain visible until _I_ say so. So we can't just kill _all_ \"press foo\" prompts.\n\nIn Phase 1, it will stay visible until you send input. And if that's not good enough, Phase 3 is a potential answer, since `:Inspect` is \"interactive cmdline\".\n\n> That just replaced \"kill press enter\" with \"kill press g<\".\n\nYes, because opt-in here is a high-leverage tradeoff.\n\nTrying to route stuff \"smartly\" won't work because plugins do arbitrary things. The phases outlined here allow us to discover the size of the problem at each stage. ",
            "created_at": "2025-06-02T14:15:51Z",
            "html_url": "https://github.com/neovim/neovim/issues/34281#issuecomment-2930943334",
            "id": 2930943334,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34281",
            "node_id": "IC_kwDOAPphoM6usqVm",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 4,
                "-1": 3,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 7,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2930943334/reactions"
            },
            "updated_at": "2025-06-02T14:18:42Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2930943334",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> unless the user requests it via `g<`. \n\nAnd mouse-click and window movement? ðŸ˜‡ If I am in the currently single open window and the more window comes up, I want to be able to press `<C-w>j` to go down to the pager window. The whole idea was that the pager would act more like a normal window right?",
            "created_at": "2025-06-02T15:24:35Z",
            "html_url": "https://github.com/neovim/neovim/issues/34281#issuecomment-2931247772",
            "id": 2931247772,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34281",
            "node_id": "IC_kwDOAPphoM6ut0qc",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2931247772/reactions"
            },
            "updated_at": "2025-06-02T15:24:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2931247772",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
                "events_url": "https://api.github.com/users/yochem/events{/privacy}",
                "followers_url": "https://api.github.com/users/yochem/followers",
                "following_url": "https://api.github.com/users/yochem/following{/other_user}",
                "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/yochem",
                "id": 23235841,
                "login": "yochem",
                "node_id": "MDQ6VXNlcjIzMjM1ODQx",
                "organizations_url": "https://api.github.com/users/yochem/orgs",
                "received_events_url": "https://api.github.com/users/yochem/received_events",
                "repos_url": "https://api.github.com/users/yochem/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/yochem",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> I want to be able to press `<C-w>j` to go down to the pager window.\n\nuse `g<`\n\n> The whole idea was that the pager would act more like a normal window right?\n\nno. it is a normal window, but some small differences are required no matter which approach is taken.",
            "created_at": "2025-06-02T16:18:22Z",
            "html_url": "https://github.com/neovim/neovim/issues/34281#issuecomment-2931453060",
            "id": 2931453060,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34281",
            "node_id": "IC_kwDOAPphoM6uumyE",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2931453060/reactions"
            },
            "updated_at": "2025-06-02T16:19:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2931453060",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> The pager should never be \"focused\" unless\n\nIf it is not focused, then to close the more window, users have to type `g<q`?",
            "created_at": "2025-06-03T09:14:16Z",
            "html_url": "https://github.com/neovim/neovim/issues/34281#issuecomment-2934287815",
            "id": 2934287815,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34281",
            "node_id": "IC_kwDOAPphoM6u5a3H",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2934287815/reactions"
            },
            "updated_at": "2025-06-05T07:28:31Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2934287815",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/111893501?v=4",
                "events_url": "https://api.github.com/users/brianhuster/events{/privacy}",
                "followers_url": "https://api.github.com/users/brianhuster/followers",
                "following_url": "https://api.github.com/users/brianhuster/following{/other_user}",
                "gists_url": "https://api.github.com/users/brianhuster/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/brianhuster",
                "id": 111893501,
                "login": "brianhuster",
                "node_id": "U_kgDOBqtb_Q",
                "organizations_url": "https://api.github.com/users/brianhuster/orgs",
                "received_events_url": "https://api.github.com/users/brianhuster/received_events",
                "repos_url": "https://api.github.com/users/brianhuster/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/brianhuster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/brianhuster/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/brianhuster",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@brianhuster:\n\n> In Phase 1, it will stay visible until you send input.\n\nThus any keypress that is not `g<` will close the more window. ",
            "created_at": "2025-06-03T12:17:24Z",
            "html_url": "https://github.com/neovim/neovim/issues/34281#issuecomment-2934965938",
            "id": 2934965938,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34281",
            "node_id": "IC_kwDOAPphoM6u8Aay",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 2,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2934965938/reactions"
            },
            "updated_at": "2025-06-03T12:19:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2934965938",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
                "events_url": "https://api.github.com/users/yochem/events{/privacy}",
                "followers_url": "https://api.github.com/users/yochem/followers",
                "following_url": "https://api.github.com/users/yochem/following{/other_user}",
                "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/yochem",
                "id": 23235841,
                "login": "yochem",
                "node_id": "MDQ6VXNlcjIzMjM1ODQx",
                "organizations_url": "https://api.github.com/users/yochem/orgs",
                "received_events_url": "https://api.github.com/users/yochem/received_events",
                "repos_url": "https://api.github.com/users/yochem/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/yochem",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 7,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/34281/comments",
    "created_at": "2025-06-02T13:22:47Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/34281/events",
    "html_url": "https://github.com/neovim/neovim/issues/34281",
    "id": 3110178455,
    "labels": [
        {
            "color": "C5DEF5",
            "default": false,
            "description": "UI messages, log messages, errors, warnings, feedback",
            "id": 5637083595,
            "name": "messages",
            "node_id": "LA_kwDOAPphoM8AAAABT_8Ryw",
            "url": "https://api.github.com/repos/neovim/neovim/labels/messages"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/34281/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM65YY6X",
    "number": 34281,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 8,
        "-1": 1,
        "confused": 0,
        "eyes": 0,
        "heart": 2,
        "hooray": 2,
        "laugh": 0,
        "rocket": 2,
        "total_count": 15,
        "url": "https://api.github.com/repos/neovim/neovim/issues/34281/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/34281/timeline",
    "title": "no press-enter, no press-q",
    "type": {
        "color": "blue",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "A request, idea, or new functionality",
        "id": 597167,
        "is_enabled": true,
        "name": "Enhancement",
        "node_id": "IT_kwDOAGK_Pc4ACRyv",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-06-05T07:28:32Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/34281",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
        "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
        "followers_url": "https://api.github.com/users/justinmk/followers",
        "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
        "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/justinmk",
        "id": 1359421,
        "login": "justinmk",
        "node_id": "MDQ6VXNlcjEzNTk0MjE=",
        "organizations_url": "https://api.github.com/users/justinmk/orgs",
        "received_events_url": "https://api.github.com/users/justinmk/received_events",
        "repos_url": "https://api.github.com/users/justinmk/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/justinmk",
        "user_view_type": "public"
    }
}