{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nWhen cmdheight=0, a search (e.g. either `/` or `n`) that yields no results will trigger a \"Pattern not found\" and then a \"Press ENTER or...\" in the message box, which is kind of annoying.  Thus I think we need an option to suppress \"Pattern not found\" when a search yields no results.  I have highlighting of matches turned on, so I know when a search yields results visually, and thus I also know when it does not; I don't need an additional message telling me so in the message box anyway.\r\n\r\nI did some searching and vim does not seem to want to implement this (see https://github.com/vim/vim/issues/11530).  An apparently the `shortmess+=c` does not apply to regular searches.\n\n### Expected behavior\n\nWhen the \"Pattern not found\" message is disabled then searching for something that yields no results should cause no visual changes.",
    "closed_at": null,
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
        "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
        "followers_url": "https://api.github.com/users/justinmk/followers",
        "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
        "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/justinmk",
        "id": 1359421,
        "login": "justinmk",
        "node_id": "MDQ6VXNlcjEzNTk0MjE=",
        "organizations_url": "https://api.github.com/users/justinmk/orgs",
        "received_events_url": "https://api.github.com/users/justinmk/received_events",
        "repos_url": "https://api.github.com/users/justinmk/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/justinmk",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "Here's what I'm doing as a workaround:\r\n```lua\r\nlocal function norm_unmapped( c )\r\n  return vim.cmd{ cmd='norm', args={c}, bang=true }\r\nend\r\n\r\nvim.keymap.set( 'n', 'n', function() pcall( norm_unmapped, 'n' ) end )\r\nvim.keymap.set( 'n', 'N', function() pcall( norm_unmapped, 'N' ) end )\r\nvim.cmd[[nnoremap / :silent! /]]\r\n```\r\nbut this seems kind of hacky, and it may well cause side effects that I'm not aware of yet.  Btw, how would one do that last line in pure Lua?  Would be nicer just to have an option to disable that particular error to begin with.",
            "created_at": "2023-06-19T02:42:18Z",
            "html_url": "https://github.com/neovim/neovim/issues/24059#issuecomment-1596407082",
            "id": 1596407082,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24059",
            "node_id": "IC_kwDOAPphoM5fJz0q",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1596407082/reactions"
            },
            "updated_at": "2023-06-19T02:42:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1596407082",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8852457?v=4",
                "events_url": "https://api.github.com/users/no-more-secrets/events{/privacy}",
                "followers_url": "https://api.github.com/users/no-more-secrets/followers",
                "following_url": "https://api.github.com/users/no-more-secrets/following{/other_user}",
                "gists_url": "https://api.github.com/users/no-more-secrets/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/no-more-secrets",
                "id": 8852457,
                "login": "no-more-secrets",
                "node_id": "MDQ6VXNlcjg4NTI0NTc=",
                "organizations_url": "https://api.github.com/users/no-more-secrets/orgs",
                "received_events_url": "https://api.github.com/users/no-more-secrets/received_events",
                "repos_url": "https://api.github.com/users/no-more-secrets/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/no-more-secrets/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/no-more-secrets/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/no-more-secrets",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Another option might be that the error message continues to show, but when cmdheight=0, it just shows temporarily then goes away (I think there are other cases where that happens).",
            "created_at": "2023-06-19T02:43:29Z",
            "html_url": "https://github.com/neovim/neovim/issues/24059#issuecomment-1596409154",
            "id": 1596409154,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24059",
            "node_id": "IC_kwDOAPphoM5fJ0VC",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1596409154/reactions"
            },
            "updated_at": "2023-06-19T02:43:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1596409154",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8852457?v=4",
                "events_url": "https://api.github.com/users/no-more-secrets/events{/privacy}",
                "followers_url": "https://api.github.com/users/no-more-secrets/followers",
                "following_url": "https://api.github.com/users/no-more-secrets/following{/other_user}",
                "gists_url": "https://api.github.com/users/no-more-secrets/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/no-more-secrets",
                "id": 8852457,
                "login": "no-more-secrets",
                "node_id": "MDQ6VXNlcjg4NTI0NTc=",
                "organizations_url": "https://api.github.com/users/no-more-secrets/orgs",
                "received_events_url": "https://api.github.com/users/no-more-secrets/received_events",
                "repos_url": "https://api.github.com/users/no-more-secrets/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/no-more-secrets/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/no-more-secrets/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/no-more-secrets",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "`shortmess=s` could be extended to do this, would need to see if there are objections.\r\n\r\n> When cmdheight=0, a search (e.g. either `/` or `n`) that yields no results will trigger a \"Pattern not found\" and then a \"Press ENTER or...\" in the message box, which is kind of annoying.\r\n\r\nThat is something that needs to be solved by `cmdheight=0` in general. Not by various workarounds.\r\n\r\nProbably the implementation of vim's `:echowindow` (currently missing in Nvim) could be re-used to ensure that press-enter prompt is never shown for `cmdheight=0`.\r\n\r\n",
            "created_at": "2023-06-19T07:21:28Z",
            "html_url": "https://github.com/neovim/neovim/issues/24059#issuecomment-1596647449",
            "id": 1596647449,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24059",
            "node_id": "IC_kwDOAPphoM5fKugZ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1596647449/reactions"
            },
            "updated_at": "2023-06-19T07:21:28Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1596647449",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Turns out that my workaround above (for replacing the `/` command in particular):\r\n```lua\r\nvim.cmd[[nnoremap / :silent! /]]\r\n```\r\nbreaks incremental highlighting of search results.  In order to fix that I have implemented...\r\n```lua\r\n-- This monstrosity manually recreates the behavior of the de-\r\n-- fault / search command, with regard to incremental highlight-\r\n-- ing, cursor placement, and behavior upon cancelling out of the\r\n-- search before hitting enter.\r\n--\r\n-- It does this all this for the purpose of avoiding the error\r\n-- message that normally results when the search yields no\r\n-- results, which doesn't work well with cmdheight=0.\r\nlocal function search_cmd_with_manual_incsearch_highlight()\r\n  local function set_search( what )\r\n    vim.fn.setreg( '/', what )\r\n    vim.o.hls = true\r\n    vim.cmd[[redraw!]]\r\n  end\r\n  local GROUP = 'ManualIncSearch'\r\n  local old_search = vim.fn.getreg( '/' )\r\n  local old_v_hlsearch = vim.v.hlsearch\r\n  vim.api.nvim_create_autocmd( 'CmdLineChanged', {\r\n    group=vim.api.nvim_create_augroup( GROUP, { clear=true } ),\r\n    callback=function() set_search( vim.fn.getcmdline() ) end,\r\n  } )\r\n  local input = vim.fn.input( '/' )\r\n  vim.api.nvim_del_augroup_by_name( GROUP )\r\n  if #input > 0 then\r\n    set_search( input )\r\n    vim.cmd.normal( 'n' )\r\n    return\r\n  end\r\n  -- The search was cancelled, so try to restore the state to\r\n  -- what it was previously, both with regard to the search\r\n  -- phrase and whether highlighting was visible or not.\r\n  vim.fn.setreg( '/', old_search )\r\n  if old_v_hlsearch == 0 then\r\n    vim.cmd.nohlsearch()\r\n  else\r\n    vim.o.hls = true\r\n  end\r\n  vim.cmd[[redraw!]]\r\nend\r\n\r\nvim.keymap.set( 'n', '/', search_cmd_with_manual_incsearch_highlight, { silent=true } )\r\n```\r\nwhich is kind of unfortunate... perhaps the author of `cmdheight=0` could take a look at fixing this so that we don't need workarounds such as the one above.",
            "created_at": "2023-06-25T20:01:36Z",
            "html_url": "https://github.com/neovim/neovim/issues/24059#issuecomment-1606246391",
            "id": 1606246391,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24059",
            "node_id": "IC_kwDOAPphoM5fvV_3",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1606246391/reactions"
            },
            "updated_at": "2023-06-25T20:01:36Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1606246391",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8852457?v=4",
                "events_url": "https://api.github.com/users/no-more-secrets/events{/privacy}",
                "followers_url": "https://api.github.com/users/no-more-secrets/followers",
                "following_url": "https://api.github.com/users/no-more-secrets/following{/other_user}",
                "gists_url": "https://api.github.com/users/no-more-secrets/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/no-more-secrets",
                "id": 8852457,
                "login": "no-more-secrets",
                "node_id": "MDQ6VXNlcjg4NTI0NTc=",
                "organizations_url": "https://api.github.com/users/no-more-secrets/orgs",
                "received_events_url": "https://api.github.com/users/no-more-secrets/received_events",
                "repos_url": "https://api.github.com/users/no-more-secrets/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/no-more-secrets/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/no-more-secrets/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/no-more-secrets",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/24059/comments",
    "created_at": "2023-06-19T02:06:55Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/24059/events",
    "html_url": "https://github.com/neovim/neovim/issues/24059",
    "id": 1762596331,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "feature request",
            "id": 77997476,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Ng==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/enhancement"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "UI messages, log messages, errors, warnings, feedback",
            "id": 5637083595,
            "name": "messages",
            "node_id": "LA_kwDOAPphoM8AAAABT_8Ryw",
            "url": "https://api.github.com/repos/neovim/neovim/labels/messages"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/24059/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 260,
        "created_at": "2014-11-26T22:13:11Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "We don't plan to work on this, but will accept high quality contributions from someone who will own the feature and follow up on bug reports.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/9",
        "id": 881978,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/9/labels",
        "node_id": "MDk6TWlsZXN0b25lODgxOTc4",
        "number": 9,
        "open_issues": 297,
        "state": "open",
        "title": "needs-owner",
        "updated_at": "2025-01-20T17:56:23Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/9"
    },
    "node_id": "I_kwDOAPphoM5pDxXr",
    "number": 24059,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 7,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 7,
        "url": "https://api.github.com/repos/neovim/neovim/issues/24059/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": "reopened",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/24059/timeline",
    "title": "suppress \"Pattern not found\" when a search yields no results",
    "updated_at": "2025-01-17T15:30:44Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/24059",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/8852457?v=4",
        "events_url": "https://api.github.com/users/no-more-secrets/events{/privacy}",
        "followers_url": "https://api.github.com/users/no-more-secrets/followers",
        "following_url": "https://api.github.com/users/no-more-secrets/following{/other_user}",
        "gists_url": "https://api.github.com/users/no-more-secrets/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/no-more-secrets",
        "id": 8852457,
        "login": "no-more-secrets",
        "node_id": "MDQ6VXNlcjg4NTI0NTc=",
        "organizations_url": "https://api.github.com/users/no-more-secrets/orgs",
        "received_events_url": "https://api.github.com/users/no-more-secrets/received_events",
        "repos_url": "https://api.github.com/users/no-more-secrets/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/no-more-secrets/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/no-more-secrets/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/no-more-secrets",
        "user_view_type": "public"
    }
}