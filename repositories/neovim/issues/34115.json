{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nUsing the new experimental extui for cmdline/messages: \nWhen the new messages window is currently open, running `:messages clear` at the command line doesn't delete the contents of the messages buffer.  It does ultimately delete the message history (internally?), since if you close the messages window (`q`) and then reopen it (`:messages`) the buffer is now blank.\n\nWith the old vim/c `:messages`, if you are viewing the message history and then run  `:messages clear` while the messages window is open, it closes the messages window and deletes the history.\n\nMaybe it's not a bug and is rather intended behavior, but I expected the new implementation would clear the visible messages buffer as that would probably be the users intent.  However whether the window should close or not, I kind of prefer that it not.\n\n### :sparkling_heart: btw, I love the new extui!  Thank you for the great effort!  It's gonna replace a lot hackneyed messages-buffer solutions.  Now, if only vim would do the same :smirk:\n\n\ngifs for clarity:\n\n### old :messages\n\n![Image](https://github.com/user-attachments/assets/8cbebdf0-96b5-4005-8a90-2f5ef9dd74cb)\n\n### new :messages\n\n![Image](https://github.com/user-attachments/assets/0995cd68-006e-48bd-b3fd-4e8df28b8aa7)\n\n\n### Steps to reproduce\n\nmin_init.lua\n``` lua\nrequire('vim._extui').enable({\n\tenable = true, -- Whether to enable or disable the UI.\n\tmsg = { -- Options related to the message module.\n\t\t---@type 'box'|'cmd' Type of window used to place messages, either in the\n\t\t---cmdline or in a separate message box window with ephemeral messages.\n\t\tpos = 'cmd',\n\t}\n})\n```\n\nnvim --clean -u min_init.lua\n:echom 'message 1' | echom 'message 2' | echom 'message 3' | echom 'message 4'\n:mess clear\n\n### Expected behavior\n\nThe displayed messages buffer contents are deleted (whole buffer is blank).  Maybe leave the messages window open?\n\n### Nvim version (nvim -v)\n\nNightly: v0.12.0-dev-404+gdbe17da120\n\n### Vim (not Nvim) behaves the same?\n\nNA\n\n### Operating system/version\n\nWindows 11\n\n### Terminal name/version\n\nWindows Terminal\n\n### $TERM environment variable\n\nNA\n\n### Installation\n\nNightly releases bin",
    "closed_at": "2025-05-27T09:27:01Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
        "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
        "followers_url": "https://api.github.com/users/luukvbaal/followers",
        "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
        "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/luukvbaal",
        "id": 31730729,
        "login": "luukvbaal",
        "node_id": "MDQ6VXNlcjMxNzMwNzI5",
        "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
        "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
        "repos_url": "https://api.github.com/users/luukvbaal/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/luukvbaal",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "I'm not sure anything needs to change here. `:messages clear` clears the internal message history. Entering a command while the more-prompt is open closes the more prompt.\n\nWith the new extui the more window doesn't need to close when a command is entered, whether that command is `:messages clear` specifically seems irrelevant.\n\nIt's still a valid buffer that shows the message history as it was when it was opened. Likewise, the buffer is also not updated to show messages added to the history after it was opened.",
            "created_at": "2025-05-21T15:15:14Z",
            "html_url": "https://github.com/neovim/neovim/issues/34115#issuecomment-2898334377",
            "id": 2898334377,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34115",
            "node_id": "IC_kwDOAPphoM6swRKp",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2898334377/reactions"
            },
            "updated_at": "2025-05-21T15:22:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2898334377",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I see, perhaps I'm misusing it (or projecting my old `:Messages` hack/config usage pattern onto it).   So is the new messages window intended to be a kind of like a static view of the messages at time of opening the window?  Any chance it will evolve to be a \"live\" view of messages?",
            "created_at": "2025-05-21T15:30:55Z",
            "html_url": "https://github.com/neovim/neovim/issues/34115#issuecomment-2898387868",
            "id": 2898387868,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34115",
            "node_id": "IC_kwDOAPphoM6sweOc",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2898387868/reactions"
            },
            "updated_at": "2025-05-21T15:30:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2898387868",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/77601554?v=4",
                "events_url": "https://api.github.com/users/stringTrimmer/events{/privacy}",
                "followers_url": "https://api.github.com/users/stringTrimmer/followers",
                "following_url": "https://api.github.com/users/stringTrimmer/following{/other_user}",
                "gists_url": "https://api.github.com/users/stringTrimmer/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/stringTrimmer",
                "id": 77601554,
                "login": "stringTrimmer",
                "node_id": "MDQ6VXNlcjc3NjAxNTU0",
                "organizations_url": "https://api.github.com/users/stringTrimmer/orgs",
                "received_events_url": "https://api.github.com/users/stringTrimmer/received_events",
                "repos_url": "https://api.github.com/users/stringTrimmer/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/stringTrimmer/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/stringTrimmer/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/stringTrimmer",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Appending messages while the window is open is something that could be considered. Currently it just implements the `msg_history_show` UI event directly.\n\nClearing the window with `:messages clear` seems pointless to me, why not just close the window?",
            "created_at": "2025-05-21T16:49:47Z",
            "html_url": "https://github.com/neovim/neovim/issues/34115#issuecomment-2898613962",
            "id": 2898613962,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34115",
            "node_id": "IC_kwDOAPphoM6sxVbK",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2898613962/reactions"
            },
            "updated_at": "2025-05-21T16:49:47Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2898613962",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Sorry, I'm in a print-debugging mindset here.  Clearing the window with `:messages clear` (or some other command/keymap) makes more sense in an \"appending messages while the window is open\" mode.  For example, you might have the messages window sitting open waiting to see something, you clear out irrelevant history and then trigger whatever you are expecting to print to messages so only that appears in the window.  But that isn't supported yet, so yeah, probably pointless at this time.\n",
            "created_at": "2025-05-21T18:32:15Z",
            "html_url": "https://github.com/neovim/neovim/issues/34115#issuecomment-2898875309",
            "id": 2898875309,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34115",
            "node_id": "IC_kwDOAPphoM6syVOt",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2898875309/reactions"
            },
            "updated_at": "2025-05-21T18:32:15Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2898875309",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/77601554?v=4",
                "events_url": "https://api.github.com/users/stringTrimmer/events{/privacy}",
                "followers_url": "https://api.github.com/users/stringTrimmer/followers",
                "following_url": "https://api.github.com/users/stringTrimmer/following{/other_user}",
                "gists_url": "https://api.github.com/users/stringTrimmer/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/stringTrimmer",
                "id": 77601554,
                "login": "stringTrimmer",
                "node_id": "MDQ6VXNlcjc3NjAxNTU0",
                "organizations_url": "https://api.github.com/users/stringTrimmer/orgs",
                "received_events_url": "https://api.github.com/users/stringTrimmer/received_events",
                "repos_url": "https://api.github.com/users/stringTrimmer/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/stringTrimmer/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/stringTrimmer/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/stringTrimmer",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Any chance it will evolve to be a \"live\" view of messages?\n\n#34190 Implements this for new messages coming in while the \"more\" window is open. As said, `:messages clear` doesn't actually emit any UI event and just clears the internal message history so I'm marking that PR to resolve this issue.",
            "created_at": "2025-05-26T14:32:52Z",
            "html_url": "https://github.com/neovim/neovim/issues/34115#issuecomment-2909952325",
            "id": 2909952325,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34115",
            "node_id": "IC_kwDOAPphoM6tcllF",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2909952325/reactions"
            },
            "updated_at": "2025-05-26T14:32:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2909952325",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 5,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/34115/comments",
    "created_at": "2025-05-21T15:05:45Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/34115/events",
    "html_url": "https://github.com/neovim/neovim/issues/34115",
    "id": 3080558718,
    "labels": [
        {
            "color": "C5DEF5",
            "default": false,
            "description": "UI messages, log messages, errors, warnings, feedback",
            "id": 5637083595,
            "name": "messages",
            "node_id": "LA_kwDOAPphoM8AAAABT_8Ryw",
            "url": "https://api.github.com/repos/neovim/neovim/labels/messages"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/34115/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 280,
        "created_at": "2014-11-26T22:13:11Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "We don't plan to work on this, but will accept high quality contributions from someone who will own the feature and follow up on bug reports.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/9",
        "id": 881978,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/9/labels",
        "node_id": "MDk6TWlsZXN0b25lODgxOTc4",
        "number": 9,
        "open_issues": 325,
        "state": "open",
        "title": "needs-owner",
        "updated_at": "2025-06-02T23:00:27Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/9"
    },
    "node_id": "I_kwDOAPphoM63nZh-",
    "number": 34115,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/34115/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/34115/timeline",
    "title": "vim._extui: `:mess clear` does not clear the currently-open messages buffer",
    "type": {
        "color": "blue",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "A request, idea, or new functionality",
        "id": 597167,
        "is_enabled": true,
        "name": "Enhancement",
        "node_id": "IT_kwDOAGK_Pc4ACRyv",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-05-27T09:27:02Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/34115",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/77601554?v=4",
        "events_url": "https://api.github.com/users/stringTrimmer/events{/privacy}",
        "followers_url": "https://api.github.com/users/stringTrimmer/followers",
        "following_url": "https://api.github.com/users/stringTrimmer/following{/other_user}",
        "gists_url": "https://api.github.com/users/stringTrimmer/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/stringTrimmer",
        "id": 77601554,
        "login": "stringTrimmer",
        "node_id": "MDQ6VXNlcjc3NjAxNTU0",
        "organizations_url": "https://api.github.com/users/stringTrimmer/orgs",
        "received_events_url": "https://api.github.com/users/stringTrimmer/received_events",
        "repos_url": "https://api.github.com/users/stringTrimmer/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/stringTrimmer/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/stringTrimmer/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/stringTrimmer",
        "user_view_type": "public"
    }
}