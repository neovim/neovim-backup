{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "This problem is shared between vim and neovim. It has been reported against vim as well here: https://github.com/vim/vim/issues/5806\r\n\r\nauto-indentation of HTML doesn't seem to be aware of optional closing tags, which messes up the indentation levels when taking advantage of this aspect of the HTML language.\r\n\r\n### Actual behavior\r\n```html\r\n<ol>\r\n        <li>1st list item\r\n                <li>2nd list item\r\n</ol>\r\n<p>1st paragraph\r\n        <p>2nd paragraph\r\n```\r\n\r\n### Expected behaviour\r\n```html\r\n<ol>\r\n        <li>1st list item\r\n        <li>2nd list item\r\n</ol>\r\n<p>1st paragraph\r\n<p>paragraph\r\n```\r\n\r\nBased on the [WHATWG HTML spec](https://html.spec.whatwg.org/#syntax-tag-omission) and [W3C HTML spec](https://www.w3.org/TR/html53/syntax.html#optional-start-and-end-tags), this is what we ought to be doing:\r\n* any of these elements closes a preceding `<p>` element: `<address>`, `<article>`, `<aside>`, `<blockquote>`, `<details>`, `<div>`, `<dl>`, `<fieldset>`, `<figcaption>`, `<figure>`, `<footer>`, `<form>`, `<h1>`, `<h2>`, `<h3>`, `<h4>`, `<h5>`, `<h6>`, `<header>`, `<hgroup>`, `<hr>`, `<main>`, `<menu>`, `<nav>`, `<ol>`, `<p>`, `<pre>`, `<section>`, `<table>`, or `<ul>`\r\n* an `<li>` closes a preceding `<li>`\r\n* a `<dt>` or `<dd>` closes a preceding `<dt>` or `<dd>`\r\n* an `<option>` closes a preceding `<option>`\r\n* an `<optgroup>` closes a preceding `<optgroup>`\r\n* a `<td>` or `<th>` closes a preceding `<td>` or `<th>`\r\n* a `<tr>` closes a preceding `<tr>`\r\n* a `<tfoot>` or `<tbody>` closes a preceding `<thead>` or `<tbody>`\r\n* an `<rb>`, `<rt>`, `<rp>`, or `<rtc>` closes a preceding `<rb>`, `<rt>`, `<rp>`, or `<rtc>`\r\n* a `<colgroup>` closes a preceding `<colgroup>`\r\n* a `<caption>` closes a preceding `<caption>`\r\n\r\n(HTML has more to say about optional opening/closing  tags, but the rest isn't relevant to indentation)",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/12021/comments",
    "created_at": "2020-03-18T06:18:00Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/12021/events",
    "html_url": "https://github.com/neovim/neovim/issues/12021",
    "id": 583494344,
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "funtime",
            "id": 120251370,
            "name": "runtime",
            "node_id": "MDU6TGFiZWwxMjAyNTEzNzA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/runtime"
        },
        {
            "color": "F9D0C4",
            "default": false,
            "description": "wrong behavior inherited from vim",
            "id": 154310492,
            "name": "bug-vim",
            "node_id": "MDU6TGFiZWwxNTQzMTA0OTI=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-vim"
        },
        {
            "color": "FBCA04",
            "default": false,
            "description": "upstream issue that must be fixed in Vim first",
            "id": 2639399975,
            "name": "needs:vim-patch",
            "node_id": "MDU6TGFiZWwyNjM5Mzk5OTc1",
            "url": "https://api.github.com/repos/neovim/neovim/labels/needs:vim-patch"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/12021/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU1ODM0OTQzNDQ=",
    "number": 12021,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/12021/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/12021/timeline",
    "title": "Take HTML optional closing tags into account for indentation",
    "updated_at": "2025-01-19T11:48:24Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/12021",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/113268?v=4",
        "events_url": "https://api.github.com/users/frivoal/events{/privacy}",
        "followers_url": "https://api.github.com/users/frivoal/followers",
        "following_url": "https://api.github.com/users/frivoal/following{/other_user}",
        "gists_url": "https://api.github.com/users/frivoal/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/frivoal",
        "id": 113268,
        "login": "frivoal",
        "node_id": "MDQ6VXNlcjExMzI2OA==",
        "organizations_url": "https://api.github.com/users/frivoal/orgs",
        "received_events_url": "https://api.github.com/users/frivoal/received_events",
        "repos_url": "https://api.github.com/users/frivoal/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/frivoal/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/frivoal/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/frivoal",
        "user_view_type": "public"
    }
}