{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nAfter upgrading to Neovim 0.11, my custom highlight configurations and key mappings no longer work as expected. The issue persists even after adjusting load order, forcing highlights with !, and ensuring plugins are loaded correctly.\n\n> NOTE: This issue is AI-assisted and may need refinement. Please advise if it doesn't meet contribution guidelines.\n\n### Steps to reproduce\n\n1. Highlighting Issue:\n    - Define a custom highlight function (SetHighlights()) with autocmd Syntax * or autocmd ColorScheme *.\n    - Load a colorscheme (e.g., space-vim-dark).\n    - Expected: Custom highlights (e.g., Comment, Hint) should override the theme.\n    - Actual: Theme defaults override custom highlights (verified with :verbose highlight Comment).\n\n    Minimal Config:\n    ```vim\n    function! SetHighlights()  \n      highlight! Comment gui=italic guifg=#5C6370 cterm=italic ctermfg=239  \n    endfunction  \n    colorscheme space-vim-dark  \n    autocmd ColorScheme * call SetHighlights()  \n    ```\n\n2. Key Mapping Issue:\n    - Map a key to a plugin function (e.g., Cocâ€™s <Plug>(coc-definition)).\n    - Expected: Key works (e.g., <Space>D jumps to definition).\n    - Actual: print 'SPC D is undefined'.\n\n    Minimal Config:\n    ```vim\n    nnoremap <silent><nowait> <Space>D <Plug>(coc-definition)  \n    ```\n\n### Expected behavior\n\n- Custom highlights should override theme defaults.\n- Key mappings should work as in Neovim 0.10.\n\n### Nvim version (nvim -v)\n\nNVIM v0.11.0 Build type: RelWithDebInfo LuaJIT 2.1.1741730670\n\n### Vim (not Nvim) behaves the same?\n\nvim is not installed\n\n### Operating system/version\n\nArch Linux\n\n### Terminal name/version\n\nkonsole 24.12.3-1\n\n### $TERM environment variable\n\nxterm-256color\n\n### Installation\n\npacman -S",
    "closed_at": "2025-04-02T12:29:46Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
        "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
        "followers_url": "https://api.github.com/users/justinmk/followers",
        "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
        "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/justinmk",
        "id": 1359421,
        "login": "justinmk",
        "node_id": "MDQ6VXNlcjEzNTk0MjE=",
        "organizations_url": "https://api.github.com/users/justinmk/orgs",
        "received_events_url": "https://api.github.com/users/justinmk/received_events",
        "repos_url": "https://api.github.com/users/justinmk/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/justinmk",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Please create a minimal config we can use with `nvim --clean -u minimal.vim` to reproduce the issue.",
            "created_at": "2025-04-01T09:46:05Z",
            "html_url": "https://github.com/neovim/neovim/issues/33248#issuecomment-2768797589",
            "id": 2768797589,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33248",
            "node_id": "IC_kwDOAPphoM6lCH-V",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2768797589/reactions"
            },
            "updated_at": "2025-04-01T09:46:05Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2768797589",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "minimal.vim:\n\n```vim\nfunction! SetHighlights()\n  highlight! Comment guifg=#FF0000 ctermfg=1\n  echo 'SetHighlights() called'\nendfunction\n\ncolorscheme default\nautocmd ColorScheme * call SetHighlights()\n\nnnoremap <Space>D :echo \"Test mapping worked\"<CR>\n```\n\n`:verbose highlight Comment`:\n\n```vim\nComment        xxx guifg=NvimLightGrey4                                                                                                                          \n        Last set from /usr/share/nvim/runtime/colors/default.vim line 8\n```\n\n`:map <Space>D`:\n\n```vim\nn  <Space>D    * :echo \"Test mapping worked\"<CR>\n```",
            "created_at": "2025-04-02T00:09:46Z",
            "html_url": "https://github.com/neovim/neovim/issues/33248#issuecomment-2770948565",
            "id": 2770948565,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33248",
            "node_id": "IC_kwDOAPphoM6lKVHV",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2770948565/reactions"
            },
            "updated_at": "2025-04-02T00:09:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2770948565",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/21995281?v=4",
                "events_url": "https://api.github.com/users/YHYJ/events{/privacy}",
                "followers_url": "https://api.github.com/users/YHYJ/followers",
                "following_url": "https://api.github.com/users/YHYJ/following{/other_user}",
                "gists_url": "https://api.github.com/users/YHYJ/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/YHYJ",
                "id": 21995281,
                "login": "YHYJ",
                "node_id": "MDQ6VXNlcjIxOTk1Mjgx",
                "organizations_url": "https://api.github.com/users/YHYJ/orgs",
                "received_events_url": "https://api.github.com/users/YHYJ/received_events",
                "repos_url": "https://api.github.com/users/YHYJ/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/YHYJ/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/YHYJ/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/YHYJ",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "You should create the `ColorScheme` autocommand before setting the colorscheme:\n```vim\nfunction! SetHighlights()\n  highlight! Comment guifg=#FF0000 ctermfg=1\n  echo 'SetHighlights() called'\nendfunction\n\nautocmd ColorScheme * call SetHighlights()\ncolorscheme default\n\nnnoremap <Space>D :echo \"Test mapping worked\"<CR>\n```",
            "created_at": "2025-04-02T01:06:58Z",
            "html_url": "https://github.com/neovim/neovim/issues/33248#issuecomment-2771010680",
            "id": 2771010680,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33248",
            "node_id": "IC_kwDOAPphoM6lKkR4",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2771010680/reactions"
            },
            "updated_at": "2025-04-02T01:06:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2771010680",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/33248/comments",
    "created_at": "2025-04-01T09:44:19Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/33248/events",
    "html_url": "https://github.com/neovim/neovim/issues/33248",
    "id": 2962899834,
    "labels": [
        {
            "color": "e6e6e6",
            "default": false,
            "description": "issues that are closed as usage questions",
            "id": 77997478,
            "name": "closed:question",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3OA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/closed:question"
        },
        {
            "color": "FBCA04",
            "default": false,
            "description": "We need minimal steps to reproduce the issue",
            "id": 298863445,
            "name": "needs:repro",
            "node_id": "MDU6TGFiZWwyOTg4NjM0NDU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/needs:repro"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/33248/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6wmkN6",
    "number": 33248,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/33248/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "not_planned",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/33248/timeline",
    "title": "Regression in Neovim 0.11: Highlighting and Key Mappings Broken After Upgrade",
    "type": null,
    "updated_at": "2025-04-02T12:35:09Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/33248",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/21995281?v=4",
        "events_url": "https://api.github.com/users/YHYJ/events{/privacy}",
        "followers_url": "https://api.github.com/users/YHYJ/followers",
        "following_url": "https://api.github.com/users/YHYJ/following{/other_user}",
        "gists_url": "https://api.github.com/users/YHYJ/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/YHYJ",
        "id": 21995281,
        "login": "YHYJ",
        "node_id": "MDQ6VXNlcjIxOTk1Mjgx",
        "organizations_url": "https://api.github.com/users/YHYJ/orgs",
        "received_events_url": "https://api.github.com/users/YHYJ/received_events",
        "repos_url": "https://api.github.com/users/YHYJ/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/YHYJ/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/YHYJ/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/YHYJ",
        "user_view_type": "public"
    }
}