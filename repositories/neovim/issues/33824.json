{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "### Problem\n\nFrom the releases page, if you download a nvim-win64.zip to some UNC path to load Neovim, that Neovim does not load properly compared to if you extract and load it from a non-UNC path\n\n### Steps to reproduce\n\n1. Download a Neovim release .zip. e.g. [Nvim v0.11.1](https://github.com/neovim/neovim/releases/download/v0.11.1/nvim-win64.zip)\n2. Create a path on windows and map it to a UNC directory\n\n(In an administrator command prompt)\n```\nmkdir C:\\TestShare\nnet share TestShare=C:\\TestShare\n```\n\n3. Extract the nvim-win64.zip into `C:\\TestShare`\n\n4. Add a minimal nvim `init.lua` to `C:\\Users\\%USER%\\AppData\\Local\\nvim\\init.lua`\n\n`init.lua`\n```lua\nlocal lazypath = vim.fn.stdpath(\"data\") .. \"/lazy/lazy.nvim\"\n\nif not vim.loop.fs_stat(lazypath) then\n    vim.fn.system({\n        \"git\",\n        \"clone\",\n        \"--filter=blob:none\",\n        \"https://github.com/folke/lazy.nvim.git\",\n        \"--branch=stable\", -- latest stable release\n        lazypath,\n    })\nend\n\nvim.opt.rtp:prepend(lazypath)\n\nlocal plugins = {}\nrequire(\"lazy\").setup(plugins)\n```\n\n3. Get your Windows PC hostname, we'll need it for later\n```\nhostname  <-- Prints out a name like DESKTOP-FOO, usually\n```\n\n5. Load nvim, via normal path `C:\\TestShare\\nvim-win64\\bin\\nvim.exe` (this will load as expected)\n6. Load nvim via UNC path `\\\\DESKTOP-FOO\\TestShare\\nvim-win64\\bin\\nvim.exe` (this will fail)\n\n<details>\n<summary>Click to show the full startup error</summary>\n\n```\nError detected while processing \\\\DESKTOP-FOOBAR\\TestShare\\nvim-win64\\share\\nvim\\runtime\\filetype.lua:\nE5112: Error while creating lua chunk: cannot open /DESKTOP-FOOBAR/TestShare/nvim-win64/share/nvim/runtime/filetype.lua: No such file or directory\nE5112: Error while creating lua chunk: cannot open /DESKTOP-FOOBAR/TestShare/nvim-win64/share/nvim/runtime/filetype.lua: No such file or directory\nError detected while processing \\\\DESKTOP-FOOBAR\\TestShare\\nvim-win64\\share\\nvim\\runtime\\syntax\\syntax.vim:\nline   43:\nE121: Undefined variable: s:did_ft\nFailed to source `\\\\DESKTOP-FOOBAR\\TestShare\\nvim-win64\\share/nvim/runtime/filetype.lua`\n\nvim/_editor.lua:447: C:\\Users\\korinkite\\AppData\\Local\\nvim\\init.lua..nvim_exec2() called at C:\\Users\\korinkite\\AppData\\Local\\nvim\\init.lua:0[1]..\\\\DESKTOP-FOOBAR\\TestShare\\nvim-win64\\share\\nv\nim\\runtime\\filetype.lua: Vim(source):E5112: Error while creating lua chunk: cannot open /DESKTOP-FOOBAR/TestShare/nvim-win64/share/nvim/runtime/filetype.lua: No such file or directory\n\n# stacktrace:\n  - vim\\_editor.lua:447 _in_ **cmd**\n  - AppData\\Local\\nvim\\init.lua:114\nFailed to source `\\\\DESKTOP-FOOBAR\\TestShare\\nvim-win64\\share/nvim/runtime/plugin/editorconfig.lua`\n\nvim/_editor.lua:447: C:\\Users\\korinkite\\AppData\\Local\\nvim\\init.lua..nvim_exec2() called at C:\\Users\\korinkite\\AppData\\Local\\nvim\\init.lua:0[1]..\\\\DESKTOP-FOOBAR\\TestShare\\nvim-win64\\share\\nv\nim\\runtime\\plugin\\editorconfig.lua: Vim(source):E5112: Error while creating lua chunk: cannot open /DESKTOP-FOOBAR/TestShare/nvim-win64/share/nvim/runtime/plugin/editorconfig.lua: No such fil\ne or directory\n\n# stacktrace:\n  - vim\\_editor.lua:447 _in_ **cmd**\n  - AppData\\Local\\nvim\\init.lua:114\nFailed to source `\\\\DESKTOP-FOOBAR\\TestShare\\nvim-win64\\share/nvim/runtime/plugin/man.lua`\n\nvim/_editor.lua:447: C:\\Users\\korinkite\\AppData\\Local\\nvim\\init.lua..nvim_exec2() called at C:\\Users\\korinkite\\AppData\\Local\\nvim\\init.lua:0[1]..\\\\DESKTOP-FOOBAR\\TestShare\\nvim-win64\\share\\nv\nim\\runtime\\plugin\\man.lua: Vim(source):E5112: Error while creating lua chunk: cannot open /DESKTOP-FOOBAR/TestShare/nvim-win64/share/nvim/runtime/plugin/man.lua: No such file or directory\n\n# stacktrace:\n  - vim\\_editor.lua:447 _in_ **cmd**\n  - AppData\\Local\\nvim\\init.lua:114\nFailed to source `\\\\DESKTOP-FOOBAR\\TestShare\\nvim-win64\\share/nvim/runtime/plugin/osc52.lua`\n\nvim/_editor.lua:447: C:\\Users\\korinkite\\AppData\\Local\\nvim\\init.lua..nvim_exec2() called at C:\\Users\\korinkite\\AppData\\Local\\nvim\\init.lua:0[1]..\\\\DESKTOP-FOOBAR\\TestShare\\nvim-win64\\share\\nv\nim\\runtime\\plugin\\osc52.lua: Vim(source):E5112: Error while creating lua chunk: cannot open /DESKTOP-FOOBAR/TestShare/nvim-win64/share/nvim/runtime/plugin/osc52.lua: No such file or directory\n\n\n# stacktrace:\n  - vim\\_editor.lua:447 _in_ **cmd**\n  - AppData\\Local\\nvim\\init.lua:114\nFailed to source `\\\\DESKTOP-FOOBAR\\TestShare\\nvim-win64\\share/nvim/runtime/plugin/tohtml.lua`\n\nvim/_editor.lua:447: C:\\Users\\korinkite\\AppData\\Local\\nvim\\init.lua..nvim_exec2() called at C:\\Users\\korinkite\\AppData\\Local\\nvim\\init.lua:0[1]..\\\\DESKTOP-FOOBAR\\TestShare\\nvim-win64\\share\\nv\nim\\runtime\\plugin\\tohtml.lua: Vim(source):E5112: Error while creating lua chunk: cannot open /DESKTOP-FOOBAR/TestShare/nvim-win64/share/nvim/runtime/plugin/tohtml.lua: No such file or directo\nry\n\n# stacktrace:\n  - vim\\_editor.lua:447 _in_ **cmd**\n  - AppData\\Local\\nvim\\init.lua:114\n```\n</details>\n\nIt's worth noting that I'm calling Neovim from the same location. The only difference was the syntax used to call Neovim itself. `C:\\TestShare\\nvim-win64\\bin\\nvim.exe` and `\\\\DESKTOP-FOO\\TestShare\\nvim-win64\\bin\\nvim.exe` refer to the same file on-disk.\n\n### Expected behavior\n\nNeovim would load consistently regardless of whether the Neovim was called via UNC path or by the regular path\n\n### Nvim version (nvim -v)\n\nv0.11.1\n\n### Vim (not Nvim) behaves the same?\n\nn/a\n\n### Operating system/version\n\nWindows 10\n\n### Terminal name/version\n\ncommand prompt\n\n### $TERM environment variable\n\nxterm-256color\n\n### Installation\n\nFrom precompiled .zip",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "presumably the same root cause as \n\n- https://github.com/neovim/neovim/issues/23006\n- https://github.com/neovim/neovim/issues/31606",
            "created_at": "2025-05-03T20:24:47Z",
            "html_url": "https://github.com/neovim/neovim/issues/33824#issuecomment-2848792358",
            "id": 2848792358,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33824",
            "node_id": "IC_kwDOAPphoM6pzR8m",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2848792358/reactions"
            },
            "updated_at": "2025-05-03T20:24:47Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2848792358",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "This looks like a duplicate of this\n* https://github.com/neovim/neovim/issues/33482",
            "created_at": "2025-05-06T15:00:58Z",
            "html_url": "https://github.com/neovim/neovim/issues/33824#issuecomment-2854897102",
            "id": 2854897102,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33824",
            "node_id": "IC_kwDOAPphoM6qKkXO",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2854897102/reactions"
            },
            "updated_at": "2025-05-06T15:00:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2854897102",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/9946255?v=4",
                "events_url": "https://api.github.com/users/fredizzimo/events{/privacy}",
                "followers_url": "https://api.github.com/users/fredizzimo/followers",
                "following_url": "https://api.github.com/users/fredizzimo/following{/other_user}",
                "gists_url": "https://api.github.com/users/fredizzimo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/fredizzimo",
                "id": 9946255,
                "login": "fredizzimo",
                "node_id": "MDQ6VXNlcjk5NDYyNTU=",
                "organizations_url": "https://api.github.com/users/fredizzimo/orgs",
                "received_events_url": "https://api.github.com/users/fredizzimo/received_events",
                "repos_url": "https://api.github.com/users/fredizzimo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/fredizzimo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/fredizzimo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/fredizzimo",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "It's probably related but I did try out the suggested fix at https://github.com/neovim/neovim/issues/33482#issuecomment-2805184750 and Neovim still errors a lot on startup.",
            "created_at": "2025-05-06T16:27:18Z",
            "html_url": "https://github.com/neovim/neovim/issues/33824#issuecomment-2855209932",
            "id": 2855209932,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33824",
            "node_id": "IC_kwDOAPphoM6qLwvM",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2855209932/reactions"
            },
            "updated_at": "2025-05-06T16:27:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2855209932",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10103049?v=4",
                "events_url": "https://api.github.com/users/ColinKennedy/events{/privacy}",
                "followers_url": "https://api.github.com/users/ColinKennedy/followers",
                "following_url": "https://api.github.com/users/ColinKennedy/following{/other_user}",
                "gists_url": "https://api.github.com/users/ColinKennedy/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ColinKennedy",
                "id": 10103049,
                "login": "ColinKennedy",
                "node_id": "MDQ6VXNlcjEwMTAzMDQ5",
                "organizations_url": "https://api.github.com/users/ColinKennedy/orgs",
                "received_events_url": "https://api.github.com/users/ColinKennedy/received_events",
                "repos_url": "https://api.github.com/users/ColinKennedy/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ColinKennedy/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ColinKennedy/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ColinKennedy",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/33824/comments",
    "created_at": "2025-05-03T19:47:02Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/33824/events",
    "html_url": "https://github.com/neovim/neovim/issues/33824",
    "id": 3037582742,
    "labels": [
        {
            "color": "d4c5f9",
            "default": false,
            "description": null,
            "id": 109461219,
            "name": "platform:windows",
            "node_id": "MDU6TGFiZWwxMDk0NjEyMTk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/platform:windows"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "file metadata/attributes, filenames, path manipulation",
            "id": 3386070083,
            "name": "filesystem",
            "node_id": "LA_kwDOAPphoM7J01RD",
            "url": "https://api.github.com/repos/neovim/neovim/labels/filesystem"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/33824/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM61DdWW",
    "number": 33824,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/33824/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/33824/timeline",
    "title": "nvim .zip called using UNC path cannot find Lua files (e.g. builtins or `lazy.nvim`)",
    "type": {
        "color": "red",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "An unexpected problem or behavior",
        "id": 597163,
        "is_enabled": true,
        "name": "Bug",
        "node_id": "IT_kwDOAGK_Pc4ACRyr",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-05-06T16:27:19Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/33824",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/10103049?v=4",
        "events_url": "https://api.github.com/users/ColinKennedy/events{/privacy}",
        "followers_url": "https://api.github.com/users/ColinKennedy/followers",
        "following_url": "https://api.github.com/users/ColinKennedy/following{/other_user}",
        "gists_url": "https://api.github.com/users/ColinKennedy/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/ColinKennedy",
        "id": 10103049,
        "login": "ColinKennedy",
        "node_id": "MDQ6VXNlcjEwMTAzMDQ5",
        "organizations_url": "https://api.github.com/users/ColinKennedy/orgs",
        "received_events_url": "https://api.github.com/users/ColinKennedy/received_events",
        "repos_url": "https://api.github.com/users/ColinKennedy/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/ColinKennedy/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ColinKennedy/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/ColinKennedy",
        "user_view_type": "public"
    }
}