{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nThe following files have _utf-8 in the filename, but they are encoded in latin1.\n\n[esperanto_utf-8.vim](https://github.com/neovim/neovim/tree/master/runtime/keymap/esperanto_utf-8.vim)\n\n`'utf-8' codec can't decode byte 0xf9 in position 336: invalid start byte`\n\n[greek_utf-8.vim](https://github.com/neovim/neovim/tree/master/runtime/keymap/greek_utf-8.vim)\n\n`'utf-8' codec can't decode byte 0xb4 in position 24957: invalid start byte`\n\n[hebrewp_utf-8.vim](https://github.com/neovim/neovim/tree/master/runtime/keymap/hebrewp_utf-8.vim)\n\n`'utf-8' codec can't decode byte 0xf9 in position 262: invalid start byte`\n\n### Steps to reproduce\n\n`:set encoding?` will not help.\n\nI found the problem by running this python code\n\n```python\nfrom pathlib import Path\n\nif __name__ == '__main__':\n    url = 'https://github.com/neovim/neovim/tree/master/'\n    for f in Path('.').rglob('*.vim'):\n        try:\n            enc='utf-8' #'latin1' \n            c = f.read_text(encoding=enc)\n        except Exception as e:\n            if f.stem.endswith('_utf-8'):\n                print(\n                    f'[{f.name}]({url}{str(f.parents[0]).replace(\"\\\\\", '/')}/{f.name})', \n                    f'\\n`{e}`\\n',\n                    sep='\\n'\n                )\n```\n\n### Expected behavior\n\nI think the encoding should be utf-8\n\n### Nvim version (nvim -v)\n\n0.10.2\n\n### Vim (not Nvim) behaves the same?\n\nI don't know\n\n### Operating system/version\n\nWindows 11\n\n### Terminal name/version\n\npwsh.exe 7.4.6 and git bash\n\n### $TERM environment variable\n\ndoes not apply\n\n### Installation\n\ndoes not apply",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Why is this a problem?",
            "created_at": "2024-12-22T23:52:02Z",
            "html_url": "https://github.com/neovim/neovim/issues/31688#issuecomment-2558663475",
            "id": 2558663475,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31688",
            "node_id": "IC_kwDOAPphoM6Yghsz",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2558663475/reactions"
            },
            "updated_at": "2024-12-22T23:52:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2558663475",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "the file [hebrew_utf-8.vim](https://github.com/neovim/neovim/blob/master/runtime/keymap/hebrew_utf-8.vim) is encoded with utf-8 and in the comments the hebrew characters are rendered correctly\n\n![Image](https://github.com/user-attachments/assets/08dca429-e13c-40b4-95df-fd408e19f8c7)\n\nthe file [hebrewp_utf-8.vim](https://github.com/neovim/neovim/blob/master/runtime/keymap/hebrewp_utf-8.vim) is encoded with cp1255 although in the filename it contains _utf-8 and the comments are not rendered correctly.\n\n![Image](https://github.com/user-attachments/assets/bedf256d-4812-4107-8718-fe9beef68a9d)\n",
            "created_at": "2024-12-23T06:17:40Z",
            "html_url": "https://github.com/neovim/neovim/issues/31688#issuecomment-2558985510",
            "id": 2558985510,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31688",
            "node_id": "IC_kwDOAPphoM6YhwUm",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2558985510/reactions"
            },
            "updated_at": "2024-12-23T06:17:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2558985510",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/91951514?v=4",
                "events_url": "https://api.github.com/users/turbofish-pk/events{/privacy}",
                "followers_url": "https://api.github.com/users/turbofish-pk/followers",
                "following_url": "https://api.github.com/users/turbofish-pk/following{/other_user}",
                "gists_url": "https://api.github.com/users/turbofish-pk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/turbofish-pk",
                "id": 91951514,
                "login": "turbofish-pk",
                "node_id": "U_kgDOBXsRmg",
                "organizations_url": "https://api.github.com/users/turbofish-pk/orgs",
                "received_events_url": "https://api.github.com/users/turbofish-pk/received_events",
                "repos_url": "https://api.github.com/users/turbofish-pk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/turbofish-pk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/turbofish-pk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/turbofish-pk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I think you could argue that all of these files should be UTF-8 today, but I'm not sure there's a compelling reason for the files with `_utf-8` in their names to be specifically called out. The README file specifies that the encoding in the filename gives the encoding for which the keymap works, not the encoding for the file itself.\n\nI skimmed through the `_utf-8` files and they seem fine to me. E.g., `arabic_utf-8.vim` uses ASCII encoding and simply doesn't include non-ascii characters in its text. Maybe it would be more friendly to Arabic users if it used Arabic script, but as of today that's not how it is written.\n\n`hebrewp_utf-c.vim` appears to be encoded with cp1255 as noted, and it displays correctly (at least I assume so, the characters appear to be Hebrew) if it is opened with cp1255 as the encoding:\n\n    :e ++enc=cp1255 hebrewp_utf-8.vim\n\nThe incorrectly rendered characters are due to opening it with latin1 encoding. This is, as far as I know, an inherent limitation of single-byte encodings. Using UTF-8 would improve the situation, but again that's not specific to files with `utf-8` in their names. E.g., `slovak_cp1250.vim` also renders incorrectly unless the proper encoding is specified when opening it.",
            "created_at": "2025-12-16T19:07:06Z",
            "html_url": "https://github.com/neovim/neovim/issues/31688#issuecomment-3661984678",
            "id": 3661984678,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31688",
            "node_id": "IC_kwDOAPphoM7aRXOm",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3661984678/reactions"
            },
            "updated_at": "2025-12-16T19:07:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3661984678",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/58675?v=4",
                "events_url": "https://api.github.com/users/KevinGoodsell/events{/privacy}",
                "followers_url": "https://api.github.com/users/KevinGoodsell/followers",
                "following_url": "https://api.github.com/users/KevinGoodsell/following{/other_user}",
                "gists_url": "https://api.github.com/users/KevinGoodsell/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/KevinGoodsell",
                "id": 58675,
                "login": "KevinGoodsell",
                "node_id": "MDQ6VXNlcjU4Njc1",
                "organizations_url": "https://api.github.com/users/KevinGoodsell/orgs",
                "received_events_url": "https://api.github.com/users/KevinGoodsell/received_events",
                "repos_url": "https://api.github.com/users/KevinGoodsell/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/KevinGoodsell/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/KevinGoodsell/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/KevinGoodsell",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/31688/comments",
    "created_at": "2024-12-22T22:48:38Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/31688/events",
    "html_url": "https://github.com/neovim/neovim/issues/31688",
    "id": 2754881365,
    "issue_dependencies_summary": {
        "blocked_by": 0,
        "blocking": 0,
        "total_blocked_by": 0,
        "total_blocking": 0
    },
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "funtime",
            "id": 120251370,
            "name": "runtime",
            "node_id": "MDU6TGFiZWwxMjAyNTEzNzA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/runtime"
        },
        {
            "color": "BFDADC",
            "default": false,
            "description": "Low-risk, self-contained. Do NOT ask \"can I work on this\", just read CONTRIBUTING.md",
            "id": 407246773,
            "name": "complexity:low",
            "node_id": "MDU6TGFiZWw0MDcyNDY3NzM=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/complexity:low"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "(multibyte) unicode characters",
            "id": 2882115256,
            "name": "unicode  ðŸ’©",
            "node_id": "MDU6TGFiZWwyODgyMTE1MjU2",
            "url": "https://api.github.com/repos/neovim/neovim/labels/unicode%20%20%F0%9F%92%A9"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/31688/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6kNCdV",
    "number": 31688,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/31688/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/31688/timeline",
    "title": "latin1 encoding in keymap files with _utf-8 in the filename",
    "type": {
        "color": "red",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "An unexpected problem or behavior",
        "id": 597163,
        "is_enabled": true,
        "name": "Bug",
        "node_id": "IT_kwDOAGK_Pc4ACRyr",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-12-16T19:07:06Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/31688",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/91951514?v=4",
        "events_url": "https://api.github.com/users/turbofish-pk/events{/privacy}",
        "followers_url": "https://api.github.com/users/turbofish-pk/followers",
        "following_url": "https://api.github.com/users/turbofish-pk/following{/other_user}",
        "gists_url": "https://api.github.com/users/turbofish-pk/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/turbofish-pk",
        "id": 91951514,
        "login": "turbofish-pk",
        "node_id": "U_kgDOBXsRmg",
        "organizations_url": "https://api.github.com/users/turbofish-pk/orgs",
        "received_events_url": "https://api.github.com/users/turbofish-pk/received_events",
        "repos_url": "https://api.github.com/users/turbofish-pk/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/turbofish-pk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/turbofish-pk/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/turbofish-pk",
        "user_view_type": "public"
    }
}