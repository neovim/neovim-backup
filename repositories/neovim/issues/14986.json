{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "The `[Process exited]` prompt is extremely handy when running non-interactive commands like `make` or `make test`, as it lets you examine the output before the window disappears.\r\n\r\nHowever, for running interactive applications like `lazygit` or `htop`, it is just an additional keystroke you need to press to close the window.\r\n\r\nI have this keybinding set up to launch `lazygit` in a new tab:\r\n\r\n```vim\r\n\" Open lazygit in a new tab\r\nif has(\"nvim\")\r\n    nnoremap <Leader>g :tabnew<CR>:terminal lazygit<CR>i\r\nendif\r\n```\r\n\r\nWhen I'm done I press `q`, which exits `lazygit`. But then I have to press another key to close the window. This isn't a huge deal of course, but it does irk me since it's a completely unnecessary keypress. I will never need to examine the terminal output after `lazygit` exits, so it would feel a lot nicer if I could simply press `q` and go right back to the file I was editing.\r\n\r\nThe same is true when I just want to open a quick terminal to examine something in the command line. When I press <kbd>Ctrl</kbd><kbd>d</kbd> to exit the terminal, it feels unnecessary to have to press another key to close the window.\r\n\r\nI would love an option when opening a new terminal to not prompt for a keypress after the command exits.\r\n\r\nMaybe:\r\n\r\n```vim\r\n:terminal <noprompt> lazygit\r\n```\r\n\r\n---\r\n\r\nI tried hacking together a workaround using `TermClose`, but it seems that event fires before the prompt is displayed, so I'm not sure if it can work:\r\n\r\n```\r\nautocmd TermClose term://*lazygit <CR>\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/597206/124392950-676b0880-dcf8-11eb-812f-32c6b59d1551.png)\r\n",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "I have a similar setup (specifically with Lazygit too), and I think if you modify your autocommand, it'll work the way you want:\r\n\r\n```vim\r\nautocmd TermClose term://*lazygit lua vim.api.nvim_input(\"<CR>\")\r\n```",
            "created_at": "2021-07-07T04:57:57Z",
            "html_url": "https://github.com/neovim/neovim/issues/14986#issuecomment-875279522",
            "id": 875279522,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14986",
            "node_id": "MDEyOklzc3VlQ29tbWVudDg3NTI3OTUyMg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/875279522/reactions"
            },
            "updated_at": "2021-07-07T04:57:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/875279522",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/54108223?v=4",
                "events_url": "https://api.github.com/users/jose-elias-alvarez/events{/privacy}",
                "followers_url": "https://api.github.com/users/jose-elias-alvarez/followers",
                "following_url": "https://api.github.com/users/jose-elias-alvarez/following{/other_user}",
                "gists_url": "https://api.github.com/users/jose-elias-alvarez/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jose-elias-alvarez",
                "id": 54108223,
                "login": "jose-elias-alvarez",
                "node_id": "MDQ6VXNlcjU0MTA4MjIz",
                "organizations_url": "https://api.github.com/users/jose-elias-alvarez/orgs",
                "received_events_url": "https://api.github.com/users/jose-elias-alvarez/received_events",
                "repos_url": "https://api.github.com/users/jose-elias-alvarez/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jose-elias-alvarez/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jose-elias-alvarez/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jose-elias-alvarez"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "we absolutely should not add an \"option\" or other special case thing for this. The message really shouldn't be there in the first place, we should remove it and indicate the final status of the job in some other way.",
            "created_at": "2021-07-08T04:52:01Z",
            "html_url": "https://github.com/neovim/neovim/issues/14986#issuecomment-876123532",
            "id": 876123532,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14986",
            "node_id": "MDEyOklzc3VlQ29tbWVudDg3NjEyMzUzMg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 11,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 11,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/876123532/reactions"
            },
            "updated_at": "2021-07-08T04:52:01Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/876123532",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "NONE",
            "body": "Vim provides ++close for this: `:terminal ++close <command>` (e.g. `:terminal ++close true`). See [`:h term++close`](https://vimhelp.org/terminal.txt.html#term%2B%2Bclose).",
            "created_at": "2021-08-20T03:49:31Z",
            "html_url": "https://github.com/neovim/neovim/issues/14986#issuecomment-902409367",
            "id": 902409367,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14986",
            "node_id": "IC_kwDOAPphoM41yayX",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 4,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 4,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/902409367/reactions"
            },
            "updated_at": "2021-08-20T03:49:31Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/902409367",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1269815?v=4",
                "events_url": "https://api.github.com/users/oblitum/events{/privacy}",
                "followers_url": "https://api.github.com/users/oblitum/followers",
                "following_url": "https://api.github.com/users/oblitum/following{/other_user}",
                "gists_url": "https://api.github.com/users/oblitum/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/oblitum",
                "id": 1269815,
                "login": "oblitum",
                "node_id": "MDQ6VXNlcjEyNjk4MTU=",
                "organizations_url": "https://api.github.com/users/oblitum/orgs",
                "received_events_url": "https://api.github.com/users/oblitum/received_events",
                "repos_url": "https://api.github.com/users/oblitum/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/oblitum/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/oblitum/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/oblitum"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "With https://github.com/neovim/neovim/pull/15406 this can be achieved by:\r\n\r\n    autocmd TermClose * if !v:event.status | exe 'bdelete! '..expand('<abuf>') | endif\r\n\r\nEdit: added `<abuf>`",
            "created_at": "2021-08-20T11:54:04Z",
            "html_url": "https://github.com/neovim/neovim/issues/14986#issuecomment-902638538",
            "id": 902638538,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14986",
            "node_id": "IC_kwDOAPphoM41zSvK",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 1,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/902638538/reactions"
            },
            "updated_at": "2023-08-13T12:27:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/902638538",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "NONE",
            "body": "@justinmk it doesn't. None of this works because the target terminal buffer may not be in focus on `TermClose`. I tried to set `autocmd TermClose * call nvim_input('<CR>')` and it sent an <kbd>enter</kbd> to an unrelated buffer instead of the terminal one, `autocmd TermClose * quit` closed _just_ the other non-terminal buffer, etc. This happened after closing nvim-dap-ui, which closes all its buffers on `.close()`, except for the terminal:\r\n\r\n![nvim-dap-ui](https://user-images.githubusercontent.com/1269815/130146808-419ad5ec-f66c-462f-879b-878e149a8209.gif)\r\n\r\nOn nvim-dap-ui `.close()`, everything gets closed, except the original buffer and the new terminal one, which doesn't have focus.",
            "created_at": "2021-08-20T12:07:12Z",
            "html_url": "https://github.com/neovim/neovim/issues/14986#issuecomment-902645266",
            "id": 902645266,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14986",
            "node_id": "IC_kwDOAPphoM41zUYS",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/902645266/reactions"
            },
            "updated_at": "2021-08-20T14:32:28Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/902645266",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1269815?v=4",
                "events_url": "https://api.github.com/users/oblitum/events{/privacy}",
                "followers_url": "https://api.github.com/users/oblitum/followers",
                "following_url": "https://api.github.com/users/oblitum/following{/other_user}",
                "gists_url": "https://api.github.com/users/oblitum/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/oblitum",
                "id": 1269815,
                "login": "oblitum",
                "node_id": "MDQ6VXNlcjEyNjk4MTU=",
                "organizations_url": "https://api.github.com/users/oblitum/orgs",
                "received_events_url": "https://api.github.com/users/oblitum/received_events",
                "repos_url": "https://api.github.com/users/oblitum/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/oblitum/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/oblitum/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/oblitum"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> @justinmk it doesn't. None of this works because the target terminal buffer may not be in focus on `TermClose`. I tried to set `autocmd TermClose * call nvim_input('<CR>')` and it sent an enter to an unrelated buffer instead of the terminal one, `autocmd TermClose * quit` closed _just_ the other non-terminal buffer, etc.\r\n\r\nDid you try what @justinmk suggested and use `bdelete!`? It's no surprise that `call nvim_input('<CR>')` didn't work, as the autocommand does not automatically focus the terminal buffer before executing the command. `bdelete` should work just fine though, as all _buffer_ commands (such as `:bdelete`) do execute in the context of the autocommand buffer.\r\n\r\nI don't think we should be adding any options to `:terminal`. We should instead just create better defaults. I think a good start would be to automatically close the terminal buffer if the user did not provide a `{cmd}` to `:terminal` **AND** the terminal exits with status code 0 (no errors).\r\n\r\nThis should be pretty easy to implement once #15406 is merged.",
            "created_at": "2021-08-20T13:00:15Z",
            "html_url": "https://github.com/neovim/neovim/issues/14986#issuecomment-902675513",
            "id": 902675513,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14986",
            "node_id": "IC_kwDOAPphoM41zbw5",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/902675513/reactions"
            },
            "updated_at": "2021-08-20T14:32:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/902675513",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8965202?v=4",
                "events_url": "https://api.github.com/users/gpanders/events{/privacy}",
                "followers_url": "https://api.github.com/users/gpanders/followers",
                "following_url": "https://api.github.com/users/gpanders/following{/other_user}",
                "gists_url": "https://api.github.com/users/gpanders/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gpanders",
                "id": 8965202,
                "login": "gpanders",
                "node_id": "MDQ6VXNlcjg5NjUyMDI=",
                "organizations_url": "https://api.github.com/users/gpanders/orgs",
                "received_events_url": "https://api.github.com/users/gpanders/received_events",
                "repos_url": "https://api.github.com/users/gpanders/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gpanders/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gpanders/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gpanders"
            }
        },
        {
            "author_association": "NONE",
            "body": "@gpanders I did, and as expected, `:bdelete` alone wouldn't help, only `:bdelete!`, but as you can notice, I even tried `:quit` as well. None works.",
            "created_at": "2021-08-20T13:07:03Z",
            "html_url": "https://github.com/neovim/neovim/issues/14986#issuecomment-902680027",
            "id": 902680027,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14986",
            "node_id": "IC_kwDOAPphoM41zc3b",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/902680027/reactions"
            },
            "updated_at": "2021-08-20T14:37:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/902680027",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1269815?v=4",
                "events_url": "https://api.github.com/users/oblitum/events{/privacy}",
                "followers_url": "https://api.github.com/users/oblitum/followers",
                "following_url": "https://api.github.com/users/oblitum/following{/other_user}",
                "gists_url": "https://api.github.com/users/oblitum/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/oblitum",
                "id": 1269815,
                "login": "oblitum",
                "node_id": "MDQ6VXNlcjEyNjk4MTU=",
                "organizations_url": "https://api.github.com/users/oblitum/orgs",
                "received_events_url": "https://api.github.com/users/oblitum/received_events",
                "repos_url": "https://api.github.com/users/oblitum/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/oblitum/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/oblitum/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/oblitum"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> @gpanders I did, and as expected, `:bdelete` alone wouldn't help, only `:bdelete!`, but as you can notice, I even tried `:quit` as well. None works.\r\n\r\nThis is a known issue and will be fixed in https://github.com/neovim/neovim/pull/15402. `:bdelete!` does work, so I'm not sure why you're saying it doesn't.",
            "created_at": "2021-08-20T13:10:01Z",
            "html_url": "https://github.com/neovim/neovim/issues/14986#issuecomment-902681813",
            "id": 902681813,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14986",
            "node_id": "IC_kwDOAPphoM41zdTV",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/902681813/reactions"
            },
            "updated_at": "2021-08-20T14:37:44Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/902681813",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8965202?v=4",
                "events_url": "https://api.github.com/users/gpanders/events{/privacy}",
                "followers_url": "https://api.github.com/users/gpanders/followers",
                "following_url": "https://api.github.com/users/gpanders/following{/other_user}",
                "gists_url": "https://api.github.com/users/gpanders/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gpanders",
                "id": 8965202,
                "login": "gpanders",
                "node_id": "MDQ6VXNlcjg5NjUyMDI=",
                "organizations_url": "https://api.github.com/users/gpanders/orgs",
                "received_events_url": "https://api.github.com/users/gpanders/received_events",
                "repos_url": "https://api.github.com/users/gpanders/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gpanders/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gpanders/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gpanders"
            }
        },
        {
            "author_association": "NONE",
            "body": "I'm on 0.5 and it just closes the original buffer and leave the disposed terminal one still open.\r\n\r\n![gif-2021-08-20-101433](https://user-images.githubusercontent.com/1269815/130238854-f3f7380a-4334-4e0b-b582-5908056b0573.gif)\r\n",
            "created_at": "2021-08-20T13:11:31Z",
            "html_url": "https://github.com/neovim/neovim/issues/14986#issuecomment-902682685",
            "id": 902682685,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14986",
            "node_id": "IC_kwDOAPphoM41zdg9",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/902682685/reactions"
            },
            "updated_at": "2021-08-20T14:31:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/902682685",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1269815?v=4",
                "events_url": "https://api.github.com/users/oblitum/events{/privacy}",
                "followers_url": "https://api.github.com/users/oblitum/followers",
                "following_url": "https://api.github.com/users/oblitum/following{/other_user}",
                "gists_url": "https://api.github.com/users/oblitum/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/oblitum",
                "id": 1269815,
                "login": "oblitum",
                "node_id": "MDQ6VXNlcjEyNjk4MTU=",
                "organizations_url": "https://api.github.com/users/oblitum/orgs",
                "received_events_url": "https://api.github.com/users/oblitum/received_events",
                "repos_url": "https://api.github.com/users/oblitum/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/oblitum/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/oblitum/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/oblitum"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "This looks like an issue with the DAP plugin. We're getting off-topic of the issue at hand, so please open a new issue here or with nvim-dap.",
            "created_at": "2021-08-20T13:17:29Z",
            "html_url": "https://github.com/neovim/neovim/issues/14986#issuecomment-902686602",
            "id": 902686602,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14986",
            "node_id": "IC_kwDOAPphoM41zeeK",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 1,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/902686602/reactions"
            },
            "updated_at": "2021-08-20T14:37:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/902686602",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8965202?v=4",
                "events_url": "https://api.github.com/users/gpanders/events{/privacy}",
                "followers_url": "https://api.github.com/users/gpanders/followers",
                "following_url": "https://api.github.com/users/gpanders/following{/other_user}",
                "gists_url": "https://api.github.com/users/gpanders/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gpanders",
                "id": 8965202,
                "login": "gpanders",
                "node_id": "MDQ6VXNlcjg5NjUyMDI=",
                "organizations_url": "https://api.github.com/users/gpanders/orgs",
                "received_events_url": "https://api.github.com/users/gpanders/received_events",
                "repos_url": "https://api.github.com/users/gpanders/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gpanders/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gpanders/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gpanders"
            }
        },
        {
            "author_association": "NONE",
            "body": "@gpanders that doesn't make sense, I expect an `autocmd TermClose * bdelete!` to target the terminal buffer that trigger the `TermClose`, regardless from where this terminal buffer originates.",
            "created_at": "2021-08-20T13:19:24Z",
            "html_url": "https://github.com/neovim/neovim/issues/14986#issuecomment-902687881",
            "id": 902687881,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14986",
            "node_id": "IC_kwDOAPphoM41zeyJ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/902687881/reactions"
            },
            "updated_at": "2021-08-20T14:37:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/902687881",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1269815?v=4",
                "events_url": "https://api.github.com/users/oblitum/events{/privacy}",
                "followers_url": "https://api.github.com/users/oblitum/followers",
                "following_url": "https://api.github.com/users/oblitum/following{/other_user}",
                "gists_url": "https://api.github.com/users/oblitum/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/oblitum",
                "id": 1269815,
                "login": "oblitum",
                "node_id": "MDQ6VXNlcjEyNjk4MTU=",
                "organizations_url": "https://api.github.com/users/oblitum/orgs",
                "received_events_url": "https://api.github.com/users/oblitum/received_events",
                "repos_url": "https://api.github.com/users/oblitum/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/oblitum/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/oblitum/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/oblitum"
            }
        },
        {
            "author_association": "NONE",
            "body": "From what I can tell, with this kind of solution, to get something possibly reliable in any case, I'd need to involve a `:bufdo` and apply an `if !v:event.status`, or something in that sense to filter out an specific terminal buffer, which is overkill.",
            "created_at": "2021-08-20T13:21:26Z",
            "html_url": "https://github.com/neovim/neovim/issues/14986#issuecomment-902689174",
            "id": 902689174,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14986",
            "node_id": "IC_kwDOAPphoM41zfGW",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/902689174/reactions"
            },
            "updated_at": "2021-08-20T13:52:11Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/902689174",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1269815?v=4",
                "events_url": "https://api.github.com/users/oblitum/events{/privacy}",
                "followers_url": "https://api.github.com/users/oblitum/followers",
                "following_url": "https://api.github.com/users/oblitum/following{/other_user}",
                "gists_url": "https://api.github.com/users/oblitum/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/oblitum",
                "id": 1269815,
                "login": "oblitum",
                "node_id": "MDQ6VXNlcjEyNjk4MTU=",
                "organizations_url": "https://api.github.com/users/oblitum/orgs",
                "received_events_url": "https://api.github.com/users/oblitum/received_events",
                "repos_url": "https://api.github.com/users/oblitum/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/oblitum/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/oblitum/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/oblitum"
            }
        },
        {
            "author_association": "NONE",
            "body": "I found a way to make this work properly in current state of matters:\r\n\r\n```vim\r\n:autocmd TermClose * execute 'bdelete! ' . expand('<abuf>')\r\n```\r\n\r\n`expand('<abuf>')` avoids from sending a `bdelete` to an unrelated buffer currently focused at the moment of the `TermClose` and instead target the actual buffer that triggered the `TermClose`. ",
            "created_at": "2021-08-20T13:47:49Z",
            "html_url": "https://github.com/neovim/neovim/issues/14986#issuecomment-902705190",
            "id": 902705190,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14986",
            "node_id": "IC_kwDOAPphoM41zjAm",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 8,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 6,
                "hooray": 2,
                "laugh": 0,
                "rocket": 0,
                "total_count": 16,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/902705190/reactions"
            },
            "updated_at": "2021-08-20T13:50:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/902705190",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1269815?v=4",
                "events_url": "https://api.github.com/users/oblitum/events{/privacy}",
                "followers_url": "https://api.github.com/users/oblitum/followers",
                "following_url": "https://api.github.com/users/oblitum/following{/other_user}",
                "gists_url": "https://api.github.com/users/oblitum/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/oblitum",
                "id": 1269815,
                "login": "oblitum",
                "node_id": "MDQ6VXNlcjEyNjk4MTU=",
                "organizations_url": "https://api.github.com/users/oblitum/orgs",
                "received_events_url": "https://api.github.com/users/oblitum/received_events",
                "repos_url": "https://api.github.com/users/oblitum/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/oblitum/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/oblitum/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/oblitum"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "*Not so good*:\r\n![image](https://user-images.githubusercontent.com/53520949/194736128-ee6b7a30-8d70-43f3-bccb-f5187343d05c.png)\r\n\r\n\r\n\r\nFrom https://github.com/voldikss/vim-floaterm/issues/315:\r\n> ... to auto delete terminal buffers when they exit. This isn't working great with vim-floaterm because the terminal gets delete but the floating window is left behind empty.\r\n\r\nSimilar problem with the plugin\r\n```vim\r\nplug 'https://github.com/sisrfeng/sk'\r\n    plug 'https://github.com/sisrfeng/skim' ,\r\n          \\ {\r\n           \\ 'dir': $LEO_TOOL . '/skim',\r\n           \\ 'do': './install',\r\n          \\ }\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/53520949/194685247-26c1a05d-54a9-477b-85f9-5e69333aafcc.png)\r\n\r\n\r\n\r\n",
            "created_at": "2022-10-09T03:18:35Z",
            "html_url": "https://github.com/neovim/neovim/issues/14986#issuecomment-1272444424",
            "id": 1272444424,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14986",
            "node_id": "IC_kwDOAPphoM5L1_YI",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1272444424/reactions"
            },
            "updated_at": "2023-08-11T11:57:23Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1272444424",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/53520949?v=4",
                "events_url": "https://api.github.com/users/sisrfeng/events{/privacy}",
                "followers_url": "https://api.github.com/users/sisrfeng/followers",
                "following_url": "https://api.github.com/users/sisrfeng/following{/other_user}",
                "gists_url": "https://api.github.com/users/sisrfeng/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sisrfeng",
                "id": 53520949,
                "login": "sisrfeng",
                "node_id": "MDQ6VXNlcjUzNTIwOTQ5",
                "organizations_url": "https://api.github.com/users/sisrfeng/orgs",
                "received_events_url": "https://api.github.com/users/sisrfeng/received_events",
                "repos_url": "https://api.github.com/users/sisrfeng/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sisrfeng/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sisrfeng/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sisrfeng"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Here is my workaround to deleting that pesky line üòÇ\r\n\r\n```lua\r\n  vim.api.nvim_create_autocmd('TermClose', {\r\n    group = vim.api.nvim_create_augroup('DeleteLastLineTermClose', { clear = true }),\r\n    pattern = { '*' },\r\n    callback = function(ev)\r\n      local delete_line_timer = vim.fn.timer_start(\r\n        100,\r\n        function(t) ---@diagnostic disable-line: redundant-parameter\r\n          local process_exited_line = vim.fn.search('\\\\[process exited \\\\d\\\\]', 'bn')\r\n          if process_exited_line > 0 then\r\n            vim.api.nvim_set_option_value('modifiable', true, { buf = ev.buf, })\r\n            vim.api.nvim_buf_set_lines(ev.buf, process_exited_line - 1, process_exited_line, true, { '' })\r\n            vim.api.nvim_set_option_value('modifiable', false, { buf = ev.buf, })\r\n            vim.fn.timer_stop(t)\r\n          end\r\n        end,\r\n        { ['repeat'] = -1 } -- repeat indefinitely but will be cancelled after 3 seconds\r\n      )\r\n\r\n      -- give at most 3 seconds of an attempt to delete the line\r\n      vim.defer_fn(\r\n        function() vim.fn.timer_stop(delete_line_timer) end,\r\n        3000\r\n      )\r\n    end\r\n  })\r\n```\r\nHope this helps someone!",
            "created_at": "2023-08-10T13:17:40Z",
            "html_url": "https://github.com/neovim/neovim/issues/14986#issuecomment-1673203103",
            "id": 1673203103,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14986",
            "node_id": "IC_kwDOAPphoM5juw2f",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1673203103/reactions"
            },
            "updated_at": "2023-08-10T13:17:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1673203103",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10135646?v=4",
                "events_url": "https://api.github.com/users/mikesmithgh/events{/privacy}",
                "followers_url": "https://api.github.com/users/mikesmithgh/followers",
                "following_url": "https://api.github.com/users/mikesmithgh/following{/other_user}",
                "gists_url": "https://api.github.com/users/mikesmithgh/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mikesmithgh",
                "id": 10135646,
                "login": "mikesmithgh",
                "node_id": "MDQ6VXNlcjEwMTM1NjQ2",
                "organizations_url": "https://api.github.com/users/mikesmithgh/orgs",
                "received_events_url": "https://api.github.com/users/mikesmithgh/received_events",
                "repos_url": "https://api.github.com/users/mikesmithgh/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mikesmithgh/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mikesmithgh/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mikesmithgh"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "`tno <M-C-D>   <C-\\><C-N>:bd!<cr>`  solves my problem.  (But if your using neovide, `Alt` will not work untill next release.)",
            "created_at": "2023-08-11T07:47:39Z",
            "html_url": "https://github.com/neovim/neovim/issues/14986#issuecomment-1674339425",
            "id": 1674339425,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14986",
            "node_id": "IC_kwDOAPphoM5jzGRh",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1674339425/reactions"
            },
            "updated_at": "2023-08-11T07:47:39Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1674339425",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/53520949?v=4",
                "events_url": "https://api.github.com/users/sisrfeng/events{/privacy}",
                "followers_url": "https://api.github.com/users/sisrfeng/followers",
                "following_url": "https://api.github.com/users/sisrfeng/following{/other_user}",
                "gists_url": "https://api.github.com/users/sisrfeng/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sisrfeng",
                "id": 53520949,
                "login": "sisrfeng",
                "node_id": "MDQ6VXNlcjUzNTIwOTQ5",
                "organizations_url": "https://api.github.com/users/sisrfeng/orgs",
                "received_events_url": "https://api.github.com/users/sisrfeng/received_events",
                "repos_url": "https://api.github.com/users/sisrfeng/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sisrfeng/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sisrfeng/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sisrfeng"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "With #15440 , `:terminal` is closed if the command exits without error. [:help default-autocmds](https://neovim.io/doc/user/vim_diff.html#default-autocmds)\r\n\r\nTo disable this behavior:\r\n\r\n    :autocmd! nvim_terminal TermClose\r\n\r\n## Status\r\n\r\nBut we still need to remove the `[Process exited]` text from the buffer contents (show it in 'statusline' instead, like Vim).\r\n\r\n## Proposal 1\r\n\r\n- The main missing piece is a way to get the result (error code) of the terminal process.\r\n    - Add a `code` field to the result of `nvim_get_chan_info`.\r\n    - ‚ö†Ô∏è Currently, when a process exits, Nvim destroys the job info, so `nvim_get_chan_info()` won't work.\r\n        - To fix that, the _minimum_ interface is to change the internal channels/jobs list to keep ring buffer of the last N channels, instead of destroying the channel immediately.\r\n        - Deprecate `nvim_list_chans`.\r\n        - Deprecate `nvim_get_chan_info`.\r\n        - Introduce `nvim_chan_get(channelId, opts): List<Dict>` \r\n- The default 'statusline' should show the exit code (e.g. `Exit code: 0`). Users with a custom statusline can get the exit code via `nvim_chan_get()`.\r\n\r\n## Proposal 2\r\n\r\nAllow job handlers to be defined on existing jobs: https://github.com/neovim/neovim/issues/5023 . Then the exit-code can be captured by a Lua callback which sets the statusline or whatever.",
            "created_at": "2023-08-13T12:37:31Z",
            "html_url": "https://github.com/neovim/neovim/issues/14986#issuecomment-1676347598",
            "id": 1676347598,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14986",
            "node_id": "IC_kwDOAPphoM5j6wjO",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 4,
                "laugh": 0,
                "rocket": 0,
                "total_count": 4,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1676347598/reactions"
            },
            "updated_at": "2024-01-29T17:51:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1676347598",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        }
    ],
    "comments": 17,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/14986/comments",
    "created_at": "2021-07-04T16:49:05Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/14986/events",
    "html_url": "https://github.com/neovim/neovim/issues/14986",
    "id": 936497365,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "feature request",
            "id": 77997476,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Ng==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/enhancement"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "built-in :terminal or :shell",
            "id": 212696822,
            "name": "terminal",
            "node_id": "MDU6TGFiZWwyMTI2OTY4MjI=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/terminal"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/14986/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 601,
        "created_at": "2014-05-10T20:43:04Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk"
        },
        "description": "Low priority. Not planned for the current target, may be reassigned.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/6",
        "id": 655037,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lNjU1MDM3",
        "number": 6,
        "open_issues": 515,
        "state": "open",
        "title": "backlog",
        "updated_at": "2024-04-01T02:46:11Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/6"
    },
    "node_id": "MDU6SXNzdWU5MzY0OTczNjU=",
    "number": 14986,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 9,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 9,
        "url": "https://api.github.com/repos/neovim/neovim/issues/14986/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": "reopened",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/14986/timeline",
    "title": "do not show [Process exited] in finished terminals",
    "updated_at": "2024-03-30T13:17:46Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/14986",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/597206?v=4",
        "events_url": "https://api.github.com/users/Hubro/events{/privacy}",
        "followers_url": "https://api.github.com/users/Hubro/followers",
        "following_url": "https://api.github.com/users/Hubro/following{/other_user}",
        "gists_url": "https://api.github.com/users/Hubro/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/Hubro",
        "id": 597206,
        "login": "Hubro",
        "node_id": "MDQ6VXNlcjU5NzIwNg==",
        "organizations_url": "https://api.github.com/users/Hubro/orgs",
        "received_events_url": "https://api.github.com/users/Hubro/received_events",
        "repos_url": "https://api.github.com/users/Hubro/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/Hubro/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Hubro/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/Hubro"
    }
}