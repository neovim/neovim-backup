{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "<!-- Before reporting: search existing issues and check the FAQ. -->\r\n\r\n- `nvim --version`: NVIM v0.5.0-3de9452\r\n- `vim -u DEFAULTS` (version: ) behaves differently? Issue does not occur in Vim8 or MacVim.\r\n- Operating system/version: macOS Catalina\r\n- Terminal name/version: iTerm2 3.3.9\r\n- `$TERM`: xterm-256color\r\n\r\n### Steps to reproduce using `nvim -u NORC`\r\n\r\n1. Open a large typescript file (mine was 5600 lines).\r\n2. syntax on\r\n3. Make sure there is inertial scrolling in macOS. It also happens without inertial scrolling on (but harder to do). Without inertial scrolling, you can scroll really fast and then for some reason inertial scrolling effects turn on (it continues scrolling even if you stop) and causes the problem.\r\n4. Scroll as fast as you can downwards. Once you hit the bottom of the page, immediately scroll as fast as you can upwards. Once you hit the top of the file, keep scrolling up. \r\n```\r\nnvim -u NORC\r\n# Alternative for shell-related problems:\r\n# env -i TERM=ansi-256color \"$(which nvim)\"\r\n\r\n```\r\n\r\n### Actual behaviour\r\n- Letters `B` will get inserted as newlines at the bottom, and `A` gets inserted when you hit the top of the file.\r\n- Also experience some UI skipping when scrolling up.\r\n- If I scroll down and halfway reverse direction and scroll up, it continues scrolling down.\r\n\r\n### Expected behaviour\r\n\r\n- No letters being inserted if reversing scroll direction.\r\n- No UI skipping\r\n- I should be able to reverse scroll direction instantly\r\n\r\nI've been able to reproduce this bug in iTerm2, Kitty, and Alacritty, but it does not seem to happen in the default macOS Terminal.app.\r\n\r\nIf I turn on all my plugins, and I do the same scroll, the problem is exacerbated. By the time I hit the bottom of the file, it just gets stuck there and I have to kill neovim. After killing I get these escape codes sent to the terminal:\r\n<img width=\"1538\" alt=\"image\" src=\"https://user-images.githubusercontent.com/109630/80895377-da6a9080-8ca9-11ea-83b1-77aa870e8688.png\">\r\n^[[<65;59;12M",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/12236/comments",
    "created_at": "2020-05-02T23:40:29Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/12236/events",
    "html_url": "https://github.com/neovim/neovim/issues/12236",
    "id": 611296642,
    "labels": [],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/12236/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU2MTEyOTY2NDI=",
    "number": 12236,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/12236/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/12236/timeline",
    "title": "Scrolling problems on large files when reversing scroll direction. Letters get inserted.",
    "type": {
        "color": "red",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "An unexpected problem or behavior",
        "id": 597163,
        "is_enabled": true,
        "name": "Bug",
        "node_id": "IT_kwDOAGK_Pc4ACRyr",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-07-02T08:36:58Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/12236",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/109630?v=4",
        "events_url": "https://api.github.com/users/chrischen/events{/privacy}",
        "followers_url": "https://api.github.com/users/chrischen/followers",
        "following_url": "https://api.github.com/users/chrischen/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrischen/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/chrischen",
        "id": 109630,
        "login": "chrischen",
        "node_id": "MDQ6VXNlcjEwOTYzMA==",
        "organizations_url": "https://api.github.com/users/chrischen/orgs",
        "received_events_url": "https://api.github.com/users/chrischen/received_events",
        "repos_url": "https://api.github.com/users/chrischen/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/chrischen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrischen/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/chrischen",
        "user_view_type": "public"
    }
}