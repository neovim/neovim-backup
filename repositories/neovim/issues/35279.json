{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nIt seems like wrapping in terminal buffer does not respect DECSLRM(left/right scroll margin) when set. In this short screencap I am running a script that will write out codes to.\n\n---\n\n1. enable alt-buffer (?1049)\n2. enable LR margin DECLRMM (?69)\n3. set LR margin DECSLRM 10;20 (CSI 10;20 s)\n4. set vertical margin DECSTBM 10;20 (CSI 10;20 r)\n5. enable cursor origin DECOM (?6)\n\nThen just continuously send 'x'.\n\n---\n\nMy expectation is that once enough x's are printed to reach the right margin (20) that output would wrap to the next line starting at the left margin (10). Instead, it just prints through the right margin until the end of the terminal buffer and then wraps to the beginning of buffer as if LR margin had not been set at all. Although the very first 'x' does start at cell 10,10 as I would expect with the margins set.\n\nhttps://github.com/user-attachments/assets/8d479265-de8f-40f8-aac5-62518be9840f\n\n### Steps to reproduce\n\nnvim\n:term\n\nrun attached script as .ts with Deno. Or use whatever you want to reproduce the steps outlined in the problem section.\n\n[DECSLRM-example.txt](https://github.com/user-attachments/files/21702873/DECSLRM-example.txt)\n\n### Expected behavior\n\nWhen LR margin (DECSLRM) is set and origin mode (DECOM) is enabled. Output in the term buffer should wrap at the right margin set.\n\nhttps://github.com/user-attachments/assets/a2ed23f7-a84d-4eda-bea0-0ca1dd2f73a8\n\n### Nvim version (nvim -v)\n\nv0.12.0-dev-974+g2c3929624a\n\n### Vim (not Nvim) behaves the same?\n\nyes (9.1.697)\n\n### Operating system/version\n\nubuntu 24.04.2 LTS (windows subsystem for linux WSL2)\n\n### Terminal name/version\n\nWindows Terminal/\n\n### $TERM environment variable\n\nxterm-256color\n\n### Installation\n\nsnap",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/35279/comments",
    "created_at": "2025-08-10T00:36:24Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/35279/events",
    "html_url": "https://github.com/neovim/neovim/issues/35279",
    "id": 3307036733,
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "built-in :terminal or :shell",
            "id": 212696822,
            "name": "terminal",
            "node_id": "MDU6TGFiZWwyMTI2OTY4MjI=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/terminal"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/35279/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM7FHWA9",
    "number": 35279,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/35279/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/35279/timeline",
    "title": "Terminal wrap does not respect DECSLRM",
    "type": {
        "color": "red",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "An unexpected problem or behavior",
        "id": 597163,
        "is_enabled": true,
        "name": "Bug",
        "node_id": "IT_kwDOAGK_Pc4ACRyr",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-08-10T00:38:37Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/35279",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/29217261?v=4",
        "events_url": "https://api.github.com/users/Mr-Nobody99/events{/privacy}",
        "followers_url": "https://api.github.com/users/Mr-Nobody99/followers",
        "following_url": "https://api.github.com/users/Mr-Nobody99/following{/other_user}",
        "gists_url": "https://api.github.com/users/Mr-Nobody99/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/Mr-Nobody99",
        "id": 29217261,
        "login": "Mr-Nobody99",
        "node_id": "MDQ6VXNlcjI5MjE3MjYx",
        "organizations_url": "https://api.github.com/users/Mr-Nobody99/orgs",
        "received_events_url": "https://api.github.com/users/Mr-Nobody99/received_events",
        "repos_url": "https://api.github.com/users/Mr-Nobody99/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/Mr-Nobody99/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Mr-Nobody99/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/Mr-Nobody99",
        "user_view_type": "public"
    }
}