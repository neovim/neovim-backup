{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nBuffer local mappings for `<ScrollWheelDown/Up>` take effect based on which buffer is currently focused, rather than which buffer is being scrolled. \n\n### Steps to reproduce\n```\nnvim --clean\n:=vim.api.nvim_buf_set_keymap(0, 'n', '<ScrollWheelDown>', '<cmd>echo \"test\"<cr>', {})\nScroll down with mouse, see \"test\" message\n\n<C-w>v\n<C-w>w\n:enew\nScroll down with mouse on the buffer on the left (with buffer local mapping), no message\n\n<C-w>w\nScroll down with mouse on either buffer, see \"test\" message\n```\n\n### Expected behavior\n\nBuffer local mappings for ScrollWheelDown/Up should arguably be applied based on the buffer that's being scrolled, rather than the buffer that's currently focused. My specific use case is scrolling the completion menu with the mouse for blink.cmp. As is, I would need to set the binding on the current buffer and figure out how to detect whether the menu is being scrolled.\n\n### Nvim version (nvim -v)\n\n0.12.0-nightly+b79ff96\n\n### Vim (not Nvim) behaves the same?\n\nyes, vim 9.1.1475\n\n### Operating system/version\n\nNixOS Unstable 25.11\n\n### Terminal name/version\n\nfoot 1.23.0\n\n### $TERM environment variable\n\nfoot\n\n### Installation\n\nNix overlay: https://github.com/nix-community/neovim-nightly-overlay",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "related?\n\n- https://github.com/neovim/neovim/issues/8012",
            "created_at": "2025-09-04T20:43:53Z",
            "html_url": "https://github.com/neovim/neovim/issues/35632#issuecomment-3255585161",
            "id": 3255585161,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35632",
            "node_id": "IC_kwDOAPphoM7CDEmJ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3255585161/reactions"
            },
            "updated_at": "2025-09-04T20:43:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3255585161",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 1,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/35632/comments",
    "created_at": "2025-09-04T19:43:33Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/35632/events",
    "html_url": "https://github.com/neovim/neovim/issues/35632",
    "id": 3385205227,
    "issue_dependencies_summary": {
        "blocked_by": 0,
        "blocking": 0,
        "total_blocked_by": 0,
        "total_blocking": 0
    },
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 646043375,
            "name": "mouse",
            "node_id": "MDU6TGFiZWw2NDYwNDMzNzU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/mouse"
        },
        {
            "color": "FBCA04",
            "default": false,
            "description": "upstream issue that must be fixed in Vim first",
            "id": 2639399975,
            "name": "needs:vim-patch",
            "node_id": "MDU6TGFiZWwyNjM5Mzk5OTc1",
            "url": "https://api.github.com/repos/neovim/neovim/labels/needs:vim-patch"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "key bindings, keycodes",
            "id": 3304938718,
            "name": "mappings",
            "node_id": "MDU6TGFiZWwzMzA0OTM4NzE4",
            "url": "https://api.github.com/repos/neovim/neovim/labels/mappings"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/35632/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 290,
        "created_at": "2014-11-26T22:13:11Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "We don't plan to work on this, but will accept high quality contributions from someone who will own the feature and follow up on bug reports.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/9",
        "id": 881978,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/9/labels",
        "node_id": "MDk6TWlsZXN0b25lODgxOTc4",
        "number": 9,
        "open_issues": 353,
        "state": "open",
        "title": "needs-owner",
        "updated_at": "2025-09-09T00:41:01Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/9"
    },
    "node_id": "I_kwDOAPphoM7JxiHr",
    "number": 35632,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/35632/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/35632/timeline",
    "title": "`<ScrollWheelDown/Up>` should use scrolled buffer's mappings",
    "type": {
        "color": "blue",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "A request, idea, or new functionality",
        "id": 597167,
        "is_enabled": true,
        "name": "Enhancement",
        "node_id": "IT_kwDOAGK_Pc4ACRyv",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-09-04T23:10:37Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/35632",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/10467983?v=4",
        "events_url": "https://api.github.com/users/Saghen/events{/privacy}",
        "followers_url": "https://api.github.com/users/Saghen/followers",
        "following_url": "https://api.github.com/users/Saghen/following{/other_user}",
        "gists_url": "https://api.github.com/users/Saghen/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/Saghen",
        "id": 10467983,
        "login": "Saghen",
        "node_id": "MDQ6VXNlcjEwNDY3OTgz",
        "organizations_url": "https://api.github.com/users/Saghen/orgs",
        "received_events_url": "https://api.github.com/users/Saghen/received_events",
        "repos_url": "https://api.github.com/users/Saghen/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/Saghen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Saghen/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/Saghen",
        "user_view_type": "public"
    }
}