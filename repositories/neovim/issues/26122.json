{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\r\n\r\nCalling `vim.system` within `vim.loop` results in failure, causing Neovim to exit with a 134 status code.\r\n\r\n### Steps to reproduce\r\n\r\n- Create following `repro.lua`\r\n```lua\r\nvim.loop.timer_start(vim.loop.new_timer(), 0, 100, function()\r\n  vim.system({ 'echo' }):wait()\r\nend)\r\n```\r\n- Open `nvim` with `nvim -u NORC -u repro.lua`.\r\n\r\n\r\n### Expected behavior\r\n\r\nSuccessfully opened neovim.\r\n\r\n### Neovim version (nvim -v)\r\n\r\nv0.10.0-dev-1453+ge0d97d264-Homebrew\r\n\r\n### Operating system/version\r\n\r\nmacOS 14.1.1\r\n\r\n### Terminal name/version\r\n\r\nwezterm\r\n\r\n### $TERM environment variable\r\n\r\nwezterm\r\n\r\n### Installation\r\n\r\nhomebrew",
    "closed_at": "2023-11-27T09:09:22Z",
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "Additionally, calling `vim.system(...):wait()` from the winbar using `%!v:lua...` prevents `vim.lsp.hover` from closing. I suspect this issue is related to that bug.",
            "created_at": "2023-11-20T16:14:14Z",
            "html_url": "https://github.com/neovim/neovim/issues/26122#issuecomment-1819368143",
            "id": 1819368143,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26122",
            "node_id": "IC_kwDOAPphoM5scVrP",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1819368143/reactions"
            },
            "updated_at": "2023-11-20T16:15:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1819368143",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/54583542?v=4",
                "events_url": "https://api.github.com/users/gen740/events{/privacy}",
                "followers_url": "https://api.github.com/users/gen740/followers",
                "following_url": "https://api.github.com/users/gen740/following{/other_user}",
                "gists_url": "https://api.github.com/users/gen740/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gen740",
                "id": 54583542,
                "login": "gen740",
                "node_id": "MDQ6VXNlcjU0NTgzNTQy",
                "organizations_url": "https://api.github.com/users/gen740/orgs",
                "received_events_url": "https://api.github.com/users/gen740/received_events",
                "repos_url": "https://api.github.com/users/gen740/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gen740/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gen740/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gen740"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Have you tried `vim.loop.spawn()` with `vim.wait()`? That should help reduce the bug further.",
            "created_at": "2023-11-21T09:43:26Z",
            "html_url": "https://github.com/neovim/neovim/issues/26122#issuecomment-1820566374",
            "id": 1820566374,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26122",
            "node_id": "IC_kwDOAPphoM5sg6Nm",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1820566374/reactions"
            },
            "updated_at": "2023-11-21T09:43:26Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1820566374",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I get this rough stacktrace:\r\n\r\n```\r\n 0   libsystem_kernel.dylib        \t       0x18822d11c __pthread_kill + 8\r\n1   libsystem_pthread.dylib       \t       0x188264cc0 pthread_kill + 288\r\n2   libsystem_c.dylib             \t       0x188174a40 abort + 180\r\n3   nvim                          \t       0x104e08080 loop_poll_events + 340\r\n4   nvim                          \t       0x104e9e7bc nlua_wait.llvm.4094449131833692778 + 1008\r\n5   nvim                          \t       0x104c53b7c lj_BC_FUNCC + 44\r\n6   nvim                          \t       0x104c69f00 lua_pcall + 228 (lj_api.c:1150)\r\n7   nvim                          \t       0x104cbed90 uv__run_timers + 44 (timer.c:178)\r\n8   nvim                          \t       0x104cc1fd0 uv_run + 596 (core.c:465)\r\n9   nvim                          \t       0x104e08048 loop_poll_events + 284\r\n10  nvim                          \t       0x104e631e4 vgetorpeek.llvm.16489879637176251020 + 1548\r\n11  nvim                          \t       0x104f1ad3c normal_check.llvm.4562386351950554467 + 1356\r\n12  nvim                          \t       0x10500eb38 state_enter + 108\r\n13  nvim                          \t       0x104dd1020 main + 16348\r\n14  dyld                          \t       0x187ee90e0 start + 2360\r\n```",
            "created_at": "2023-11-21T09:45:02Z",
            "html_url": "https://github.com/neovim/neovim/issues/26122#issuecomment-1820568943",
            "id": 1820568943,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26122",
            "node_id": "IC_kwDOAPphoM5sg61v",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1820568943/reactions"
            },
            "updated_at": "2023-11-21T09:45:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1820568943",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Hmm, `vim.wait()` shouldn't be allowed in a fast context at all.",
            "created_at": "2023-11-21T09:46:34Z",
            "html_url": "https://github.com/neovim/neovim/issues/26122#issuecomment-1820571516",
            "id": 1820571516,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26122",
            "node_id": "IC_kwDOAPphoM5sg7d8",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1820571516/reactions"
            },
            "updated_at": "2023-11-21T09:46:34Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1820571516",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I'm sure you are right, but could you explain why?",
            "created_at": "2023-11-21T09:47:39Z",
            "html_url": "https://github.com/neovim/neovim/issues/26122#issuecomment-1820573250",
            "id": 1820573250,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26122",
            "node_id": "IC_kwDOAPphoM5sg75C",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1820573250/reactions"
            },
            "updated_at": "2023-11-21T09:47:39Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1820573250",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Because `vim.wait()` runs the event loop, which cannot be run recursively...",
            "created_at": "2023-11-21T09:48:41Z",
            "html_url": "https://github.com/neovim/neovim/issues/26122#issuecomment-1820575051",
            "id": 1820575051,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26122",
            "node_id": "IC_kwDOAPphoM5sg8VL",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1820575051/reactions"
            },
            "updated_at": "2023-11-21T09:48:41Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1820575051",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Doesn't `vim.wait`already consider this with:\r\n\r\n```vimhelp\r\n      â€¢ {fast_only}  (boolean|nil) If true, only |api-fast| events will be\r\n                     processed. If called from while in an |api-fast| event,\r\n                     will automatically be set to `true`.\r\n```\r\n\r\n```c\r\n  MultiQueue *loop_events = fast_only || in_fast_callback > 0\r\n    ? main_loop.fast_events : main_loop.events;\r\n\r\n```\r\n\r\nI'm surprised we haven't seen this issue before.\r\n",
            "created_at": "2023-11-21T09:50:48Z",
            "html_url": "https://github.com/neovim/neovim/issues/26122#issuecomment-1820578545",
            "id": 1820578545,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26122",
            "node_id": "IC_kwDOAPphoM5sg9Lx",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1820578545/reactions"
            },
            "updated_at": "2023-11-21T09:53:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1820578545",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Smaller reproducer:\r\n\r\n```lua\r\nvim.uv.timer_start(vim.uv.new_timer(), 0, 100, function()\r\n  vim.wait(100, function()\r\n  end, 100)\r\nend)\r\n```",
            "created_at": "2023-11-21T10:01:35Z",
            "html_url": "https://github.com/neovim/neovim/issues/26122#issuecomment-1820589357",
            "id": 1820589357,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26122",
            "node_id": "IC_kwDOAPphoM5sg_0t",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1820589357/reactions"
            },
            "updated_at": "2023-11-21T10:01:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1820589357",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Oh, forgot about that.",
            "created_at": "2023-11-21T10:23:56Z",
            "html_url": "https://github.com/neovim/neovim/issues/26122#issuecomment-1820633657",
            "id": 1820633657,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26122",
            "node_id": "IC_kwDOAPphoM5shKo5",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1820633657/reactions"
            },
            "updated_at": "2023-11-21T10:23:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1820633657",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I'm not sure why `vim.wait` calls the main loop at all. From what I can tell it should always just process either the main events _or_ fast events via `multiqueue_process_events()`.\r\n\r\nI think this bug happens because of:\r\n\r\n```c\r\n#define LOOP_PROCESS_EVENTS(loop, multiqueue, timeout) \\\r\n  do { \\\r\n    if (multiqueue && !multiqueue_empty(multiqueue)) { \\\r\n      multiqueue_process_events(multiqueue); \\\r\n    } else { \\\r\n      loop_poll_events(loop, timeout); \\\r\n    } \\\r\n  } while (0)\r\n```\r\n\r\nand we hit the `else` because `multiqueue` is empty.",
            "created_at": "2023-11-21T10:30:33Z",
            "html_url": "https://github.com/neovim/neovim/issues/26122#issuecomment-1820646344",
            "id": 1820646344,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26122",
            "node_id": "IC_kwDOAPphoM5shNvI",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1820646344/reactions"
            },
            "updated_at": "2023-11-21T10:31:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1820646344",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "The loop handling logic isn't particularly clear (maybe needs more docs), but _I think_ I now roughly understand it and this should be fixed in #26132",
            "created_at": "2023-11-21T12:18:42Z",
            "html_url": "https://github.com/neovim/neovim/issues/26122#issuecomment-1820816496",
            "id": 1820816496,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26122",
            "node_id": "IC_kwDOAPphoM5sh3Rw",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1820816496/reactions"
            },
            "updated_at": "2023-11-21T12:19:01Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1820816496",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        }
    ],
    "comments": 11,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/26122/comments",
    "created_at": "2023-11-20T16:05:10Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/26122/events",
    "html_url": "https://github.com/neovim/neovim/issues/26122",
    "id": 2002530568,
    "labels": [
        {
            "color": "F9D0C4",
            "default": false,
            "description": "issue reporting a crash or segfault",
            "id": 435854234,
            "name": "bug-crash",
            "node_id": "MDU6TGFiZWw0MzU4NTQyMzQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-crash"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": null,
            "id": 573222693,
            "name": "lua",
            "node_id": "MDU6TGFiZWw1NzMyMjI2OTM=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lua"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/26122/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM53XDEI",
    "number": 26122,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/26122/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/26122/timeline",
    "title": "Calling `vim.wait` within fast events results in crash",
    "updated_at": "2023-11-27T09:09:23Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/26122",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/54583542?v=4",
        "events_url": "https://api.github.com/users/gen740/events{/privacy}",
        "followers_url": "https://api.github.com/users/gen740/followers",
        "following_url": "https://api.github.com/users/gen740/following{/other_user}",
        "gists_url": "https://api.github.com/users/gen740/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/gen740",
        "id": 54583542,
        "login": "gen740",
        "node_id": "MDQ6VXNlcjU0NTgzNTQy",
        "organizations_url": "https://api.github.com/users/gen740/orgs",
        "received_events_url": "https://api.github.com/users/gen740/received_events",
        "repos_url": "https://api.github.com/users/gen740/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/gen740/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/gen740/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/gen740"
    }
}