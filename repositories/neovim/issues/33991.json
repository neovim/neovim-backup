{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "### Problem\n\nNo easy way to detect treesitter parsing errors in the current buffer*\n\n\n*You could add a highlights.scm query that highlights the whole ERROR node, but this doesn't come with the goodies that diagnostics provide.\n\n### Expected behavior\n\nDiagnostics are incredibly useful for quickly identifying syntax errors in code buffers, but \ncurrently diagnostics are often limited to LSP diagnostics. Not all filetypes having LSP servers available, or users might not have these external programs installed.\n\nTreesitter is another valuable addition to the Nvim toolset that provides context-aware highlighting, but there is currently no clear way to show where the TS parser fails to parse the buffers contents. For some filetypes, having a LSP would be overkill (think sshconfig or other config files), but a TS parser exists and can easily point to syntax errors.\n\nIt would be valuable to display TS parse errors as diagnostics to easily spot syntax errors without LSP.\n\nThis idea is originally proposed in this [reddit thread](https://www.reddit.com/r/neovim/comments/1ir069p/treesitter_diagnostics/) and I have been using and enjoying it for some months now. Their implementation is less than 100 LOC.\n\nI understand that this can get a bit noisy with certain TS parsers (I noticed the vimscript parser is often wrong for example), so I would propose to make it opt-in, and possible to disable per-filetype / per-parser.\n\nRelated:\n- #13959 sounds similar, but wants to expose actual errors that happen during parsing instead of exposing the ERROR node via Nvims diagnostics.\n",
    "closed_at": "2025-05-13T11:13:13Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
        "events_url": "https://api.github.com/users/clason/events{/privacy}",
        "followers_url": "https://api.github.com/users/clason/followers",
        "following_url": "https://api.github.com/users/clason/following{/other_user}",
        "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/clason",
        "id": 2361214,
        "login": "clason",
        "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
        "organizations_url": "https://api.github.com/users/clason/orgs",
        "received_events_url": "https://api.github.com/users/clason/received_events",
        "repos_url": "https://api.github.com/users/clason/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/clason",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Let me get this right: you want tree-sitter parsing errors _for arbitrary languages_?\n\nThis only makes sense if you want to develop tree-sitter parsers -- in which case there are better tools available. \n\nOtherwise this will be _very_ noisy while typing. \n\n(Using treesitter as an \"LSP at home\" is not a good idea, since the vast majority of parsers are deliberately not strict. That is one of the first tips given to grammar writers: Be permissive, don't worry about incorrect code, the goal is syntax highlighting not linting.)",
            "created_at": "2025-05-12T19:25:19Z",
            "html_url": "https://github.com/neovim/neovim/issues/33991#issuecomment-2873746288",
            "id": 2873746288,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33991",
            "node_id": "IC_kwDOAPphoM6rSeNw",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2873746288/reactions"
            },
            "updated_at": "2025-05-12T19:25:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2873746288",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Oh, and ERROR nodes _are_ parsing errors, there is no other thing. They are often not where the actual error is, but where tree-sitter finally throws up its hands and sulks. \n\nOn the other hand, there is _misparsing_ where the parser successfully returns a syntax tree but it's not the one you want. But those are the syntax errors you most want to catch...",
            "created_at": "2025-05-12T19:26:07Z",
            "html_url": "https://github.com/neovim/neovim/issues/33991#issuecomment-2873748201",
            "id": 2873748201,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33991",
            "node_id": "IC_kwDOAPphoM6rSerp",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2873748201/reactions"
            },
            "updated_at": "2025-05-12T19:31:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2873748201",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Okay I think it would've been nice if I had included some examples. Here is what I mean:\n\n![Image](https://github.com/user-attachments/assets/24e641b7-7dcb-4b1a-a6ee-830ba62b8e4e)\n\nIn this example, TS for sshconfig recognizes that `Uset` is not a valid property and reports it.\n\n![Image](https://github.com/user-attachments/assets/dabfb09a-f616-4363-bfde-16dc64653ef4)\n\nHere I used Lua syntax for a table in a Python file, also resulting in an ERROR node.\n\nAnd regarding your questions / remarks:\n\n\n> (Using treesitter as an \"LSP at home\" is not a good idea, since the vast majority of parsers are deliberately not strict. That is one of the first tips given to grammar writers: Be permissive, don't worry about incorrect code, the goal is syntax highlighting not linting.)\n\nGood point. However, I think them not being strict is good thing. It's not intended as a \"100% guaranteed your file is correct if there are no warnings\", but rather a hint that there might be an issue if TS can't seem to parse the file.\n\n\n> Oh, and ERROR nodes are parsing errors, there is no other thing. They are often not where the actual error is, but where tree-sitter finally throws up its hands and sulks.\n\nIn my experience, it's correct most of the times. It sometimes occurs that it puts the diagnostic on the line above the actual syntax error.\n\n> Otherwise this will be very noisy while typing.\n\nYes it should probably not update while in insert mode.\n\n\n> On the other hand, there is misparsing where the parser successfully returns a syntax tree but it's not the one you want. But those are the syntax errors you most want to catch...\n\nThat's true, and especially for code files with more complex syntax (compared to config files). An LSP would of course help a lot more in this case.\n\nAgain, I think this would be most useful for filetypes without an LSP. For example, for the following languages I have a TS parser installed, but not an LSP:\n- cmake\n- csv\n- editorconfig\n- git_config\n- gitattributes\n- make\n- nix\n- query\n- sql\n- ssh_config\n- tmux\n- toml\n- tsv\n- vim\n- xml\n- yaml\n",
            "created_at": "2025-05-13T11:09:21Z",
            "html_url": "https://github.com/neovim/neovim/issues/33991#issuecomment-2876056840",
            "id": 2876056840,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33991",
            "node_id": "IC_kwDOAPphoM6rbSUI",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2876056840/reactions"
            },
            "updated_at": "2025-05-13T11:09:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2876056840",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
                "events_url": "https://api.github.com/users/yochem/events{/privacy}",
                "followers_url": "https://api.github.com/users/yochem/followers",
                "following_url": "https://api.github.com/users/yochem/following{/other_user}",
                "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/yochem",
                "id": 23235841,
                "login": "yochem",
                "node_id": "MDQ6VXNlcjIzMjM1ODQx",
                "organizations_url": "https://api.github.com/users/yochem/orgs",
                "received_events_url": "https://api.github.com/users/yochem/received_events",
                "repos_url": "https://api.github.com/users/yochem/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/yochem",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Sorry, but I have to stand firm here: The case where this is giving useful results is the exception, not the rule, and having this built-in sets unreasonable expectations. So this _is_ a hack that should remain one (possibly in a plugin), but not something we want to take responsibility for.\n\n(Always remember: Not everything that _can_ be in core _should_ be in core -- quite the opposite: if it _can_ be a plugin, it _should_ be a plugin.)",
            "created_at": "2025-05-13T11:13:13Z",
            "html_url": "https://github.com/neovim/neovim/issues/33991#issuecomment-2876066547",
            "id": 2876066547,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33991",
            "node_id": "IC_kwDOAPphoM6rbUrz",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2876066547/reactions"
            },
            "updated_at": "2025-05-13T11:14:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2876066547",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "You're right. Although TS error nodes as diagnostics work _surprisingly_ well, I understand it does not work correctly enough to justify adding it to Nvim core due to the way TS parsing works. This could be turned into a plugin then. Sorry for the inconvenience.",
            "created_at": "2025-05-13T11:41:43Z",
            "html_url": "https://github.com/neovim/neovim/issues/33991#issuecomment-2876167020",
            "id": 2876167020,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33991",
            "node_id": "IC_kwDOAPphoM6rbtNs",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2876167020/reactions"
            },
            "updated_at": "2025-05-13T11:41:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2876167020",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
                "events_url": "https://api.github.com/users/yochem/events{/privacy}",
                "followers_url": "https://api.github.com/users/yochem/followers",
                "following_url": "https://api.github.com/users/yochem/following{/other_user}",
                "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/yochem",
                "id": 23235841,
                "login": "yochem",
                "node_id": "MDQ6VXNlcjIzMjM1ODQx",
                "organizations_url": "https://api.github.com/users/yochem/orgs",
                "received_events_url": "https://api.github.com/users/yochem/received_events",
                "repos_url": "https://api.github.com/users/yochem/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/yochem",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "No worries, it was a nice idea, and I'm sure there's enough people who would love to see such a plugin!\n\n(I agree that it could work well enough for simple config files with such a rigid structure.)",
            "created_at": "2025-05-13T11:42:56Z",
            "html_url": "https://github.com/neovim/neovim/issues/33991#issuecomment-2876172956",
            "id": 2876172956,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33991",
            "node_id": "IC_kwDOAPphoM6rbuqc",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2876172956/reactions"
            },
            "updated_at": "2025-05-13T11:44:09Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2876172956",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> No worries, it was a nice idea, and I'm sure there's enough people who would love to see such a plugin!\n\nSo I went ahead and got permission from Roberto to turn their code into a plugin.\nIt's naturally work in progress, but enjoy! [Jorenar/nvim-treesitter-diagnostics](https://codeberg.org/Jorenar/nvim-treesitter-diagnostics)",
            "created_at": "2025-12-12T02:03:03Z",
            "html_url": "https://github.com/neovim/neovim/issues/33991#issuecomment-3644578921",
            "id": 3644578921,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33991",
            "node_id": "IC_kwDOAPphoM7ZO9xp",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3644578921/reactions"
            },
            "updated_at": "2025-12-20T05:10:43Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3644578921",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/22616434?v=4",
                "events_url": "https://api.github.com/users/Jorenar/events{/privacy}",
                "followers_url": "https://api.github.com/users/Jorenar/followers",
                "following_url": "https://api.github.com/users/Jorenar/following{/other_user}",
                "gists_url": "https://api.github.com/users/Jorenar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Jorenar",
                "id": 22616434,
                "login": "Jorenar",
                "node_id": "MDQ6VXNlcjIyNjE2NDM0",
                "organizations_url": "https://api.github.com/users/Jorenar/orgs",
                "received_events_url": "https://api.github.com/users/Jorenar/received_events",
                "repos_url": "https://api.github.com/users/Jorenar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Jorenar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Jorenar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Jorenar",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 7,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/33991/comments",
    "created_at": "2025-05-12T18:45:25Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/33991/events",
    "html_url": "https://github.com/neovim/neovim/issues/33991",
    "id": 3057832644,
    "issue_dependencies_summary": {
        "blocked_by": 0,
        "blocking": 0,
        "total_blocked_by": 0,
        "total_blocking": 0
    },
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 1799626557,
            "name": "treesitter",
            "node_id": "MDU6TGFiZWwxNzk5NjI2NTU3",
            "url": "https://api.github.com/repos/neovim/neovim/labels/treesitter"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/33991/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM62QtLE",
    "number": 33991,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/33991/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "not_planned",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/33991/timeline",
    "title": "Treesitter errors as diagnostics",
    "type": {
        "color": "blue",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "A request, idea, or new functionality",
        "id": 597167,
        "is_enabled": true,
        "name": "Enhancement",
        "node_id": "IT_kwDOAGK_Pc4ACRyv",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-12-20T05:10:43Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/33991",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
        "events_url": "https://api.github.com/users/yochem/events{/privacy}",
        "followers_url": "https://api.github.com/users/yochem/followers",
        "following_url": "https://api.github.com/users/yochem/following{/other_user}",
        "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/yochem",
        "id": 23235841,
        "login": "yochem",
        "node_id": "MDQ6VXNlcjIzMjM1ODQx",
        "organizations_url": "https://api.github.com/users/yochem/orgs",
        "received_events_url": "https://api.github.com/users/yochem/received_events",
        "repos_url": "https://api.github.com/users/yochem/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/yochem",
        "user_view_type": "public"
    }
}