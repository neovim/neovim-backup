{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nWhen sending very large completion lists to a GUI client that supports ext_popup with text input going at the same time, it's possible to trigger a race condition that causes neovim to return one of the completion results with the same message id as we expect for the RPC result response. I've attached a log with a debug trace of some of the RPC transactions happening between neovim-gtk and neovim that seem to cause this. [race-reproduced.txt](https://github.com/user-attachments/files/17877569/race-reproduced.txt)\n\nI managed to do some bisecting on neovim and tracked the breaking change down to dc37c1550bed46fffbb677d343cdc5bc94056219\n\n### Steps to reproduce\n\n~~I know, I'm really sorry :(. There's supposed to be some steps here, but I am going to need a bit of assistance from y'all in coming up with a reasonable way to reproduce this without pulling in my whole setup. I'm going to do my best to figure something out next week or after Thanksgiving if I can, but hopefully this is a start and maybe you guys have some ideas on how I could come up with a simpler reproducer. I think the key is going to be figuring out how I can get nvim to spit out a super large list of completion results without having my .vimrc present or needing to be in a project source tree.~~\n\nSorry it took so long! [We have a reproducer now](https://github.com/neovim/neovim/issues/31316#issuecomment-2691626043)\n\nAlso FWIW: The good news is I can reproduce this very reliably on my own system, as can a number of other people with substantially different setups than my own (and am going to ask anyone with an easy reproducer for this to make a post here)[race-reproduced.txt](https://github.com/user-attachments/files/17877567/race-reproduced.txt)\n. Anyway: I'm going to give you the steps I'm following locally here, and hopefully we can figure something out.\n\n* Have LSP setup on neovim, the LSP configuration I'm currently using is for rust-analyzer and the code I'm using to reproduce this problem is a kernel source tree here\n* Use neovim-gtk (hopefully other clients can hit this, but with how hard it was to find a consistent reproducer for this it's -probably- better just to use my client for now)\n* Open up a project where you can get neovim to generate a really, really big set of results for autocompletion. Ideally, it should lag things a bit.\n* Start typing such that neovim starts popping up completion results using neovim-gtk's ext_popup support\n* Repeat until it crashes and says it no longer can read messages from neovim.\n\n### Expected behavior\n\nnvim_input should never return anything but a u64 in the response field when responding to an nvim_input call.\n\n### Nvim version (nvim -v)\n\nv0.10.2\n\n### Vim (not Nvim) behaves the same?\n\nN/A (this is related to RPC, so...)\n\n### Operating system/version\n\nFedora 41\n\n### Terminal name/version\n\nneovim-gtk\n\n### $TERM environment variable\n\nN/A (I think?)\n\n### Installation\n\nFrom fedora repository, but I can trigger it by building from source",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "Hey so - was thinking about this - if I can't end up getting a simple reproducer for this, would instructions for just setting up a similar environment i use for kernel development work?\nSince I can reproduce this very easily on my local setup, I'm just a bit stumped on how to simplify the reproducer",
            "created_at": "2025-01-22T23:52:04Z",
            "html_url": "https://github.com/neovim/neovim/issues/31316#issuecomment-2608500849",
            "id": 2608500849,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31316",
            "node_id": "IC_kwDOAPphoM6bepBx",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2608500849/reactions"
            },
            "updated_at": "2025-01-22T23:52:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2608500849",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1527057?v=4",
                "events_url": "https://api.github.com/users/Lyude/events{/privacy}",
                "followers_url": "https://api.github.com/users/Lyude/followers",
                "following_url": "https://api.github.com/users/Lyude/following{/other_user}",
                "gists_url": "https://api.github.com/users/Lyude/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Lyude",
                "id": 1527057,
                "login": "Lyude",
                "node_id": "MDQ6VXNlcjE1MjcwNTc=",
                "organizations_url": "https://api.github.com/users/Lyude/orgs",
                "received_events_url": "https://api.github.com/users/Lyude/received_events",
                "repos_url": "https://api.github.com/users/Lyude/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Lyude/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Lyude/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Lyude",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Are you sure about the bisecting here? That commit had a much more reproducible bug https://github.com/neovim/neovim/issues/27859, with the same symptoms you are seeing. In Neovide we saw responses to the wrong messages. This was fixed by https://github.com/neovim/neovim/pull/28717. So, I think you need to include that fix in your biscting.\n\nIt's also possible that the fix was incomplete, or that there are two bugs, one which is much more rare. In Neovide we haven't observed that, probably because we were also able to get rid of the problematic `ext_hlstate` extension, so we don't deal with huge messages anymore.",
            "created_at": "2025-01-23T06:27:07Z",
            "html_url": "https://github.com/neovim/neovim/issues/31316#issuecomment-2608963425",
            "id": 2608963425,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31316",
            "node_id": "IC_kwDOAPphoM6bgZ9h",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2608963425/reactions"
            },
            "updated_at": "2025-01-23T06:27:07Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2608963425",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/9946255?v=4",
                "events_url": "https://api.github.com/users/fredizzimo/events{/privacy}",
                "followers_url": "https://api.github.com/users/fredizzimo/followers",
                "following_url": "https://api.github.com/users/fredizzimo/following{/other_user}",
                "gists_url": "https://api.github.com/users/fredizzimo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/fredizzimo",
                "id": 9946255,
                "login": "fredizzimo",
                "node_id": "MDQ6VXNlcjk5NDYyNTU=",
                "organizations_url": "https://api.github.com/users/fredizzimo/orgs",
                "received_events_url": "https://api.github.com/users/fredizzimo/received_events",
                "repos_url": "https://api.github.com/users/fredizzimo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/fredizzimo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/fredizzimo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/fredizzimo",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@Lyude Test the latest master. You mentioned bisecting, so I assume you can build latest HEAD. But your report mentions Nvim v0.10.2 ?",
            "created_at": "2025-01-27T11:35:52Z",
            "html_url": "https://github.com/neovim/neovim/issues/31316#issuecomment-2615519058",
            "id": 2615519058,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31316",
            "node_id": "IC_kwDOAPphoM6b5adS",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2615519058/reactions"
            },
            "updated_at": "2025-01-27T11:36:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2615519058",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "FWIW: the thing I really just need to know if we want to reproduce this otherwise is how I can recreate a situation with minimal nvim config where we can get neovim to pop up very large completion lists with lots of in response to keys being typed. That's pretty much all that's needed to hit this bug in neovim-gtk",
            "created_at": "2025-02-03T21:52:40Z",
            "html_url": "https://github.com/neovim/neovim/issues/31316#issuecomment-2632163005",
            "id": 2632163005,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31316",
            "node_id": "IC_kwDOAPphoM6c4569",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2632163005/reactions"
            },
            "updated_at": "2025-03-13T13:02:34Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2632163005",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1527057?v=4",
                "events_url": "https://api.github.com/users/Lyude/events{/privacy}",
                "followers_url": "https://api.github.com/users/Lyude/followers",
                "following_url": "https://api.github.com/users/Lyude/following{/other_user}",
                "gists_url": "https://api.github.com/users/Lyude/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Lyude",
                "id": 1527057,
                "login": "Lyude",
                "node_id": "MDQ6VXNlcjE1MjcwNTc=",
                "organizations_url": "https://api.github.com/users/Lyude/orgs",
                "received_events_url": "https://api.github.com/users/Lyude/received_events",
                "repos_url": "https://api.github.com/users/Lyude/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Lyude/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Lyude/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Lyude",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> otherwise is how I can recreate a situation with minimal nvim config where we can get neovim to pop up very large completion lists\n\nUse the `vim.lsp.server` impl from https://github.com/neovim/neovim/pull/24338 to implement a fake `textDocument/completion` LSP method, which shoves a bunch of items in the response. I've used that PR locally for my own PoCs.",
            "created_at": "2025-02-04T14:17:46Z",
            "html_url": "https://github.com/neovim/neovim/issues/31316#issuecomment-2634102692",
            "id": 2634102692,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31316",
            "node_id": "IC_kwDOAPphoM6dATek",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2634102692/reactions"
            },
            "updated_at": "2025-03-13T13:02:39Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2634102692",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> > otherwise is how I can recreate a situation with minimal nvim config where we can get neovim to pop up very large completion lists\n> \n> Use the `vim.lsp.server` impl from [#24338](https://github.com/neovim/neovim/pull/24338) to implement a fake `textDocument/completion` LSP method, which shoves a bunch of items in the response. I've used that PR locally for my own PoCs.\n\nOh awesome, that's exactly the sort of thing I was looking for! I'll find some time to do this during the week and get back to y'all",
            "created_at": "2025-02-05T18:47:54Z",
            "html_url": "https://github.com/neovim/neovim/issues/31316#issuecomment-2637746939",
            "id": 2637746939,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31316",
            "node_id": "IC_kwDOAPphoM6dONL7",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2637746939/reactions"
            },
            "updated_at": "2025-03-13T13:02:42Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2637746939",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1527057?v=4",
                "events_url": "https://api.github.com/users/Lyude/events{/privacy}",
                "followers_url": "https://api.github.com/users/Lyude/followers",
                "following_url": "https://api.github.com/users/Lyude/following{/other_user}",
                "gists_url": "https://api.github.com/users/Lyude/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Lyude",
                "id": 1527057,
                "login": "Lyude",
                "node_id": "MDQ6VXNlcjE1MjcwNTc=",
                "organizations_url": "https://api.github.com/users/Lyude/orgs",
                "received_events_url": "https://api.github.com/users/Lyude/received_events",
                "repos_url": "https://api.github.com/users/Lyude/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Lyude/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Lyude/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Lyude",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Oh I just realized that probably won't work because it avoids the use of msgpack-RPC.  `vim.lsp.server` is a in-process Lua module.",
            "created_at": "2025-02-05T21:26:09Z",
            "html_url": "https://github.com/neovim/neovim/issues/31316#issuecomment-2638060028",
            "id": 2638060028,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31316",
            "node_id": "IC_kwDOAPphoM6dPZn8",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2638060028/reactions"
            },
            "updated_at": "2025-02-05T21:26:09Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2638060028",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Gotcha. JFYI - I was thinking about this problem yesterday and I think I realized a way I might be able to get a somewhat reasonable reproducer. Since the completions that crash neovim-gtk are coming from a single rust source file in particular I'm going to see if I can make a minimal rust development setup that loads that file out of context, which should hopefully make this a lot easier to reproduce. Thank you for the patience btw!",
            "created_at": "2025-02-10T22:23:34Z",
            "html_url": "https://github.com/neovim/neovim/issues/31316#issuecomment-2649379786",
            "id": 2649379786,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31316",
            "node_id": "IC_kwDOAPphoM6d6lPK",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2649379786/reactions"
            },
            "updated_at": "2025-02-10T22:23:34Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2649379786",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1527057?v=4",
                "events_url": "https://api.github.com/users/Lyude/events{/privacy}",
                "followers_url": "https://api.github.com/users/Lyude/followers",
                "following_url": "https://api.github.com/users/Lyude/following{/other_user}",
                "gists_url": "https://api.github.com/users/Lyude/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Lyude",
                "id": 1527057,
                "login": "Lyude",
                "node_id": "MDQ6VXNlcjE1MjcwNTc=",
                "organizations_url": "https://api.github.com/users/Lyude/orgs",
                "received_events_url": "https://api.github.com/users/Lyude/received_events",
                "repos_url": "https://api.github.com/users/Lyude/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Lyude/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Lyude/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Lyude",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "@justinmk So just a heads up - [I pushed a very small rust project](https://github.com/Lyude/nvim-msgpack-reg/) that is able to actually reproduce this issue. I'm working on seeing if I can put together a small directory with the bare-minimum plugins cloned in as submodules and an init.lua that you can source, but if you already have auto-completion for rust setup in your environment (let me know if you do, would save me some trouble :) you can try it now\n\n* Make sure you're running https://github.com/Lyude/neovim-gtk . Latest branch should work fine, let me know if I need to fix anything\n* Make sure you have rust autocompletion setup such that it pops up completion suggestions as you type\n* Open up `src/main.rs`\n* Follow the instructions I've put in the comments there, it shouldn't take too much effort to crash it.",
            "created_at": "2025-02-28T22:06:12Z",
            "html_url": "https://github.com/neovim/neovim/issues/31316#issuecomment-2691626043",
            "id": 2691626043,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31316",
            "node_id": "IC_kwDOAPphoM6gbvQ7",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2691626043/reactions"
            },
            "updated_at": "2025-02-28T22:06:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2691626043",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1527057?v=4",
                "events_url": "https://api.github.com/users/Lyude/events{/privacy}",
                "followers_url": "https://api.github.com/users/Lyude/followers",
                "following_url": "https://api.github.com/users/Lyude/following{/other_user}",
                "gists_url": "https://api.github.com/users/Lyude/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Lyude",
                "id": 1527057,
                "login": "Lyude",
                "node_id": "MDQ6VXNlcjE1MjcwNTc=",
                "organizations_url": "https://api.github.com/users/Lyude/orgs",
                "received_events_url": "https://api.github.com/users/Lyude/received_events",
                "repos_url": "https://api.github.com/users/Lyude/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Lyude/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Lyude/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Lyude",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "OK! I just added an `init.lua` to that repository,  it's only about 61 lines (most are comments) and I've tested this indeed sets up all the plugins and configs necessary to actually reproduce the bug. If there's anything else I can provide to help out with solving this let me know. Sorry this took so long as well, I only just found a day at work I had the time to sit down and figure all of this out.",
            "created_at": "2025-02-28T22:44:14Z",
            "html_url": "https://github.com/neovim/neovim/issues/31316#issuecomment-2691670443",
            "id": 2691670443,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31316",
            "node_id": "IC_kwDOAPphoM6gb6Gr",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 7,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 7,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2691670443/reactions"
            },
            "updated_at": "2025-02-28T22:51:26Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2691670443",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1527057?v=4",
                "events_url": "https://api.github.com/users/Lyude/events{/privacy}",
                "followers_url": "https://api.github.com/users/Lyude/followers",
                "following_url": "https://api.github.com/users/Lyude/following{/other_user}",
                "gists_url": "https://api.github.com/users/Lyude/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Lyude",
                "id": 1527057,
                "login": "Lyude",
                "node_id": "MDQ6VXNlcjE1MjcwNTc=",
                "organizations_url": "https://api.github.com/users/Lyude/orgs",
                "received_events_url": "https://api.github.com/users/Lyude/received_events",
                "repos_url": "https://api.github.com/users/Lyude/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Lyude/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Lyude/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Lyude",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "This issue is also breaking vscode-neovim: https://github.com/vscode-neovim/vscode-neovim/issues/2407#issuecomment-2713001740",
            "created_at": "2025-03-11T11:35:35Z",
            "html_url": "https://github.com/neovim/neovim/issues/31316#issuecomment-2713809892",
            "id": 2713809892,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31316",
            "node_id": "IC_kwDOAPphoM6hwXPk",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 64,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 64,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2713809892/reactions"
            },
            "updated_at": "2025-03-11T11:35:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2713809892",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Would it then make sense to revert the refactoring https://github.com/neovim/neovim/commit/dc37c1550bed46fffbb677d343cdc5bc94056219 for now because it causes a lot of issues for the VS Code users that like neovim as editor?",
            "created_at": "2025-03-12T21:03:39Z",
            "html_url": "https://github.com/neovim/neovim/issues/31316#issuecomment-2719122945",
            "id": 2719122945,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31316",
            "node_id": "IC_kwDOAPphoM6iEoYB",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 60,
                "-1": 0,
                "confused": 0,
                "eyes": 7,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 67,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2719122945/reactions"
            },
            "updated_at": "2025-03-12T21:03:39Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2719122945",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/67543137?v=4",
                "events_url": "https://api.github.com/users/bierundboeller/events{/privacy}",
                "followers_url": "https://api.github.com/users/bierundboeller/followers",
                "following_url": "https://api.github.com/users/bierundboeller/following{/other_user}",
                "gists_url": "https://api.github.com/users/bierundboeller/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bierundboeller",
                "id": 67543137,
                "login": "bierundboeller",
                "node_id": "MDQ6VXNlcjY3NTQzMTM3",
                "organizations_url": "https://api.github.com/users/bierundboeller/orgs",
                "received_events_url": "https://api.github.com/users/bierundboeller/received_events",
                "repos_url": "https://api.github.com/users/bierundboeller/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bierundboeller/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bierundboeller/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bierundboeller",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 12,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/31316/comments",
    "created_at": "2024-11-22T23:56:18Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/31316/events",
    "html_url": "https://github.com/neovim/neovim/issues/31316",
    "id": 2684991876,
    "labels": [
        {
            "color": "c7def8",
            "default": false,
            "description": "channels, RPC, msgpack",
            "id": 242522707,
            "name": "channels-rpc",
            "node_id": "MDU6TGFiZWwyNDI1MjI3MDc=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/channels-rpc"
        },
        {
            "color": "0E8A16",
            "default": false,
            "description": "issue contains minimal reproducing steps",
            "id": 435851959,
            "name": "has:repro",
            "node_id": "MDU6TGFiZWw0MzU4NTE5NTk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/has:repro"
        },
        {
            "color": "f9d0c4",
            "default": false,
            "description": "wrong behavior that was introduced in a previous commit (please bisect)",
            "id": 619474658,
            "name": "bug-regression",
            "node_id": "MDU6TGFiZWw2MTk0NzQ2NTg=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-regression"
        },
        {
            "color": "0E8A16",
            "default": false,
            "description": "issue has been tracked to a specific commit",
            "id": 1481421490,
            "name": "has:bisected",
            "node_id": "MDU6TGFiZWwxNDgxNDIxNDkw",
            "url": "https://api.github.com/repos/neovim/neovim/labels/has:bisected"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/31316/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 3,
        "created_at": "2025-04-26T13:55:41Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/50",
        "id": 12793246,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/50/labels",
        "node_id": "MI_kwDOAPphoM4AwzWe",
        "number": 50,
        "open_issues": 21,
        "state": "open",
        "title": "0.11.2",
        "updated_at": "2025-04-28T13:01:46Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/50"
    },
    "node_id": "I_kwDOAPphoM6gCbmE",
    "number": 31316,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 12,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 12,
        "url": "https://api.github.com/repos/neovim/neovim/issues/31316/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/31316/timeline",
    "title": "Regression: race condition(?) in msgpack handling (from dc37c1550bed46fffbb677d343cdc5bc94056219)",
    "type": {
        "color": "red",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "An unexpected problem or behavior",
        "id": 597163,
        "is_enabled": true,
        "name": "Bug",
        "node_id": "IT_kwDOAGK_Pc4ACRyr",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-04-26T13:56:18Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/31316",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1527057?v=4",
        "events_url": "https://api.github.com/users/Lyude/events{/privacy}",
        "followers_url": "https://api.github.com/users/Lyude/followers",
        "following_url": "https://api.github.com/users/Lyude/following{/other_user}",
        "gists_url": "https://api.github.com/users/Lyude/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/Lyude",
        "id": 1527057,
        "login": "Lyude",
        "node_id": "MDQ6VXNlcjE1MjcwNTc=",
        "organizations_url": "https://api.github.com/users/Lyude/orgs",
        "received_events_url": "https://api.github.com/users/Lyude/received_events",
        "repos_url": "https://api.github.com/users/Lyude/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/Lyude/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Lyude/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/Lyude",
        "user_view_type": "public"
    }
}