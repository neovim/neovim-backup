{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Neovim version (nvim -v)\n\n0.7.0\n\n### Vim (not Nvim) behaves the same?\n\n8.2.5046\n\n### Operating system/version\n\nArchlinux\n\n### Terminal name/version\n\nkonsole 22.04.1\n\n### $TERM environment variable\n\nxterm-256color\n\n### Installation\n\nsystem package manager\n\n### How to reproduce the issue\n\n1. `nvim --clean`\r\n2. Enable timeout: `:set timeout` & `:set timeoutlen 100`\r\n3. Disable `<Space>` with `<Nop>`, since it's a builtin and cannot be unmapped: `:nnoremap <Space> <Nop>`\r\n4. Map any key sequence that starts with `<Space>`: `:nnoremap <Space>e <Cmd>echom \"hello\"<CR>`\r\n5. Press `<Space>`\n\n### Expected behavior\n\nTimeout doesn't trigger for key mappings that are set to `<Nop>`. This includes not only builtin commands (hardcoded in `normal.c`) like `<Space>`, but for general keys as well. The only difference is that I can just `unmap` any other key mappings, but this is not the case for builtins. I'm not well acquainted with C, but it looks like this behaviour is not suppose to be happening.\r\n\r\nhttps://github.com/neovim/neovim/blob/96c494dec345f9a3dd2676048292267552e3f5f8/src/nvim/getchar.c#L2586-L2591\n\n### Actual behavior\n\nKey mapping that is set to `<Nop>` does not trigger a timeout.",
    "closed_at": null,
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
        "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
        "followers_url": "https://api.github.com/users/zeertzjq/followers",
        "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
        "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/zeertzjq",
        "id": 35768171,
        "login": "zeertzjq",
        "node_id": "MDQ6VXNlcjM1NzY4MTcx",
        "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
        "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
        "repos_url": "https://api.github.com/users/zeertzjq/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/zeertzjq",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "I cannot understand the expected behavior and actual behavior. They seem to be the same. Can you clarify it more?",
            "created_at": "2022-06-06T09:56:09Z",
            "html_url": "https://github.com/neovim/neovim/issues/18877#issuecomment-1147271013",
            "id": 1147271013,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18877",
            "node_id": "IC_kwDOAPphoM5EYfdl",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147271013/reactions"
            },
            "updated_at": "2022-06-06T09:57:42Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147271013",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Of course, no problem.\r\n\r\nThe expected behaviour for me would be that when I set a mapping of `<Space>` to `<Nop>` to disable it (since there's no other way to do that), timeout would not trigger when I press it if I have other mappings that start with `<Space>`. Currently it treats mappings to `<Nop>` as something legit and triggers timeout, despite the fact that an actual mapping does nothing.\r\n\r\nIn other words, there are two ways to \"unmap\" a keybinding: `:unmap` and `:map key <Nop>`. When you \"unmap\" a keybinding timeout doesn't trigger, since there's no binding. But in the case of using mapping to `<Nop>`, timeout still happens.\r\n\r\nAs an example (I'm using `g` key exclusively because it already has mappings that start with it, any key will do):\r\n\r\n```vim\r\n\" Enable the timeout\r\nset timeout\r\nset timeoutlen 100\r\n\r\n\" Pressing `g' after this won't trigger a timeout, since there's no mapping to `g' yet\r\n\" Everything as expected so far\r\n\r\n\" Mapping g to anything\r\nnnoremap g <Cmd>echom \"hi\"<CR>\r\n\r\n\" Pressing `g' after this mapping DOES trigger the timeout, as expected\r\n\" The problem starts below\r\n\r\n\" Let's say I can't `:unmap g' for whatever reason, like it's the case with things like\r\n\" <Space> or arrow keys, so the only option for me is to use something like this:\r\nnnoremap g <Nop>\r\n\r\n\" If I would to press `g' again, the timeout still triggers despite the fact that mapping\r\n\" is \"disabled\" by <Nop>. This behaviour, as far as I understand, shouldn't be happening\r\n\" as per the conditional from `getchar.c' that I've linked in the previous comment.\r\n\r\n\" Right now, the only solution to this is to use `:unmap', but again this is not possible for\r\n\" several keys\r\nunmap g\r\n\r\n\" Pressing `g' now doesn't trigger timeout\r\n```",
            "created_at": "2022-06-06T11:27:04Z",
            "html_url": "https://github.com/neovim/neovim/issues/18877#issuecomment-1147344754",
            "id": 1147344754,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18877",
            "node_id": "IC_kwDOAPphoM5EYxdy",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147344754/reactions"
            },
            "updated_at": "2022-06-06T11:27:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147344754",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
                "events_url": "https://api.github.com/users/ghost/events{/privacy}",
                "followers_url": "https://api.github.com/users/ghost/followers",
                "following_url": "https://api.github.com/users/ghost/following{/other_user}",
                "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ghost",
                "id": 10137,
                "login": "ghost",
                "node_id": "MDQ6VXNlcjEwMTM3",
                "organizations_url": "https://api.github.com/users/ghost/orgs",
                "received_events_url": "https://api.github.com/users/ghost/received_events",
                "repos_url": "https://api.github.com/users/ghost/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ghost",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "If there is a `<Space>e` mapping but there is no timeout after the `<Space>` how can the `<Space>e` mapping be triggered?",
            "created_at": "2022-06-06T11:31:08Z",
            "html_url": "https://github.com/neovim/neovim/issues/18877#issuecomment-1147348296",
            "id": 1147348296,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18877",
            "node_id": "IC_kwDOAPphoM5EYyVI",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147348296/reactions"
            },
            "updated_at": "2022-06-07T01:29:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147348296",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Same way `g`, `'`, or `\"` mappings are triggered, it waits for the full sequence (`e` in this case). That's, at least, what I would expect when assigning `<Space>` to `<Nop>`, but that's not the current behaviour.",
            "created_at": "2022-06-06T11:52:14Z",
            "html_url": "https://github.com/neovim/neovim/issues/18877#issuecomment-1147365402",
            "id": 1147365402,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18877",
            "node_id": "IC_kwDOAPphoM5EY2ga",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147365402/reactions"
            },
            "updated_at": "2022-06-07T01:30:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147365402",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
                "events_url": "https://api.github.com/users/ghost/events{/privacy}",
                "followers_url": "https://api.github.com/users/ghost/followers",
                "following_url": "https://api.github.com/users/ghost/following{/other_user}",
                "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ghost",
                "id": 10137,
                "login": "ghost",
                "node_id": "MDQ6VXNlcjEwMTM3",
                "organizations_url": "https://api.github.com/users/ghost/orgs",
                "received_events_url": "https://api.github.com/users/ghost/received_events",
                "repos_url": "https://api.github.com/users/ghost/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ghost",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Oh, so you actually expect it do wait indefinitely?",
            "created_at": "2022-06-06T12:12:05Z",
            "html_url": "https://github.com/neovim/neovim/issues/18877#issuecomment-1147380768",
            "id": 1147380768,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18877",
            "node_id": "IC_kwDOAPphoM5EY6Qg",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147380768/reactions"
            },
            "updated_at": "2022-06-06T12:12:05Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147380768",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Like with any other mapping, yes, but that's not at all the issue here. The problem is that `timeout` reacts to `<Nop>` mappings as something genuine, while it would make more sense for it to treat these as unmapped sequences and not to trigger.\r\n\r\nThe only reason why I submitted this as a bug and not a feature request is because it seemed to me that, the chunk of code below was suppose to prevent the behaviour in question.\r\n\r\nhttps://github.com/neovim/neovim/blob/96c494dec345f9a3dd2676048292267552e3f5f8/src/nvim/getchar.c#L2586-L2591",
            "created_at": "2022-06-06T12:20:29Z",
            "html_url": "https://github.com/neovim/neovim/issues/18877#issuecomment-1147387977",
            "id": 1147387977,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18877",
            "node_id": "IC_kwDOAPphoM5EY8BJ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147387977/reactions"
            },
            "updated_at": "2022-06-06T12:20:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147387977",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
                "events_url": "https://api.github.com/users/ghost/events{/privacy}",
                "followers_url": "https://api.github.com/users/ghost/followers",
                "following_url": "https://api.github.com/users/ghost/following{/other_user}",
                "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ghost",
                "id": 10137,
                "login": "ghost",
                "node_id": "MDQ6VXNlcjEwMTM3",
                "organizations_url": "https://api.github.com/users/ghost/orgs",
                "received_events_url": "https://api.github.com/users/ghost/received_events",
                "repos_url": "https://api.github.com/users/ghost/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ghost",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "This `timedout = false` is to allow mappings after a timed-out key triggers a `<Nop>` mapping. See <https://github.com/vim/vim/issues/2921>",
            "created_at": "2022-06-06T12:29:00Z",
            "html_url": "https://github.com/neovim/neovim/issues/18877#issuecomment-1147394251",
            "id": 1147394251,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18877",
            "node_id": "IC_kwDOAPphoM5EY9jL",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147394251/reactions"
            },
            "updated_at": "2022-06-06T12:29:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147394251",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "And what if one also has a `e` mapping and want the `<Space>` to time out so that they can trigger the `e` mapping?",
            "created_at": "2022-06-06T12:31:02Z",
            "html_url": "https://github.com/neovim/neovim/issues/18877#issuecomment-1147395843",
            "id": 1147395843,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18877",
            "node_id": "IC_kwDOAPphoM5EY98D",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147395843/reactions"
            },
            "updated_at": "2022-06-06T12:31:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147395843",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I'm not sure I'm following what you're asking. Could you please elaborate with an example?",
            "created_at": "2022-06-06T12:50:14Z",
            "html_url": "https://github.com/neovim/neovim/issues/18877#issuecomment-1147411650",
            "id": 1147411650,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18877",
            "node_id": "IC_kwDOAPphoM5EZBzC",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147411650/reactions"
            },
            "updated_at": "2022-06-06T12:50:14Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147411650",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
                "events_url": "https://api.github.com/users/ghost/events{/privacy}",
                "followers_url": "https://api.github.com/users/ghost/followers",
                "following_url": "https://api.github.com/users/ghost/following{/other_user}",
                "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ghost",
                "id": 10137,
                "login": "ghost",
                "node_id": "MDQ6VXNlcjEwMTM3",
                "organizations_url": "https://api.github.com/users/ghost/orgs",
                "received_events_url": "https://api.github.com/users/ghost/received_events",
                "repos_url": "https://api.github.com/users/ghost/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ghost",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "For example\r\n```vim\r\nnnoremap b <Cmd>echo 'b'<CR>\r\nnnoremap ab <Cmd>echo 'ab'<CR>\r\nnnoremap a <nop>\r\n```\r\n\r\nOne may first type `a`, and realize that they actually wanted to type `b`, so wait for `a` to timeout so that the `b` mapping can be triggered.",
            "created_at": "2022-06-06T12:55:16Z",
            "html_url": "https://github.com/neovim/neovim/issues/18877#issuecomment-1147416012",
            "id": 1147416012,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18877",
            "node_id": "IC_kwDOAPphoM5EZC3M",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147416012/reactions"
            },
            "updated_at": "2022-06-06T12:55:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147416012",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "With all due respect that seems to be awfully arbitrary. In this case you would probably need to map all possible keys that you might mistype for it to make sense. If you would realize halfway that you wanted a different command, you would probably abort it with `<Esc>` and type again.\r\n\r\nThe case with removing `<Space>`/arrow keys mappings is impossible to solve with the current implementation. It requires to work around the problem with, say, increasing timeout, disabling it altogether, or to try to use different mappings.",
            "created_at": "2022-06-06T13:03:52Z",
            "html_url": "https://github.com/neovim/neovim/issues/18877#issuecomment-1147423668",
            "id": 1147423668,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18877",
            "node_id": "IC_kwDOAPphoM5EZEu0",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147423668/reactions"
            },
            "updated_at": "2022-06-06T13:03:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147423668",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
                "events_url": "https://api.github.com/users/ghost/events{/privacy}",
                "followers_url": "https://api.github.com/users/ghost/followers",
                "following_url": "https://api.github.com/users/ghost/following{/other_user}",
                "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ghost",
                "id": 10137,
                "login": "ghost",
                "node_id": "MDQ6VXNlcjEwMTM3",
                "organizations_url": "https://api.github.com/users/ghost/orgs",
                "received_events_url": "https://api.github.com/users/ghost/received_events",
                "repos_url": "https://api.github.com/users/ghost/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ghost",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I guess it would make sense for me to give a little more context on the problem.\r\n\r\nI currently have 100ms timeout for `kj` key sequence in `Insert` to return back to `Normal` mode. After some LSP configurations, I've found that it uses many key bindings that start with `<Space>` which I thought was fine since I had nothing that was bound *just* to `<Space>`.\r\n\r\nTo my surprise, all LSP key bindings were timing out in 100ms, after which I've learned that `<Space>` is a hardcoded command that shifts cursor to the right in `Normal` mode.\r\nAfter some Googling I've found that the only way to disable default behaviour was to set it to `<Nop>`, which DID stop the cursor movement, but all LSP bindings were still timing out, despite the fact that `<Space>` did nothing.\r\n\r\nThis behaviour strikes me as extraordinary odd and, in my opinion, it limits the usage of several keys if the existence of short timeout is desired (like with `kj`/`jj` case).\r\n\r\nI currently see 2 ways in which this can be solved:\r\n\r\n1. Bindings to `<Nop>` do not trigger timeout, since there is no actual command\r\n2. Ability to use `:unmap` on builtin commands (which I'm sure is going to be a hack under the hood, if it all possible)",
            "created_at": "2022-06-06T13:27:29Z",
            "html_url": "https://github.com/neovim/neovim/issues/18877#issuecomment-1147446979",
            "id": 1147446979,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18877",
            "node_id": "IC_kwDOAPphoM5EZKbD",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147446979/reactions"
            },
            "updated_at": "2022-06-06T13:27:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147446979",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
                "events_url": "https://api.github.com/users/ghost/events{/privacy}",
                "followers_url": "https://api.github.com/users/ghost/followers",
                "following_url": "https://api.github.com/users/ghost/following{/other_user}",
                "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ghost",
                "id": 10137,
                "login": "ghost",
                "node_id": "MDQ6VXNlcjEwMTM3",
                "organizations_url": "https://api.github.com/users/ghost/orgs",
                "received_events_url": "https://api.github.com/users/ghost/received_events",
                "repos_url": "https://api.github.com/users/ghost/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ghost",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Related: #12093",
            "created_at": "2022-06-06T13:45:22Z",
            "html_url": "https://github.com/neovim/neovim/issues/18877#issuecomment-1147465043",
            "id": 1147465043,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18877",
            "node_id": "IC_kwDOAPphoM5EZO1T",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147465043/reactions"
            },
            "updated_at": "2022-06-06T13:45:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1147465043",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I just found a way you can achieve this behavior:\r\n```vim\r\nnmap <Space> <Ignore><Space>\r\n```\r\n\r\nAlthough if you don't have another longer mapping that starts with `<Space>`, this will lead to 100% CPU usage.",
            "created_at": "2022-06-07T00:04:08Z",
            "html_url": "https://github.com/neovim/neovim/issues/18877#issuecomment-1148051082",
            "id": 1148051082,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18877",
            "node_id": "IC_kwDOAPphoM5Ebd6K",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1148051082/reactions"
            },
            "updated_at": "2022-06-07T00:05:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1148051082",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "That's the problem, I *do* have longer mappings that start with `<Space>` and the whole reason I want to disable the timeout for `<Nop>` bindings is to use the longer ones without having to execute them under 100ms.\r\n\r\nAnd yep, I've tried that and it absolutely destroyed my CPU. I don't think this is going to work well.",
            "created_at": "2022-06-07T11:48:12Z",
            "html_url": "https://github.com/neovim/neovim/issues/18877#issuecomment-1148559990",
            "id": 1148559990,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18877",
            "node_id": "IC_kwDOAPphoM5EdaJ2",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1148559990/reactions"
            },
            "updated_at": "2022-06-07T11:48:12Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1148559990",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
                "events_url": "https://api.github.com/users/ghost/events{/privacy}",
                "followers_url": "https://api.github.com/users/ghost/followers",
                "following_url": "https://api.github.com/users/ghost/following{/other_user}",
                "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ghost",
                "id": 10137,
                "login": "ghost",
                "node_id": "MDQ6VXNlcjEwMTM3",
                "organizations_url": "https://api.github.com/users/ghost/orgs",
                "received_events_url": "https://api.github.com/users/ghost/received_events",
                "repos_url": "https://api.github.com/users/ghost/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ghost",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "If you do have longer mappings that start with `<Space>` then this mapping will not lead to 100% CPU usage.",
            "created_at": "2022-06-07T11:55:32Z",
            "html_url": "https://github.com/neovim/neovim/issues/18877#issuecomment-1148566625",
            "id": 1148566625,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18877",
            "node_id": "IC_kwDOAPphoM5Edbxh",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1148566625/reactions"
            },
            "updated_at": "2022-06-07T11:55:32Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1148566625",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "My bad, I misread that. And I've just realized that I've been mistyping actual mapping. But still, I don't feel very comfortable knowing that missing the correct key will leave me no choice but to kill nvim. Never before the stakes of typing commands were that high 😄 ",
            "created_at": "2022-06-07T17:18:34Z",
            "html_url": "https://github.com/neovim/neovim/issues/18877#issuecomment-1148953398",
            "id": 1148953398,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18877",
            "node_id": "IC_kwDOAPphoM5Ee6M2",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1148953398/reactions"
            },
            "updated_at": "2022-06-07T17:27:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1148953398",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
                "events_url": "https://api.github.com/users/ghost/events{/privacy}",
                "followers_url": "https://api.github.com/users/ghost/followers",
                "following_url": "https://api.github.com/users/ghost/following{/other_user}",
                "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ghost",
                "id": 10137,
                "login": "ghost",
                "node_id": "MDQ6VXNlcjEwMTM3",
                "organizations_url": "https://api.github.com/users/ghost/orgs",
                "received_events_url": "https://api.github.com/users/ghost/received_events",
                "repos_url": "https://api.github.com/users/ghost/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ghost",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 17,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/18877/comments",
    "created_at": "2022-06-06T08:12:08Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/18877/events",
    "html_url": "https://github.com/neovim/neovim/issues/18877",
    "id": 1261503823,
    "labels": [
        {
            "color": "FBCA04",
            "default": false,
            "description": "issue needs attention from an expert, or PR proposes significant changes to architecture or API",
            "id": 212680983,
            "name": "needs:discussion",
            "node_id": "MDU6TGFiZWwyMTI2ODA5ODM=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/needs:discussion"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "key bindings, keycodes",
            "id": 3304938718,
            "name": "mappings",
            "node_id": "MDU6TGFiZWwzMzA0OTM4NzE4",
            "url": "https://api.github.com/repos/neovim/neovim/labels/mappings"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/18877/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM5LMQVP",
    "number": 18877,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 1,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 1,
        "url": "https://api.github.com/repos/neovim/neovim/issues/18877/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": "reopened",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/18877/timeline",
    "title": "Wait indefinitely if timing out will only trigger a `<Nop>` mapping",
    "type": {
        "color": "blue",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "A request, idea, or new functionality",
        "id": 597167,
        "is_enabled": true,
        "name": "Enhancement",
        "node_id": "IT_kwDOAGK_Pc4ACRyv",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-07-02T08:59:38Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/18877",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "events_url": "https://api.github.com/users/ghost/events{/privacy}",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following{/other_user}",
        "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/ghost",
        "id": 10137,
        "login": "ghost",
        "node_id": "MDQ6VXNlcjEwMTM3",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/ghost",
        "user_view_type": "public"
    }
}