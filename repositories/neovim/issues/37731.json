{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nWhen using Neovim’s built-in package manager (**vim.pack.add()**), specifying either a tag, branch, or commit SHA does not reliably affect which revision is checked out.\n\nEven after:\n- deleting the plugin directory\n- restarting Neovim\n- pinning an explicit commit SHA\n\nNeovim continues to check out an older commit, silently ignoring the requested ref.\n\nMinimal Config: \n`vim.pack.add({\n  { \nsrc = \"https://github.com/shreyanshvyas414/ts-node-select\",\n    commit = \"01ebb7b76108c3fd8b09b3481db13962d4fc3966\",\n    dependencies = { \"nvim-treesitter/nvim-treesitter\" },\n  }\n})`\n\nAdditional evidence:\nRemote repository contains the requested commit and tags:\n```\n$ git ls-remote --tags origin\na6d159435616ae146d220511cf5fc6dacb338416  refs/tags/v0.1.2\n01ebb7b76108c3fd8b09b3481db13962d4fc3966  refs/tags/v0.1.2^{}\n```\nWhy this is a problem:\n\n- Users cannot reliably pin plugin versions\n- Neovim silently loads outdated code\n- Errors appear unrelated to the actual cause\n- Difficult to debug without inspecting Git state manually\n\n\n\n### Steps to reproduce\n\n1. Use Neovim nightly\n2. Configure a plugin using `vim.pack.add()` with an explicit `commit`.\n3. Remove the plugin directory:\n`\nrm -rf ~/.local/share/nvim/site/pack/*/opt/ts-node-select\n`\n4. Restart Neovim\n5. Inspect the checked-out commit:\n```\ncd ~/.local/share/nvim/site/pack/core/opt/ts-node-select\ngit show -s --oneline --decorate\n```\nActual behaviour:\n`\n22e31b1 (HEAD, tag: v0.1.1)\n`\n\n### Expected behavior\n\nExpected behaviour :\nNeovim should check out:\n`\n01ebb7b (HEAD)\n`\n(the commit explicitly specified in the config)\n\n### Nvim version (nvim -v)\n\nNeovim: nightly (installed via bob)\n\n### Vim (not Nvim) behaves the same?\n\nNo. Vim does not behave the same, because this behavior is not shared code.(vim: 9.1)\n\n### Operating system/version\n\nmacOS Tahoe 26.2\n\n### Terminal name/version\n\nAlacritty (0.16.1)\n\n### $TERM environment variable\n\nalacritty\n\n### Installation\n\nbob (https://github.com/MordechaiHadad/bob, using nightly)",
    "closed_at": "2026-02-05T19:59:29Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
        "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
        "followers_url": "https://api.github.com/users/justinmk/followers",
        "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
        "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/justinmk",
        "id": 1359421,
        "login": "justinmk",
        "node_id": "MDQ6VXNlcjEzNTk0MjE=",
        "organizations_url": "https://api.github.com/users/justinmk/orgs",
        "received_events_url": "https://api.github.com/users/justinmk/received_events",
        "repos_url": "https://api.github.com/users/justinmk/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/justinmk",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "For clarity: this issue is **not the same as #36037**.\n\n- #36037 is related to Treesitter/runtime behavior.\n- This issue is specifically about `vim.pack.add()` **version / tag / commit resolution**.\n\nIn this case, even when explicitly pinning a plugin using:\n- `version = \"<tag>\"`\n- `version = \"<branch>\"`\n- or `commit = \"<sha>\"`\n\nNeovim still checks out an older commit silently. This results in outdated plugin code being loaded and runtime errors that are difficult to diagnose.\n\nSo while the *symptom* may appear as a runtime error, the **root cause is plugin installation/version resolution**, not Treesitter or autocmd behavior.\n",
            "created_at": "2026-02-05T18:26:02Z",
            "html_url": "https://github.com/neovim/neovim/issues/37731#issuecomment-3855419419",
            "id": 3855419419,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37731",
            "node_id": "IC_kwDOAPphoM7lzQgb",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3855419419/reactions"
            },
            "updated_at": "2026-02-05T18:26:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3855419419",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/79406690?v=4",
                "events_url": "https://api.github.com/users/shreyanshvyas414/events{/privacy}",
                "followers_url": "https://api.github.com/users/shreyanshvyas414/followers",
                "following_url": "https://api.github.com/users/shreyanshvyas414/following{/other_user}",
                "gists_url": "https://api.github.com/users/shreyanshvyas414/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shreyanshvyas414",
                "id": 79406690,
                "login": "shreyanshvyas414",
                "node_id": "MDQ6VXNlcjc5NDA2Njkw",
                "organizations_url": "https://api.github.com/users/shreyanshvyas414/orgs",
                "received_events_url": "https://api.github.com/users/shreyanshvyas414/received_events",
                "repos_url": "https://api.github.com/users/shreyanshvyas414/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shreyanshvyas414/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shreyanshvyas414/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shreyanshvyas414",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> `vim.pack.add({ {  src = \"https://github.com/shreyanshvyas414/ts-node-select\", commit = \"01ebb7b76108c3fd8b09b3481db13962d4fc3966\", dependencies = { \"nvim-treesitter/nvim-treesitter\" }, } })`\n\nNeither `commit` nor `dependencies` are a valid key for [`vim.pack.Spec`](https://neovim.io/doc/user/pack.html#vim.pack.Spec). You use `version` for commit hashes.",
            "created_at": "2026-02-05T19:33:27Z",
            "html_url": "https://github.com/neovim/neovim/issues/37731#issuecomment-3855790852",
            "id": 3855790852,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37731",
            "node_id": "IC_kwDOAPphoM7l0rME",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3855790852/reactions"
            },
            "updated_at": "2026-02-05T19:33:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3855790852",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/51250849?v=4",
                "events_url": "https://api.github.com/users/superatomic/events{/privacy}",
                "followers_url": "https://api.github.com/users/superatomic/followers",
                "following_url": "https://api.github.com/users/superatomic/following{/other_user}",
                "gists_url": "https://api.github.com/users/superatomic/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/superatomic",
                "id": 51250849,
                "login": "superatomic",
                "node_id": "MDQ6VXNlcjUxMjUwODQ5",
                "organizations_url": "https://api.github.com/users/superatomic/orgs",
                "received_events_url": "https://api.github.com/users/superatomic/received_events",
                "repos_url": "https://api.github.com/users/superatomic/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/superatomic/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/superatomic/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/superatomic",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "@superatomic \nThanks for the clarification, that explains the behavior.\n\nI wasn’t aware that `vim.pack.Spec` does not support `commit` or `dependencies`, and that commit SHAs must be passed via `version`. I think what made this difficult to debug is that unsupported keys are silently ignored, which makes it hard to understand why the requested revision isn’t checked out.\n\nUnderstood that this is working as designed. Thanks for confirming.\n",
            "created_at": "2026-02-06T04:10:54Z",
            "html_url": "https://github.com/neovim/neovim/issues/37731#issuecomment-3857852230",
            "id": 3857852230,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37731",
            "node_id": "IC_kwDOAPphoM7l8idG",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3857852230/reactions"
            },
            "updated_at": "2026-02-06T04:10:54Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3857852230",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/79406690?v=4",
                "events_url": "https://api.github.com/users/shreyanshvyas414/events{/privacy}",
                "followers_url": "https://api.github.com/users/shreyanshvyas414/followers",
                "following_url": "https://api.github.com/users/shreyanshvyas414/following{/other_user}",
                "gists_url": "https://api.github.com/users/shreyanshvyas414/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shreyanshvyas414",
                "id": 79406690,
                "login": "shreyanshvyas414",
                "node_id": "MDQ6VXNlcjc5NDA2Njkw",
                "organizations_url": "https://api.github.com/users/shreyanshvyas414/orgs",
                "received_events_url": "https://api.github.com/users/shreyanshvyas414/received_events",
                "repos_url": "https://api.github.com/users/shreyanshvyas414/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shreyanshvyas414/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shreyanshvyas414/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shreyanshvyas414",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "As a general rule, unsupported keys in the lua API are ignored, and are only validated if they are wrappers around `vim.api` functions (for example, `vim.keymap.set()` has validation since it wraps `vim.api.nvim_set_keymap()`, which has validation). I'm not the biggest fan of this behavior for this exact reason since it masks typos and misuse.\n\n@echasnovski thoughts on validating `vim.pack.Spec` keys?",
            "created_at": "2026-02-06T04:16:03Z",
            "html_url": "https://github.com/neovim/neovim/issues/37731#issuecomment-3857862838",
            "id": 3857862838,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37731",
            "node_id": "IC_kwDOAPphoM7l8lC2",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3857862838/reactions"
            },
            "updated_at": "2026-02-06T04:20:11Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3857862838",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/51250849?v=4",
                "events_url": "https://api.github.com/users/superatomic/events{/privacy}",
                "followers_url": "https://api.github.com/users/superatomic/followers",
                "following_url": "https://api.github.com/users/superatomic/following{/other_user}",
                "gists_url": "https://api.github.com/users/superatomic/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/superatomic",
                "id": 51250849,
                "login": "superatomic",
                "node_id": "MDQ6VXNlcjUxMjUwODQ5",
                "organizations_url": "https://api.github.com/users/superatomic/orgs",
                "received_events_url": "https://api.github.com/users/superatomic/received_events",
                "repos_url": "https://api.github.com/users/superatomic/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/superatomic/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/superatomic/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/superatomic",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> [@echasnovski](https://github.com/echasnovski) thoughts on validating `vim.pack.Spec` keys?\n\nNot particularly against it, but there are strong opinions about this from the core. You can read prior discussions starting [from here](https://github.com/neovim/neovim/pull/35360#issuecomment-3194240906).",
            "created_at": "2026-02-06T09:51:21Z",
            "html_url": "https://github.com/neovim/neovim/issues/37731#issuecomment-3859217140",
            "id": 3859217140,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37731",
            "node_id": "IC_kwDOAPphoM7mBvr0",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3859217140/reactions"
            },
            "updated_at": "2026-02-06T09:51:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3859217140",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/24854248?v=4",
                "events_url": "https://api.github.com/users/echasnovski/events{/privacy}",
                "followers_url": "https://api.github.com/users/echasnovski/followers",
                "following_url": "https://api.github.com/users/echasnovski/following{/other_user}",
                "gists_url": "https://api.github.com/users/echasnovski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/echasnovski",
                "id": 24854248,
                "login": "echasnovski",
                "node_id": "MDQ6VXNlcjI0ODU0MjQ4",
                "organizations_url": "https://api.github.com/users/echasnovski/orgs",
                "received_events_url": "https://api.github.com/users/echasnovski/received_events",
                "repos_url": "https://api.github.com/users/echasnovski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/echasnovski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/echasnovski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/echasnovski",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "@superatomic @echasnovski \nThank you again for the explanation and for taking the time to review this.\n\nI understand that the current behavior of `vim.pack.add()` and how it handles `version`/commit resolution is intentional design, and that explicit calls to `vim.pack.update()` are required to bring the on-disk state in line with the spec.\n\nMy experience highlighted how easy it is to assume that changing `version = \"vX.Y.Z\"` would automatically result in the corresponding revision being checked out after deleting the plugin directory. In practice, that was surprising and led to a fair bit of trial-and-error to figure out the correct workflow.\n\nIf it would be helpful, perhaps a small documentation note or an informational message when the on-disk revision doesn’t match the specified `version` could reduce that confusion for other users. That might make the behavior easier to discover without having to dig into core code or issue threads.\n\nThank you again for the work on `vim.pack` ,  I appreciate the effort and the direction this feature is going.\n",
            "created_at": "2026-02-06T12:10:08Z",
            "html_url": "https://github.com/neovim/neovim/issues/37731#issuecomment-3860076960",
            "id": 3860076960,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37731",
            "node_id": "IC_kwDOAPphoM7mFBmg",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3860076960/reactions"
            },
            "updated_at": "2026-02-06T12:10:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3860076960",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/79406690?v=4",
                "events_url": "https://api.github.com/users/shreyanshvyas414/events{/privacy}",
                "followers_url": "https://api.github.com/users/shreyanshvyas414/followers",
                "following_url": "https://api.github.com/users/shreyanshvyas414/following{/other_user}",
                "gists_url": "https://api.github.com/users/shreyanshvyas414/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shreyanshvyas414",
                "id": 79406690,
                "login": "shreyanshvyas414",
                "node_id": "MDQ6VXNlcjc5NDA2Njkw",
                "organizations_url": "https://api.github.com/users/shreyanshvyas414/orgs",
                "received_events_url": "https://api.github.com/users/shreyanshvyas414/received_events",
                "repos_url": "https://api.github.com/users/shreyanshvyas414/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shreyanshvyas414/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shreyanshvyas414/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shreyanshvyas414",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> My experience highlighted how easy it is to assume that changing `version = \"vX.Y.Z\"` would automatically result in the corresponding revision being checked out after deleting the plugin directory. In practice, that was surprising and led to a fair bit of trial-and-error to figure out the correct workflow.\n\nFrom the looks of it, all problems listed in this issue come from not getting familiar with how `vim.pack` works and assuming that it works exactly like some other plugin manager. For example, explicit `vim.pack.update()` for checking state on disk is [described here](https://github.com/neovim/neovim/blob/d2141396cd24b719baf583e7fb45f125cc7747d1/runtime/doc/pack.txt#L298-L307). The fact that manually deleting plugin (which is rarely a recommended solution) did not help is [described here](https://github.com/neovim/neovim/blob/d2141396cd24b719baf583e7fb45f125cc7747d1/runtime/doc/pack.txt#L227-L229).\n\n> If it would be helpful, perhaps a small documentation note or an informational message when the on-disk revision doesn’t match the specified `version` could reduce that confusion for other users. That might make the behavior easier to discover without having to dig into core code or issue threads.\n\nI am afraid, checking that on every `vim.pack.add()` is a bit expensive from the performance point of view. This information should be shown as a result of `:checkhealth vim.pack`.",
            "created_at": "2026-02-06T13:07:37Z",
            "html_url": "https://github.com/neovim/neovim/issues/37731#issuecomment-3860351904",
            "id": 3860351904,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37731",
            "node_id": "IC_kwDOAPphoM7mGEug",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3860351904/reactions"
            },
            "updated_at": "2026-02-06T13:07:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3860351904",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/24854248?v=4",
                "events_url": "https://api.github.com/users/echasnovski/events{/privacy}",
                "followers_url": "https://api.github.com/users/echasnovski/followers",
                "following_url": "https://api.github.com/users/echasnovski/following{/other_user}",
                "gists_url": "https://api.github.com/users/echasnovski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/echasnovski",
                "id": 24854248,
                "login": "echasnovski",
                "node_id": "MDQ6VXNlcjI0ODU0MjQ4",
                "organizations_url": "https://api.github.com/users/echasnovski/orgs",
                "received_events_url": "https://api.github.com/users/echasnovski/received_events",
                "repos_url": "https://api.github.com/users/echasnovski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/echasnovski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/echasnovski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/echasnovski",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "@echasnovski \nThanks for the detailed explanation, that makes sense.\n\nI see now why doing this check during `vim.pack.add()` would be too expensive, and I agree that `:checkhealth vim.pack` is a much better place for surfacing this kind of information.\n\nFrom my side, the main difficulty was discovering *where* to look when the on-disk revision didn’t match the specified `version`. Having this reported by `:checkhealth` would have made the workflow much clearer.\n\nThanks for taking the time to explain the design trade-offs here  much appreciated.\n",
            "created_at": "2026-02-06T14:22:02Z",
            "html_url": "https://github.com/neovim/neovim/issues/37731#issuecomment-3860748824",
            "id": 3860748824,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37731",
            "node_id": "IC_kwDOAPphoM7mHloY",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3860748824/reactions"
            },
            "updated_at": "2026-02-06T14:22:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3860748824",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/79406690?v=4",
                "events_url": "https://api.github.com/users/shreyanshvyas414/events{/privacy}",
                "followers_url": "https://api.github.com/users/shreyanshvyas414/followers",
                "following_url": "https://api.github.com/users/shreyanshvyas414/following{/other_user}",
                "gists_url": "https://api.github.com/users/shreyanshvyas414/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shreyanshvyas414",
                "id": 79406690,
                "login": "shreyanshvyas414",
                "node_id": "MDQ6VXNlcjc5NDA2Njkw",
                "organizations_url": "https://api.github.com/users/shreyanshvyas414/orgs",
                "received_events_url": "https://api.github.com/users/shreyanshvyas414/received_events",
                "repos_url": "https://api.github.com/users/shreyanshvyas414/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shreyanshvyas414/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shreyanshvyas414/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shreyanshvyas414",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Having this reported by `:checkhealth` would have made the workflow much clearer.\n\nMy bad, I misremembered it for the situation when state on disk is not the same as the one recorded in the lockfile. The situation when state on disk differs from where its current `version` points is essentially \"there are pending updates\" waiting. And it is a fairly normal situation. This is already shown in `vim.pack.update()` and [is documented](https://github.com/neovim/neovim/blob/a33e5fb1bbce06512b35b40b2cb04577a146f2aa/runtime/doc/pack.txt#L293-L296).",
            "created_at": "2026-02-06T14:37:22Z",
            "html_url": "https://github.com/neovim/neovim/issues/37731#issuecomment-3860824717",
            "id": 3860824717,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37731",
            "node_id": "IC_kwDOAPphoM7mH4KN",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3860824717/reactions"
            },
            "updated_at": "2026-02-06T14:37:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3860824717",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/24854248?v=4",
                "events_url": "https://api.github.com/users/echasnovski/events{/privacy}",
                "followers_url": "https://api.github.com/users/echasnovski/followers",
                "following_url": "https://api.github.com/users/echasnovski/following{/other_user}",
                "gists_url": "https://api.github.com/users/echasnovski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/echasnovski",
                "id": 24854248,
                "login": "echasnovski",
                "node_id": "MDQ6VXNlcjI0ODU0MjQ4",
                "organizations_url": "https://api.github.com/users/echasnovski/orgs",
                "received_events_url": "https://api.github.com/users/echasnovski/received_events",
                "repos_url": "https://api.github.com/users/echasnovski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/echasnovski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/echasnovski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/echasnovski",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 9,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/37731/comments",
    "created_at": "2026-02-05T18:10:36Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/37731/events",
    "html_url": "https://github.com/neovim/neovim/issues/37731",
    "id": 3902882234,
    "issue_dependencies_summary": {
        "blocked_by": 0,
        "blocking": 0,
        "total_blocked_by": 0,
        "total_blocking": 0
    },
    "labels": [
        {
            "color": "bfd4f2",
            "default": false,
            "description": "vim.pack, start/opt packages, 'packpath'",
            "id": 8889050758,
            "name": "packages",
            "node_id": "LA_kwDOAPphoM8AAAACEdQmhg",
            "url": "https://api.github.com/repos/neovim/neovim/labels/packages"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/37731/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM7ooUG6",
    "number": 37731,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/37731/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "not_planned",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/37731/timeline",
    "title": "vim.pack.add(): commit and version fields are ignored, repo remains on old tag",
    "type": null,
    "updated_at": "2026-02-06T14:37:23Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/37731",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/79406690?v=4",
        "events_url": "https://api.github.com/users/shreyanshvyas414/events{/privacy}",
        "followers_url": "https://api.github.com/users/shreyanshvyas414/followers",
        "following_url": "https://api.github.com/users/shreyanshvyas414/following{/other_user}",
        "gists_url": "https://api.github.com/users/shreyanshvyas414/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/shreyanshvyas414",
        "id": 79406690,
        "login": "shreyanshvyas414",
        "node_id": "MDQ6VXNlcjc5NDA2Njkw",
        "organizations_url": "https://api.github.com/users/shreyanshvyas414/orgs",
        "received_events_url": "https://api.github.com/users/shreyanshvyas414/received_events",
        "repos_url": "https://api.github.com/users/shreyanshvyas414/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/shreyanshvyas414/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/shreyanshvyas414/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/shreyanshvyas414",
        "user_view_type": "public"
    }
}