{
    "active_lock_reason": "resolved",
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "<!-- Before reporting: search existing issues and check the FAQ. -->\r\n\r\n- `nvim --version`: 0.4.2 (from Archlinux official repo)\r\n- `vim -u DEFAULTS` (version: ) behaves differently? Not applicable\r\n- Operating system/version: Archlinux x86_64\r\n- Terminal name/version: tilix 1.9.1\r\n- `$TERM`: xterm-256color\r\n\r\n### Steps to reproduce using `nvim -u NORC`\r\n\r\n```\r\n(make sure you have removed the shada file from its default location)\r\nnvim -u NORC -c 'set shada+=n/tmp/nvim.shada' -c 'checkhealth'\r\n```\r\n\r\n### Actual behaviour\r\nAlthough nvim does create nvim.shada under /tmp, it says\r\n```\r\nERROR: shada file is not readable:\r\n    /home/my_user_name/.local/share/nvim/shada/main.shada\r\n```\r\nin the health checks.\r\n### Expected behaviour\r\nHealth checks pass, like v0.3.8 did.\r\n",
    "closed_at": "2020-12-14T14:23:08Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/14036212?v=4",
        "events_url": "https://api.github.com/users/lyu/events{/privacy}",
        "followers_url": "https://api.github.com/users/lyu/followers",
        "following_url": "https://api.github.com/users/lyu/following{/other_user}",
        "gists_url": "https://api.github.com/users/lyu/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/lyu",
        "id": 14036212,
        "login": "lyu",
        "node_id": "MDQ6VXNlcjE0MDM2MjEy",
        "organizations_url": "https://api.github.com/users/lyu/orgs",
        "received_events_url": "https://api.github.com/users/lyu/received_events",
        "repos_url": "https://api.github.com/users/lyu/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/lyu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lyu/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/lyu",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "I'm experiencing the same issue on OSX.",
            "created_at": "2019-09-17T15:01:48Z",
            "html_url": "https://github.com/neovim/neovim/issues/11046#issuecomment-532261440",
            "id": 532261440,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11046",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzMjI2MTQ0MA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532261440/reactions"
            },
            "updated_at": "2019-09-17T15:01:48Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532261440",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/806502?v=4",
                "events_url": "https://api.github.com/users/ivanalejandro0/events{/privacy}",
                "followers_url": "https://api.github.com/users/ivanalejandro0/followers",
                "following_url": "https://api.github.com/users/ivanalejandro0/following{/other_user}",
                "gists_url": "https://api.github.com/users/ivanalejandro0/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ivanalejandro0",
                "id": 806502,
                "login": "ivanalejandro0",
                "node_id": "MDQ6VXNlcjgwNjUwMg==",
                "organizations_url": "https://api.github.com/users/ivanalejandro0/orgs",
                "received_events_url": "https://api.github.com/users/ivanalejandro0/received_events",
                "repos_url": "https://api.github.com/users/ivanalejandro0/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ivanalejandro0/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ivanalejandro0/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ivanalejandro0",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Via https://github.com/neovim/neovim/commit/5ae57b7e571ff8faefcbee84af24bf58ec097fa3 / https://github.com/neovim/neovim/pull/10327.\r\n\r\n@justinmk \r\nShould probably check the parent dir when the file does not exist (`filewritable(fnamemodify(â€¦, ':h')) == 2`)?",
            "created_at": "2019-09-17T16:02:06Z",
            "html_url": "https://github.com/neovim/neovim/issues/11046#issuecomment-532287186",
            "id": 532287186,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11046",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzMjI4NzE4Ng==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532287186/reactions"
            },
            "updated_at": "2019-09-17T16:02:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532287186",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/9766?v=4",
                "events_url": "https://api.github.com/users/blueyed/events{/privacy}",
                "followers_url": "https://api.github.com/users/blueyed/followers",
                "following_url": "https://api.github.com/users/blueyed/following{/other_user}",
                "gists_url": "https://api.github.com/users/blueyed/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/blueyed",
                "id": 9766,
                "login": "blueyed",
                "node_id": "MDQ6VXNlcjk3NjY=",
                "organizations_url": "https://api.github.com/users/blueyed/orgs",
                "received_events_url": "https://api.github.com/users/blueyed/received_events",
                "repos_url": "https://api.github.com/users/blueyed/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/blueyed/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/blueyed/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/blueyed",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "```diff\r\ndiff --git i/runtime/autoload/health/nvim.vim w/runtime/autoload/health/nvim.vim\r\nindex c25f5ee64..247ecb242 100644\r\n--- i/runtime/autoload/health/nvim.vim\r\n+++ w/runtime/autoload/health/nvim.vim\r\n@@ -42,9 +42,13 @@ function! s:check_config() abort\r\n   endif\r\n \r\n   let shadafile = (empty(&shadafile) || &shadafile ==# 'NONE') ? stdpath('data').'/shada/ma>\r\n-  if !empty(shadafile) && (!filereadable(shadafile) || !filewritable(shadafile))\r\n-    let ok = v:false\r\n-    call health#report_error('shada file is not '.(filereadable(shadafile) ? 'writeable' : >\r\n+  if !empty(shadafile)\r\n+    let readable = filereadable(shadafile)\r\n+    let writable = filewritable(shadafile)\r\n+    if (!readable || !writable) && !filewritable(fnamemodify(shadafile, ':h')) == 2\r\n+      let ok = v:false\r\n+      call health#report_error('shada file is not '.(readable ? 'writeable' : 'readable').\">\r\n+    endif\r\n   endif\r\n \r\n   if ok\r\n```\r\n\r\nNOTE: `filereadable` might be false for an existing file, where then also a writable dir does not help.\r\nShould use `glob()` then probably.",
            "created_at": "2019-09-17T16:09:53Z",
            "html_url": "https://github.com/neovim/neovim/issues/11046#issuecomment-532290267",
            "id": 532290267,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11046",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzMjI5MDI2Nw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532290267/reactions"
            },
            "updated_at": "2019-09-17T16:09:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532290267",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/9766?v=4",
                "events_url": "https://api.github.com/users/blueyed/events{/privacy}",
                "followers_url": "https://api.github.com/users/blueyed/followers",
                "following_url": "https://api.github.com/users/blueyed/following{/other_user}",
                "gists_url": "https://api.github.com/users/blueyed/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/blueyed",
                "id": 9766,
                "login": "blueyed",
                "node_id": "MDQ6VXNlcjk3NjY=",
                "organizations_url": "https://api.github.com/users/blueyed/orgs",
                "received_events_url": "https://api.github.com/users/blueyed/received_events",
                "repos_url": "https://api.github.com/users/blueyed/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/blueyed/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/blueyed/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/blueyed",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "As for the issue title: only `:checkhealth` complains, right?  The shada location should work, doesn't it?",
            "created_at": "2019-09-17T16:10:39Z",
            "html_url": "https://github.com/neovim/neovim/issues/11046#issuecomment-532290564",
            "id": 532290564,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11046",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzMjI5MDU2NA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532290564/reactions"
            },
            "updated_at": "2019-09-17T16:10:39Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532290564",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/9766?v=4",
                "events_url": "https://api.github.com/users/blueyed/events{/privacy}",
                "followers_url": "https://api.github.com/users/blueyed/followers",
                "following_url": "https://api.github.com/users/blueyed/following{/other_user}",
                "gists_url": "https://api.github.com/users/blueyed/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/blueyed",
                "id": 9766,
                "login": "blueyed",
                "node_id": "MDQ6VXNlcjk3NjY=",
                "organizations_url": "https://api.github.com/users/blueyed/orgs",
                "received_events_url": "https://api.github.com/users/blueyed/received_events",
                "repos_url": "https://api.github.com/users/blueyed/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/blueyed/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/blueyed/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/blueyed",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "As for `checkhealth`: it probably also needs to parse the \"shadafile\" out of `&shada` if it is empty..",
            "created_at": "2019-09-17T16:24:22Z",
            "html_url": "https://github.com/neovim/neovim/issues/11046#issuecomment-532295806",
            "id": 532295806,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11046",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzMjI5NTgwNg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532295806/reactions"
            },
            "updated_at": "2019-09-17T16:24:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532295806",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/9766?v=4",
                "events_url": "https://api.github.com/users/blueyed/events{/privacy}",
                "followers_url": "https://api.github.com/users/blueyed/followers",
                "following_url": "https://api.github.com/users/blueyed/following{/other_user}",
                "gists_url": "https://api.github.com/users/blueyed/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/blueyed",
                "id": 9766,
                "login": "blueyed",
                "node_id": "MDQ6VXNlcjk3NjY=",
                "organizations_url": "https://api.github.com/users/blueyed/orgs",
                "received_events_url": "https://api.github.com/users/blueyed/received_events",
                "repos_url": "https://api.github.com/users/blueyed/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/blueyed/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/blueyed/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/blueyed",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "As for the test case: it needs to be `--cmd 'set shada+=n/tmp/nvim5.shada'` (not `-c`), or `-i /tmp/nvim5.shada` - not sure if that's a regression then though.",
            "created_at": "2019-09-17T16:29:09Z",
            "html_url": "https://github.com/neovim/neovim/issues/11046#issuecomment-532297635",
            "id": 532297635,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11046",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzMjI5NzYzNQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532297635/reactions"
            },
            "updated_at": "2019-09-17T16:29:09Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532297635",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/9766?v=4",
                "events_url": "https://api.github.com/users/blueyed/events{/privacy}",
                "followers_url": "https://api.github.com/users/blueyed/followers",
                "following_url": "https://api.github.com/users/blueyed/following{/other_user}",
                "gists_url": "https://api.github.com/users/blueyed/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/blueyed",
                "id": 9766,
                "login": "blueyed",
                "node_id": "MDQ6VXNlcjk3NjY=",
                "organizations_url": "https://api.github.com/users/blueyed/orgs",
                "received_events_url": "https://api.github.com/users/blueyed/received_events",
                "repos_url": "https://api.github.com/users/blueyed/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/blueyed/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/blueyed/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/blueyed",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> vim -u DEFAULTS (version: ) behaves differently? Not applicable\r\n\r\nCould use `viminfo` there, but not really necessary.\r\n\r\n> Although nvim does create nvim.shada under /tmp, it says\r\n\r\nHave not seen this before - so apparently is an issue with checkhealth then only - likely the parsing of `&shada` for an empty `&shadafile` should be done there.\r\nBut given the hardcoded default location there already, it might be better to use some API function for it altogether, to prevent issues like this (checks not matching actual behavior).",
            "created_at": "2019-09-17T16:33:30Z",
            "html_url": "https://github.com/neovim/neovim/issues/11046#issuecomment-532299269",
            "id": 532299269,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11046",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzMjI5OTI2OQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532299269/reactions"
            },
            "updated_at": "2019-09-17T16:33:30Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532299269",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/9766?v=4",
                "events_url": "https://api.github.com/users/blueyed/events{/privacy}",
                "followers_url": "https://api.github.com/users/blueyed/followers",
                "following_url": "https://api.github.com/users/blueyed/following{/other_user}",
                "gists_url": "https://api.github.com/users/blueyed/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/blueyed",
                "id": 9766,
                "login": "blueyed",
                "node_id": "MDQ6VXNlcjk3NjY=",
                "organizations_url": "https://api.github.com/users/blueyed/orgs",
                "received_events_url": "https://api.github.com/users/blueyed/received_events",
                "repos_url": "https://api.github.com/users/blueyed/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/blueyed/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/blueyed/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/blueyed",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "But please confirm that there is no regression you're seeing outside of `:checkhealth`, please.",
            "created_at": "2019-09-17T16:42:16Z",
            "html_url": "https://github.com/neovim/neovim/issues/11046#issuecomment-532302482",
            "id": 532302482,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11046",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzMjMwMjQ4Mg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532302482/reactions"
            },
            "updated_at": "2019-09-17T16:42:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532302482",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/9766?v=4",
                "events_url": "https://api.github.com/users/blueyed/events{/privacy}",
                "followers_url": "https://api.github.com/users/blueyed/followers",
                "following_url": "https://api.github.com/users/blueyed/following{/other_user}",
                "gists_url": "https://api.github.com/users/blueyed/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/blueyed",
                "id": 9766,
                "login": "blueyed",
                "node_id": "MDQ6VXNlcjk3NjY=",
                "organizations_url": "https://api.github.com/users/blueyed/orgs",
                "received_events_url": "https://api.github.com/users/blueyed/received_events",
                "repos_url": "https://api.github.com/users/blueyed/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/blueyed/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/blueyed/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/blueyed",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "@blueyed \r\nI executed: `nvim -u NORC --cmd 'set shada+=n/tmp/nvim.shada' test.txt`, searched for something, then exit.\r\n\r\nIf I execute the above command again and press `n` when I am in nvim, it still remembers the search string.\r\n\r\nIf I remove `/tmp/nvim.shada`, then execute the above command, nvim forgets the search string.\r\n\r\nDoes this confirm that there is no regression other than `:checkhealth` showing the wrong thing?\r\n\r\nIf so, feel free to change the issue title to a more appropriate one. Thanks.",
            "created_at": "2019-09-17T18:58:17Z",
            "html_url": "https://github.com/neovim/neovim/issues/11046#issuecomment-532355879",
            "id": 532355879,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11046",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzMjM1NTg3OQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532355879/reactions"
            },
            "updated_at": "2019-09-17T19:03:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532355879",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/14036212?v=4",
                "events_url": "https://api.github.com/users/lyu/events{/privacy}",
                "followers_url": "https://api.github.com/users/lyu/followers",
                "following_url": "https://api.github.com/users/lyu/following{/other_user}",
                "gists_url": "https://api.github.com/users/lyu/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lyu",
                "id": 14036212,
                "login": "lyu",
                "node_id": "MDQ6VXNlcjE0MDM2MjEy",
                "organizations_url": "https://api.github.com/users/lyu/orgs",
                "received_events_url": "https://api.github.com/users/lyu/received_events",
                "repos_url": "https://api.github.com/users/lyu/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lyu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lyu/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lyu",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@lyu yes - with a new shada file no history is available, and it picks up the existing one.\r\n\r\n@ivanalejandro0 \r\nHave you found the issue yourself, or only reproduced it from here?\r\n\r\nDo you (both) use a custom shada location by default?  (I am interested in use cases)",
            "created_at": "2019-09-17T19:43:47Z",
            "html_url": "https://github.com/neovim/neovim/issues/11046#issuecomment-532372281",
            "id": 532372281,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11046",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzMjM3MjI4MQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532372281/reactions"
            },
            "updated_at": "2019-09-17T19:43:47Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532372281",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/9766?v=4",
                "events_url": "https://api.github.com/users/blueyed/events{/privacy}",
                "followers_url": "https://api.github.com/users/blueyed/followers",
                "following_url": "https://api.github.com/users/blueyed/following{/other_user}",
                "gists_url": "https://api.github.com/users/blueyed/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/blueyed",
                "id": 9766,
                "login": "blueyed",
                "node_id": "MDQ6VXNlcjk3NjY=",
                "organizations_url": "https://api.github.com/users/blueyed/orgs",
                "received_events_url": "https://api.github.com/users/blueyed/received_events",
                "repos_url": "https://api.github.com/users/blueyed/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/blueyed/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/blueyed/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/blueyed",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I found the problem myself and came to the issues on the repo to see if anyone else was experiencing the same issue.\r\n\r\nI found it by running the `:checkhealth` right after a `brew upgrade neovim`.\r\n\r\nI'm experiencing the same as @lyu .\r\nThe command `vim -u NORC --cmd 'set shada+=n/tmp/nvim.shada' -c 'checkhealth' test.txt` reports:\r\n\r\n```\r\n  - ERROR: shada file is not readable:\r\n    /Users/ivan/.local/share/nvim/shada/main.shada\r\n```\r\n\r\nBut closing the editor and opening it again preserves the search string.\r\n\r\nI'm using a custom shada file location, on my `~/.config/nvim/init.vim` I have\r\n```vim\r\nset shada+='1000,n~/.config/nvim/dirs/shada\r\n```\r\n\r\nI have the same problem (on `:checkhealth`) if I `set shadafile`.",
            "created_at": "2019-09-17T19:53:32Z",
            "html_url": "https://github.com/neovim/neovim/issues/11046#issuecomment-532375799",
            "id": 532375799,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11046",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzMjM3NTc5OQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532375799/reactions"
            },
            "updated_at": "2019-09-17T19:53:32Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532375799",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/806502?v=4",
                "events_url": "https://api.github.com/users/ivanalejandro0/events{/privacy}",
                "followers_url": "https://api.github.com/users/ivanalejandro0/followers",
                "following_url": "https://api.github.com/users/ivanalejandro0/following{/other_user}",
                "gists_url": "https://api.github.com/users/ivanalejandro0/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ivanalejandro0",
                "id": 806502,
                "login": "ivanalejandro0",
                "node_id": "MDQ6VXNlcjgwNjUwMg==",
                "organizations_url": "https://api.github.com/users/ivanalejandro0/orgs",
                "received_events_url": "https://api.github.com/users/ivanalejandro0/received_events",
                "repos_url": "https://api.github.com/users/ivanalejandro0/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ivanalejandro0/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ivanalejandro0/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ivanalejandro0",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Yes, I also use a custom shada file location by default.",
            "created_at": "2019-09-17T23:46:22Z",
            "html_url": "https://github.com/neovim/neovim/issues/11046#issuecomment-532443775",
            "id": 532443775,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11046",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzMjQ0Mzc3NQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532443775/reactions"
            },
            "updated_at": "2019-09-17T23:46:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532443775",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/14036212?v=4",
                "events_url": "https://api.github.com/users/lyu/events{/privacy}",
                "followers_url": "https://api.github.com/users/lyu/followers",
                "following_url": "https://api.github.com/users/lyu/following{/other_user}",
                "gists_url": "https://api.github.com/users/lyu/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lyu",
                "id": 14036212,
                "login": "lyu",
                "node_id": "MDQ6VXNlcjE0MDM2MjEy",
                "organizations_url": "https://api.github.com/users/lyu/orgs",
                "received_events_url": "https://api.github.com/users/lyu/received_events",
                "repos_url": "https://api.github.com/users/lyu/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lyu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lyu/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lyu",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "just need to adjust checkhealth. +1 for https://github.com/neovim/neovim/issues/11046#issuecomment-532290267",
            "created_at": "2019-09-18T04:37:12Z",
            "html_url": "https://github.com/neovim/neovim/issues/11046#issuecomment-532514710",
            "id": 532514710,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11046",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzMjUxNDcxMA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532514710/reactions"
            },
            "updated_at": "2019-09-18T04:37:12Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/532514710",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Sorry for the late reply, I can confirm that the patch provided by @blueyed works for me.",
            "created_at": "2019-10-05T15:51:12Z",
            "html_url": "https://github.com/neovim/neovim/issues/11046#issuecomment-538661965",
            "id": 538661965,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11046",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzODY2MTk2NQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/538661965/reactions"
            },
            "updated_at": "2019-10-05T15:51:12Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/538661965",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/14036212?v=4",
                "events_url": "https://api.github.com/users/lyu/events{/privacy}",
                "followers_url": "https://api.github.com/users/lyu/followers",
                "following_url": "https://api.github.com/users/lyu/following{/other_user}",
                "gists_url": "https://api.github.com/users/lyu/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lyu",
                "id": 14036212,
                "login": "lyu",
                "node_id": "MDQ6VXNlcjE0MDM2MjEy",
                "organizations_url": "https://api.github.com/users/lyu/orgs",
                "received_events_url": "https://api.github.com/users/lyu/received_events",
                "repos_url": "https://api.github.com/users/lyu/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lyu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lyu/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lyu",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Problem fixed after the merge of #13291",
            "created_at": "2020-12-14T14:23:08Z",
            "html_url": "https://github.com/neovim/neovim/issues/11046#issuecomment-744473422",
            "id": 744473422,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11046",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc0NDQ3MzQyMg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/744473422/reactions"
            },
            "updated_at": "2020-12-14T14:23:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/744473422",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/14036212?v=4",
                "events_url": "https://api.github.com/users/lyu/events{/privacy}",
                "followers_url": "https://api.github.com/users/lyu/followers",
                "following_url": "https://api.github.com/users/lyu/following{/other_user}",
                "gists_url": "https://api.github.com/users/lyu/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lyu",
                "id": 14036212,
                "login": "lyu",
                "node_id": "MDQ6VXNlcjE0MDM2MjEy",
                "organizations_url": "https://api.github.com/users/lyu/orgs",
                "received_events_url": "https://api.github.com/users/lyu/received_events",
                "repos_url": "https://api.github.com/users/lyu/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lyu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lyu/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lyu",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 15,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/11046/comments",
    "created_at": "2019-09-17T14:08:29Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/11046/events",
    "html_url": "https://github.com/neovim/neovim/issues/11046",
    "id": 494647580,
    "issue_dependencies_summary": {
        "blocked_by": 0,
        "blocking": 0,
        "total_blocked_by": 0,
        "total_blocking": 0
    },
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "funtime",
            "id": 120251370,
            "name": "runtime",
            "node_id": "MDU6TGFiZWwxMjAyNTEzNzA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/runtime"
        },
        {
            "color": "0E8A16",
            "default": false,
            "description": "",
            "id": 606691254,
            "name": "has:plan",
            "node_id": "MDU6TGFiZWw2MDY2OTEyNTQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/has:plan"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/11046/labels{/name}",
    "locked": true,
    "milestone": null,
    "node_id": "MDU6SXNzdWU0OTQ2NDc1ODA=",
    "number": 11046,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/11046/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/11046/timeline",
    "title": "checkhealth: reports (non)-error with shada file location",
    "type": null,
    "updated_at": "2025-10-07T19:28:38Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/11046",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/14036212?v=4",
        "events_url": "https://api.github.com/users/lyu/events{/privacy}",
        "followers_url": "https://api.github.com/users/lyu/followers",
        "following_url": "https://api.github.com/users/lyu/following{/other_user}",
        "gists_url": "https://api.github.com/users/lyu/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/lyu",
        "id": 14036212,
        "login": "lyu",
        "node_id": "MDQ6VXNlcjE0MDM2MjEy",
        "organizations_url": "https://api.github.com/users/lyu/orgs",
        "received_events_url": "https://api.github.com/users/lyu/received_events",
        "repos_url": "https://api.github.com/users/lyu/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/lyu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lyu/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/lyu",
        "user_view_type": "public"
    }
}