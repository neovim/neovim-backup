{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "<!-- Before reporting: search existing issues and check the FAQ. -->\r\n\r\n- `nvim --version`: v0.4.3\r\n- `vim -u DEFAULTS` (version:  8.1, patches 1-2268) behaves differently? No, same behaviour.\r\n- Operating system/version: Arch Linux\r\n\r\nIf a path pattern for a directory is in `'wildignore'`, files under that directory won't be returned in the results of functions like `glob()`. However, the directory will still be searched for. This can be problematic when the ignored directory is very large: functions using path expansions (for example, autocompleting `:edit **<tab>`) could take a very long time to complete, even though none of the files from the ignored folder should be considered.\r\n\r\nIt would be nice if the glob expansion function (`ExpandOne` in `ex_getln.c` I think?) could consider `'wildignore'` before diving into sub-directories.\r\n\r\nSee also:\r\nhttps://github.com/vim/vim/issues/2132\r\nhttps://groups.google.com/forum/#!topic/vim_dev/SEPEM44lsl8\r\n\r\n\r\n### Steps to reproduce using `nvim -u NORC`\r\n\r\nIn this example, `big` should be ignored (I use a symlink to `/usr/share` to easily get a folder large enough to trigger a delay for demonstration purposes.)\r\n\r\n```\r\n$ tree\r\n.\r\n└── src\r\n    ├── apples\r\n    │   ├── models.py\r\n    │   └── views.py\r\n    ├── big\r\n    │   ├── data -> /usr/share\r\n    │   ├── models.py\r\n    │   └── views.py\r\n    └── oranges\r\n        ├── models.py\r\n        └── views.py\r\n\r\n$ nvim -u NONE -c 'set wildignore=**/big/*'\r\n```\r\n\r\n### Actual behaviour\r\n\r\nEntering `:e **/m` on the command line and pressing `<tab>` for autocompletion, there will be a large delay before results are displayed in the `wildmenu` (and `src/big/models.py` is correctly not included in those results.)\r\n\r\nSimilar for `:echo glob('src/**/models.py')` (compare with `glob('src/*/models.py')`, which returns almost immediately.)\r\n\r\n### Expected behaviour\r\nNo unnecessary delay.\r\n",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Thanks for referencing the upstream tickets. This isn't a priority for us, so we'll just wait until Vim fixes it.",
            "created_at": "2019-12-29T08:02:44Z",
            "html_url": "https://github.com/neovim/neovim/issues/11624#issuecomment-569483972",
            "id": 569483972,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11624",
            "node_id": "MDEyOklzc3VlQ29tbWVudDU2OTQ4Mzk3Mg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/569483972/reactions"
            },
            "updated_at": "2019-12-29T08:02:44Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/569483972",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "@justinmk Vim seems rather uninterested in this change but I'd really appreciate having it. If I were to come up with a PR for this would it be accepted?",
            "created_at": "2023-09-03T01:59:45Z",
            "html_url": "https://github.com/neovim/neovim/issues/11624#issuecomment-1703985867",
            "id": 1703985867,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11624",
            "node_id": "IC_kwDOAPphoM5lkMLL",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1703985867/reactions"
            },
            "updated_at": "2023-09-03T01:59:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1703985867",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7882157?v=4",
                "events_url": "https://api.github.com/users/Supreeeme/events{/privacy}",
                "followers_url": "https://api.github.com/users/Supreeeme/followers",
                "following_url": "https://api.github.com/users/Supreeeme/following{/other_user}",
                "gists_url": "https://api.github.com/users/Supreeeme/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Supreeeme",
                "id": 7882157,
                "login": "Supreeeme",
                "node_id": "MDQ6VXNlcjc4ODIxNTc=",
                "organizations_url": "https://api.github.com/users/Supreeeme/orgs",
                "received_events_url": "https://api.github.com/users/Supreeeme/received_events",
                "repos_url": "https://api.github.com/users/Supreeeme/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Supreeeme/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Supreeeme/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Supreeeme",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@Supreeeme should be acceptable as long as  it has test coverage, and improves performance, and the impl is not complicated (or if it is, then consider refactoring and centralizing parts so that the result actually gains clarity rather than adding new \"here be dragons\" areas). ",
            "created_at": "2023-09-11T14:13:35Z",
            "html_url": "https://github.com/neovim/neovim/issues/11624#issuecomment-1713975701",
            "id": 1713975701,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11624",
            "node_id": "IC_kwDOAPphoM5mKTGV",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1713975701/reactions"
            },
            "updated_at": "2023-09-11T14:13:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1713975701",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/11624/comments",
    "created_at": "2019-12-28T18:43:06Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/11624/events",
    "html_url": "https://github.com/neovim/neovim/issues/11624",
    "id": 543267289,
    "labels": [
        {
            "color": "F9D0C4",
            "default": false,
            "description": "wrong behavior inherited from vim",
            "id": 154310492,
            "name": "bug-vim",
            "node_id": "MDU6TGFiZWwxNTQzMTA0OTI=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-vim"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "Nvim built-in (omni)completion",
            "id": 3214348835,
            "name": "completion",
            "node_id": "MDU6TGFiZWwzMjE0MzQ4ODM1",
            "url": "https://api.github.com/repos/neovim/neovim/labels/completion"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/11624/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 686,
        "created_at": "2014-05-10T20:43:04Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "Low priority items. We plan to work on this but don't have a target date.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/6",
        "id": 655037,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lNjU1MDM3",
        "number": 6,
        "open_issues": 635,
        "state": "open",
        "title": "backlog",
        "updated_at": "2025-01-21T00:09:37Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/6"
    },
    "node_id": "MDU6SXNzdWU1NDMyNjcyODk=",
    "number": 11624,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/11624/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/11624/timeline",
    "title": "`starstar` globbing searches through 'wildignore' paths",
    "updated_at": "2025-01-19T11:48:17Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/11624",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/767223?v=4",
        "events_url": "https://api.github.com/users/rafikdraoui/events{/privacy}",
        "followers_url": "https://api.github.com/users/rafikdraoui/followers",
        "following_url": "https://api.github.com/users/rafikdraoui/following{/other_user}",
        "gists_url": "https://api.github.com/users/rafikdraoui/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/rafikdraoui",
        "id": 767223,
        "login": "rafikdraoui",
        "node_id": "MDQ6VXNlcjc2NzIyMw==",
        "organizations_url": "https://api.github.com/users/rafikdraoui/orgs",
        "received_events_url": "https://api.github.com/users/rafikdraoui/received_events",
        "repos_url": "https://api.github.com/users/rafikdraoui/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/rafikdraoui/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/rafikdraoui/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/rafikdraoui",
        "user_view_type": "public"
    }
}