{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "### Feature already in Vim?\r\n\r\nN/A\r\n\r\n### Feature description\r\n\r\nAs a plugin author, I often draw text into random-access locations in a buffer to create a TUI. Right now, the functions `nvim_buf_[get|set]_text` use byte offsets for the horizontal coordinates. As a result, if I want to put text into a certain character column, I need to keep track of the byte widths and display widths of the characters to the left of where I want to add text. This is pretty cumbersome. It would be useful to have utility functions that let me work in char-column-space rather than byte-space.",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "If by \"display columns\" you actually mean character columns here, then there are Vim script functions `byteidx()` and `byteidxcomp()` to convert these.",
            "created_at": "2022-05-03T23:15:01Z",
            "html_url": "https://github.com/neovim/neovim/issues/18406#issuecomment-1116745596",
            "id": 1116745596,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18406",
            "node_id": "IC_kwDOAPphoM5CkC98",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1116745596/reactions"
            },
            "updated_at": "2022-05-03T23:15:01Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1116745596",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "The correct term for what I am referring to here and in #18404 is \"character column\", thanks for the reference.\r\n\r\n`byteidx` might help with this in theory, but then if I want to put `\"hello\"` into the 12th character column, I have to, what, do something like `vim.api.nvim_buf_set_text(..., vim.fn.byteidx(vim.api.nvim_buf_get_text(..., my_row, 0, my_row, 12, ...)), ...)` (details omitted for brevity...)?",
            "created_at": "2022-05-04T10:59:23Z",
            "html_url": "https://github.com/neovim/neovim/issues/18406#issuecomment-1117179310",
            "id": 1117179310,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18406",
            "node_id": "IC_kwDOAPphoM5Cls2u",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1117179310/reactions"
            },
            "updated_at": "2022-05-04T10:59:23Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1117179310",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5308024?v=4",
                "events_url": "https://api.github.com/users/andmis/events{/privacy}",
                "followers_url": "https://api.github.com/users/andmis/followers",
                "following_url": "https://api.github.com/users/andmis/following{/other_user}",
                "gists_url": "https://api.github.com/users/andmis/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/andmis",
                "id": 5308024,
                "login": "andmis",
                "node_id": "MDQ6VXNlcjUzMDgwMjQ=",
                "organizations_url": "https://api.github.com/users/andmis/orgs",
                "received_events_url": "https://api.github.com/users/andmis/received_events",
                "repos_url": "https://api.github.com/users/andmis/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/andmis/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/andmis/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/andmis",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/18406/comments",
    "created_at": "2022-05-03T21:24:49Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/18406/events",
    "html_url": "https://github.com/neovim/neovim/issues/18406",
    "id": 1224672657,
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "libnvim, Nvim RPC API",
            "id": 103819671,
            "name": "api",
            "node_id": "MDU6TGFiZWwxMDM4MTk2NzE=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/api"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/18406/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM5I_wWR",
    "number": 18406,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/18406/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/18406/timeline",
    "title": "Text getter/setter using character columns as the horizontal coordinate",
    "type": {
        "color": "blue",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "A request, idea, or new functionality",
        "id": 597167,
        "is_enabled": true,
        "name": "Enhancement",
        "node_id": "IT_kwDOAGK_Pc4ACRyv",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-07-02T09:00:01Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/18406",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/5308024?v=4",
        "events_url": "https://api.github.com/users/andmis/events{/privacy}",
        "followers_url": "https://api.github.com/users/andmis/followers",
        "following_url": "https://api.github.com/users/andmis/following{/other_user}",
        "gists_url": "https://api.github.com/users/andmis/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/andmis",
        "id": 5308024,
        "login": "andmis",
        "node_id": "MDQ6VXNlcjUzMDgwMjQ=",
        "organizations_url": "https://api.github.com/users/andmis/orgs",
        "received_events_url": "https://api.github.com/users/andmis/received_events",
        "repos_url": "https://api.github.com/users/andmis/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/andmis/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/andmis/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/andmis",
        "user_view_type": "public"
    }
}