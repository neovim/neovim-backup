{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nThe event 'BufModifiedSet' does not trigger any autocommands when a buffer's `modified` option is manually set, be that through `:se`, `:let &modified`, or `vim.bo.modified`. It only fires in the scenarios that set `modified` described under `:h 'modified'`.\n\nI guess this isn't necessarily unreasonable behaviour depending on how you look at it, however the manual would make you think that it should trigger regardless of how  the value was changed (also, I wonder, is the idea that it fires when the value actually changes, or when the option is set in general even if it the same value?).\n\n`:h BufModifiedSet`:\n> After the `'modified'` value of a buffer has been changed.\n\nThis seems not related to https://github.com/neovim/neovim/issues/32817, as getting the buffer to redraw does not cause the autocommand to do a delayed trigger.\n\n### Steps to reproduce\n\n1. Launch nvim with `nvim --clean`\n2. `lua vim.api.nvim_create_autocmd(\"BufModifiedSet\", { callback = function() print(os.date()) end })`\n3. Manually change the value of the buffer's 'modified' option, e.g. `:set modified`\n4. The autocommand will not trigger.\n\n### Expected behavior\n\nThe autocommand should trigger regardless of how 'modified' was changed (or perhaps the manual should clarify that explicitly setting it won't cause an event?)\n\n### Nvim version (nvim -v)\n\n0.11.5\n\n### Vim (not Nvim) behaves the same?\n\nn/a\n\n### Operating system/version\n\nNixOS 26.05 (Yarara) x86_64\n\n### Terminal name/version\n\nKitty 0.44.0\n\n### $TERM environment variable\n\nxterm-kitty\n\n### Installation\n\nnixpkgs-unstable (commit 418468ac9527e799809c900eda37cbff999199b6; issue is reproducible in both neovim and neovim-unwrapped packages)",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "I should add, you can use the event `OptionSet` with pattern `modified` to catpure when `modified` is explicitly set (works with `:set`, `:let` and `vim.bo`), though this doesn't fire when `modified` is set implicitly.",
            "created_at": "2026-01-09T02:29:27Z",
            "html_url": "https://github.com/neovim/neovim/issues/37317#issuecomment-3726775671",
            "id": 3726775671,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37317",
            "node_id": "IC_kwDOAPphoM7eIhV3",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3726775671/reactions"
            },
            "updated_at": "2026-01-09T02:29:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3726775671",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/80783230?v=4",
                "events_url": "https://api.github.com/users/LeviVanDerMaas/events{/privacy}",
                "followers_url": "https://api.github.com/users/LeviVanDerMaas/followers",
                "following_url": "https://api.github.com/users/LeviVanDerMaas/following{/other_user}",
                "gists_url": "https://api.github.com/users/LeviVanDerMaas/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/LeviVanDerMaas",
                "id": 80783230,
                "login": "LeviVanDerMaas",
                "node_id": "MDQ6VXNlcjgwNzgzMjMw",
                "organizations_url": "https://api.github.com/users/LeviVanDerMaas/orgs",
                "received_events_url": "https://api.github.com/users/LeviVanDerMaas/received_events",
                "repos_url": "https://api.github.com/users/LeviVanDerMaas/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/LeviVanDerMaas/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/LeviVanDerMaas/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/LeviVanDerMaas",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "For completeness' sake, I'll also add that today I noticed that:\n- `BufModifiedSet` will not trigger when a buffer with `modified` set is unloaded (though the option does get set to `nomodified`)\n- `BufModifiedSet` will trigger when you load an unloaded buffer after you set the `modified` option to true while the buffer was unloaded (e.g.`vim.bo[bufnr].modified = true`). Loading an unloaded buffer will also reset the `modified` option to be `nomodified`. I don't know why you would ever want to do something where you are changing the `modified` option of an unloaded buffer to true, but you can so I figure I might as well note it down here.",
            "created_at": "2026-01-09T21:46:36Z",
            "html_url": "https://github.com/neovim/neovim/issues/37317#issuecomment-3730673511",
            "id": 3730673511,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37317",
            "node_id": "IC_kwDOAPphoM7eXY9n",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3730673511/reactions"
            },
            "updated_at": "2026-01-09T21:46:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3730673511",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/80783230?v=4",
                "events_url": "https://api.github.com/users/LeviVanDerMaas/events{/privacy}",
                "followers_url": "https://api.github.com/users/LeviVanDerMaas/followers",
                "following_url": "https://api.github.com/users/LeviVanDerMaas/following{/other_user}",
                "gists_url": "https://api.github.com/users/LeviVanDerMaas/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/LeviVanDerMaas",
                "id": 80783230,
                "login": "LeviVanDerMaas",
                "node_id": "MDQ6VXNlcjgwNzgzMjMw",
                "organizations_url": "https://api.github.com/users/LeviVanDerMaas/orgs",
                "received_events_url": "https://api.github.com/users/LeviVanDerMaas/received_events",
                "repos_url": "https://api.github.com/users/LeviVanDerMaas/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/LeviVanDerMaas/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/LeviVanDerMaas/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/LeviVanDerMaas",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/37317/comments",
    "created_at": "2026-01-09T00:34:49Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/37317/events",
    "html_url": "https://github.com/neovim/neovim/issues/37317",
    "id": 3794999728,
    "issue_dependencies_summary": {
        "blocked_by": 0,
        "blocking": 0,
        "total_blocked_by": 0,
        "total_blocking": 0
    },
    "labels": [
        {
            "color": "FBCA04",
            "default": false,
            "description": "discussion has run its course, need decision how to proceed",
            "id": 83851236,
            "name": "needs:decision",
            "node_id": "MDU6TGFiZWw4Mzg1MTIzNg==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/needs:decision"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "events, autocommands",
            "id": 3341085842,
            "name": "events",
            "node_id": "MDU6TGFiZWwzMzQxMDg1ODQy",
            "url": "https://api.github.com/repos/neovim/neovim/labels/events"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/37317/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM7iMxmw",
    "number": 37317,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/37317/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/37317/timeline",
    "title": "`BufModifiedSet` does not get triggered when 'modified' is manually set.",
    "type": {
        "color": "red",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "An unexpected problem or behavior",
        "id": 597163,
        "is_enabled": true,
        "name": "Bug",
        "node_id": "IT_kwDOAGK_Pc4ACRyr",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2026-01-09T21:46:45Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/37317",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/80783230?v=4",
        "events_url": "https://api.github.com/users/LeviVanDerMaas/events{/privacy}",
        "followers_url": "https://api.github.com/users/LeviVanDerMaas/followers",
        "following_url": "https://api.github.com/users/LeviVanDerMaas/following{/other_user}",
        "gists_url": "https://api.github.com/users/LeviVanDerMaas/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/LeviVanDerMaas",
        "id": 80783230,
        "login": "LeviVanDerMaas",
        "node_id": "MDQ6VXNlcjgwNzgzMjMw",
        "organizations_url": "https://api.github.com/users/LeviVanDerMaas/orgs",
        "received_events_url": "https://api.github.com/users/LeviVanDerMaas/received_events",
        "repos_url": "https://api.github.com/users/LeviVanDerMaas/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/LeviVanDerMaas/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/LeviVanDerMaas/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/LeviVanDerMaas",
        "user_view_type": "public"
    }
}