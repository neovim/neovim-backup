{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nhttps://github.com/user-attachments/assets/4ee3083d-8bdb-4dc7-9ad0-b393f41bebd3\n\n| terminal                         | status |\n|----------------------------------|--------|\n| st 0.9.2                         | âŒ     |\n| XTerm(399)                       | âŒ     |\n| alacritty 0.15.1                 | âŒ     |\n| wezterm 20240203-110809-5046fc22 | âŒ     |\n| kitty 0.42.1                     | âœ…     |\n| Ghostty 1.1.3-arch1              | âœ…     |\n\n\n### Steps to reproduce\n\nminimal.lua:\n\n```lua\nvim.api.nvim_open_win(0, false, { relative = 'editor', width = 1, height = 1, row = 1, col = 1 })\n```\n\nUTF-8-demo.txt:\n\n<details>\n\n```\n\nUTF-8 encoded sample plain-text file\nâ€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾\n\nMarkus Kuhn [ËˆmaÊ³kÊŠs kuËn] <http://www.cl.cam.ac.uk/~mgk25/> â€” 2002-07-25 CC BY\n\n\nThe ASCII compatible UTF-8 encoding used in this plain-text file\nis defined in Unicode, ISO 10646-1, and RFC 2279.\n\n\nUsing Unicode/UTF-8, you can write in emails and source code things such as\n\nMathematics and sciences:\n\n  âˆ® Eâ‹…da = Q,  n â†’ âˆ, âˆ‘ f(i) = âˆ g(i),      â§â¡â›â”Œâ”€â”€â”€â”€â”€â”ââ¤â«\n                                            âªâ¢âœâ”‚aÂ²+bÂ³ âŸâ¥âª\n  âˆ€xâˆˆâ„: âŒˆxâŒ‰ = âˆ’âŒŠâˆ’xâŒ‹, Î± âˆ§ Â¬Î² = Â¬(Â¬Î± âˆ¨ Î²),    âªâ¢âœâ”‚â”€â”€â”€â”€â”€ âŸâ¥âª\n                                            âªâ¢âœâ· câ‚ˆ   âŸâ¥âª\n  â„• âŠ† â„•â‚€ âŠ‚ â„¤ âŠ‚ â„š âŠ‚ â„ âŠ‚ â„‚,                   â¨â¢âœ       âŸâ¥â¬\n                                            âªâ¢âœ âˆ     âŸâ¥âª\n  âŠ¥ < a â‰  b â‰¡ c â‰¤ d â‰ª âŠ¤ â‡’ (âŸ¦AâŸ§ â‡” âŸªBâŸ«),      âªâ¢âœ â²     âŸâ¥âª\n                                            âªâ¢âœ â³aâ±-bâ±âŸâ¥âª\n  2Hâ‚‚ + Oâ‚‚ â‡Œ 2Hâ‚‚O, R = 4.7 kÎ©, âŒ€ 200 mm     â©â£âi=1    â â¦â­\n\nLinguistics and dictionaries:\n\n  Ã°i Ä±ntÉ™ËˆnÃ¦ÊƒÉ™nÉ™l fÉ™ËˆnÉ›tÄ±k É™soÊŠsiËˆeÄ±Êƒn\n  Y [ËˆÊpsilÉ”n], Yen [jÉ›n], Yoga [ËˆjoËgÉ‘]\n\nAPL:\n\n  ((Vâ³V)=â³â´V)/Vâ†,V    âŒ·â†â³â†’â´âˆ†âˆ‡âŠƒâ€¾ââ•âŒˆ\n\nNicer typography in plain text files:\n\n  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\n  â•‘                                          â•‘\n  â•‘   â€¢ â€˜singleâ€™ and â€œdoubleâ€ quotes         â•‘\n  â•‘                                          â•‘\n  â•‘   â€¢ Curly apostrophes: â€œWeâ€™ve been hereâ€ â•‘\n  â•‘                                          â•‘\n  â•‘   â€¢ Latin-1 apostrophe and accents: 'Â´`  â•‘\n  â•‘                                          â•‘\n  â•‘   â€¢ â€šdeutscheâ€˜ â€AnfÃ¼hrungszeichenâ€œ       â•‘\n  â•‘                                          â•‘\n  â•‘   â€¢ â€ , â€¡, â€°, â€¢, 3â€“4, â€”, âˆ’5/+5, â„¢, â€¦      â•‘\n  â•‘                                          â•‘\n  â•‘   â€¢ ASCII safety test: 1lI|, 0OD, 8B     â•‘\n  â•‘                      â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®         â•‘\n  â•‘   â€¢ the euro symbol: â”‚ 14.95 â‚¬ â”‚         â•‘\n  â•‘                      â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯         â•‘\n  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nCombining characters:\n\n  STARGÎ›ÌŠTE SG-1, a = vÌ‡ = rÌˆ, aâƒ‘ âŠ¥ bâƒ‘\n\nGreek (in Polytonic):\n\n  The Greek anthem:\n\n  Î£á½² Î³Î½Ï‰Ïá½·Î¶Ï‰ á¼€Ï€á½¸ Ï„á½´Î½ Îºá½¹ÏˆÎ·\n  Ï„Î¿á¿¦ ÏƒÏ€Î±Î¸Î¹Î¿á¿¦ Ï„á½´Î½ Ï„ÏÎ¿Î¼ÎµÏá½µ,\n  Ïƒá½² Î³Î½Ï‰Ïá½·Î¶Ï‰ á¼€Ï€á½¸ Ï„á½´Î½ á½„ÏˆÎ·\n  Ï€Î¿á½º Î¼á½² Î²á½·Î± Î¼ÎµÏ„Ïá½±ÎµÎ¹ Ï„á½´ Î³á¿†.\n\n  á¾¿Î‘Ï€á¾¿ Ï„á½° Îºá½¹ÎºÎºÎ±Î»Î± Î²Î³Î±Î»Î¼á½³Î½Î·\n  Ï„á¿¶Î½ á¿¾Î•Î»Î»á½µÎ½Ï‰Î½ Ï„á½° á¼±ÎµÏá½±\n  ÎºÎ±á½¶ Ïƒá½°Î½ Ï€Ïá¿¶Ï„Î± á¼€Î½Î´ÏÎµÎ¹Ï‰Î¼á½³Î½Î·\n  Ï‡Î±á¿–ÏÎµ, á½¦ Ï‡Î±á¿–ÏÎµ, á¾¿Î•Î»ÎµÏ…Î¸ÎµÏÎ¹á½±!\n\n  From a speech of Demosthenes in the 4th century BC:\n\n  ÎŸá½Ï‡á½¶ Ï„Î±á½Ï„á½° Ï€Î±Ïá½·ÏƒÏ„Î±Ï„Î±á½· Î¼Î¿Î¹ Î³Î¹Î³Î½á½½ÏƒÎºÎµÎ¹Î½, á½¦ á¼„Î½Î´ÏÎµÏ‚ á¾¿Î‘Î¸Î·Î½Î±á¿–Î¿Î¹,\n  á½…Ï„Î±Î½ Ï„á¾¿ Îµá¼°Ï‚ Ï„á½° Ï€Ïá½±Î³Î¼Î±Ï„Î± á¼€Ï€Î¿Î²Î»á½³ÏˆÏ‰ ÎºÎ±á½¶ á½…Ï„Î±Î½ Ï€Ïá½¸Ï‚ Ï„Î¿á½ºÏ‚\n  Î»á½¹Î³Î¿Ï…Ï‚ Î¿á½“Ï‚ á¼€ÎºÎ¿á½»Ï‰Î‡ Ï„Î¿á½ºÏ‚ Î¼á½²Î½ Î³á½°Ï Î»á½¹Î³Î¿Ï…Ï‚ Ï€ÎµÏá½¶ Ï„Î¿á¿¦\n  Ï„Î¹Î¼Ï‰Ïá½µÏƒÎ±ÏƒÎ¸Î±Î¹ Î¦á½·Î»Î¹Ï€Ï€Î¿Î½ á½Ïá¿¶ Î³Î¹Î³Î½Î¿Î¼á½³Î½Î¿Ï…Ï‚, Ï„á½° Î´á½² Ï€Ïá½±Î³Î¼Î±Ï„á¾¿\n  Îµá¼°Ï‚ Ï„Î¿á¿¦Ï„Î¿ Ï€ÏÎ¿á½µÎºÎ¿Î½Ï„Î±,  á½¥ÏƒÎ¸á¾¿ á½…Ï€Ï‰Ï‚ Î¼á½´ Ï€ÎµÎ¹Ïƒá½¹Î¼ÎµÎ¸á¾¿ Î±á½Ï„Î¿á½¶\n  Ï€Ïá½¹Ï„ÎµÏÎ¿Î½ ÎºÎ±Îºá¿¶Ï‚ ÏƒÎºá½³ÏˆÎ±ÏƒÎ¸Î±Î¹ Î´á½³Î¿Î½. Î¿á½Î´á½³Î½ Î¿á½–Î½ á¼„Î»Î»Î¿ Î¼Î¿Î¹ Î´Î¿ÎºÎ¿á¿¦ÏƒÎ¹Î½\n  Î¿á¼± Ï„á½° Ï„Î¿Î¹Î±á¿¦Ï„Î± Î»á½³Î³Î¿Î½Ï„ÎµÏ‚ á¼¢ Ï„á½´Î½ á½‘Ï€á½¹Î¸ÎµÏƒÎ¹Î½, Ï€ÎµÏá½¶ á¼§Ï‚ Î²Î¿Ï…Î»Îµá½»ÎµÏƒÎ¸Î±Î¹,\n  Î¿á½Ï‡á½¶ Ï„á½´Î½ Î¿á½–ÏƒÎ±Î½ Ï€Î±ÏÎ¹ÏƒÏ„á½±Î½Ï„ÎµÏ‚ á½‘Î¼á¿–Î½ á¼Î¼Î±ÏÏ„á½±Î½ÎµÎ¹Î½. á¼Î³á½¼ Î´á½³, á½…Ï„Î¹ Î¼á½³Î½\n  Ï€Î¿Ï„á¾¿ á¼Î¾á¿†Î½ Ï„á¿‡ Ï€á½¹Î»ÎµÎ¹ ÎºÎ±á½¶ Ï„á½° Î±á½‘Ï„á¿†Ï‚ á¼”Ï‡ÎµÎ¹Î½ á¼€ÏƒÏ†Î±Î»á¿¶Ï‚ ÎºÎ±á½¶ Î¦á½·Î»Î¹Ï€Ï€Î¿Î½\n  Ï„Î¹Î¼Ï‰Ïá½µÏƒÎ±ÏƒÎ¸Î±Î¹, ÎºÎ±á½¶ Î¼á½±Î»á¾¿ á¼€ÎºÏÎ¹Î²á¿¶Ï‚ Î¿á¼¶Î´Î±Î‡ á¼Ï€á¾¿ á¼Î¼Î¿á¿¦ Î³á½±Ï, Î¿á½ Ï€á½±Î»Î±Î¹\n  Î³á½³Î³Î¿Î½ÎµÎ½ Ï„Î±á¿¦Ï„á¾¿ á¼€Î¼Ï†á½¹Ï„ÎµÏÎ±Î‡ Î½á¿¦Î½ Î¼á½³Î½Ï„Î¿Î¹ Ï€á½³Ï€ÎµÎ¹ÏƒÎ¼Î±Î¹ Ï„Î¿á¿¦Î¸á¾¿ á¼±ÎºÎ±Î½á½¸Î½\n  Ï€ÏÎ¿Î»Î±Î²Îµá¿–Î½ á¼¡Î¼á¿–Î½ Îµá¼¶Î½Î±Î¹ Ï„á½´Î½ Ï€Ïá½½Ï„Î·Î½, á½…Ï€Ï‰Ï‚ Ï„Î¿á½ºÏ‚ ÏƒÏ…Î¼Î¼á½±Ï‡Î¿Ï…Ï‚\n  Ïƒá½½ÏƒÎ¿Î¼ÎµÎ½. á¼á½°Î½ Î³á½°Ï Ï„Î¿á¿¦Ï„Î¿ Î²ÎµÎ²Î±á½·Ï‰Ï‚ á½‘Ï€á½±ÏÎ¾á¿ƒ, Ï„á½¹Ï„Îµ ÎºÎ±á½¶ Ï€ÎµÏá½¶ Ï„Î¿á¿¦\n  Ï„á½·Î½Î± Ï„Î¹Î¼Ï‰Ïá½µÏƒÎµÏ„Î±á½· Ï„Î¹Ï‚ ÎºÎ±á½¶ á½ƒÎ½ Ï„Ïá½¹Ï€Î¿Î½ á¼Î¾á½³ÏƒÏ„Î±Î¹ ÏƒÎºÎ¿Ï€Îµá¿–Î½Î‡ Ï€Ïá½¶Î½ Î´á½²\n  Ï„á½´Î½ á¼€ÏÏ‡á½´Î½ á½€ÏÎ¸á¿¶Ï‚ á½‘Ï€Î¿Î¸á½³ÏƒÎ¸Î±Î¹, Î¼á½±Ï„Î±Î¹Î¿Î½ á¼¡Î³Î¿á¿¦Î¼Î±Î¹ Ï€ÎµÏá½¶ Ï„á¿†Ï‚\n  Ï„ÎµÎ»ÎµÏ…Ï„á¿†Ï‚ á½Î½Ï„Î¹Î½Î¿á¿¦Î½ Ï€Î¿Î¹Îµá¿–ÏƒÎ¸Î±Î¹ Î»á½¹Î³Î¿Î½.\n\n  Î”Î·Î¼Î¿ÏƒÎ¸á½³Î½Î¿Ï…Ï‚, Î“á¿½ á¾¿ÎŸÎ»Ï…Î½Î¸Î¹Î±Îºá½¸Ï‚\n\nGeorgian:\n\n  From a Unicode conference invitation:\n\n  áƒ’áƒ—áƒ®áƒáƒ•áƒ— áƒáƒ®áƒšáƒáƒ•áƒ” áƒ’áƒáƒ˜áƒáƒ áƒáƒ— áƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ Unicode-áƒ˜áƒ¡ áƒ›áƒ”áƒáƒ—áƒ” áƒ¡áƒáƒ”áƒ áƒ—áƒáƒ¨áƒáƒ áƒ˜áƒ¡áƒ\n  áƒ™áƒáƒœáƒ¤áƒ”áƒ áƒ”áƒœáƒªáƒ˜áƒáƒ–áƒ” áƒ“áƒáƒ¡áƒáƒ¡áƒ¬áƒ áƒ”áƒ‘áƒáƒ“, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ’áƒáƒ˜áƒ›áƒáƒ áƒ—áƒ”áƒ‘áƒ 10-12 áƒ›áƒáƒ áƒ¢áƒ¡,\n  áƒ¥. áƒ›áƒáƒ˜áƒœáƒªáƒ¨áƒ˜, áƒ’áƒ”áƒ áƒ›áƒáƒœáƒ˜áƒáƒ¨áƒ˜. áƒ™áƒáƒœáƒ¤áƒ”áƒ áƒ”áƒœáƒªáƒ˜áƒ áƒ¨áƒ”áƒ°áƒ™áƒ áƒ”áƒ‘áƒ¡ áƒ”áƒ áƒ—áƒáƒ“ áƒ›áƒ¡áƒáƒ¤áƒšáƒ˜áƒáƒ¡\n  áƒ”áƒ¥áƒ¡áƒáƒ”áƒ áƒ¢áƒ”áƒ‘áƒ¡ áƒ˜áƒ¡áƒ”áƒ— áƒ“áƒáƒ áƒ’áƒ”áƒ‘áƒ¨áƒ˜ áƒ áƒáƒ’áƒáƒ áƒ˜áƒªáƒáƒ áƒ˜áƒœáƒ¢áƒ”áƒ áƒœáƒ”áƒ¢áƒ˜ áƒ“áƒ Unicode-áƒ˜,\n  áƒ˜áƒœáƒ¢áƒ”áƒ áƒœáƒáƒªáƒ˜áƒáƒœáƒáƒšáƒ˜áƒ–áƒáƒªáƒ˜áƒ áƒ“áƒ áƒšáƒáƒ™áƒáƒšáƒ˜áƒ–áƒáƒªáƒ˜áƒ, Unicode-áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒ\n  áƒáƒáƒ”áƒ áƒáƒªáƒ˜áƒ£áƒš áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ”áƒ‘áƒ¡áƒ, áƒ“áƒ áƒ’áƒáƒ›áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒ˜áƒ— áƒáƒ áƒáƒ’áƒ áƒáƒ›áƒ”áƒ‘áƒ¨áƒ˜, áƒ¨áƒ áƒ˜áƒ¤áƒ¢áƒ”áƒ‘áƒ¨áƒ˜,\n  áƒ¢áƒ”áƒ¥áƒ¡áƒ¢áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ›áƒ£áƒ¨áƒáƒ•áƒ”áƒ‘áƒáƒ¡áƒ áƒ“áƒ áƒ›áƒ áƒáƒ•áƒáƒšáƒ”áƒœáƒáƒ•áƒáƒœ áƒ™áƒáƒ›áƒáƒ˜áƒ£áƒ¢áƒ”áƒ áƒ£áƒš áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ”áƒ‘áƒ¨áƒ˜.\n\nRussian:\n\n  From a Unicode conference invitation:\n\n  Ğ—Ğ°Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€ÑƒĞ¹Ñ‚ĞµÑÑŒ ÑĞµĞ¹Ñ‡Ğ°Ñ Ğ½Ğ° Ğ”ĞµÑÑÑ‚ÑƒÑ ĞœĞµĞ¶Ğ´ÑƒĞ½Ğ°Ñ€Ğ¾Ğ´Ğ½ÑƒÑ ĞšĞ¾Ğ½Ñ„ĞµÑ€ĞµĞ½Ñ†Ğ¸Ñ Ğ¿Ğ¾\n  Unicode, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ°Ñ ÑĞ¾ÑÑ‚Ğ¾Ğ¸Ñ‚ÑÑ 10-12 Ğ¼Ğ°Ñ€Ñ‚Ğ° 1997 Ğ³Ğ¾Ğ´Ğ° Ğ² ĞœĞ°Ğ¹Ğ½Ñ†Ğµ Ğ² Ğ“ĞµÑ€Ğ¼Ğ°Ğ½Ğ¸Ğ¸.\n  ĞšĞ¾Ğ½Ñ„ĞµÑ€ĞµĞ½Ñ†Ğ¸Ñ ÑĞ¾Ğ±ĞµÑ€ĞµÑ‚ ÑˆĞ¸Ñ€Ğ¾ĞºĞ¸Ğ¹ ĞºÑ€ÑƒĞ³ ÑĞºÑĞ¿ĞµÑ€Ñ‚Ğ¾Ğ² Ğ¿Ğ¾  Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ°Ğ¼ Ğ³Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾\n  Ğ˜Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚Ğ° Ğ¸ Unicode, Ğ»Ğ¾ĞºĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ¸ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ½Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸, Ğ²Ğ¾Ğ¿Ğ»Ğ¾Ñ‰ĞµĞ½Ğ¸Ñ Ğ¸\n  Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Unicode Ğ² Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ñ… ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°Ñ… Ğ¸ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ½Ñ‹Ñ…\n  Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸ÑÑ…, ÑˆÑ€Ğ¸Ñ„Ñ‚Ğ°Ñ…, Ğ²ĞµÑ€ÑÑ‚ĞºĞµ Ğ¸ Ğ¼Ğ½Ğ¾Ğ³Ğ¾ÑĞ·Ñ‹Ñ‡Ğ½Ñ‹Ñ… ĞºĞ¾Ğ¼Ğ¿ÑŒÑÑ‚ĞµÑ€Ğ½Ñ‹Ñ… ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°Ñ….\n\nThai (UCS Level 2):\n\n  Excerpt from a poetry on The Romance of The Three Kingdoms (a Chinese\n  classic 'San Gua'):\n\n  [----------------------------|------------------------]\n    à¹ à¹à¸œà¹ˆà¸™à¸”à¸´à¸™à¸®à¸±à¹ˆà¸™à¹€à¸ªà¸·à¹ˆà¸­à¸¡à¹‚à¸—à¸£à¸¡à¹à¸ªà¸™à¸ªà¸±à¸‡à¹€à¸§à¸Š  à¸à¸£à¸°à¸›à¸à¹€à¸à¸¨à¸à¸­à¸‡à¸šà¸¹à¹Šà¸à¸¹à¹‰à¸‚à¸¶à¹‰à¸™à¹ƒà¸«à¸¡à¹ˆ\n  à¸ªà¸´à¸šà¸ªà¸­à¸‡à¸à¸©à¸±à¸•à¸£à¸´à¸¢à¹Œà¸à¹ˆà¸­à¸™à¸«à¸™à¹‰à¸²à¹à¸¥à¸–à¸±à¸”à¹„à¸›       à¸ªà¸­à¸‡à¸­à¸‡à¸„à¹Œà¹„à¸‹à¸£à¹‰à¹‚à¸‡à¹ˆà¹€à¸‚à¸¥à¸²à¹€à¸šà¸²à¸›à¸±à¸à¸à¸²\n    à¸—à¸£à¸‡à¸™à¸±à¸šà¸–à¸·à¸­à¸‚à¸±à¸™à¸—à¸µà¹€à¸›à¹‡à¸™à¸—à¸µà¹ˆà¸à¸¶à¹ˆà¸‡           à¸šà¹‰à¸²à¸™à¹€à¸¡à¸·à¸­à¸‡à¸ˆà¸¶à¸‡à¸§à¸´à¸›à¸£à¸´à¸•à¹€à¸›à¹‡à¸™à¸™à¸±à¸à¸«à¸™à¸²\n  à¹‚à¸®à¸ˆà¸´à¹‹à¸™à¹€à¸£à¸µà¸¢à¸à¸—à¸±à¸à¸—à¸±à¹ˆà¸§à¸«à¸±à¸§à¹€à¸¡à¸·à¸­à¸‡à¸¡à¸²         à¸«à¸¡à¸²à¸¢à¸ˆà¸°à¸†à¹ˆà¸²à¸¡à¸”à¸Šà¸±à¹ˆà¸§à¸•à¸±à¸§à¸ªà¸³à¸„à¸±à¸\n    à¹€à¸«à¸¡à¸·à¸­à¸™à¸‚à¸±à¸šà¹„à¸ªà¹„à¸¥à¹ˆà¹€à¸ªà¸·à¸­à¸ˆà¸²à¸à¹€à¸„à¸«à¸²      à¸£à¸±à¸šà¸«à¸¡à¸²à¸›à¹ˆà¸²à¹€à¸‚à¹‰à¸²à¸¡à¸²à¹€à¸¥à¸¢à¸­à¸²à¸ªà¸±à¸\n  à¸à¹ˆà¸²à¸¢à¸­à¹‰à¸­à¸‡à¸­à¸¸à¹‰à¸™à¸¢à¸¸à¹à¸¢à¸à¹ƒà¸«à¹‰à¹à¸•à¸à¸à¸±à¸™          à¹ƒà¸Šà¹‰à¸ªà¸²à¸§à¸™à¸±à¹‰à¸™à¹€à¸›à¹‡à¸™à¸Šà¸™à¸§à¸™à¸Šà¸·à¹ˆà¸™à¸Šà¸§à¸™à¹ƒà¸ˆ\n    à¸à¸¥à¸±à¸™à¸¥à¸´à¸‰à¸¸à¸¢à¸à¸¸à¸¢à¸à¸µà¸à¸¥à¸±à¸šà¸à¹ˆà¸­à¹€à¸«à¸•à¸¸          à¸Šà¹ˆà¸²à¸‡à¸­à¸²à¹€à¸à¸¨à¸ˆà¸£à¸´à¸‡à¸«à¸™à¸²à¸Ÿà¹‰à¸²à¸£à¹‰à¸­à¸‡à¹„à¸«à¹‰\n  à¸•à¹‰à¸­à¸‡à¸£à¸šà¸£à¸²à¸†à¹ˆà¸²à¸Ÿà¸±à¸™à¸ˆà¸™à¸šà¸£à¸£à¸¥à¸±à¸¢           à¸¤à¹…à¸«à¸²à¹ƒà¸„à¸£à¸„à¹‰à¸³à¸Šà¸¹à¸à¸¹à¹‰à¸šà¸£à¸£à¸¥à¸±à¸‡à¸à¹Œ à¸¯\n\n  (The above is a two-column text. If combining characters are handled\n  correctly, the lines of the second column should be aligned with the\n  | character above.)\n\nEthiopian:\n\n  Proverbs in the Amharic language:\n\n  áˆ°áˆ›á‹­ áŠ á‹­á‰³áˆ¨áˆµ áŠ•áŒ‰áˆ¥ áŠ á‹­áŠ¨áˆ°áˆµá¢\n  á‰¥áˆ‹ áŠ«áˆˆáŠ áŠ¥áŠ•á‹°áŠ á‰£á‰´ á‰ á‰†áˆ˜áŒ áŠá¢\n  áŒŒáŒ¥ á‹«áˆˆá‰¤á‰± á‰áˆáŒ¥áŠ“ áŠá‹á¢\n  á‹°áˆ€ á‰ áˆ•áˆáˆ™ á‰…á‰¤ á‰£á‹­áŒ áŒ£ áŠ•áŒ£á‰µ á‰ áŒˆá‹°áˆˆá‹á¢\n  á‹¨áŠ á á‹ˆáˆˆáˆá‰³ á‰ á‰…á‰¤ áŠ á‹­á‰³áˆ½áˆá¢\n  áŠ á‹­áŒ¥ á‰ á‰ áˆ‹ á‹³á‹‹ á‰°áˆ˜á‰³á¢\n  áˆ²á‰°áˆ¨áŒ‰áˆ™ á‹­á‹°áˆ¨áŒáˆ™á¢\n  á‰€áˆµ á‰ á‰€áˆµá¥ á‹•áŠ•á‰áˆ‹áˆ á‰ áŠ¥áŒáˆ© á‹­áˆ„á‹³áˆá¢\n  á‹µáˆ­ á‰¢á‹«á‰¥áˆ­ áŠ áŠ•á‰ áˆ³ á‹«áˆµáˆ­á¢\n  áˆ°á‹ áŠ¥áŠ•á‹°á‰¤á‰± áŠ¥áŠ•áŒ… áŠ¥áŠ•á‹° áŒ‰áˆ¨á‰¤á‰± áŠ á‹­á‰°á‹³á‹°áˆ­áˆá¢\n  áŠ¥áŒá‹œáˆ­ á‹¨áŠ¨áˆá‰°á‹áŠ• áŒ‰áˆ®áˆ® áˆ³á‹­á‹˜áŒ‹á‹ áŠ á‹­á‹µáˆ­áˆá¢\n  á‹¨áŒáˆ¨á‰¤á‰µ áˆŒá‰£á¥ á‰¢á‹«á‹©á‰µ á‹­áˆµá‰… á‰£á‹«á‹©á‰µ á‹«áŒ áˆá‰…á¢\n  áˆ¥áˆ« áŠ¨áˆ˜áá‰³á‰µ áˆáŒ„áŠ• áˆ‹á‹á‰³á‰µá¢\n  á‹“á‰£á‹­ áˆ›á‹°áˆªá‹« á‹¨áˆˆá‹á¥ áŒáŠ•á‹µ á‹­á‹ á‹­á‹áˆ«áˆá¢\n  á‹¨áŠ¥áˆµáˆ‹áˆ áŠ áŒˆáˆ© áˆ˜áŠ« á‹¨áŠ áˆáˆ« áŠ áŒˆáˆ© á‹‹áˆ­áŠ«á¢\n  á‰°áŠ•áŒ‹áˆ á‰¢á‰°á‰ á‰°áˆ˜áˆáˆ¶ á‰£á‰á¢\n  á‹ˆá‹³áŒ…áˆ… áˆ›áˆ­ á‰¢áˆ†áŠ• áŒ¨áˆ­áˆµáˆ… áŠ á‰µáˆ‹áˆ°á‹á¢\n  áŠ¥áŒáˆ­áˆ…áŠ• á‰ ááˆ«áˆ½áˆ… áˆáŠ­ á‹˜áˆ­áŒ‹á¢\n\nRunes:\n\n  áš»á›– áš³áš¹áš«áš¦ áš¦áš«á› áš»á›– á›’áš¢á›á›– áš©áš¾ áš¦áš«á›— á›šášªáš¾á›á›– áš¾áš©áš±áš¦áš¹á›–ášªáš±á›áš¢á›— áš¹á›áš¦ áš¦ášª áš¹á›–á›¥áš«\n\n  (Old English, which transcribed into Latin reads 'He cwaeth that he\n  bude thaem lande northweardum with tha Westsae.' and means 'He said\n  that he lived in the northern land near the Western Sea.')\n\nBraille:\n\n  â¡Œâ â §â ‘ â ¼â â ’  â¡â œâ ‡â ‘â ¹â °â  â¡£â •â Œ\n\n  â¡â œâ ‡â ‘â ¹ â ºâ â  â ™â ‘â â ™â ’ â â • â ƒâ ‘â ›â ” â ºâ Šâ ¹â ² â¡¹â »â ‘ â Šâ  â â • â ™â ³â ƒâ \n  â ±â â â ‘â §â » â â ƒâ ³â  â ¹â â â ² â¡¹â ‘ â —â ‘â ›â Šâ Œâ » â •â ‹ â ™â Šâ  â ƒâ ¥â —â Šâ â ‡ â ºâ â \n  â â Šâ ›â â « â ƒâ ¹ â ¹â ‘ â Šâ ‡â »â ›â ¹â â â â ‚ â ¹â ‘ â Šâ ‡â »â …â ‚ â ¹â ‘ â ¥â â ™â »â â â …â »â ‚\n  â â â ™ â ¹â ‘ â ¡â Šâ ‘â ‹ â â ³â —â â »â ² â¡â Šâ —â •â •â ›â ‘ â â Šâ ›â â « â Šâ â ² â¡â â ™\n  â¡â Šâ —â •â •â ›â ‘â °â  â â â â ‘ â ºâ â  â ›â •â •â ™ â ¥â â •â  â °â¡¡â â â ›â ‘â ‚ â ‹â •â — â â â ¹â ¹â ”â › â ™â ‘\n  â ¡â •â â ‘ â â • â â ¥â  â ™â Šâ  â ™â â â ™ â â •â ²\n\n  â¡•â ‡â ™ â¡â œâ ‡â ‘â ¹ â ºâ â  â â  â ™â ‘â â ™ â â  â  â ™â •â •â —â ¤â â â Šâ ‡â ²\n\n  â¡â ”â ™â – â¡Š â ™â •â â °â  â â ‘â â  â â • â â â ¹ â ¹â â  â¡Š â …â â ªâ ‚ â •â ‹ â â ¹\n  â ªâ  â …â â ªâ ‡â «â ›â ‘â ‚ â ±â â  â ¹â »â ‘ â Šâ  â â œâ â Šâ Šâ ¥â ‡â œâ ‡â ¹ â ™â ‘â â ™ â â ƒâ ³â \n  â  â ™â •â •â —â ¤â â â Šâ ‡â ² â¡Š â â Šâ £â  â ™â â §â ‘ â ƒâ ‘â ² â ”â Šâ ‡â ”â «â ‚ â â ¹â â ‘â ‡â ‹â ‚ â â •\n  â —â ‘â ›â œâ ™ â  â Šâ •â ‹â ‹â ”â ¤â â â Šâ ‡ â â  â ¹â ‘ â ™â ‘â â ™â ‘â Œ â â Šâ ‘â Šâ ‘ â •â ‹ â Šâ —â •â â â •â â ›â »â ¹\n  â ” â ¹â ‘ â â —â â ™â ‘â ² â¡ƒâ ¥â  â ¹â ‘ â ºâ Šâ â ™â •â  â •â ‹ â ³â — â â â Šâ ‘â Œâ •â —â \n  â Šâ  â ” â ¹â ‘ â â Šâ â Šâ ‡â ‘â † â â â ™ â â ¹ â ¥â â ™â â ‡â ‡â ªâ « â ™â â â ™â \n  â ©â â ‡â ‡ â â •â  â ™â Šâ Œâ ¥â —â ƒ â Šâ â ‚ â •â — â ¹â ‘ â¡Šâ ³â â â —â ¹â °â  â ™â •â â ‘ â ‹â •â —â ² â¡¹â ³\n  â ºâ Šâ ‡â ‡ â ¹â »â ‘â ‹â •â —â ‘ â â »â â Šâ  â â ‘ â â • â —â ‘â â ‘â â â ‚ â ‘â â â ™â â â Šâ Šâ â ‡â ‡â ¹â ‚ â ¹â â \n  â¡â œâ ‡â ‘â ¹ â ºâ â  â â  â ™â ‘â â ™ â â  â  â ™â •â •â —â ¤â â â Šâ ‡â ²\n\n  (The first couple of paragraphs of \"A Christmas Carol\" by Dickens)\n\nCompact font selection example text:\n\n  ABCDEFGHIJKLMNOPQRSTUVWXYZ /0123456789\n  abcdefghijklmnopqrstuvwxyz Â£Â©ÂµÃ€Ã†Ã–ÃÃŸÃ©Ã¶Ã¿\n  â€“â€”â€˜â€œâ€â€â€ â€¢â€¦â€°â„¢Å“Å Å¸Å¾â‚¬ Î‘Î’Î“Î”Î©Î±Î²Î³Î´Ï‰ ĞĞ‘Ğ’Ğ“Ğ”Ğ°Ğ±Ğ²Ğ³Ğ´\n  âˆ€âˆ‚âˆˆâ„âˆ§âˆªâ‰¡âˆ â†‘â†—â†¨â†»â‡£ â”â”¼â•”â•˜â–‘â–ºâ˜ºâ™€ ï¬ï¿½â‘€â‚‚á¼ á¸‚Ó¥áº„ÉËâ×Ô±áƒ\n\nGreetings in various languages:\n\n  Hello world, ÎšÎ±Î»Î·Î¼á½³ÏÎ± Îºá½¹ÏƒÎ¼Îµ, ã‚³ãƒ³ãƒ‹ãƒãƒ\n\nBox drawing alignment tests:                                          â–ˆ\n                                                                      â–‰\n  â•”â•â•â•¦â•â•â•—  â”Œâ”€â”€â”¬â”€â”€â”  â•­â”€â”€â”¬â”€â”€â•®  â•­â”€â”€â”¬â”€â”€â•®  â”â”â”â”³â”â”â”“  â”â”’â”â”‘   â•·  â•» â”â”¯â”“ â”Œâ”°â”    â–Š â•±â•²â•±â•²â•³â•³â•³\n  â•‘â”Œâ”€â•¨â”€â”â•‘  â”‚â•”â•â•§â•â•—â”‚  â”‚â•’â•â•ªâ•â••â”‚  â”‚â•“â”€â•â”€â•–â”‚  â”ƒâ”Œâ”€â•‚â”€â”â”ƒ  â”—â•ƒâ•„â”™  â•¶â”¼â•´â•ºâ•‹â•¸â” â”¼â”¨ â”â•‹â”¥    â–‹ â•²â•±â•²â•±â•³â•³â•³\n  â•‘â”‚â•² â•±â”‚â•‘  â”‚â•‘   â•‘â”‚  â”‚â”‚ â”‚ â”‚â”‚  â”‚â•‘ â”ƒ â•‘â”‚  â”ƒâ”‚ â•¿ â”‚â”ƒ  â”â•…â•†â”“   â•µ  â•¹ â”—â”·â”› â””â”¸â”˜    â–Œ â•±â•²â•±â•²â•³â•³â•³\n  â• â•¡ â•³ â•â•£  â”œâ•¢   â•Ÿâ”¤  â”œâ”¼â”€â”¼â”€â”¼â”¤  â”œâ•«â”€â•‚â”€â•«â”¤  â”£â”¿â•¾â”¼â•¼â”¿â”«  â”•â”›â”–â”š     â”Œâ”„â”„â” â• â”â”…â”…â”“ â”‹ â– â•²â•±â•²â•±â•³â•³â•³\n  â•‘â”‚â•± â•²â”‚â•‘  â”‚â•‘   â•‘â”‚  â”‚â”‚ â”‚ â”‚â”‚  â”‚â•‘ â”ƒ â•‘â”‚  â”ƒâ”‚ â•½ â”‚â”ƒ  â–‘â–‘â–’â–’â–“â–“â–ˆâ–ˆ â”Š  â”† â• â•  â”‡ â”‹ â–\n  â•‘â””â”€â•¥â”€â”˜â•‘  â”‚â•šâ•â•¤â•â•â”‚  â”‚â•˜â•â•ªâ•â•›â”‚  â”‚â•™â”€â•€â”€â•œâ”‚  â”ƒâ””â”€â•‚â”€â”˜â”ƒ  â–‘â–‘â–’â–’â–“â–“â–ˆâ–ˆ â”Š  â”† â• â•  â”‡ â”‹ â–\n  â•šâ•â•â•©â•â•â•  â””â”€â”€â”´â”€â”€â”˜  â•°â”€â”€â”´â”€â”€â•¯  â•°â”€â”€â”´â”€â”€â•¯  â”—â”â”â”»â”â”â”›  â–—â–„â––â–›â–€â–œ   â””â•Œâ•Œâ”˜ â• â”—â•â•â”› â”‹  â–â–‚â–ƒâ–„â–…â–†â–‡â–ˆ\n                                               â–â–€â–˜â–™â–„â–Ÿ\n\n```\n\n</details>\n\nrun `nvim --clean -u minimal.lua UTF-8-demo.txt`\n\npress `<c-d><c-d><c-d>...`\n\n### Expected behavior\n\nno display issue\n\n### Nvim version (nvim -v)\n\nNVIM v0.12.0-dev-549+gbcba067dc2\n\n### Vim (not Nvim) behaves the same?\n\nno\n\n### Operating system/version\n\n6.14.10-arch1-1\n\n### Terminal name/version\n\n-\n\n### $TERM environment variable\n\n-\n\n### Installation\n\nbuild from repo",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Can you please elaborate what exactly is displayed incorrectly, including pressed keys and terminal size required to reproduce it? I doubt this has anything to do with `vim.ui_attach()`, so figuring out what exactly causes a display issue would be helpful. Probably just the presence of floating windows?",
            "created_at": "2025-06-10T10:11:16Z",
            "html_url": "https://github.com/neovim/neovim/issues/34410#issuecomment-2958522817",
            "id": 2958522817,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34410",
            "node_id": "IC_kwDOAPphoM6wV3nB",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2958522817/reactions"
            },
            "updated_at": "2025-06-10T10:12:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2958522817",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Yes, I can reproduce corrupted screen states in the presence of a mere floating window (fixed by pressing \\<C-L>).",
            "created_at": "2025-06-10T10:25:14Z",
            "html_url": "https://github.com/neovim/neovim/issues/34410#issuecomment-2958562927",
            "id": 2958562927,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34410",
            "node_id": "IC_kwDOAPphoM6wWBZv",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2958562927/reactions"
            },
            "updated_at": "2025-06-10T10:25:14Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2958562927",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Yeah it is more likely related to the compositor (where we emulate scrolls in case of overlapping windows)",
            "created_at": "2025-06-10T11:57:10Z",
            "html_url": "https://github.com/neovim/neovim/issues/34410#issuecomment-2958922831",
            "id": 2958922831,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34410",
            "node_id": "IC_kwDOAPphoM6wXZRP",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2958922831/reactions"
            },
            "updated_at": "2025-06-10T11:57:10Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2958922831",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
                "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
                "followers_url": "https://api.github.com/users/bfredl/followers",
                "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
                "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bfredl",
                "id": 1363104,
                "login": "bfredl",
                "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
                "organizations_url": "https://api.github.com/users/bfredl/orgs",
                "received_events_url": "https://api.github.com/users/bfredl/received_events",
                "repos_url": "https://api.github.com/users/bfredl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bfredl",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I tried to narrow down individual problematic characters, one example is à¸ªà¸³ (U+0E2A U+0E33). This is considered to be a single cell by neovim as we use extended grapheme clusters, but many terminals still use legacy grapheme clusters.\n\nwe need to extend the workaround in `print_cell_at_pos()` to also handle such cases. \n",
            "created_at": "2025-06-11T10:43:39Z",
            "html_url": "https://github.com/neovim/neovim/issues/34410#issuecomment-2962178877",
            "id": 2962178877,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34410",
            "node_id": "IC_kwDOAPphoM6wj0M9",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 3,
                "total_count": 3,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2962178877/reactions"
            },
            "updated_at": "2025-06-11T10:45:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2962178877",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
                "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
                "followers_url": "https://api.github.com/users/bfredl/followers",
                "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
                "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bfredl",
                "id": 1363104,
                "login": "bfredl",
                "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
                "organizations_url": "https://api.github.com/users/bfredl/orgs",
                "received_events_url": "https://api.github.com/users/bfredl/received_events",
                "repos_url": "https://api.github.com/users/bfredl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bfredl",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I added this:\n```terminal\ndiff --git a/src/nvim/tui/tui.c b/src/nvim/tui/tui.c\nindex 5faf9560c8..84f1abc954 100644\n--- a/src/nvim/tui/tui.c\n+++ b/src/nvim/tui/tui.c\n@@ -1115,6 +1115,14 @@ static void print_cell_at_pos(TUIData *tui, int row, int col, UCell *cell, bool\n   schar_get(buf, cell->data);\n   int c = utf_ptr2char(buf);\n   bool is_ambiwidth = utf_ambiguous_width(buf);\n+\n+  // Detect multi-codepoint grapheme clusters that we think are 1 cell wide\n+  if (!is_ambiwidth) {\n+   if ((schar_len(cell->data) > (size_t)utf_char2len(c)) && utf_char2cells(c) == 1) {\n+    is_ambiwidth = true;\n+   }\n+  }\n+\n   if (is_doublewidth && (is_ambiwidth || utf_char2cells(c) == 1)) {\n     // If the server used setcellwidths() to treat a single-width char as double-width,\n     // it needs to be treated like an ambiguous-width char.\n```\n\nand it solve the issue, as suggested from bfredl.\n\nI am working on a lua test to reproduce the issue and verify the fix, I have not found a proper lua test yet.",
            "created_at": "2025-12-15T18:26:27Z",
            "html_url": "https://github.com/neovim/neovim/issues/34410#issuecomment-3657019078",
            "id": 3657019078,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34410",
            "node_id": "IC_kwDOAPphoM7Z-a7G",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3657019078/reactions"
            },
            "updated_at": "2025-12-15T18:26:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3657019078",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/69109614?v=4",
                "events_url": "https://api.github.com/users/LorenzoPiombini/events{/privacy}",
                "followers_url": "https://api.github.com/users/LorenzoPiombini/followers",
                "following_url": "https://api.github.com/users/LorenzoPiombini/following{/other_user}",
                "gists_url": "https://api.github.com/users/LorenzoPiombini/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/LorenzoPiombini",
                "id": 69109614,
                "login": "LorenzoPiombini",
                "node_id": "MDQ6VXNlcjY5MTA5NjE0",
                "organizations_url": "https://api.github.com/users/LorenzoPiombini/orgs",
                "received_events_url": "https://api.github.com/users/LorenzoPiombini/received_events",
                "repos_url": "https://api.github.com/users/LorenzoPiombini/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/LorenzoPiombini/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/LorenzoPiombini/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/LorenzoPiombini",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 5,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/34410/comments",
    "created_at": "2025-06-10T05:30:21Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/34410/events",
    "html_url": "https://github.com/neovim/neovim/issues/34410",
    "id": 3132198091,
    "issue_dependencies_summary": {
        "blocked_by": 0,
        "blocking": 0,
        "total_blocked_by": 0,
        "total_blocking": 0
    },
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "redraw, layout, presentation",
            "id": 718084050,
            "name": "display",
            "node_id": "MDU6TGFiZWw3MTgwODQwNTA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/display"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "(multibyte) unicode characters",
            "id": 2882115256,
            "name": "unicode  ğŸ’©",
            "node_id": "MDU6TGFiZWwyODgyMTE1MjU2",
            "url": "https://api.github.com/repos/neovim/neovim/labels/unicode%20%20%F0%9F%92%A9"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "floating windows, popups, hover",
            "id": 3234818716,
            "name": "floatwin",
            "node_id": "MDU6TGFiZWwzMjM0ODE4NzE2",
            "url": "https://api.github.com/repos/neovim/neovim/labels/floatwin"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/34410/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 0,
        "created_at": "2025-02-01T14:58:39Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/48",
        "id": 12251313,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/48/labels",
        "node_id": "MI_kwDOAPphoM4AuvCx",
        "number": 48,
        "open_issues": 25,
        "state": "open",
        "title": "0.13",
        "updated_at": "2026-02-16T14:52:49Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/48"
    },
    "node_id": "I_kwDOAPphoM66sYzL",
    "number": 34410,
    "performed_via_github_app": null,
    "pinned_comment": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/34410/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/34410/timeline",
    "title": "TUI: scroll issue with floating windows and extended grapheme clusters",
    "type": {
        "color": "red",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "An unexpected problem or behavior",
        "id": 597163,
        "is_enabled": true,
        "name": "Bug",
        "node_id": "IT_kwDOAGK_Pc4ACRyr",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2026-02-15T15:43:59Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/34410",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/97080720?v=4",
        "events_url": "https://api.github.com/users/aidancz/events{/privacy}",
        "followers_url": "https://api.github.com/users/aidancz/followers",
        "following_url": "https://api.github.com/users/aidancz/following{/other_user}",
        "gists_url": "https://api.github.com/users/aidancz/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/aidancz",
        "id": 97080720,
        "login": "aidancz",
        "node_id": "U_kgDOBclVkA",
        "organizations_url": "https://api.github.com/users/aidancz/orgs",
        "received_events_url": "https://api.github.com/users/aidancz/received_events",
        "repos_url": "https://api.github.com/users/aidancz/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/aidancz/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/aidancz/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/aidancz",
        "user_view_type": "public"
    }
}