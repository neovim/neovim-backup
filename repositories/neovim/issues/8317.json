{
    "active_lock_reason": "resolved",
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "- `nvim --version`: NVIM v0.3.0-1029-g48967695c, Build type: RelWithDebInfo\r\n- Vim (version: ) behaves differently? `vim.tiny version 8.0.707`. Yes.\r\n- Operating system/version: MX Linux 17 Horizon\r\n- Terminal name/version: `terminator 1.90`, `xfce4-terminal 0.8.3 (Xfce 4.12)`, `GNOME Terminal 3.22.2`\r\n- `$TERM`: `xterm-256color`\r\n- [infocmp output](https://hastebin.com/oyozusapam.pl)\r\n- If I hit <c-v> on the terminal and type `<M-F5>` I get this: `^[[15;3~`.\r\n- `nnoremap <M-F53> :UUU<cr>` doesnt work either.\r\n- [the rest of my environment](https://gist.github.com/mrbig033/63fd7f4f51b6a8ae379abae74c52aff2)\r\n\r\n### Steps to reproduce using `nvim -u NORC`\r\n\r\n1. open this version of nvim on any of the terminals I listed when `$TERM` variable is set to `xterm-256color` or `xterm`.\r\n2. `:nnoremap <M-F5> echo \"testing\"<cr>`\r\n3. Press `<M-F5>`\r\n4. Echoed message is not printed.\r\n\r\nThe problem appears in every condition unless $TERM is different than `xterm-256color` or `xterm`. I tried nvim with `-u NONE`, `-u NORC`, `--no-plugins` and all of those combined. I also tried on the terminals mentioned above, as root, as root on the tty and without dotfiles. `vim.tiny` doesn't have the problem.\r\n\r\nUnfortunately other setting as my $TERM is unacceptable, because it will breaks many things. As far as I know `xterm256color` is the only setting that is able to correctly display my nvim colorschemes and non-ascii characters.\r\n\r\n### Output of `nvim -V3log`  in several conditions:\r\n\r\n- `Xfce4-terminal` with `xterm-256color` (issue present):\r\n`&term: xterm-256color`\r\n`Description: xterm with 256 colors`\r\n`Aliases: xterm-256color`\r\n\r\n- `Xfce4-terminal` after the command `export TERM=xterm` (issue present):\r\n`&term: xterm`\r\n`Description: X11 terminal emulator`\r\n`Aliases: xterm | `\r\n`xterm-debian`\r\n\r\n- `Xfce4-terminal` under `Tmux` with `$TERM = screen-256color` (issue not present):\r\n`&term: screen-256color`\r\n`Description: GNU Screen with 256 colors`\r\n`Aliases: screen-256color\r\n\r\n- `Xfce4-terminal` after the command `export TERM=xterm-color` (issue not present): \r\n`&term: xterm-color`\r\n`Description: generic \"ANSI\" color xterm (X Window System)`\r\n`Aliases: xterm-color`\r\n\r\n### Actual behaviour\r\n\r\nMappings like <M-F5>, involving function keys in combination with others, do not work whem $TERM is set to `xterm-256color` or `xterm`.\r\n\r\n### Expected behaviour\r\n\r\nnvim should be able to use those mappings when the `$TERM` variable is set to `xterm-256color` or `xterm-color`. I use the former.",
    "closed_at": "2022-04-11T01:55:00Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "The V3log report is much longer than what you posted. It has a listing of key codes. \r\n\r\nAlso compare it to `:set termcap` in Vim.",
            "created_at": "2018-04-26T05:33:10Z",
            "html_url": "https://github.com/neovim/neovim/issues/8317#issuecomment-384518631",
            "id": 384518631,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8317",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDUxODYzMQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/384518631/reactions"
            },
            "updated_at": "2018-04-26T05:33:10Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/384518631",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "NONE",
            "body": "Thank you, here are the full reports:\r\n\r\n[Xfce4-terminal with xterm-256color (issue present)](https://hastebin.com/icowoyezar.bash)\r\n[Xfce4-terminal after the command export TERM=xterm (issue present)](https://hastebin.com/tivayeseji.bash)\r\n[Xfce4-terminal under Tmux with $TERM = screen-256color (issue not present](https://hastebin.com/vivisirewa.bash)\r\n[Xfce4-terminal after the command export TERM=xterm-color (issue not present)](https://hastebin.com/epiqoyejar.bash)\r\n\r\nI removed my personal info, so `/home/myusername` was replaced by `~`.\r\n\r\n[Output of `:set termcap` on vim.tiny.](https://hastebin.com/tapaxajupe.xml).",
            "created_at": "2018-04-26T07:30:01Z",
            "html_url": "https://github.com/neovim/neovim/issues/8317#issuecomment-384541933",
            "id": 384541933,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8317",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDU0MTkzMw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/384541933/reactions"
            },
            "updated_at": "2018-04-26T07:31:14Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/384541933",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/36245777?v=4",
                "events_url": "https://api.github.com/users/alienbogart/events{/privacy}",
                "followers_url": "https://api.github.com/users/alienbogart/followers",
                "following_url": "https://api.github.com/users/alienbogart/following{/other_user}",
                "gists_url": "https://api.github.com/users/alienbogart/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/alienbogart",
                "id": 36245777,
                "login": "alienbogart",
                "node_id": "MDQ6VXNlcjM2MjQ1Nzc3",
                "organizations_url": "https://api.github.com/users/alienbogart/orgs",
                "received_events_url": "https://api.github.com/users/alienbogart/received_events",
                "repos_url": "https://api.github.com/users/alienbogart/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/alienbogart/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/alienbogart/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/alienbogart"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "The original description is misleading, this isn't a question of \"function keys\", but rather \"ALT + function keys\".\r\n\r\nIn all of your terminfo listings, F5 is defined as:\r\n\r\n    key_f5                    kf5        = <Esc>[15~\r\n\r\n> If I hit `<c-v>` on the terminal and type `<M-F5>` I get this: `^[[15;3~`.\r\n\r\nYour `xterm-256color` terminfo has this:\r\n\r\n    key_f53                   kf53       = <Esc>[15;3~\r\n\r\nSo Nvim parses that input as F53, as your terminfo defined it.\r\n\r\n> `nnoremap <M-F53> :UUU<cr>` doesnt work either.\r\n\r\nTry `:nnoremap <F53> :UUU<cr>` instead.\r\n\r\n### Enhancement\r\n\r\nNvim could workaround this internally, e.g. fall back to parsing the sequence as `ALT + ({seq} - ESC)` if no mapping was found for `{seq}`.",
            "created_at": "2018-04-26T09:37:03Z",
            "html_url": "https://github.com/neovim/neovim/issues/8317#issuecomment-384577645",
            "id": 384577645,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8317",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDU3NzY0NQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/384577645/reactions"
            },
            "updated_at": "2018-04-26T09:38:33Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/384577645",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "NONE",
            "body": "Okay. The command `nnoremap <F53> :UUU<cr>` also showed no results.\r\n\r\nI tested the following combinations using the `xfce-terminal` with the default `$TERM=xterm-256color`:\r\n\r\n`nnoremap <c-F3> :echo \"testing\"<cr>`: no response\r\n`nnoremap <M-F3> :echo \"testing\"<cr>`: no response\r\n`nnoremap <A-F3> :echo \"testing\"<cr>`: no response\r\n\r\n`nnoremap <c-F7> :echo \"testing\"<cr>`: no response\r\n`nnoremap <M-F7> :echo \"testing\"<cr>`: no response\r\n`nnoremap <A-F7> :echo \"testing\"<cr>`: no response\r\n\r\n`nnoremap <c-F4> :echo \"testing\"<cr>`: no response\r\n`nnoremap <M-F4> :echo \"testing\"<cr>`: no response\r\n`nnoremap <A-F4> :echo \"testing\"<cr>`: no response\r\n\r\n`nnoremap <c-F9> :echo \"testing\"<cr>`: no response\r\n`nnoremap <M-F9> :echo \"testing\"<cr>`: no response\r\n`nnoremap <A-F9> :echo \"testing\"<cr>`: no response\r\n\r\n`nnoremap <s-F9> :echo \"testing\"<cr>`: no response\r\n`nnoremap <s-F3> :echo \"testing\"<cr>`: no response\r\n`nnoremap <s-F4> :echo \"testing\"<cr>`: no response\r\n\r\n`nnoremap <F4> :echo \"testing\"<cr>`: `testing`\r\n`nnoremap <F3> :echo \"testing\"<cr>`: `testing`\r\n`nnoremap <F7> :echo \"testing\"<cr>`: `testing`\r\n`nnoremap <F9> :echo \"testing\"<cr>`: `testing`\r\n\r\n`nnoremap <leader><F5> :echo \"testing\"<cr>`: `testing`\r\n`nnoremap <leader><F3> :echo \"testing\"<cr>`: `testing`\r\n`nnoremap <leader><F10> :echo \"testing\"<cr>`: `testing`\r\n\r\n",
            "created_at": "2018-04-26T12:49:22Z",
            "html_url": "https://github.com/neovim/neovim/issues/8317#issuecomment-384629112",
            "id": 384629112,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8317",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDYyOTExMg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/384629112/reactions"
            },
            "updated_at": "2018-04-26T12:56:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/384629112",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/36245777?v=4",
                "events_url": "https://api.github.com/users/alienbogart/events{/privacy}",
                "followers_url": "https://api.github.com/users/alienbogart/followers",
                "following_url": "https://api.github.com/users/alienbogart/following{/other_user}",
                "gists_url": "https://api.github.com/users/alienbogart/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/alienbogart",
                "id": 36245777,
                "login": "alienbogart",
                "node_id": "MDQ6VXNlcjM2MjQ1Nzc3",
                "organizations_url": "https://api.github.com/users/alienbogart/orgs",
                "received_events_url": "https://api.github.com/users/alienbogart/received_events",
                "repos_url": "https://api.github.com/users/alienbogart/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/alienbogart/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/alienbogart/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/alienbogart"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> In the case of `nnoremap <F53> :UUU<cr>` I typed `<F5>`.\r\n\r\nWe're going in circles. As I explained above, `<F53>` is equivalent to press `ALT + F5`, because this is what your terminfo declared. Typing `F5` is not going to trigger the mapping; you must type `ALT + F5` to trigger the `<F53>` mapping.\r\n\r\n1. Type `ALT + F5`. \r\n2. Nvim receives `<Esc>[15;3~`, which your terminfo declared as `F53`.\r\n3. Nvim parses the sequence as `<F53>`. It looks for mappings bound to `<F53>`. \r\n    - Not `<M-F5>`\r\n    - Not `<M-F53>`\r\n    - Not `<C-F5>`\r\n    - Not `<C-F53>`",
            "created_at": "2018-04-26T14:10:35Z",
            "html_url": "https://github.com/neovim/neovim/issues/8317#issuecomment-384654947",
            "id": 384654947,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8317",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDY1NDk0Nw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/384654947/reactions"
            },
            "updated_at": "2018-04-26T14:18:11Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/384654947",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "NONE",
            "body": "Thank you for the explanation. `nnoremap <F53> :UUU<cr>` also doesn't show anything when I type `Alt + F5`.",
            "created_at": "2018-04-26T14:17:37Z",
            "html_url": "https://github.com/neovim/neovim/issues/8317#issuecomment-384657416",
            "id": 384657416,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8317",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDY1NzQxNg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/384657416/reactions"
            },
            "updated_at": "2018-04-26T14:17:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/384657416",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/36245777?v=4",
                "events_url": "https://api.github.com/users/alienbogart/events{/privacy}",
                "followers_url": "https://api.github.com/users/alienbogart/followers",
                "following_url": "https://api.github.com/users/alienbogart/following{/other_user}",
                "gists_url": "https://api.github.com/users/alienbogart/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/alienbogart",
                "id": 36245777,
                "login": "alienbogart",
                "node_id": "MDQ6VXNlcjM2MjQ1Nzc3",
                "organizations_url": "https://api.github.com/users/alienbogart/orgs",
                "received_events_url": "https://api.github.com/users/alienbogart/received_events",
                "repos_url": "https://api.github.com/users/alienbogart/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/alienbogart/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/alienbogart/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/alienbogart"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I have no idea what `:UUU` is supposed to do, that's a user-defined command.\r\n\r\n~~Try sending the keycode directly using `nvim_input()`:~~\r\n\r\n    :call nvim_input('<F53>')\r\n\r\nAh, there's a problem: N/Vim only defines F-keys up to F37:\r\n\r\nhttps://github.com/neovim/neovim/blob/d2dca7ed3e4521431b0e929182c0d0fd38c390cf/src/nvim/keymap.c#L214                                             \r\n",
            "created_at": "2018-04-26T14:19:21Z",
            "html_url": "https://github.com/neovim/neovim/issues/8317#issuecomment-384658020",
            "id": 384658020,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8317",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDY1ODAyMA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/384658020/reactions"
            },
            "updated_at": "2018-04-26T14:23:41Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/384658020",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "NONE",
            "body": "It's nothing, really. The only reason I used this stupid non-existent command was because `vim.tiny` didn't have an echo function and it would print an error if the mapping worked. You can replace it with `:echo \"testing\"<cr>` and everything will behave the same way. I did that on one of my responses above.",
            "created_at": "2018-04-26T14:23:55Z",
            "html_url": "https://github.com/neovim/neovim/issues/8317#issuecomment-384659603",
            "id": 384659603,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8317",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDY1OTYwMw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/384659603/reactions"
            },
            "updated_at": "2018-04-26T14:25:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/384659603",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/36245777?v=4",
                "events_url": "https://api.github.com/users/alienbogart/events{/privacy}",
                "followers_url": "https://api.github.com/users/alienbogart/followers",
                "following_url": "https://api.github.com/users/alienbogart/following{/other_user}",
                "gists_url": "https://api.github.com/users/alienbogart/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/alienbogart",
                "id": 36245777,
                "login": "alienbogart",
                "node_id": "MDQ6VXNlcjM2MjQ1Nzc3",
                "organizations_url": "https://api.github.com/users/alienbogart/orgs",
                "received_events_url": "https://api.github.com/users/alienbogart/received_events",
                "repos_url": "https://api.github.com/users/alienbogart/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/alienbogart/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/alienbogart/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/alienbogart"
            }
        },
        {
            "author_association": "NONE",
            "body": "@mrbig033: It appears you missed an edit above.\r\n\r\n@justinmk wrote:\r\n>Ah, there's a problem: N/Vim only defines F-keys up to F37:\r\n>\r\n> https://github.com/neovim/neovim/blob/d2dca7ed3e4521431b0e929182c0d0fd38c390cf/src/nvim/keymap.c#L214\r\n\r\nSo if your terminfo declares <kbd>Alt</kbd>+<kbd>F5</kbd> as `<F53>` but N/Vim only supports `<F1>` - `<F37>`, re-installing nvim is probably not going to make the problem go away. :wink: ",
            "created_at": "2018-04-26T14:52:02Z",
            "html_url": "https://github.com/neovim/neovim/issues/8317#issuecomment-384669503",
            "id": 384669503,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8317",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDY2OTUwMw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/384669503/reactions"
            },
            "updated_at": "2018-04-26T14:52:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/384669503",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/12913701?v=4",
                "events_url": "https://api.github.com/users/mschilli87/events{/privacy}",
                "followers_url": "https://api.github.com/users/mschilli87/followers",
                "following_url": "https://api.github.com/users/mschilli87/following{/other_user}",
                "gists_url": "https://api.github.com/users/mschilli87/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mschilli87",
                "id": 12913701,
                "login": "mschilli87",
                "node_id": "MDQ6VXNlcjEyOTEzNzAx",
                "organizations_url": "https://api.github.com/users/mschilli87/orgs",
                "received_events_url": "https://api.github.com/users/mschilli87/received_events",
                "repos_url": "https://api.github.com/users/mschilli87/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mschilli87/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mschilli87/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mschilli87"
            }
        },
        {
            "author_association": "NONE",
            "body": "Thank you for investigating my problem. Do you have any idea what could I do or research to solve this problem, or where should I ask for help with this? Do you think there's a problem with my terminfo? Maybe there's something wrong with the locale. Do you think I should ask the [MX Linux](http://mxlinux.org) devs? You probably noticed that, but I'm not an IT guy, programmer, sysadmin or anything like that, so developing my own solution is out of the question right now.",
            "created_at": "2018-04-28T03:59:26Z",
            "html_url": "https://github.com/neovim/neovim/issues/8317#issuecomment-385138074",
            "id": 385138074,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8317",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTEzODA3NA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/385138074/reactions"
            },
            "updated_at": "2018-11-05T21:23:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/385138074",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/36245777?v=4",
                "events_url": "https://api.github.com/users/alienbogart/events{/privacy}",
                "followers_url": "https://api.github.com/users/alienbogart/followers",
                "following_url": "https://api.github.com/users/alienbogart/following{/other_user}",
                "gists_url": "https://api.github.com/users/alienbogart/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/alienbogart",
                "id": 36245777,
                "login": "alienbogart",
                "node_id": "MDQ6VXNlcjM2MjQ1Nzc3",
                "organizations_url": "https://api.github.com/users/alienbogart/orgs",
                "received_events_url": "https://api.github.com/users/alienbogart/received_events",
                "repos_url": "https://api.github.com/users/alienbogart/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/alienbogart/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/alienbogart/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/alienbogart"
            }
        },
        {
            "author_association": "NONE",
            "body": "@justinmk: Anything stopping Neovim from supporting more F-keys?",
            "created_at": "2018-04-28T08:24:13Z",
            "html_url": "https://github.com/neovim/neovim/issues/8317#issuecomment-385152422",
            "id": 385152422,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8317",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTE1MjQyMg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/385152422/reactions"
            },
            "updated_at": "2018-11-05T21:24:24Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/385152422",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/12913701?v=4",
                "events_url": "https://api.github.com/users/mschilli87/events{/privacy}",
                "followers_url": "https://api.github.com/users/mschilli87/followers",
                "following_url": "https://api.github.com/users/mschilli87/following{/other_user}",
                "gists_url": "https://api.github.com/users/mschilli87/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mschilli87",
                "id": 12913701,
                "login": "mschilli87",
                "node_id": "MDQ6VXNlcjEyOTEzNzAx",
                "organizations_url": "https://api.github.com/users/mschilli87/orgs",
                "received_events_url": "https://api.github.com/users/mschilli87/received_events",
                "repos_url": "https://api.github.com/users/mschilli87/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mschilli87/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mschilli87/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mschilli87"
            }
        },
        {
            "author_association": "NONE",
            "body": "@justinmk: Are you referring to this?\r\n> Nvim could workaround this internally, e.g. fall back to parsing the sequence as ALT + ({seq} - ESC) if no mapping was found for {seq}.\r\n",
            "created_at": "2018-04-28T08:56:04Z",
            "html_url": "https://github.com/neovim/neovim/issues/8317#issuecomment-385154619",
            "id": 385154619,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8317",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTE1NDYxOQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/385154619/reactions"
            },
            "updated_at": "2018-04-28T08:56:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/385154619",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/12913701?v=4",
                "events_url": "https://api.github.com/users/mschilli87/events{/privacy}",
                "followers_url": "https://api.github.com/users/mschilli87/followers",
                "following_url": "https://api.github.com/users/mschilli87/following{/other_user}",
                "gists_url": "https://api.github.com/users/mschilli87/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mschilli87",
                "id": 12913701,
                "login": "mschilli87",
                "node_id": "MDQ6VXNlcjEyOTEzNzAx",
                "organizations_url": "https://api.github.com/users/mschilli87/orgs",
                "received_events_url": "https://api.github.com/users/mschilli87/received_events",
                "repos_url": "https://api.github.com/users/mschilli87/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mschilli87/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mschilli87/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mschilli87"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "yes.\r\n\r\nAnother idea: we could simply ignore F-keys above F37 defined in terminfo. I can't imagine what purpose they serve.",
            "created_at": "2018-04-28T08:58:00Z",
            "html_url": "https://github.com/neovim/neovim/issues/8317#issuecomment-385154751",
            "id": 385154751,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8317",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTE1NDc1MQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/385154751/reactions"
            },
            "updated_at": "2018-04-28T09:34:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/385154751",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "NONE",
            "body": "I understand your position from a technical point of view, but from the perspective of this particular user supporting those keys would be much appreciated.",
            "created_at": "2018-05-05T04:51:15Z",
            "html_url": "https://github.com/neovim/neovim/issues/8317#issuecomment-386779184",
            "id": 386779184,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8317",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4Njc3OTE4NA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/386779184/reactions"
            },
            "updated_at": "2018-05-05T04:51:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/386779184",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/36245777?v=4",
                "events_url": "https://api.github.com/users/alienbogart/events{/privacy}",
                "followers_url": "https://api.github.com/users/alienbogart/followers",
                "following_url": "https://api.github.com/users/alienbogart/following{/other_user}",
                "gists_url": "https://api.github.com/users/alienbogart/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/alienbogart",
                "id": 36245777,
                "login": "alienbogart",
                "node_id": "MDQ6VXNlcjM2MjQ1Nzc3",
                "organizations_url": "https://api.github.com/users/alienbogart/orgs",
                "received_events_url": "https://api.github.com/users/alienbogart/received_events",
                "repos_url": "https://api.github.com/users/alienbogart/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/alienbogart/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/alienbogart/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/alienbogart"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "(Most of the comments above are noise, so I deleted them.)\r\n\r\nI tried this:\r\n\r\n```diff\r\ndiff --git a/src/nvim/tui/tui.c b/src/nvim/tui/tui.c\r\nindex 65957626cbc9..cef3cf8f29a4 100644\r\n--- a/src/nvim/tui/tui.c\r\n+++ b/src/nvim/tui/tui.c\r\n@@ -1377,6 +1377,11 @@ static void patch_terminfo_bugs(TUIData *data, const char *term,\r\n     && strstr(colorterm, \"mate-terminal\");\r\n   bool true_xterm = xterm && !!xterm_version;\r\n-\r\n+  // Clear F38-F63 keys, in case terminfo define them. #8317\r\n+  for (enum unibi_string i = unibi_key_f38; i <= unibi_key_f63; i++) {\r\n+    unibi_set_str(ut, i, NULL);\r\n+  }\r\n+\r\n   char *fix_normal = (char *)unibi_get_str(ut, unibi_cursor_normal);\r\n   if (fix_normal) {\r\n     if (STARTS_WITH(fix_normal, \"\\x1b[?12l\")) {\r\n```\r\n\r\nBut it didn't work, I think because libtermkey builds a private terminfo (unibilium) map.\r\n\r\n> supporting those keys (F38-F63) would be much appreciated\r\n\r\nIt's not trivial to just add more keys, because of the way `keymap.h` defines F-keys:\r\n\r\nhttps://github.com/neovim/neovim/blob/e46534b4230242c0d41831cc7ad16863c976b151/src/nvim/keymap.h#L322\r\n\r\nAfter 'R' there are only a few letters in the alphabet remaining. \r\n\r\nPatch welcome, I'm not going to spend more time on this.\r\n",
            "created_at": "2018-05-05T06:16:25Z",
            "html_url": "https://github.com/neovim/neovim/issues/8317#issuecomment-386782996",
            "id": 386782996,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8317",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4Njc4Mjk5Ng==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/386782996/reactions"
            },
            "updated_at": "2018-05-05T06:26:30Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/386782996",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "NONE",
            "body": "Guess I'll just go back to Vim while this is not patched.",
            "created_at": "2018-05-08T15:58:45Z",
            "html_url": "https://github.com/neovim/neovim/issues/8317#issuecomment-387452824",
            "id": 387452824,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8317",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NzQ1MjgyNA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 1,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/387452824/reactions"
            },
            "updated_at": "2018-11-05T21:24:11Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/387452824",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/36245777?v=4",
                "events_url": "https://api.github.com/users/alienbogart/events{/privacy}",
                "followers_url": "https://api.github.com/users/alienbogart/followers",
                "following_url": "https://api.github.com/users/alienbogart/following{/other_user}",
                "gists_url": "https://api.github.com/users/alienbogart/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/alienbogart",
                "id": 36245777,
                "login": "alienbogart",
                "node_id": "MDQ6VXNlcjM2MjQ1Nzc3",
                "organizations_url": "https://api.github.com/users/alienbogart/orgs",
                "received_events_url": "https://api.github.com/users/alienbogart/received_events",
                "repos_url": "https://api.github.com/users/alienbogart/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/alienbogart/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/alienbogart/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/alienbogart"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@justinmk I think your patch should be as follows.\r\n\r\n```patch\r\ndiff --git a/src/nvim/tui/tui.c b/src/nvim/tui/tui.c\r\nindex 3ed0fe0cd..42cec689b 100644\r\n--- a/src/nvim/tui/tui.c\r\n+++ b/src/nvim/tui/tui.c\r\n@@ -1961,6 +1961,14 @@ static const char *tui_tk_ti_getstr(const char *name, const char *value,\r\n     return NULL;\r\n   }\r\n\r\n+  for (enum unibi_string i = unibi_key_f38; i <= unibi_key_f63; i++) {\r\n+    const char *key_name = unibi_name_str(i);\r\n+    DLOG(\"libtermkey:%s=%s\", key_name, value);\r\n+    if (strequal(name, key_name)) {\r\n+      return NULL;\r\n+    }\r\n+  }\r\n+\r\n   return value;\r\n }\r\n #endif\r\n```\r\n\r\nAnd it worked.\r\n",
            "created_at": "2018-10-14T09:40:44Z",
            "html_url": "https://github.com/neovim/neovim/issues/8317#issuecomment-429610569",
            "id": 429610569,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8317",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQyOTYxMDU2OQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/429610569/reactions"
            },
            "updated_at": "2018-10-14T09:40:44Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/429610569",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11682285?v=4",
                "events_url": "https://api.github.com/users/erw7/events{/privacy}",
                "followers_url": "https://api.github.com/users/erw7/followers",
                "following_url": "https://api.github.com/users/erw7/following{/other_user}",
                "gists_url": "https://api.github.com/users/erw7/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/erw7",
                "id": 11682285,
                "login": "erw7",
                "node_id": "MDQ6VXNlcjExNjgyMjg1",
                "organizations_url": "https://api.github.com/users/erw7/orgs",
                "received_events_url": "https://api.github.com/users/erw7/received_events",
                "repos_url": "https://api.github.com/users/erw7/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/erw7/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/erw7/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/erw7"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@erw7 good idea! I noticed that you added support for `K_F38-63` in https://github.com/neovim/neovim/pull/9094/commits/e931f72cdd4962eebfb9c442acf8df37c827cd84 . Is that needed for Windows support or something else? That would conflict with this issue, right?",
            "created_at": "2018-11-05T21:30:53Z",
            "html_url": "https://github.com/neovim/neovim/issues/8317#issuecomment-436042499",
            "id": 436042499,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8317",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjA0MjQ5OQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/436042499/reactions"
            },
            "updated_at": "2018-11-05T21:30:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/436042499",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Of the liuv key input sequence on Windows, `F6`..`F12` with modifiers comply with rxvt. They are assigned up to `kf45` on terminfo. Therefore we needed assignment from `kf38`. If we assign `K_F38-63`, I do not think we need patches for the above comments. \r\n\r\nIf we need a key sequence that is compatible with  built-in termcap of vim, we need to delete the entry with \"; * X\" in the hook. Or how about applying the next patch to libtermkey(It is a problem if there are terminals that assign the same sequence as the sequence of xterm to another key)?\r\n\r\n```diff\r\ndiff --git a/termkey.c b/termkey.c\r\nindex be53474..4eed614 100644\r\n--- a/termkey.c\r\n+++ b/termkey.c\r\n@@ -30,8 +30,8 @@ void termkey_check_version(int major, int minor)\r\n }\r\n\r\n static struct TermKeyDriver *drivers[] = {\r\n-  &termkey_driver_ti,\r\n   &termkey_driver_csi,\r\n+  &termkey_driver_ti,\r\n   NULL,\r\n };\r\n```",
            "created_at": "2018-11-06T10:15:46Z",
            "html_url": "https://github.com/neovim/neovim/issues/8317#issuecomment-436201298",
            "id": 436201298,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8317",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjIwMTI5OA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/436201298/reactions"
            },
            "updated_at": "2018-11-06T10:17:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/436201298",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11682285?v=4",
                "events_url": "https://api.github.com/users/erw7/events{/privacy}",
                "followers_url": "https://api.github.com/users/erw7/followers",
                "following_url": "https://api.github.com/users/erw7/following{/other_user}",
                "gists_url": "https://api.github.com/users/erw7/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/erw7",
                "id": 11682285,
                "login": "erw7",
                "node_id": "MDQ6VXNlcjExNjgyMjg1",
                "organizations_url": "https://api.github.com/users/erw7/orgs",
                "received_events_url": "https://api.github.com/users/erw7/received_events",
                "repos_url": "https://api.github.com/users/erw7/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/erw7/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/erw7/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/erw7"
            }
        },
        {
            "author_association": "NONE",
            "body": "Any progress?\r\n\r\nLast supported key is `C-S-F1` as `F37`. Key `C-S-F2` has no effect. All `A-Fx` also have no effect.",
            "created_at": "2021-11-09T12:00:50Z",
            "html_url": "https://github.com/neovim/neovim/issues/8317#issuecomment-964086992",
            "id": 964086992,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8317",
            "node_id": "IC_kwDOAPphoM45dszQ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/964086992/reactions"
            },
            "updated_at": "2021-11-09T12:00:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/964086992",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5898312?v=4",
                "events_url": "https://api.github.com/users/rysson/events{/privacy}",
                "followers_url": "https://api.github.com/users/rysson/followers",
                "following_url": "https://api.github.com/users/rysson/following{/other_user}",
                "gists_url": "https://api.github.com/users/rysson/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rysson",
                "id": 5898312,
                "login": "rysson",
                "node_id": "MDQ6VXNlcjU4OTgzMTI=",
                "organizations_url": "https://api.github.com/users/rysson/orgs",
                "received_events_url": "https://api.github.com/users/rysson/received_events",
                "repos_url": "https://api.github.com/users/rysson/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rysson/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rysson/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rysson"
            }
        },
        {
            "author_association": "NONE",
            "body": "This issue has been mentioned on **Neovim Discourse**. There might be relevant details there:\n\nhttps://neovim.discourse.group/t/nitty-gritty-questions-on-terminal-nvim-and-keyboard-events/1624/2\n",
            "created_at": "2021-12-05T00:28:18Z",
            "html_url": "https://github.com/neovim/neovim/issues/8317#issuecomment-986141741",
            "id": 986141741,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8317",
            "node_id": "IC_kwDOAPphoM46x1Qt",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/986141741/reactions"
            },
            "updated_at": "2021-12-05T00:28:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/986141741",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/79666652?v=4",
                "events_url": "https://api.github.com/users/neovim-discourse/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim-discourse/followers",
                "following_url": "https://api.github.com/users/neovim-discourse/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim-discourse/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim-discourse",
                "id": 79666652,
                "login": "neovim-discourse",
                "node_id": "MDQ6VXNlcjc5NjY2NjUy",
                "organizations_url": "https://api.github.com/users/neovim-discourse/orgs",
                "received_events_url": "https://api.github.com/users/neovim-discourse/received_events",
                "repos_url": "https://api.github.com/users/neovim-discourse/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim-discourse/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim-discourse/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/neovim-discourse"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I don't know about potential conflicts, but simply applying this diff (e.g. using `patch -p1` and pasting this into stdin) and rebuilding seems to make ALT + F1-F12 mappable as F49-F60 in kitty:\r\n\r\n<details>\r\n<summary>Click here to uncollapse</summary>\r\n\r\n```diff\r\ndiff --git a/src/nvim/keymap.c b/src/nvim/keymap.c\r\nindex 32f2158d7..95b3056bf 100644\r\n--- a/src/nvim/keymap.c\r\n+++ b/src/nvim/keymap.c\r\n@@ -221,6 +221,35 @@ static const struct key_name_entry {\r\n   { K_F35,             \"F35\" },\r\n   { K_F36,             \"F36\" },\r\n   { K_F37,             \"F37\" },\r\n+  { K_F38,             \"F38\" },\r\n+  { K_F39,             \"F39\" },\r\n+  { K_F40,             \"F40\" },\r\n+\r\n+  { K_F41,             \"F41\" },\r\n+  { K_F42,             \"F42\" },\r\n+  { K_F43,             \"F43\" },\r\n+  { K_F44,             \"F44\" },\r\n+  { K_F45,             \"F45\" },\r\n+  { K_F46,             \"F46\" },\r\n+  { K_F47,             \"F47\" },\r\n+  { K_F48,             \"F48\" },\r\n+  { K_F49,             \"F49\" },\r\n+  { K_F50,             \"F50\" },\r\n+\r\n+  { K_F51,             \"F51\" },\r\n+  { K_F52,             \"F52\" },\r\n+  { K_F53,             \"F53\" },\r\n+  { K_F54,             \"F54\" },\r\n+  { K_F55,             \"F55\" },\r\n+  { K_F56,             \"F56\" },\r\n+  { K_F57,             \"F57\" },\r\n+  { K_F58,             \"F58\" },\r\n+  { K_F59,             \"F59\" },\r\n+  { K_F60,             \"F60\" },\r\n+\r\n+  { K_F61,             \"F61\" },\r\n+  { K_F62,             \"F62\" },\r\n+  { K_F63,             \"F63\" },\r\n \r\n   { K_XF1,             \"xF1\" },\r\n   { K_XF2,             \"xF2\" },\r\ndiff --git a/src/nvim/keymap.h b/src/nvim/keymap.h\r\nindex 42cae0c35..c59af8b24 100644\r\n--- a/src/nvim/keymap.h\r\n+++ b/src/nvim/keymap.h\r\n@@ -327,6 +327,35 @@ enum key_extra {\r\n #define K_F35           TERMCAP2KEY('F', 'P')\r\n #define K_F36           TERMCAP2KEY('F', 'Q')\r\n #define K_F37           TERMCAP2KEY('F', 'R')\r\n+#define K_F38           TERMCAP2KEY('F', 'S')\r\n+#define K_F39           TERMCAP2KEY('F', 'T')\r\n+#define K_F40           TERMCAP2KEY('F', 'U')\r\n+\r\n+#define K_F41           TERMCAP2KEY('F', 'V')\r\n+#define K_F42           TERMCAP2KEY('F', 'W')\r\n+#define K_F43           TERMCAP2KEY('F', 'X')\r\n+#define K_F44           TERMCAP2KEY('F', 'Y')\r\n+#define K_F45           TERMCAP2KEY('F', 'Z')\r\n+#define K_F46           TERMCAP2KEY('F', 'a')\r\n+#define K_F47           TERMCAP2KEY('F', 'b')\r\n+#define K_F48           TERMCAP2KEY('F', 'c')\r\n+#define K_F49           TERMCAP2KEY('F', 'd')\r\n+#define K_F50           TERMCAP2KEY('F', 'e')\r\n+\r\n+#define K_F51           TERMCAP2KEY('F', 'f')\r\n+#define K_F52           TERMCAP2KEY('F', 'g')\r\n+#define K_F53           TERMCAP2KEY('F', 'h')\r\n+#define K_F54           TERMCAP2KEY('F', 'i')\r\n+#define K_F55           TERMCAP2KEY('F', 'j')\r\n+#define K_F56           TERMCAP2KEY('F', 'k')\r\n+#define K_F57           TERMCAP2KEY('F', 'l')\r\n+#define K_F58           TERMCAP2KEY('F', 'm')\r\n+#define K_F59           TERMCAP2KEY('F', 'n')\r\n+#define K_F60           TERMCAP2KEY('F', 'o')\r\n+\r\n+#define K_F61           TERMCAP2KEY('F', 'p')\r\n+#define K_F62           TERMCAP2KEY('F', 'q')\r\n+#define K_F63           TERMCAP2KEY('F', 'r')\r\n \r\n // extra set of shifted function keys F1-F4, for vt100 compatible xterm\r\n #define K_S_XF1         TERMCAP2KEY(KS_EXTRA, KE_S_XF1)\r\ndiff --git a/src/nvim/terminal.c b/src/nvim/terminal.c\r\nindex a2d855244..763dacd30 100644\r\n--- a/src/nvim/terminal.c\r\n+++ b/src/nvim/terminal.c\r\n@@ -1206,6 +1206,58 @@ static VTermKey convert_key(int key, VTermModifier *statep)\r\n     return VTERM_KEY_FUNCTION(36);\r\n   case K_F37:\r\n     return VTERM_KEY_FUNCTION(37);\r\n+  case K_F38:\r\n+    return VTERM_KEY_FUNCTION(38);\r\n+  case K_F39:\r\n+    return VTERM_KEY_FUNCTION(39);\r\n+  case K_F40:\r\n+    return VTERM_KEY_FUNCTION(40);\r\n+  case K_F41:\r\n+    return VTERM_KEY_FUNCTION(41);\r\n+  case K_F42:\r\n+    return VTERM_KEY_FUNCTION(42);\r\n+  case K_F43:\r\n+    return VTERM_KEY_FUNCTION(43);\r\n+  case K_F44:\r\n+    return VTERM_KEY_FUNCTION(44);\r\n+  case K_F45:\r\n+    return VTERM_KEY_FUNCTION(45);\r\n+  case K_F46:\r\n+    return VTERM_KEY_FUNCTION(46);\r\n+  case K_F47:\r\n+    return VTERM_KEY_FUNCTION(47);\r\n+  case K_F48:\r\n+    return VTERM_KEY_FUNCTION(48);\r\n+  case K_F49:\r\n+    return VTERM_KEY_FUNCTION(49);\r\n+  case K_F50:\r\n+    return VTERM_KEY_FUNCTION(50);\r\n+  case K_F51:\r\n+    return VTERM_KEY_FUNCTION(51);\r\n+  case K_F52:\r\n+    return VTERM_KEY_FUNCTION(52);\r\n+  case K_F53:\r\n+    return VTERM_KEY_FUNCTION(53);\r\n+  case K_F54:\r\n+    return VTERM_KEY_FUNCTION(54);\r\n+  case K_F55:\r\n+    return VTERM_KEY_FUNCTION(55);\r\n+  case K_F56:\r\n+    return VTERM_KEY_FUNCTION(56);\r\n+  case K_F57:\r\n+    return VTERM_KEY_FUNCTION(57);\r\n+  case K_F58:\r\n+    return VTERM_KEY_FUNCTION(58);\r\n+  case K_F59:\r\n+    return VTERM_KEY_FUNCTION(59);\r\n+  case K_F60:\r\n+    return VTERM_KEY_FUNCTION(60);\r\n+  case K_F61:\r\n+    return VTERM_KEY_FUNCTION(61);\r\n+  case K_F62:\r\n+    return VTERM_KEY_FUNCTION(62);\r\n+  case K_F63:\r\n+    return VTERM_KEY_FUNCTION(63);\r\n \r\n   default:\r\n     return VTERM_KEY_NONE;\r\n```\r\n\r\n</details>\r\n\r\nIn the diff above, the change to `terminal.c` doesn't actually do anything, because libvterm only seems to support F1-F12, not F13-F63, so these won't work for Nvim running inside Nvim's terminal.",
            "created_at": "2022-01-24T08:31:43Z",
            "html_url": "https://github.com/neovim/neovim/issues/8317#issuecomment-1019841110",
            "id": 1019841110,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8317",
            "node_id": "IC_kwDOAPphoM48yYpW",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1019841110/reactions"
            },
            "updated_at": "2022-01-24T10:20:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1019841110",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        }
    ],
    "comments": 22,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/8317/comments",
    "created_at": "2018-04-26T03:12:40Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/8317/events",
    "html_url": "https://github.com/neovim/neovim/issues/8317",
    "id": 317862369,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "feature request",
            "id": 77997476,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Ng==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/enhancement"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 197254545,
            "name": "tui",
            "node_id": "MDU6TGFiZWwxOTcyNTQ1NDU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/tui"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": null,
            "id": 396626349,
            "name": "input",
            "node_id": "MDU6TGFiZWwzOTY2MjYzNDk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/input"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/8317/labels{/name}",
    "locked": true,
    "milestone": {
        "closed_at": "2022-04-15T12:49:05Z",
        "closed_issues": 93,
        "created_at": "2022-03-12T14:48:49Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
            "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
            "followers_url": "https://api.github.com/users/bfredl/followers",
            "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
            "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/bfredl",
            "id": 1363104,
            "login": "bfredl",
            "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
            "organizations_url": "https://api.github.com/users/bfredl/orgs",
            "received_events_url": "https://api.github.com/users/bfredl/received_events",
            "repos_url": "https://api.github.com/users/bfredl/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/bfredl"
        },
        "description": "",
        "due_on": "2022-04-15T07:00:00Z",
        "html_url": "https://github.com/neovim/neovim/milestone/29",
        "id": 7760912,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/29/labels",
        "node_id": "MI_kwDOAPphoM4AdmwQ",
        "number": 29,
        "open_issues": 0,
        "state": "closed",
        "title": "0.7",
        "updated_at": "2022-05-06T11:35:38Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/29"
    },
    "node_id": "MDU6SXNzdWUzMTc4NjIzNjk=",
    "number": 8317,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 1,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 1,
        "url": "https://api.github.com/repos/neovim/neovim/issues/8317/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/8317/timeline",
    "title": "binding ALT + function key (F1-F12) works with some $TERM but not others",
    "updated_at": "2023-09-11T14:01:30Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/8317",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/36245777?v=4",
        "events_url": "https://api.github.com/users/alienbogart/events{/privacy}",
        "followers_url": "https://api.github.com/users/alienbogart/followers",
        "following_url": "https://api.github.com/users/alienbogart/following{/other_user}",
        "gists_url": "https://api.github.com/users/alienbogart/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/alienbogart",
        "id": 36245777,
        "login": "alienbogart",
        "node_id": "MDQ6VXNlcjM2MjQ1Nzc3",
        "organizations_url": "https://api.github.com/users/alienbogart/orgs",
        "received_events_url": "https://api.github.com/users/alienbogart/received_events",
        "repos_url": "https://api.github.com/users/alienbogart/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/alienbogart/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/alienbogart/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/alienbogart"
    }
}