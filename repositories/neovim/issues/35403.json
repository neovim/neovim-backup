{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nThis is a niche setup, and I understand if it's not supported, but I'm happy to contribute towards a fix if I'm able. Notably, this behaviour isn't present in Vim (it works fine).\n\nMy installation of Neovim is having trouble reading/writing files in my user profile. I'm using Windows Server 2025 with an FSLogix user profile. FSLogix allows user data to be stored in a VHDX on a network share, which is mounted at login and uses something called a 'minifilter driver' to present the mounted VHDX to applications as a local filesystem (in theory).\n\nI've tested with a purely local user profile and had no issues whatsoever, this is only affecting the FSLogix profile. According to everything I've read, this 'minifilter driver' should make file access indistinguishable from a local filesystem, yet here we are.\n\nI've pasted my neovim startup log below, where you can see a couple of the areas it's failing to read/write. Beyond that, I'm not sure where to continue my search. If anyone can point me in the right direction, I'll happily participate in trying to figure this out.\n\n```\nsourcing \"nvim_exec2()\"\nfinished sourcing nvim_exec2()\nnot found in runtime path: \"ftplugin.vim\"\nnot found in runtime path: \"indent.vim\"\ncould not source \"$VIM/sysinit.vim\"\ncould not source \"C:\\Users\\johnsmith\\AppData\\Local\\nvim\\init.vim\"\nnot found in runtime path: \"filetype.lua filetype.vim\"\ncould not source \"C:/Program Files (x86)/nvim/share/nvim/syntax/syntax.vim\"\n                                                                           E484: Can't open file C:/Program Files (x86)/nvim/share/nvim/syntax/syntax.vim\nnot found in 'packpath': \"plugin/**/*\"\nnot found in 'packpath': \"pack/*/start/*\"\nnot found in 'packpath': \"start/*\"\nnot found in runtime path: \"plugin/**/*\"\nReading ShaDa file \"C:\\Users\\johnsmith\\AppData\\Local\\nvim-data\\shada\\main.shada\" info marks oldfiles FAILED\nExecuting VimEnter Autocommands for \"*\"\nautocommand <Lua 70: vim/_defaults.lua:821>\n \nExecuting TermResponse Autocommands for \"*\"\nautocommand <Lua 69: vim/_defaults.lua:791>\n \n \n \n--- Terminal info --- {{{\n&term: builtin_vtpcon\nDescription: ANSI emulation for console virtual terminal sequence with libuv\nAliases: vtpcon\nBoolean capabilities:\n  auto_left_margin          bw         = false\n  auto_right_margin         am         = true\n  no_esc_ctlc               xsb        = false\n  ceol_standout_glitch      xhp        = false\n  eat_newline_glitch        xenl       = false\n  erase_overstrike          eo         = false\n  generic_type              gn         = false\n  hard_copy                 hc         = false\n  has_meta_key              km         = true\n  has_status_line           hs         = true\n  insert_null_glitch        in         = false\n  memory_above              da         = false\n  memory_below              db         = false\n  move_insert_mode          mir        = true\n  move_standout_mode        msgr       = true\n  over_strike               os         = false\n  status_line_esc_ok        eslok      = false\n  dest_tabs_magic_smso      xt         = false\n  tilde_glitch              hz         = false\n  transparent_underline     ul         = false\n  xon_xoff                  xon        = false\n  needs_xon_xoff            nxon       = false\n  prtr_silent               mc5i       = false\n  hard_cursor               chts       = false\n  non_rev_rmcup             nrrmc      = false\n  no_pad_char               npc        = true\n  non_dest_scroll_region    ndscr      = false\n  can_change                ccc        = false\n  back_color_erase          bce        = true\n  hue_lightness_saturation  hls        = false\n  col_addr_glitch           xhpa       = false\n  cr_cancels_micro_mode     crxm       = false\n  has_print_wheel           daisy      = false\n  row_addr_glitch           xvpa       = false\n  semi_auto_right_margin    sam        = false\n  cpi_changes_res           cpix       = false\n  lpi_changes_res           lpix       = false\n  backspaces_with_bs        OTbs       = true\n  crt_no_scrolling          OTns       = false\n  no_correctly_working_cr   OTnc       = false\n  gnu_has_meta_key          OTMT       = false\n  linefeed_is_newline       OTNL       = false\n  has_hardware_tabs         OTpt       = false\n  return_does_clr_eol       OTxr       = false\nNumeric capabilities:\n  columns                   cols       = 80\n  init_tabs                 it         = 8\n  lines                     lines      = 24\n  lines_of_memory           lm         = -1\n  magic_cookie_glitch       xmc        = -1\n  padding_baud_rate         pb         = -1\n  virtual_terminal          vt         = -1\n  width_status_line         wsl        = -1\n  num_labels                nlab       = -1\n  label_height              lh         = -1\n  label_width               lw         = -1\n  max_attributes            ma         = -1\n  maximum_windows           wnum       = -1\n  max_colors                colors     = 256\n  max_pairs                 pairs      = 65536\n  no_color_video            ncv        = -1\n  buffer_capacity           bufsz      = -1\n  dot_vert_spacing          spinv      = -1\n  dot_horz_spacing          spinh      = -1\n  max_micro_address         maddr      = -1\n  max_micro_jump            mjump      = -1\n  micro_col_size            mcs        = -1\n  micro_line_size           mls        = -1\n  number_of_pins            npins      = -1\n  output_res_char           orc        = -1\n  output_res_line           orl        = -1\n  output_res_horz_inch      orhi       = -1\n  output_res_vert_inch      orvi       = -1\n  print_rate                cps        = -1\n  wide_char_size            widcs      = -1\n  buttons                   btns       = -1\n  bit_image_entwining       bitwin     = -1\n  bit_image_type            bitype     = -1\n  magic_cookie_glitch_ul    OTug       = -1\n  carriage_return_delay     OTdC       = -1\n  new_line_delay            OTdN       = -1\n  backspace_delay           OTdB       = -1\n  horizontal_tab_delay      OTdT       = -1\n  number_of_function_keys   OTkn       = -1\nString capabilities:\n  back_tab                  cbt        = ^[[Z\n  bell                      bel        = ^G\n  carriage_return           cr         = ^M\n  change_scroll_region      csr        = ^[[%i%p1%d;%p2%dr\n  clear_screen              clear      = ^[[H^[[2J\n  clr_eol                   el         = ^[[K\n  clr_eos                   ed         = ^[[J\n  column_address            hpa        = ^[[%i%p1%dG\n  cursor_address            cup        = ^[[%i%p1%d;%p2%dH\n  cursor_down               cud1       = ^[[B\n  cursor_home               home       = ^[[H\n  cursor_invisible          civis      = ^[[?25l\n  cursor_left               cub1       = ^H\n  cursor_normal             cnorm      = ^[[?25h\n  cursor_right              cuf1       = ^[[C\n  cursor_up                 cuu1       = ^[[A\n  delete_character          dch1       = ^[[P\n  delete_line               dl1        = ^[[M\n  dis_status_line           dsl        = ^[]0;^G\n  enter_alt_charset_mode    smacs      = ^[(0\n  enter_bold_mode           bold       = ^[[1m\n  enter_ca_mode             smcup      = ^[[?1049h\n  enter_reverse_mode        rev        = ^[[7m\n  enter_standout_mode       smso       = ^[[7m\n  enter_underline_mode      smul       = ^[[4m\n  erase_chars               ech        = ^[[%p1%dX\n  exit_alt_charset_mode     rmacs      = ^[(B\n  exit_attribute_mode       sgr0       = ^[[0m\n  exit_ca_mode              rmcup      = ^[[?1049l\n  exit_standout_mode        rmso       = ^[[27m\n  exit_underline_mode       rmul       = ^[[24m\n  from_status_line          fsl        = ^G\n  init_2string              is2        = ^[[!p^[[?3l\n  insert_line               il1        = ^[[L\n  key_backspace             kbs        = ^H\n  key_dc                    kdch1      = ^[[3~\n  key_down                  kcud1      = ^[[B\n  key_f1                    kf1        = ^[[[A\n  key_f10                   kf10       = ^[[21~\n  key_f2                    kf2        = ^[[[B\n  key_f3                    kf3        = ^[[[C\n  key_f4                    kf4        = ^[[[D\n  key_f5                    kf5        = ^[[[E\n  key_f6                    kf6        = ^[[17~\n  key_f7                    kf7        = ^[[18~\n  key_f8                    kf8        = ^[[19~\n  key_f9                    kf9        = ^[[20~\n  key_home                  khome      = ^[[1~\n  key_ic                    kich1      = ^[[2~\n  key_left                  kcub1      = ^[[D\n  key_npage                 knp        = ^[[6~\n  key_ppage                 kpp        = ^[[5~\n  key_right                 kcuf1      = ^[[C\n  key_sf                    kind       = ^[[1;2B\n  key_sr                    kri        = ^[[1;2A\n  key_up                    kcuu1      = ^[[A\n  newline                   nel        = ^[E\n  parm_dch                  dch        = ^[[%p1%dP\n  parm_delete_line          dl         = ^[[%p1%dM\n  parm_down_cursor          cud        = ^[[%p1%dB\n  parm_ich                  ich        = ^[[%p1%d@\n  parm_index                indn       = ^[[%p1%dS\n  parm_insert_line          il         = ^[[%p1%dL\n  parm_left_cursor          cub        = ^[[%p1%dD\n  parm_right_cursor         cuf        = ^[[%p1%dC\n  parm_rindex               rin        = ^[[%p1%dT\n  parm_up_cursor            cuu        = ^[[%p1%dA\n  repeat_char               rep        = %p1%c^[[%p2%{1}%-%db\n  restore_cursor            rc         = ^[8\n  row_address               vpa        = ^[[%i%p1%dd\n  save_cursor               sc         = ^[7\n  scroll_forward            ind        = ^@\n  scroll_reverse            ri         = ^[M\n  set_attributes            sgr        = ^[[0%?%p1%p3%|%t;7%;%?%p2%t;4%;%?%p6%t;1%;m\n  set_tab                   hts        = ^[H\n  tab                       ht         = \t\n  to_status_line            tsl        = ^[]0;\n  key_a1                    ka1        = ^[Ow\n  key_a3                    ka3        = ^[Oy\n  key_b2                    kb2        = ^[[G\n  key_c1                    kc1        = ^[Oq\n  key_c3                    kc3        = ^[Os\n  acs_chars                 acsc       = jjkkllmmnnqqttuuvvwwxx\n  key_btab                  kcbt       = ^[[Z\n  key_beg                   kbeg       = ^[OE\n  key_end                   kend       = ^[[4~\n  key_enter                 kent       = ^[OM\n  key_sdc                   kDC        = ^[[3;2~\n  key_send                  kEND       = ^[[4;2~\n  key_shome                 kHOM       = ^[[1;2~\n  key_sic                   kIC        = ^[[2;2~\n  key_sleft                 kLFT       = ^[[1;2D\n  key_snext                 kNXT       = ^[[6;2~\n  key_sprevious             kPRV       = ^[[5;2~\n  key_sright                kRIT       = ^[[1;2C\n  key_f11                   kf11       = ^[[23~\n  key_f12                   kf12       = ^[[24~\n  key_f13                   kf13       = ^[[25~\n  key_f14                   kf14       = ^[[26~\n  key_f15                   kf15       = ^[[28~\n  key_f16                   kf16       = ^[[29~\n  key_f17                   kf17       = ^[[31~\n  key_f18                   kf18       = ^[[32~\n  key_f19                   kf19       = ^[[33~\n  key_f20                   kf20       = ^[[34~\n  key_f21                   kf21       = ^[[23$\n  key_f22                   kf22       = ^[[24$\n  key_f23                   kf23       = ^[[11^\n  key_f24                   kf24       = ^[[12^\n  key_f25                   kf25       = ^[[13^\n  key_f26                   kf26       = ^[[14^\n  key_f27                   kf27       = ^[[15^\n  key_f28                   kf28       = ^[[17^\n  key_f29                   kf29       = ^[[18^\n  key_f30                   kf30       = ^[[19^\n  key_f31                   kf31       = ^[[20^\n  key_f32                   kf32       = ^[[21^\n  key_f33                   kf33       = ^[[23^\n  key_f34                   kf34       = ^[[24^\n  key_f35                   kf35       = ^[[25^\n  key_f36                   kf36       = ^[[26^\n  key_f37                   kf37       = ^[[28^\n  key_f38                   kf38       = ^[[29^\n  key_f39                   kf39       = ^[[31^\n  key_f40                   kf40       = ^[[1;6S\n  key_f41                   kf41       = ^[[32^\n  key_f42                   kf42       = ^[[33^\n  key_f43                   kf43       = ^[[34^\n  key_f44                   kf44       = ^[[23@\n  key_f45                   kf45       = ^[[24@\n  clr_bol                   el1        = ^[[1K\n  clear_margins             mgc        = ^[[?69l\n  orig_pair                 op         = ^[[39;49m\n  initialize_color          initc      = ^[]4;%p1%d;rgb:%p2%{255}%*%{1000}%/%2.2X/%p3%{255}%*%{1000}%/%2.2X/%p4%{255}%*%{1000}%/%2.2X^[\n  enter_italics_mode        sitm       = ^[[3m\n  exit_italics_mode         ritm       = ^[[23m\n  set_a_foreground          setaf      = ^[[%?%p1%{8}%<%t3%p1%d%e%p1%{16}%<%t9%p1%{8}%-%d%e38;5;%p1%d%;m\n  set_a_background          setab      = ^[[%?%p1%{8}%<%t4%p1%d%e%p1%{16}%<%t10%p1%{8}%-%d%e48;5;%p1%d%;m\nExtended boolean capabilities:\n  AX                        = true\n  XF                        = true\n  XT                        = true\nExtended string capabilities:\n  BD                        = ^[[?2004l\n  BE                        = ^[[?2004h\n  Cr                        = \n  Cs                        = \n  E3                        = ^[[3J\n  Ms                        = \n  PE                        = ^[[201~\n  PS                        = ^[[200~\n  RV                        = ^[[>c\n  Se                        = ^[[2 q\n  Ss                        = ^[[%p1%d q\n  TS                        = ^[]0;\n  XM                        = \n  XR                        = ^[[>0q\n  fd                        = ^[[?1004l\n  fe                        = ^[[?1004h\n  kDC3                      = \n  kDC4                      = \n  kDC5                      = \n  kDC6                      = \n  kDC7                      = \n  kDN                       = \n  kDN3                      = \n  kDN4                      = \n  kDN5                      = \n  kDN6                      = \n  kDN7                      = \n  kEND3                     = \n  kEND4                     = \n  kEND5                     = \n  kEND6                     = \n  kEND7                     = \n  kHOM3                     = \n  kHOM4                     = \n  kHOM5                     = \n  kHOM6                     = \n  kHOM7                     = \n  kIC3                      = \n  kIC4                      = \n  kIC5                      = \n  kIC6                      = \n  kIC7                      = \n  kLFT3                     = \n  kLFT4                     = \n  kLFT5                     = \n  kLFT6                     = \n  kLFT7                     = \n  kNXT3                     = \n  kNXT4                     = \n  kNXT5                     = \n  kNXT6                     = \n  kNXT7                     = \n  kPRV3                     = \n  kPRV4                     = \n  kPRV5                     = \n  kPRV6                     = \n  kPRV7                     = \n  kRIT3                     = \n  kRIT4                     = \n  kRIT5                     = \n  kRIT6                     = \n  kRIT7                     = \n  kUP                       = ^[[1;2A\n  kUP3                      = \n  kUP4                      = \n  kUP5                      = \n  kUP6                      = \n  kUP7                      = \n  ka2                       = ^[Ox\n  kb1                       = ^[Ot\n  kb3                       = ^[Ov\n  kc2                       = ^[Or\n  kp5                       = ^[OE\n  kpADD                     = ^[Ok\n  kpCMA                     = ^[Ol\n  kpDIV                     = ^[Oo\n  kpDOT                     = ^[On\n  kpMUL                     = ^[Oj\n  kpSUB                     = ^[Om\n  kpZRO                     = ^[Op\n  kxIN                      = ^[[I\n  kxOUT                     = ^[[O\n  rmxx                      = \n  rv                        = ^[\\[41;[1-6][0-9][0-9];0c\n  smxx                      = \n  xm                        = \n  xr                        = ^[P>\\|XTerm\\([1-9][0-9]+\\)^[\\\\\n  ext.enter_altfont_mode    = ^[[11m\n  setrgbf                   = ^[[38;2;%p1%d;%p2%d;%p3%dm\n  setrgbb                   = ^[[48;2;%p1%d;%p2%d;%p3%dm\n  ext.save_title            = ^[[22;0t\n  ext.restore_title         = ^[[23;0t\n  ext.set_title             = ^[]0;%p2%s^G\n  ext.enable_lr_margin      = ^[[?69h\n  ext.disable_lr_margin     = ^[[?69l\n  ext.enable_bpaste         = ^[[?2004h\n  ext.disable_bpaste        = ^[[?2004l\n  ext.enable_focus          = ^[[?1004h\n  ext.disable_focus         = ^[[?1004l\n  ext.enable_mouse          = ^[[?1002h^[[?1006h\n  ext.disable_mouse         = ^[[?1002l^[[?1006l\n  ext.enable_mouse_move     = ^[[?1003h\n  ext.disable_mouse_move    = ^[[?1003l\n  ext.set_underline_style   = ^[[4:%p1%dm\n  ext.set_underline_color   = ^[[58:2::%p1%d:%p2%d:%p3%dm\n}}}\n \n \nE886: Failed to create directory C:\\Users\\johnsmith\\AppData for writing ShaDa file: file already exists\n```\n\n### Steps to reproduce\n\nnvim --clean\n\n### Expected behavior\n\nNeovim startup without errors, and ability to create files within user profile folder.\n\n### Nvim version (nvim -v)\n\n0.11.3\n\n### Vim (not Nvim) behaves the same?\n\nNo, Vim 9.1 works fine.\n\n### Operating system/version\n\nWindows Server 2025\n\n### Terminal name/version\n\nWindows Terminal 1.22.12111.0\n\n### $TERM environment variable\n\nNot set.\n\n### Installation\n\nTested MSI and EXE from Releases, and scoop.sh.",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Sounds similar to https://github.com/neovim/neovim/issues/34596 .\n\nCould be a libuv limitation, or maybe we aren't handling a particular error code.\n\nOr maybe a permissions issue that we aren't surfacing in an intuitive way. \n\nOr maybe related to lack of ACL support: https://github.com/neovim/neovim/issues/1200\n\n> could not source \"C:/Program Files (x86)/nvim/share/nvim/syntax/syntax.vim\"\n\nIf you are certain that filepath exists, it will be helpful if you can add logging (`ELOG(\"...\")`) in the various places where `e_notopen` is used https://github.com/neovim/neovim/blob/61b6553ee94b0f2d099777ac7face02288dc84c0/src/nvim/errors.h#L73\n\nAnd as a bonus, change those places to use `e_notopen_2` so that the actual error is included in the message, to help with these kinds of cases.",
            "created_at": "2025-08-20T17:00:32Z",
            "html_url": "https://github.com/neovim/neovim/issues/35403#issuecomment-3207286766",
            "id": 3207286766,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35403",
            "node_id": "IC_kwDOAPphoM6_K0_u",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3207286766/reactions"
            },
            "updated_at": "2025-08-20T17:01:41Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3207286766",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 1,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/35403/comments",
    "created_at": "2025-08-20T11:38:13Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/35403/events",
    "html_url": "https://github.com/neovim/neovim/issues/35403",
    "id": 3337779497,
    "issue_dependencies_summary": {
        "blocked_by": 0,
        "blocking": 0,
        "total_blocked_by": 0,
        "total_blocking": 0
    },
    "labels": [
        {
            "color": "d4c5f9",
            "default": false,
            "description": null,
            "id": 109461219,
            "name": "platform:windows",
            "node_id": "MDU6TGFiZWwxMDk0NjEyMTk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/platform:windows"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/35403/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM7G8nkp",
    "number": 35403,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/35403/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/35403/timeline",
    "title": "Windows Server 2025, FSLogix and file access problems.",
    "type": {
        "color": "red",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "An unexpected problem or behavior",
        "id": 597163,
        "is_enabled": true,
        "name": "Bug",
        "node_id": "IT_kwDOAGK_Pc4ACRyr",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-08-20T17:01:41Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/35403",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/101480183?v=4",
        "events_url": "https://api.github.com/users/gitgoggles/events{/privacy}",
        "followers_url": "https://api.github.com/users/gitgoggles/followers",
        "following_url": "https://api.github.com/users/gitgoggles/following{/other_user}",
        "gists_url": "https://api.github.com/users/gitgoggles/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/gitgoggles",
        "id": 101480183,
        "login": "gitgoggles",
        "node_id": "U_kgDOBgx29w",
        "organizations_url": "https://api.github.com/users/gitgoggles/orgs",
        "received_events_url": "https://api.github.com/users/gitgoggles/received_events",
        "repos_url": "https://api.github.com/users/gitgoggles/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/gitgoggles/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/gitgoggles/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/gitgoggles",
        "user_view_type": "public"
    }
}