{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nThis is a niche setup, and I understand if it's not supported, but I'm happy to contribute towards a fix if I'm able. Notably, this behaviour isn't present in Vim (it works fine).\n\nMy installation of Neovim is having trouble reading/writing files in my user profile. I'm using Windows Server 2025 with an FSLogix user profile. FSLogix allows user data to be stored in a VHDX on a network share, which is mounted at login and uses something called a 'minifilter driver' to present the mounted VHDX to applications as a local filesystem (in theory).\n\nI've tested with a purely local user profile and had no issues whatsoever, this is only affecting the FSLogix profile. According to everything I've read, this 'minifilter driver' should make file access indistinguishable from a local filesystem, yet here we are.\n\nI've pasted my neovim startup log below, where you can see a couple of the areas it's failing to read/write. Beyond that, I'm not sure where to continue my search. If anyone can point me in the right direction, I'll happily participate in trying to figure this out.\n\n\n```\n[snipped]\n ...\n \nE886: Failed to create directory C:\\Users\\johnsmith\\AppData for writing ShaDa file: file already exists\n```\n\n### Steps to reproduce\n\nnvim --clean\n\n### Expected behavior\n\nNeovim startup without errors, and ability to create files within user profile folder.\n\n### Nvim version (nvim -v)\n\n0.11.3\n\n### Vim (not Nvim) behaves the same?\n\nNo, Vim 9.1 works fine.\n\n### Operating system/version\n\nWindows Server 2025\n\n### Terminal name/version\n\nWindows Terminal 1.22.12111.0\n\n### $TERM environment variable\n\nNot set.\n\n### Installation\n\nTested MSI and EXE from Releases, and scoop.sh.",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Sounds similar to https://github.com/neovim/neovim/issues/34596 .\n\nCould be a libuv limitation, or maybe we aren't handling a particular error code.\n\nOr maybe a permissions issue that we aren't surfacing in an intuitive way. \n\nOr maybe related to lack of ACL support: https://github.com/neovim/neovim/issues/1200\n\n> could not source \"C:/Program Files (x86)/nvim/share/nvim/syntax/syntax.vim\"\n\nIf you are certain that filepath exists, it will be helpful if you can add logging (`ELOG(\"...\")`) in the various places where `e_notopen` is used https://github.com/neovim/neovim/blob/61b6553ee94b0f2d099777ac7face02288dc84c0/src/nvim/errors.h#L73\n\nAnd as a bonus, change those places to use `e_notopen_2` so that the actual error is included in the message, to help with these kinds of cases.",
            "created_at": "2025-08-20T17:00:32Z",
            "html_url": "https://github.com/neovim/neovim/issues/35403#issuecomment-3207286766",
            "id": 3207286766,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35403",
            "node_id": "IC_kwDOAPphoM6_K0_u",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3207286766/reactions"
            },
            "updated_at": "2025-08-20T17:01:41Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3207286766",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I believe I am facing this same issue ([post about this](https://www.reddit.com/r/neovim/comments/1ooi66y/offline_windows_install_issues/)). I don't have the ability to make the edit you suggested, @justinmk, but I have run `nvim -V20vimlog` to get as much info as possible.\n\nOn installing nvim via any method, the path issues are the same. This is on a virtual machine, likely Windows Server, but I don't know for certain. \n\nAdding `C:/Program Files/Neovim/share/nvim/runtime/` as the `$VIMRUNTIME` env variable gets me to this point, but the remaining issues I can't work out. Without $VIMRUNTIME set it cannot find `syntax/syntax.vim`\n\nThese packpath directories that it's not finding DO exist, i manually verified:\n- C:/Program Files/Neovim/share/nvim/runtime\\pack/\n- C:/Program Files/Neovim/share/nvim/runtime\\plugin\n- C:\\Program Files\\Neovim\\lib/nvim\\plugin\n\nI'd be happy to take debugging steps if it can help get neovim running on this machine. \n\nVim 9.1 runs without issue.\n\nThese logs are from nvim 11.5, installed via .msi\n```\nsourcing \"nvim_exec2()\"\nline 1:     amenu     PopUp.Open\\ in\\ web\\ browser  gx\nline 2:     anoremenu PopUp.Inspect                 <Cmd>Inspect<CR>\nline 3:     anoremenu PopUp.Go\\ to\\ definition      <Cmd>lua vim.lsp.buf.definition()<CR>\nline 4:     anoremenu PopUp.Show\\ Diagnostics       <Cmd>lua vim.diagnostic.open_float()<CR>\nline 5:     anoremenu PopUp.Show\\ All\\ Diagnostics  <Cmd>lua vim.diagnostic.setqflist()<CR>\nline 6:     anoremenu PopUp.Configure\\ Diagnostics  <Cmd>help vim.diagnostic.config()<CR>\nline 7:     anoremenu PopUp.-1-                     <Nop>\nline 8:     vnoremenu PopUp.Cut                     \"+x\nline 9:     vnoremenu PopUp.Copy                    \"+y\nline 10:     anoremenu PopUp.Paste                   \"+gP\nline 11:     vnoremenu PopUp.Paste                   \"+P\nline 12:     vnoremenu PopUp.Delete                  \"_x\nline 13:     nnoremenu PopUp.Select\\ All             ggVG\nline 14:     vnoremenu PopUp.Select\\ All             gg0oG$\nline 15:     inoremenu PopUp.Select\\ All             <C-Home><C-O>VG\nline 16:     anoremenu PopUp.-2-                     <Nop>\nline 17:     anoremenu PopUp.How-to\\ disable\\ mouse  <Cmd>help disable-mouse<CR>\nline 18:   \nfinished sourcing nvim_exec2()\nSearching for \"ftplugin.vim\" in runtime path\nnot found in runtime path: \"ftplugin.vim\"\nSearching for \"indent.vim\" in runtime path\nnot found in runtime path: \"indent.vim\"\ncould not source \"$VIM/sysinit.vim\"\nsourcing \"C:\\Users\\{user}\\AppData\\Local\\nvim\\init.vim\"\nfinished sourcing C:\\Users\\{user}\\AppData\\Local\\nvim\\init.vim\nSearching for \"filetype.lua filetype.vim\" in runtime path\nnot found in runtime path: \"filetype.lua filetype.vim\"\nExecuting: so $VIMRUNTIME/syntax/syntax.vim\nsourcing \"C:/Program Files/Neovim/share/nvim/runtime/syntax/syntax.vim\"\nline 1: \" Vim syntax support file\nline 2: \" Maintainer:^IThe Vim Project <https://github.com/vim/vim>\nline 3: \" Last Change:^I2023 Aug 10\nline 4: \" Former Maintainer:^IBram Moolenaar <Bram@vim.org>\nline 5: \nline 6: \" This file is used for \":syntax on\".\nline 7: \" It installs the autocommands and starts highlighting for all buffers.\nline 8: \nline 9: if !has(\"syntax\")\nline 10:   finish\nline 11: endif\nline 12: \nline 13: \" If Syntax highlighting appears to be on already, turn it off first, so that\nline 14: \" any leftovers are cleared.\nline 15: if exists(\"syntax_on\") || exists(\"syntax_manual\")\nline 16:   so <sfile>:p:h/nosyntax.vim\nline 17: endif\nline 18: \nline 19: \" Load the Syntax autocommands and set the default methods for highlighting.\nline 20: runtime syntax/synload.vim\nSearching for \"syntax/synload.vim\" in runtime path\nnot found in runtime path: \"syntax/synload.vim\"\nline 21: \nline 22: \" Load the FileType autocommands if not done yet.\nline 23: if exists(\"did_load_filetypes\")\nline 24:   let s:did_ft = 1\nline 25: else\nline 26:   filetype on\nSearching for \"filetype.lua filetype.vim\" in runtime path\nnot found in runtime path: \"filetype.lua filetype.vim\"\nline 27:   let s:did_ft = 0\nline 28: endif\nline 29: \nline 30: \" Set up the connection between FileType and Syntax autocommands.\nline 31: \" This makes the syntax automatically set when the file type is detected\nline 32: \" unless treesitter highlighting is enabled.\nline 33: \" Avoid an error when 'verbose' is set and <amatch> expansion fails.\nline 34: augroup syntaxset\nline 35:   au! FileType *^Iif !exists('b:ts_highlight') | 0verbose exe \"set syntax=\" . expand(\"<amatch>\") | endif\nline 36: augroup END\nline 37: \nline 38: \" Execute the syntax autocommands for the each buffer.\nline 39: \" If the filetype wasn't detected yet, do that now.\nline 40: \" Always do the syntaxset autocommands, for buffers where the 'filetype'\nline 41: \" already was set manually (e.g., help buffers).\nline 42: doautoall syntaxset FileType\nExecuting FileType Autocommands for \"*\"\nautocommand if !exists('b:ts_highlight') | 0verbose exe \"set syntax=\" . expand(\"<amatch>\") | endif\n\nExecuting: if !exists('b:ts_highlight') | 0verbose exe \"set syntax=\" . expand(\"<amatch>\") | endif\nExecuting:  0verbose exe \"set syntax=\" . expand(\"<amatch>\") | endif\nExecuting:  endif\nline 43: if !s:did_ft\nline 44:   doautoall filetypedetect BufRead\n                                           Error detected while processing C:/Program Files/Neovim/share/nvim/runtime/syntax/syntax.vim:\nline   44:\nE216: No such group or event: filetypedetect BufRead\nline 45: endif\nfinished sourcing C:/Program Files/Neovim/share/nvim/runtime/syntax/syntax.vim\nSearching for \"plugin/**/*\" in \"C:\\Users\\{user}\\AppData\\Local\\nvim,C:\\Users\\{user}\\AppData\\Local\\nvim-data\\site,C:/Program Files/Neovim/share/nvim/runtime,C:\\Program Files\\Neovim\\lib/nvim,C:\\Users\\{user}\\AppData\\Local\\nvim-data\\site\\after,C:\\Users\\{user}\\AppData\\Local\\nvim\\after\"\nSearching for \"C:\\Users\\{user}\\AppData\\Local\\nvim\\plugin/**/*\"\nSearching for \"C:\\Users\\{user}\\AppData\\Local\\nvim-data\\site\\plugin/**/*\"\nSearching for \"C:/Program Files/Neovim/share/nvim/runtime\\plugin/**/*\"\nSearching for \"C:\\Program Files\\Neovim\\lib/nvim\\plugin/**/*\"\nnot found in 'packpath': \"plugin/**/*\"\nSearching for \"pack/*/start/*\" in \"C:\\Users\\{user}\\AppData\\Local\\nvim,C:\\Users\\{user}\\AppData\\Local\\nvim-data\\site,C:/Program Files/Neovim/share/nvim/runtime,C:\\Program Files\\Neovim\\lib/nvim,C:\\Users\\{user}\\AppData\\Local\\nvim-data\\site\\after,C:\\Users\\{user}\\AppData\\Local\\nvim\\after\"\nSearching for \"C:\\Users\\{user}\\AppData\\Local\\nvim\\pack/*/start/*\"\nSearching for \"C:\\Users\\{user}\\AppData\\Local\\nvim-data\\site\\pack/*/start/*\"\nSearching for \"C:/Program Files/Neovim/share/nvim/runtime\\pack/*/start/*\"\nSearching for \"C:\\Program Files\\Neovim\\lib/nvim\\pack/*/start/*\"\nSearching for \"C:\\Users\\{user}\\AppData\\Local\\nvim-data\\site\\after\\pack/*/start/*\"\nSearching for \"C:\\Users\\{user}\\AppData\\Local\\nvim\\after\\pack/*/start/*\"\nnot found in 'packpath': \"pack/*/start/*\"\nSearching for \"start/*\" in \"C:\\Users\\{user}\\AppData\\Local\\nvim,C:\\Users\\{user}\\AppData\\Local\\nvim-data\\site,C:/Program Files/Neovim/share/nvim/runtime,C:\\Program Files\\Neovim\\lib/nvim,C:\\Users\\{user}\\AppData\\Local\\nvim-data\\site\\after,C:\\Users\\{user}\\AppData\\Local\\nvim\\after\"\nSearching for \"C:\\Users\\{user}\\AppData\\Local\\nvim\\start/*\"\nSearching for \"C:\\Users\\{user}\\AppData\\Local\\nvim-data\\site\\start/*\"\nSearching for \"C:/Program Files/Neovim/share/nvim/runtime\\start/*\"\nSearching for \"C:\\Program Files\\Neovim\\lib/nvim\\start/*\"\nSearching for \"C:\\Users\\{user}\\AppData\\Local\\nvim-data\\site\\after\\start/*\"\nSearching for \"C:\\Users\\{user}\\AppData\\Local\\nvim\\after\\start/*\"\nnot found in 'packpath': \"start/*\"\nSearching for \"plugin/**/*\" in runtime path\nnot found in runtime path: \"plugin/**/*\"\nReading ShaDa file \"C:\\Users\\{user}\\AppData\\Local\\nvim-data\\shada\\main.shada\" info marks oldfiles FAILED\nExecuting VimEnter Autocommands for \"*\"\nautocommand <Lua 70: vim/_defaults.lua:829>\n```",
            "created_at": "2025-11-21T21:31:00Z",
            "html_url": "https://github.com/neovim/neovim/issues/35403#issuecomment-3564652309",
            "id": 3564652309,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35403",
            "node_id": "IC_kwDOAPphoM7UeEcV",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3564652309/reactions"
            },
            "updated_at": "2025-11-21T22:01:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3564652309",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/135739244?v=4",
                "events_url": "https://api.github.com/users/LJFRIESE/events{/privacy}",
                "followers_url": "https://api.github.com/users/LJFRIESE/followers",
                "following_url": "https://api.github.com/users/LJFRIESE/following{/other_user}",
                "gists_url": "https://api.github.com/users/LJFRIESE/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/LJFRIESE",
                "id": 135739244,
                "login": "LJFRIESE",
                "node_id": "U_kgDOCBc3bA",
                "organizations_url": "https://api.github.com/users/LJFRIESE/orgs",
                "received_events_url": "https://api.github.com/users/LJFRIESE/received_events",
                "repos_url": "https://api.github.com/users/LJFRIESE/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/LJFRIESE/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/LJFRIESE/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/LJFRIESE",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Thanks, but those logs don't help. Need the low-level error type, which may require the source code changes I requested.",
            "created_at": "2025-11-21T22:01:28Z",
            "html_url": "https://github.com/neovim/neovim/issues/35403#issuecomment-3564747273",
            "id": 3564747273,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35403",
            "node_id": "IC_kwDOAPphoM7UeboJ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3564747273/reactions"
            },
            "updated_at": "2025-11-21T22:01:28Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3564747273",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I have _very_ little idea what I'm doing here, but I'd really like nvim to work on my remote machine.\n\nI've cloned the nvim repo, made the suggested edits and built using Visual Studio. After moving the whole thing over to the remote machine and launching, the logs seem to be identical. I'm not seeing any output from the ELOG statements or new info from the e_notopen_2.\n\nCan you give me some idea of what you would be expecting to find, or point me on what I might have done wrong? I built Release with Debug Info\n\nExample change in syntax.c:\n\n``` {line 4000}\n  if (source\n      ? do_source(eap->arg, false, DOSO_NONE, NULL) == FAIL\n      : source_runtime(eap->arg, DIP_ALL) == FAIL) {\n    ELOG(\"syntax.c; 4003\");\n    semsg(_(e_notopen_2), eap->arg);\n  }\n```\n\nLaunching in debug mode:\n\n```\nEntering Debug mode.  Type \"cont\" to continue.\nnvim_exec2()\nline 1: amenu     PopUp.Open\\ in\\ web\\ browser  gx\n>cont\nvim/_defaults.lua:868: module 'vim.termcap' not found:\n        no field package.preload['vim.termcap']\n        no file '.\\vim\\termcap.lua'\n        no file 'C:\\Users\\{user}\\documents\\neovim\\neovim\\build\\bin\\lua\\vim\\termcap.lua'\n        no file 'C:\\Users\\{user}\\documents\\neovim\\neovim\\build\\bin\\lua\\vim\\termcap\\init.lu        no file '.\\vim.dll'\n        no file 'C:\\Users\\{user}\\documents\\neovim\\neovim\\build\\bin\\vim.dll'\n        no file 'C:\\Users\\{user}\\documents\\neovim\\neovim\\build\\bin\\loadall.dll'\nstack traceback:\n        [C]: in function 'require'\n        vim/_defaults.lua:868: in main chunk\n        [C]: at 0x7ff757aa7b00\n        [C]: at 0x7ffe2444a6a0\n```",
            "created_at": "2025-11-25T00:18:28Z",
            "html_url": "https://github.com/neovim/neovim/issues/35403#issuecomment-3573245825",
            "id": 3573245825,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35403",
            "node_id": "IC_kwDOAPphoM7U-2eB",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3573245825/reactions"
            },
            "updated_at": "2025-11-25T01:03:34Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3573245825",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/135739244?v=4",
                "events_url": "https://api.github.com/users/LJFRIESE/events{/privacy}",
                "followers_url": "https://api.github.com/users/LJFRIESE/followers",
                "following_url": "https://api.github.com/users/LJFRIESE/following{/other_user}",
                "gists_url": "https://api.github.com/users/LJFRIESE/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/LJFRIESE",
                "id": 135739244,
                "login": "LJFRIESE",
                "node_id": "U_kgDOCBc3bA",
                "organizations_url": "https://api.github.com/users/LJFRIESE/orgs",
                "received_events_url": "https://api.github.com/users/LJFRIESE/received_events",
                "repos_url": "https://api.github.com/users/LJFRIESE/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/LJFRIESE/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/LJFRIESE/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/LJFRIESE",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "In your example, currently `semsg(_(e_notopen_2), eap->arg);` does not print the error code. So knowing the error code is the first step. May need to add logs in `do_source` and/or `source_runtime` since they don't return the error code. \n\nbtw, `os_strerr` returns a human-readable error name from the error code. [example](https://github.com/neovim/neovim/blob/01a9765035372830fa97b87f93c6aca72bd99494/src/nvim/eval/fs.c#L1808)",
            "created_at": "2025-11-25T01:03:28Z",
            "html_url": "https://github.com/neovim/neovim/issues/35403#issuecomment-3573346503",
            "id": 3573346503,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35403",
            "node_id": "IC_kwDOAPphoM7U_PDH",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3573346503/reactions"
            },
            "updated_at": "2025-11-25T01:04:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3573346503",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Thanks for the patience. I'm getting closer to understanding this. Is there another strategy to work out more informative error messages?\n\nUnknown system error 0: ERROR_SUCCESS\nUnknown system error 2: ERROR_FILE_NOT_FOUND\n\n``` \nWRN 2025-11-25T12:05:02.005 ui.10512   tui_handle_term_mode:233: TUI: terminal mode 69 detected, state 2\nWRN 2025-11-25T12:05:02.005 ui.10512   tui_handle_term_mode:223: TUI: terminal mode 2026 unavailable, state 0\nWRN 2025-11-25T12:05:02.005 ui.10512   tui_handle_term_mode:223: TUI: terminal mode 2027 unavailable, state 0\nWRN 2025-11-25T12:05:02.007 ui.10512   tui_handle_term_mode:223: TUI: terminal mode 2031 unavailable, state 0\nWRN 2025-11-25T12:05:02.007 ui.10512   tui_handle_term_mode:223: TUI: terminal mode 2048 unavailable, state 0\nERR 2025-11-25T12:05:04.590 nvim.4572.0 filetype_plugin_enable:7809: filetype_plugin failed' Unknown system error 2'\nERR 2025-11-25T12:05:04.590 nvim.4572.0 filetype_plugin_enable:7814: filetype_indent failed' Unknown system error 0'\nERR 2025-11-25T12:05:04.590 nvim.4572.0 do_source:2388: do_source failed for file '$VIM/sysinit.vim': Unknown system error 0\nERR 2025-11-25T12:05:04.590 nvim.4572.0 do_source:2388: do_source failed for file 'C:/Program Files (x86)/nvim/share/nvim/syntax/syntax.vim': Unknown system error 0\nERR 2025-11-25T12:05:04.590 nvim.4572.0 cmd_source:1862: runtime.c@1862; Unknown system error 0\nWRN 2025-11-25T12:05:09.187 nvim.4572.0 os_icon_init:87: neovim.ico not found: C:/Program Files (x86)/nvim/share/nvim/neovim.ico\n```\nAll of the other files that are sourced during start are in the same location, but these two are not being found. I did note the comment in the source:\n``` \n/// Source ftplugin.vim and indent.vim to create the necessary FileType\n/// autocommands. We do this separately from filetype.vim so that these\n/// autocommands will always fire first (and thus can be overridden) while still\n/// allowing general filetype detection to be disabled in the user's init file.\n```\n\nIs there an order of operations issue that is being created by loading these seperately in this niche case? I verified that my system is also running using FSLogix.\n\nIn addition, I did discover that I can circumvent all errors by launching nvim with `nvim -u NONE -i NONE` to disable ftplugin, indent, and SHADA. ",
            "created_at": "2025-11-25T20:17:53Z",
            "html_url": "https://github.com/neovim/neovim/issues/35403#issuecomment-3577429084",
            "id": 3577429084,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35403",
            "node_id": "IC_kwDOAPphoM7VOzxc",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3577429084/reactions"
            },
            "updated_at": "2025-11-26T20:10:07Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3577429084",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/135739244?v=4",
                "events_url": "https://api.github.com/users/LJFRIESE/events{/privacy}",
                "followers_url": "https://api.github.com/users/LJFRIESE/followers",
                "following_url": "https://api.github.com/users/LJFRIESE/following{/other_user}",
                "gists_url": "https://api.github.com/users/LJFRIESE/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/LJFRIESE",
                "id": 135739244,
                "login": "LJFRIESE",
                "node_id": "U_kgDOCBc3bA",
                "organizations_url": "https://api.github.com/users/LJFRIESE/orgs",
                "received_events_url": "https://api.github.com/users/LJFRIESE/received_events",
                "repos_url": "https://api.github.com/users/LJFRIESE/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/LJFRIESE/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/LJFRIESE/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/LJFRIESE",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "\"File not found\" would be useful to know if it were related to shada files. A missing `neovim.ico` is not relevant. So need to add logs for shada files.",
            "created_at": "2025-11-25T20:36:50Z",
            "html_url": "https://github.com/neovim/neovim/issues/35403#issuecomment-3577483753",
            "id": 3577483753,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35403",
            "node_id": "IC_kwDOAPphoM7VPBHp",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3577483753/reactions"
            },
            "updated_at": "2025-11-25T20:36:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3577483753",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I added ELOGs to shada.c and tried running with different flags:\n\n```\n-- Starting with -r outputs the following, no errors or warnings in log\nE484: Can't open file C:/Users/lfries_a/runtime/syntax/syntax.vim\nSwap files found:\n   In directory ~\\AppData\\Local\\nvim-data\\swap\\\\:\n      -- none --\n```\n\nIs that `\\\\` at the end of the path normal? \n\n```\n-- VIMRUNTIME=~/runtime ./build/bin/nvim (no shada file)\n-- launch 1, no -i flag\nERR 2025-11-25T15:11:40.405 nvim.10872.0 shada_filename:1312: shada filename 2'Unknown system error 0'\nERR 2025-11-25T15:11:40.405 nvim.10872.0 shada_read_file:584: shada read file 'Unknown system error 0'\nERR 2025-11-25T15:11:40.406 nvim.10872.0 shada_read_file:606: shada read file 2 'Unknown system error 0'\nERR 2025-11-25T15:11:41.716 nvim.10872.0 shada_filename:1312: shada filename 2'Unknown system error 0'\nERR 2025-11-25T15:11:41.717 nvim.10872.0 shada_write_file:2775: shada_write_file_nomerge failed 1 'Unknown system error 0'\n\n-- VIMRUNTIME=~/runtime ./build/bin/nvim (no shada file)\n-- launch 2, no -i flag\nERR 2025-11-25T15:11:45.201 nvim.1800.0 shada_filename:1312: shada filename 2'Unknown system error 0'\nERR 2025-11-25T15:11:45.201 nvim.1800.0 shada_read_file:584: shada read file 'Unknown system error 0'\nERR 2025-11-25T15:11:45.201 nvim.1800.0 shada_read_file:606: shada read file 2 'Unknown system error 0'\nWRN 2025-11-25T15:11:45.206 nvim.1800.0 os_icon_init:87: neovim.ico not found: C:/Users/lfries_a/runtime/neovim.ico\nERR 2025-11-25T15:11:49.855 nvim.1800.0 shada_filename:1312: shada filename 2'Unknown system error 0'\nERR 2025-11-25T15:11:49.855 nvim.1800.0 shada_write_file:2775: shada_write_file_nomerge failed 1 'Unknown system error 0'\n```\n\n\n```\n-- VIMRUNTIME=~/runtime ./build/bin/nvim -i tst (file in cwd)\n-- Launch 1 -i flag\nERR 2025-11-25T15:13:20.431 nvim.6108.0 shada_filename:1316: shada filename 3 'Unknown system error 0'\nERR 2025-11-25T15:13:20.431 nvim.6108.0 shada_read_file:584: shada read file 'Unknown system error 0'\nERR 2025-11-25T15:13:20.432 nvim.6108.0 shada_read_file:606: shada read file 2 'Unknown system error 0'\n\nERR 2025-11-25T15:13:23.818 nvim.6108.0 shada_filename:1316: shada filename 3 'Unknown system error 0'\nERR 2025-11-25T15:13:23.819 nvim.6108.0 shada_hist_iter:651: shada history 'Unknown system error 0'\nERR 2025-11-25T15:13:23.820 nvim.6108.0 shada_hist_iter:651: shada history 'Unknown system error 0'\nERR 2025-11-25T15:13:23.820 nvim.6108.0 shada_hist_iter:651: shada history 'Unknown system error 0'\nERR 2025-11-25T15:13:23.821 nvim.6108.0 shada_hist_iter:651: shada history 'Unknown system error 0'\nERR 2025-11-25T15:13:23.822 nvim.6108.0 shada_hist_iter:651: shada history 'Unknown system error 0'\nERR 2025-11-25T15:13:23.822 nvim.6108.0 shada_free_shada_entry:2914: shada free entry 'Unknown system error 0'\n\n-- VIMRUNTIME=~/runtime ./build/bin/nvim -i tst (file in cwd)\n-- Launch 2 -i flag\nERR 2025-11-25T15:13:26.500 nvim.5536.0 shada_filename:1316: shada filename 3 'Unknown system error 0'\nERR 2025-11-25T15:13:26.502 nvim.5536.0 shada_read_file:584: shada read file 'Unknown system error 0'\nERR 2025-11-25T15:13:26.502 nvim.5536.0 shada_hist_iter:651: shada history 'Unknown system error 0'\nERR 2025-11-25T15:13:26.503 nvim.5536.0 shada_hist_iter:651: shada history 'Unknown system error 0'\nERR 2025-11-25T15:13:26.503 nvim.5536.0 shada_hist_iter:651: shada history 'Unknown system error 0'\nERR 2025-11-25T15:13:26.503 nvim.5536.0 shada_hist_iter:651: shada history 'Unknown system error 0'\nERR 2025-11-25T15:13:26.503 nvim.5536.0 shada_hist_iter:651: shada history 'Unknown system error 0'\nERR 2025-11-25T15:13:26.503 nvim.5536.0 shada_read:1226: shada read file 4'Unknown system error 0'\n\nERR 2025-11-25T15:13:27.487 nvim.5536.0 shada_filename:1316: shada filename 3 'Unknown system error 0'\nERR 2025-11-25T15:13:27.487 nvim.5536.0 shada_hist_iter:651: shada history 'Unknown system error 0'\nERR 2025-11-25T15:13:27.490 nvim.5536.0 shada_hist_iter:651: shada history 'Unknown system error 0'\nERR 2025-11-25T15:13:27.490 nvim.5536.0 shada_hist_iter:651: shada history 'Unknown system error 0'\nERR 2025-11-25T15:13:27.490 nvim.5536.0 shada_hist_iter:651: shada history 'Unknown system error 0'\nERR 2025-11-25T15:13:27.490 nvim.5536.0 shada_hist_iter:651: shada history 'Unknown system error 0'\nERR 2025-11-25T15:13:27.492 nvim.5536.0 shada_read_when_writing:1989: shada 'Unknown system error 0'\nERR 2025-11-25T15:13:27.492 nvim.5536.0 shada_free_shada_entry:2960: shada write result 'Unknown system error 0'\nERR 2025-11-25T15:13:27.492 nvim.5536.0 shada_free_shada_entry:2914: shada free entry 'Unknown system error 0'\nERR 2025-11-25T15:13:27.492 nvim.5536.0 shada_write_file:2836: shada err 137 'Unknown system error 0'\n```\n\nAre shada files supposed to be human* readable? The contents of one from my tests is:\n```\n\u0001Ï    i&%\u0010d…©generatorÄ\u0004nvim§versionÄ'NVIM v0.12.0-dev-1684+g01a9765035-dirty©max_kbyte\n£pidÍ \u001c¨encodingÄ\u0005utf-8\u0004Ï    i&%\u0010\u0005’ Ä\u0001q\n```\n\nThe shada files are being written to the cwd, rather than %LOCALAPPDATA%/nvim-data. That is, when I run ` VIMRUNTIME=~/runtime ./build/bin/nvim -i testshada`, the testshada file is in `.`. No files get written when run without -i. \n\n",
            "created_at": "2025-11-25T23:23:53Z",
            "html_url": "https://github.com/neovim/neovim/issues/35403#issuecomment-3578010497",
            "id": 3578010497,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35403",
            "node_id": "IC_kwDOAPphoM7VRBuB",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3578010497/reactions"
            },
            "updated_at": "2025-11-26T00:20:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3578010497",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/135739244?v=4",
                "events_url": "https://api.github.com/users/LJFRIESE/events{/privacy}",
                "followers_url": "https://api.github.com/users/LJFRIESE/followers",
                "following_url": "https://api.github.com/users/LJFRIESE/following{/other_user}",
                "gists_url": "https://api.github.com/users/LJFRIESE/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/LJFRIESE",
                "id": 135739244,
                "login": "LJFRIESE",
                "node_id": "U_kgDOCBc3bA",
                "organizations_url": "https://api.github.com/users/LJFRIESE/orgs",
                "received_events_url": "https://api.github.com/users/LJFRIESE/received_events",
                "repos_url": "https://api.github.com/users/LJFRIESE/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/LJFRIESE/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/LJFRIESE/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/LJFRIESE",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Are shada files supposed to be machine readable?\n\nit is msgpack\n\n> when I run ` VIMRUNTIME=~/runtime ./build/bin/nvim -i testshada`, the testshada file is in `.`. No files get written when run without -i.\n\nthis is just changing different things. without `-i foo` the shada files should get written to `stdpath('data')`\n\n> The shada files are being written to the cwd, rather than %LOCALAPPDATA%/nvim-data\n\n~~that may be a hint that `%LOCALAPPDATA%/nvim-data` isn't writable or wasn't resolved correctly.~~ if you specify `-i foo` then you are telling nvim to write to the current dir.\n",
            "created_at": "2025-11-25T23:25:10Z",
            "html_url": "https://github.com/neovim/neovim/issues/35403#issuecomment-3578013813",
            "id": 3578013813,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35403",
            "node_id": "IC_kwDOAPphoM7VRCh1",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3578013813/reactions"
            },
            "updated_at": "2025-11-25T23:28:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3578013813",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> yes, `--clean` disables shada unless `-i` is given.\n\nI edited for clarity - I am not running with --clean.\n\n> this is just changing different things. without -i foo the shada files should get written to stdpath('data')\n\nGot it. `stdpath('data')` resolves properly once launched, but something is failing during the init process it seems.\n\nI've also just noticed that right-clicking in the terminal errors:\n\n```\nError in MenuPopup Autocommands for \"*\":\nLua callback: vim/_defaults.lua:487: module 'vim.ui' not found:                \nno field package.preload['vim.ui']                                                                                                                                                          no file '.\\vim\\ui.lua'\nno file 'C:\\Users\\lfries_a\\documents\\nvim\\build\\bin\\lua\\vim\\ui.lua'\nno file 'C:\\Users\\lfries_a\\documents\\nvim\\build\\bin\\lua\\vim\\ui\\init.lua'\nno file '.\\vim\\ui.dll'\nno file 'C:\\Users\\lfries_a\\documents\\nvim\\build\\bin\\vim\\ui.dll'\nno file 'C:\\Users\\lfries_a\\documents\\nvim\\build\\bin\\loadall.dll'\nno file '.\\vim.dll'  \nno file 'C:\\Users\\lfries_a\\documents\\nvim\\build\\bin\\vim.dll'\nno file 'C:\\Users\\lfries_a\\documents\\nvim\\build\\bin\\loadall.dll'\nstack traceback:\n[C]: in function 'require'\nvim/_defaults.lua:487: in function 'enable_ctx_menu'\nvim/_defaults.lua:516: in function <vim/_defaults.lua:515>\n```\n\n\n",
            "created_at": "2025-11-25T23:27:23Z",
            "html_url": "https://github.com/neovim/neovim/issues/35403#issuecomment-3578022099",
            "id": 3578022099,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35403",
            "node_id": "IC_kwDOAPphoM7VREjT",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3578022099/reactions"
            },
            "updated_at": "2025-11-26T20:10:14Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3578022099",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/135739244?v=4",
                "events_url": "https://api.github.com/users/LJFRIESE/events{/privacy}",
                "followers_url": "https://api.github.com/users/LJFRIESE/followers",
                "following_url": "https://api.github.com/users/LJFRIESE/following{/other_user}",
                "gists_url": "https://api.github.com/users/LJFRIESE/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/LJFRIESE",
                "id": 135739244,
                "login": "LJFRIESE",
                "node_id": "U_kgDOCBc3bA",
                "organizations_url": "https://api.github.com/users/LJFRIESE/orgs",
                "received_events_url": "https://api.github.com/users/LJFRIESE/received_events",
                "repos_url": "https://api.github.com/users/LJFRIESE/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/LJFRIESE/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/LJFRIESE/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/LJFRIESE",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "running with `-i testshada` doesn't tell us anything because this issue is about writing to the \"user profile\" directory.\n\n> Lua callback: vim/_defaults.lua:487: module 'vim.ui' not found: \n\nthat implies you need to set VIMRUNTIME. if you are running a local build, also pass `--luamod-dev`",
            "created_at": "2025-11-25T23:39:45Z",
            "html_url": "https://github.com/neovim/neovim/issues/35403#issuecomment-3578055026",
            "id": 3578055026,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35403",
            "node_id": "IC_kwDOAPphoM7VRMly",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3578055026/reactions"
            },
            "updated_at": "2025-11-25T23:39:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3578055026",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> that implies you need to set VIMRUNTIME. \n\nI've been setting it inline when launching, but I've set it as an env variable now with the same results.\n\n> if you are running a local build, also pass --luamod-dev\n\nI'm uncertain on the local build meaning - I've built nvim from source on one machine, zipped it, sent it to the remote, extracted and run there. \n\n`$ ./build/bin/nvim -V --luamod-dev` fails to launch:\n\n```\n$ ./build/bin/nvim -V --luamod-dev\nvim/_init_packages.lua:53: module 'vim.shared' not found:\n        no field package.preload['vim.shared']\n        no file '.\\vim\\shared.lua'\n        no file 'C:\\Users\\{user}\\documents\\nvim\\build\\bin\\lua\\vim\\shared.lua'\n        no file 'C:\\Users\\{user}\\documents\\nvim\\build\\bin\\lua\\vim\\shared\\init.lua'\n        no file '.\\vim\\shared.dll'\n        no file 'C:\\Users\\{user}\\documents\\nvim\\build\\bin\\vim\\shared.dll'\n        no file 'C:\\Users\\{user}\\documents\\nvim\\build\\bin\\loadall.dll'\n        no file '.\\vim.dll'\n        no file 'C:\\Users\\{user}\\documents\\nvim\\build\\bin\\vim.dll'\n        no file 'C:\\Users\\{user}\\documents\\nvim\\build\\bin\\loadall.dll'\nstack traceback:\n        [C]: in function 'require'\n        vim/_init_packages.lua:53: in main chunk\n        [C]: at 0x7ff7fd135f00\n        [C]: at 0x7ffeb19fa6a0\nE970: Failed to initialize builtin lua modules\n```\n\n\nUnlike the files mentioned earlier, these files do indeed seem to be missing. There is no `./build/bin/lua` or `./build/bin/vim`. There is `./runtime/vim` and `./runtime/lua`, with the files that are being searched for, but I can't find the .dll files listed in th error.",
            "created_at": "2025-11-25T23:47:11Z",
            "html_url": "https://github.com/neovim/neovim/issues/35403#issuecomment-3578075998",
            "id": 3578075998,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35403",
            "node_id": "IC_kwDOAPphoM7VRRte",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3578075998/reactions"
            },
            "updated_at": "2025-11-26T00:20:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3578075998",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/135739244?v=4",
                "events_url": "https://api.github.com/users/LJFRIESE/events{/privacy}",
                "followers_url": "https://api.github.com/users/LJFRIESE/followers",
                "following_url": "https://api.github.com/users/LJFRIESE/following{/other_user}",
                "gists_url": "https://api.github.com/users/LJFRIESE/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/LJFRIESE",
                "id": 135739244,
                "login": "LJFRIESE",
                "node_id": "U_kgDOCBc3bA",
                "organizations_url": "https://api.github.com/users/LJFRIESE/orgs",
                "received_events_url": "https://api.github.com/users/LJFRIESE/received_events",
                "repos_url": "https://api.github.com/users/LJFRIESE/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/LJFRIESE/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/LJFRIESE/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/LJFRIESE",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "`./build/bin/lua` is just a guess, it looks in many places. let's move this to a discussion, we're really getting into the weeds",
            "created_at": "2025-11-26T00:20:20Z",
            "html_url": "https://github.com/neovim/neovim/issues/35403#issuecomment-3578175354",
            "id": 3578175354,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35403",
            "node_id": "IC_kwDOAPphoM7VRp96",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3578175354/reactions"
            },
            "updated_at": "2025-11-26T00:20:20Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3578175354",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I have worked out the source of the problem, the steps to diagnose, and the steps to make things work. \n\nThe key tool for diagnosing the issue was [Windows Process Monitor](https://learn.microsoft.com/en-us/sysinternals/downloads/procmon). \n\nThe source of the problem is FSLogix (potentially only certain versions) interacting with AppVolumes. Both of these are software used in provisioning remote desktop profiles. These software work together to \n1. create 'hidden' (?) drives/volumes which have variable write-ability and which do _not_ perfectly match the structure of one's C drive, and \n2. redirect calls at a really low level between the visible/hidden drives. Unless an IT department spends an unknown amount of time/effort provisioning a specific software, it's a gamble whether or not software which relies on PATH/env variables will work.\n\nIn procmon, this redirection looks like:\n\n`11:38:50.9678079 AM\tnvim.exe\t ... CreateFile\tC:\\{00000000-0000-0000-0000-000000000000}\\SVROOT\\Program Files\\Neovim\\bin\\lua51.dll\tREPARSE\t... Options: Open Reparse Point, ...\n`\n\nThis is Neovim attempting to call lua51.dll, but getting redirected to lala land. REPARSE is the 'action' being taken that's transforming the paths. Sometimes, this works, sometimes not, depending on the mirror.\n\nThe specific issue in Neovim's case is that, by default, these hidden drives do not contain the local %USERPROFILE% structure, they instead only contain a Public user. Since Neovim relies on %USERPROFILE%/AppData/..., everything breaks because, presumabley, it cannot create a User in order to complete the path.\n\nTo check if this is what is happening to you:\n1. Set a filter on procmon for process name containing 'nvim' and another for process name containing 'frx'.\n2. Start event logging\n3. Launch nvim, close nvim\n4. Wait for logs then pause event capture.\n5. Inspect for events related to REPARSE, FILE NAME NOT FOUND, etc.\n\nThe specific numeric code for the hidden directory/associated path may be configured differently at your org.\n\n**SOLUTION**\n\nOnce you have identified the file path for the hidden volume, the solution is to hard code **ALL** of the XDG_ variables to a writable location inside of the hidden dir like this:\n\n`XDG_CONFIG_HOME=C:\\{00000000-0000-0000-0000-000000000000}\\SVROOT\\Users\\Public`\n\nThis means that swaps/shada/etc won't be preserved between sessions, but who cares. Once this is done Neovim runs 100% error free.\n",
            "created_at": "2025-11-26T19:57:48Z",
            "html_url": "https://github.com/neovim/neovim/issues/35403#issuecomment-3583012410",
            "id": 3583012410,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35403",
            "node_id": "IC_kwDOAPphoM7VkG46",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 1,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3583012410/reactions"
            },
            "updated_at": "2025-11-26T19:59:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3583012410",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/135739244?v=4",
                "events_url": "https://api.github.com/users/LJFRIESE/events{/privacy}",
                "followers_url": "https://api.github.com/users/LJFRIESE/followers",
                "following_url": "https://api.github.com/users/LJFRIESE/following{/other_user}",
                "gists_url": "https://api.github.com/users/LJFRIESE/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/LJFRIESE",
                "id": 135739244,
                "login": "LJFRIESE",
                "node_id": "U_kgDOCBc3bA",
                "organizations_url": "https://api.github.com/users/LJFRIESE/orgs",
                "received_events_url": "https://api.github.com/users/LJFRIESE/received_events",
                "repos_url": "https://api.github.com/users/LJFRIESE/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/LJFRIESE/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/LJFRIESE/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/LJFRIESE",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Nice! At minimum, I hope we can surface this in a more meaningful way, i.e somehow detect the failure, possibly with a special-purpose function that checks various conditions. That will be a big improvement.",
            "created_at": "2025-11-26T20:11:29Z",
            "html_url": "https://github.com/neovim/neovim/issues/35403#issuecomment-3583053470",
            "id": 3583053470,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35403",
            "node_id": "IC_kwDOAPphoM7VkQ6e",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3583053470/reactions"
            },
            "updated_at": "2025-11-26T20:11:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3583053470",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> Nice! At minimum, I hope we can surface this in a more meaningful way, i.e somehow detect the failure, possibly with a special-purpose function that checks various conditions. That will be a big improvement.\n\nI think that checking for the existence of the %USERPROFILE% directory would _probably_ be a pretty good indicator, since logically it should always be there, but if the env var path fails, then clearly something is borked.",
            "created_at": "2025-11-26T20:16:02Z",
            "html_url": "https://github.com/neovim/neovim/issues/35403#issuecomment-3583070952",
            "id": 3583070952,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35403",
            "node_id": "IC_kwDOAPphoM7VkVLo",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3583070952/reactions"
            },
            "updated_at": "2025-11-26T20:16:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3583070952",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/135739244?v=4",
                "events_url": "https://api.github.com/users/LJFRIESE/events{/privacy}",
                "followers_url": "https://api.github.com/users/LJFRIESE/followers",
                "following_url": "https://api.github.com/users/LJFRIESE/following{/other_user}",
                "gists_url": "https://api.github.com/users/LJFRIESE/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/LJFRIESE",
                "id": 135739244,
                "login": "LJFRIESE",
                "node_id": "U_kgDOCBc3bA",
                "organizations_url": "https://api.github.com/users/LJFRIESE/orgs",
                "received_events_url": "https://api.github.com/users/LJFRIESE/received_events",
                "repos_url": "https://api.github.com/users/LJFRIESE/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/LJFRIESE/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/LJFRIESE/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/LJFRIESE",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 16,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/35403/comments",
    "created_at": "2025-08-20T11:38:13Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/35403/events",
    "html_url": "https://github.com/neovim/neovim/issues/35403",
    "id": 3337779497,
    "issue_dependencies_summary": {
        "blocked_by": 0,
        "blocking": 0,
        "total_blocked_by": 0,
        "total_blocking": 0
    },
    "labels": [
        {
            "color": "d4c5f9",
            "default": false,
            "description": null,
            "id": 109461219,
            "name": "platform:windows",
            "node_id": "MDU6TGFiZWwxMDk0NjEyMTk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/platform:windows"
        },
        {
            "color": "c7def8",
            "default": false,
            "description": "user experience",
            "id": 151718455,
            "name": "ux",
            "node_id": "MDU6TGFiZWwxNTE3MTg0NTU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/ux"
        },
        {
            "color": "BFDADC",
            "default": false,
            "description": "Low-risk, self-contained. Do NOT ask \"can I work on this\", just read CONTRIBUTING.md",
            "id": 407246773,
            "name": "complexity:low",
            "node_id": "MDU6TGFiZWw0MDcyNDY3NzM=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/complexity:low"
        },
        {
            "color": "0E8A16",
            "default": false,
            "description": "",
            "id": 606691254,
            "name": "has:plan",
            "node_id": "MDU6TGFiZWw2MDY2OTEyNTQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/has:plan"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "file metadata/attributes, filenames, path manipulation",
            "id": 3386070083,
            "name": "filesystem",
            "node_id": "LA_kwDOAPphoM7J01RD",
            "url": "https://api.github.com/repos/neovim/neovim/labels/filesystem"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/35403/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 756,
        "created_at": "2014-05-10T20:43:04Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "Low priority items. We plan to work on this but don't have a target date.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/6",
        "id": 655037,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lNjU1MDM3",
        "number": 6,
        "open_issues": 641,
        "state": "open",
        "title": "backlog",
        "updated_at": "2025-12-01T18:18:59Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/6"
    },
    "node_id": "I_kwDOAPphoM7G8nkp",
    "number": 35403,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/35403/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/35403/timeline",
    "title": "Windows Server 2025, FSLogix and file access problems.",
    "type": {
        "color": "red",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "An unexpected problem or behavior",
        "id": 597163,
        "is_enabled": true,
        "name": "Bug",
        "node_id": "IT_kwDOAGK_Pc4ACRyr",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-11-26T20:25:45Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/35403",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/101480183?v=4",
        "events_url": "https://api.github.com/users/gitgoggles/events{/privacy}",
        "followers_url": "https://api.github.com/users/gitgoggles/followers",
        "following_url": "https://api.github.com/users/gitgoggles/following{/other_user}",
        "gists_url": "https://api.github.com/users/gitgoggles/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/gitgoggles",
        "id": 101480183,
        "login": "gitgoggles",
        "node_id": "U_kgDOBgx29w",
        "organizations_url": "https://api.github.com/users/gitgoggles/orgs",
        "received_events_url": "https://api.github.com/users/gitgoggles/received_events",
        "repos_url": "https://api.github.com/users/gitgoggles/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/gitgoggles/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/gitgoggles/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/gitgoggles",
        "user_view_type": "public"
    }
}