{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\n# Description\r\n\r\nThis issue originated from the discussion in [this bug report](https://github.com/NeogitOrg/neogit/issues/1124) when using the plugin 'neogit'. However, I believe the root cause to be a bug in neovim itself.\r\n\r\nThe documentation states that `vim.fn.jobstart(cmd)` creates a subprocess with the appended environment variable $NVIM pointing to `v:servername` (the parent nvim instance). As far as I can tell, this works fine on native Linux and macOS. On WSL Distros, the env var appears to be unset:\r\n\r\n# Steps to reproduce\r\n(0. Be on WSL)\r\n\r\n1. Start nvim with minimal config\r\n``` \r\ninit.lua\r\n---\r\nvim.fn.jobstart(\"tail -f /dev/null\")\r\n```\r\n\r\n2. Use a tool like htop to figure out the PID of the child process\r\n\r\n3. Observe environment of the given process\r\n```\r\n$ cat /proc/<PID>/environ | tr '\\0' '\\n'\r\n```\r\n\r\n4. $NVIM is not set\r\n\r\nI can reproduce this with the latest neovim stable and nightly builds. Personally, I use Ubuntu WSL, but my understanding from the comments in the original (neogit) issue is that this happens on several, if not all, WSL distros.\r\n\r\nPlease let me know if I can be of further assistance in debugging this issue!\r\n\r\n\n\n### Steps to reproduce\n\n(0. Be on WSL)\r\n\r\n1. Start nvim with minimal config\r\n``` \r\ninit.lua\r\n---\r\nvim.fn.jobstart(\"tail -f /dev/null\")\r\n```\r\n\r\n2. Use a tool like htop to figure out the PID of the child process\r\n\r\n3. Observe environment of the given process\r\n```\r\n$ cat /proc/<PID>/environ | tr '\\0' '\\n'\r\n```\r\n\r\n4. $NVIM is not set\r\n\r\nI can reproduce this with the latest neovim stable and nightly builds. Personally, I use Ubuntu WSL, but my understanding from the comments in the original (neogit) issue is that this happens on several, if not all, WSL distros.\r\n\r\nPlease let me know if I can be of further assistance in debugging this issue!\r\n\n\n### Expected behavior\n\nI expect $NVIM to be set to `v:servername`\n\n### Neovim version (nvim -v)\n\nNVIM v0.10.0-dev-2663+gc1c6c1ee1\n\n### Vim (not Nvim) behaves the same?\n\n-\n\n### Operating system/version\n\nUbuntu WSL\n\n### Terminal name/version\n\ntmux\n\n### $TERM environment variable\n\nscreen-256color\n\n### Installation\n\n system package manager",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "Quick Update: I can reproduce this at least down to version 0.9.0. I ran into build issues with 0.8.3 and downwards. I won't be able to fix these build issues during the week due to time constraints. Cheers!",
            "created_at": "2024-03-21T09:55:10Z",
            "html_url": "https://github.com/neovim/neovim/issues/27962#issuecomment-2011786869",
            "id": 2011786869,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27962",
            "node_id": "IC_kwDOAPphoM536W51",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2011786869/reactions"
            },
            "updated_at": "2024-03-21T09:55:10Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2011786869",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26822220?v=4",
                "events_url": "https://api.github.com/users/BKDevelop/events{/privacy}",
                "followers_url": "https://api.github.com/users/BKDevelop/followers",
                "following_url": "https://api.github.com/users/BKDevelop/following{/other_user}",
                "gists_url": "https://api.github.com/users/BKDevelop/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/BKDevelop",
                "id": 26822220,
                "login": "BKDevelop",
                "node_id": "MDQ6VXNlcjI2ODIyMjIw",
                "organizations_url": "https://api.github.com/users/BKDevelop/orgs",
                "received_events_url": "https://api.github.com/users/BKDevelop/received_events",
                "repos_url": "https://api.github.com/users/BKDevelop/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/BKDevelop/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/BKDevelop/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/BKDevelop",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I downloaded and tried some of the older precompiled binaries. It is always the same behavior. Could there be an issue with forkpty() on wsl? ðŸ¤”\r\n\r\nEdit:\r\nI wrote a little C program that a creates a subproccess with forkpty() and sets an env var. This works as expected. So I assume the bug is somewhere in neovims codebase.",
            "created_at": "2024-03-21T17:25:10Z",
            "html_url": "https://github.com/neovim/neovim/issues/27962#issuecomment-2013123161",
            "id": 2013123161,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27962",
            "node_id": "IC_kwDOAPphoM53_dJZ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2013123161/reactions"
            },
            "updated_at": "2025-03-19T19:48:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2013123161",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26822220?v=4",
                "events_url": "https://api.github.com/users/BKDevelop/events{/privacy}",
                "followers_url": "https://api.github.com/users/BKDevelop/followers",
                "following_url": "https://api.github.com/users/BKDevelop/following{/other_user}",
                "gists_url": "https://api.github.com/users/BKDevelop/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/BKDevelop",
                "id": 26822220,
                "login": "BKDevelop",
                "node_id": "MDQ6VXNlcjI2ODIyMjIw",
                "organizations_url": "https://api.github.com/users/BKDevelop/orgs",
                "received_events_url": "https://api.github.com/users/BKDevelop/received_events",
                "repos_url": "https://api.github.com/users/BKDevelop/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/BKDevelop/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/BKDevelop/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/BKDevelop",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I tried this again on a different device running latest Windows 11. Everything works fine there.\r\nI confirmed that WSL is running on both devices with latest Distro and Kernel versions, so it seems the issue has something to do with the windows version you run. Unfortunatly I cannot update the Win 10 device (corporate bs) to confirm this.\r\n\r\n@zeertzjq I am not sure if we should close this issue now or if it makes sense to further investigate? ",
            "created_at": "2024-03-26T08:56:15Z",
            "html_url": "https://github.com/neovim/neovim/issues/27962#issuecomment-2019859259",
            "id": 2019859259,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27962",
            "node_id": "IC_kwDOAPphoM54ZJs7",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2019859259/reactions"
            },
            "updated_at": "2024-03-26T08:56:15Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2019859259",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26822220?v=4",
                "events_url": "https://api.github.com/users/BKDevelop/events{/privacy}",
                "followers_url": "https://api.github.com/users/BKDevelop/followers",
                "following_url": "https://api.github.com/users/BKDevelop/following{/other_user}",
                "gists_url": "https://api.github.com/users/BKDevelop/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/BKDevelop",
                "id": 26822220,
                "login": "BKDevelop",
                "node_id": "MDQ6VXNlcjI2ODIyMjIw",
                "organizations_url": "https://api.github.com/users/BKDevelop/orgs",
                "received_events_url": "https://api.github.com/users/BKDevelop/received_events",
                "repos_url": "https://api.github.com/users/BKDevelop/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/BKDevelop/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/BKDevelop/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/BKDevelop",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Technically we only support a subset over windows 10. Check https://github.com/neovim/neovim/blob/master/runtime%2Fdoc%2Fsupport.txt#L23-L25 to confirm which version you're using. ",
            "created_at": "2024-03-26T11:27:58Z",
            "html_url": "https://github.com/neovim/neovim/issues/27962#issuecomment-2020173524",
            "id": 2020173524,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27962",
            "node_id": "IC_kwDOAPphoM54aWbU",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2020173524/reactions"
            },
            "updated_at": "2024-03-26T11:27:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2020173524",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
                "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
                "followers_url": "https://api.github.com/users/dundargoc/followers",
                "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
                "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dundargoc",
                "id": 33953936,
                "login": "dundargoc",
                "node_id": "MDQ6VXNlcjMzOTUzOTM2",
                "organizations_url": "https://api.github.com/users/dundargoc/orgs",
                "received_events_url": "https://api.github.com/users/dundargoc/received_events",
                "repos_url": "https://api.github.com/users/dundargoc/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dundargoc",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I am on Win 10 build version \"19045.4170\", which should be supported. It still is surprising to me that the windows version has an effect on a linux binary running in WSL. I am probably missing something here, but I am out of ideas for reasonable next steps.",
            "created_at": "2024-03-26T13:24:15Z",
            "html_url": "https://github.com/neovim/neovim/issues/27962#issuecomment-2020422652",
            "id": 2020422652,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27962",
            "node_id": "IC_kwDOAPphoM54bTP8",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2020422652/reactions"
            },
            "updated_at": "2024-03-26T13:24:15Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2020422652",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26822220?v=4",
                "events_url": "https://api.github.com/users/BKDevelop/events{/privacy}",
                "followers_url": "https://api.github.com/users/BKDevelop/followers",
                "following_url": "https://api.github.com/users/BKDevelop/following{/other_user}",
                "gists_url": "https://api.github.com/users/BKDevelop/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/BKDevelop",
                "id": 26822220,
                "login": "BKDevelop",
                "node_id": "MDQ6VXNlcjI2ODIyMjIw",
                "organizations_url": "https://api.github.com/users/BKDevelop/orgs",
                "received_events_url": "https://api.github.com/users/BKDevelop/received_events",
                "repos_url": "https://api.github.com/users/BKDevelop/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/BKDevelop/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/BKDevelop/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/BKDevelop",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> It still is surprising to me that the windows version has an effect on a linux binary running in WSL.\n\nFair, just wanted to make sure. ",
            "created_at": "2024-03-26T14:41:57Z",
            "html_url": "https://github.com/neovim/neovim/issues/27962#issuecomment-2020621548",
            "id": 2020621548,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27962",
            "node_id": "IC_kwDOAPphoM54cDzs",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2020621548/reactions"
            },
            "updated_at": "2024-03-26T14:41:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2020621548",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
                "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
                "followers_url": "https://api.github.com/users/dundargoc/followers",
                "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
                "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dundargoc",
                "id": 33953936,
                "login": "dundargoc",
                "node_id": "MDQ6VXNlcjMzOTUzOTM2",
                "organizations_url": "https://api.github.com/users/dundargoc/orgs",
                "received_events_url": "https://api.github.com/users/dundargoc/received_events",
                "repos_url": "https://api.github.com/users/dundargoc/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dundargoc",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I got the same behaviour running on latest Windows 11 and latest nvim, latest WSL2 distro, latest WSL2 kernel. Found this issue through another Neogit issue: https://github.com/NeogitOrg/neogit/issues/1124\r\n\r\nHowever I got it working by turning off my boot systemd in .wslconfig!\r\n```\r\n[boot]\r\nsystemd=false\r\n```\r\nThat's not really a long time solution though since I need systemd ðŸ˜“ ",
            "created_at": "2024-03-27T09:23:36Z",
            "html_url": "https://github.com/neovim/neovim/issues/27962#issuecomment-2022292737",
            "id": 2022292737,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27962",
            "node_id": "IC_kwDOAPphoM54ib0B",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2022292737/reactions"
            },
            "updated_at": "2024-03-27T09:31:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2022292737",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8473233?v=4",
                "events_url": "https://api.github.com/users/Ramilito/events{/privacy}",
                "followers_url": "https://api.github.com/users/Ramilito/followers",
                "following_url": "https://api.github.com/users/Ramilito/following{/other_user}",
                "gists_url": "https://api.github.com/users/Ramilito/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Ramilito",
                "id": 8473233,
                "login": "Ramilito",
                "node_id": "MDQ6VXNlcjg0NzMyMzM=",
                "organizations_url": "https://api.github.com/users/Ramilito/orgs",
                "received_events_url": "https://api.github.com/users/Ramilito/received_events",
                "repos_url": "https://api.github.com/users/Ramilito/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Ramilito/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Ramilito/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Ramilito",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I can confirm that this workaround does work. I agree that this is not a long term solution. My understanding is, that MS is planning to make systemd the default on WSL.",
            "created_at": "2024-03-27T10:49:16Z",
            "html_url": "https://github.com/neovim/neovim/issues/27962#issuecomment-2022459274",
            "id": 2022459274,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27962",
            "node_id": "IC_kwDOAPphoM54jEeK",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2022459274/reactions"
            },
            "updated_at": "2024-03-27T14:22:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2022459274",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26822220?v=4",
                "events_url": "https://api.github.com/users/BKDevelop/events{/privacy}",
                "followers_url": "https://api.github.com/users/BKDevelop/followers",
                "following_url": "https://api.github.com/users/BKDevelop/following{/other_user}",
                "gists_url": "https://api.github.com/users/BKDevelop/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/BKDevelop",
                "id": 26822220,
                "login": "BKDevelop",
                "node_id": "MDQ6VXNlcjI2ODIyMjIw",
                "organizations_url": "https://api.github.com/users/BKDevelop/orgs",
                "received_events_url": "https://api.github.com/users/BKDevelop/received_events",
                "repos_url": "https://api.github.com/users/BKDevelop/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/BKDevelop/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/BKDevelop/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/BKDevelop",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "TLDR:\r\nPermission issue for folder ```/run/user/1000```\r\n\r\nFound a better workaround and more info on what I believe is the actual issue.\r\nAs always, it seems to be a permission issue....running ```sudo -E -s nvim``` works as expected.\r\n\r\nWorkaround 1:\r\n```sudo -E -s nvim```\r\n\r\nWorkaround 2 (preferred, I believe it's totally fine to take ownership of that folder, doesn't change after wsl --shutdown either):\r\n```\r\nsudo chown 1000:1000 /run/user/1000\r\n```\r\n\r\nWhat got me thinking in that direction was when comparing the difference in env vars for the child processes created by Neovim.\r\n```\r\nworking without systemd\r\n    NVIM=/tmp/nvim.ramilito/vgjzTj/nvim.3713.0\r\n\r\nworking with systemd running sudo -E -s nvim:\r\n    NVIM=/run/user/1000//nvim.13916.0\r\n\r\nnot_working with systemd\r\n    DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1000/bus\r\n    XDG_RUNTIME_DIR=/run/user/1000/\r\n```\r\n\r\nThe permissions for /run/user/1000 do require root access as see when running ```ls -la```:\r\n```\r\ndrwx------ 2 root root 4096 Mar 27 22:15 .\r\ndrwxr-xr-x 4 root root 4096 Feb 14 16:49 ..\r\nsrwxr-xr-x 1 root root    0 Mar 27 22:15 nvim.21413.0\r\n```\r\n\r\nFound a issue for WSL here: https://github.com/microsoft/WSL/issues/10498\r\nThis does indeed feel as a WSL issue and not a Neovim issue",
            "created_at": "2024-03-27T21:25:48Z",
            "html_url": "https://github.com/neovim/neovim/issues/27962#issuecomment-2024018548",
            "id": 2024018548,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27962",
            "node_id": "IC_kwDOAPphoM54pBJ0",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 3,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 3,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2024018548/reactions"
            },
            "updated_at": "2024-03-27T21:27:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2024018548",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8473233?v=4",
                "events_url": "https://api.github.com/users/Ramilito/events{/privacy}",
                "followers_url": "https://api.github.com/users/Ramilito/followers",
                "following_url": "https://api.github.com/users/Ramilito/following{/other_user}",
                "gists_url": "https://api.github.com/users/Ramilito/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Ramilito",
                "id": 8473233,
                "login": "Ramilito",
                "node_id": "MDQ6VXNlcjg0NzMyMzM=",
                "organizations_url": "https://api.github.com/users/Ramilito/orgs",
                "received_events_url": "https://api.github.com/users/Ramilito/received_events",
                "repos_url": "https://api.github.com/users/Ramilito/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Ramilito/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Ramilito/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Ramilito",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Permission issue for folder `/run/user/1000`\r\n\r\nDid Nvim log anything in `$NVIM_LOG_FILE` ? We need to handle this case a bit better (e.g. show a more obvious error). https://github.com/neovim/neovim/issues/26058",
            "created_at": "2024-03-28T01:23:13Z",
            "html_url": "https://github.com/neovim/neovim/issues/27962#issuecomment-2024235171",
            "id": 2024235171,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27962",
            "node_id": "IC_kwDOAPphoM54p2Cj",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2024235171/reactions"
            },
            "updated_at": "2024-03-28T01:24:23Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2024235171",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "The logs seem to be pretty good, wish I'd looked there in the beginning ðŸ˜“ :\r\n```\r\nWRN 2024-03-27T22:14:46.817 ?.21077    server_start:163: Failed to start server: permission denied: /run/user/1000//\r\nWRN 2024-03-27T22:14:58.030 ?.21381    server_start:163: Failed to start server: permission denied: /run/user/1000//\r\nWRN 2024-03-27T22:21:37.619 ?.22125    server_start:163: Failed to start server: permission denied: /run/user/1000//\r\nWRN 2024-04-01T10:46:38.755 ?.12916    server_start:163: Failed to start server: permission denied: /run/user/1000//\r\nWRN 2024-04-01T10:46:46.384 ?.13369    server_start:163: Failed to start server: permission denied: /run/user/1000//\r\nWRN 2024-04-01T10:47:39.578 ?.13435    server_start:163: Failed to start server: permission denied: /run/user/1000//\r\nWRN 2024-04-01T10:48:50.429 ?.13549    server_start:163: Failed to start server: permission denied: /run/user/1000//\r\nWRN 2024-04-01T10:48:56.549 ?.13579    server_start:163: Failed to start server: permission denied: /run/user/1000//\r\nWRN 2024-04-01T10:48:59.432 ?.13920    server_start:163: Failed to start server: permission denied: /run/user/1000//\r\nWRN 2024-04-01T10:49:15.539 ?.13978    server_start:163: Failed to start server: permission denied: /run/user/1000//\r\n```",
            "created_at": "2024-04-01T08:51:10Z",
            "html_url": "https://github.com/neovim/neovim/issues/27962#issuecomment-2029427566",
            "id": 2029427566,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27962",
            "node_id": "IC_kwDOAPphoM549ptu",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2029427566/reactions"
            },
            "updated_at": "2024-04-01T08:52:44Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2029427566",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8473233?v=4",
                "events_url": "https://api.github.com/users/Ramilito/events{/privacy}",
                "followers_url": "https://api.github.com/users/Ramilito/followers",
                "following_url": "https://api.github.com/users/Ramilito/following{/other_user}",
                "gists_url": "https://api.github.com/users/Ramilito/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Ramilito",
                "id": 8473233,
                "login": "Ramilito",
                "node_id": "MDQ6VXNlcjg0NzMyMzM=",
                "organizations_url": "https://api.github.com/users/Ramilito/orgs",
                "received_events_url": "https://api.github.com/users/Ramilito/received_events",
                "repos_url": "https://api.github.com/users/Ramilito/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Ramilito/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Ramilito/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Ramilito",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 11,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/27962/comments",
    "created_at": "2024-03-21T09:16:05Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/27962/events",
    "html_url": "https://github.com/neovim/neovim/issues/27962",
    "id": 2199610986,
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "user system environment (terminal, shell, tmux)",
            "id": 147354524,
            "name": "environment",
            "node_id": "MDU6TGFiZWwxNDczNTQ1MjQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/environment"
        },
        {
            "color": "c7def8",
            "default": false,
            "description": "user experience",
            "id": 151718455,
            "name": "ux",
            "node_id": "MDU6TGFiZWwxNTE3MTg0NTU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/ux"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "OS processes, spawn",
            "id": 182884815,
            "name": "job-control",
            "node_id": "MDU6TGFiZWwxODI4ODQ4MTU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/job-control"
        },
        {
            "color": "BFDADC",
            "default": false,
            "description": "Low-risk, self-contained. Do NOT ask \"can I work on this\", just read CONTRIBUTING.md",
            "id": 407246773,
            "name": "complexity:low",
            "node_id": "MDU6TGFiZWw0MDcyNDY3NzM=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/complexity:low"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "file metadata/attributes, filenames, path manipulation",
            "id": 3386070083,
            "name": "filesystem",
            "node_id": "LA_kwDOAPphoM7J01RD",
            "url": "https://api.github.com/repos/neovim/neovim/labels/filesystem"
        },
        {
            "color": "D4C5F9",
            "default": false,
            "description": "",
            "id": 5697445672,
            "name": "platform:wsl",
            "node_id": "LA_kwDOAPphoM8AAAABU5gfKA",
            "url": "https://api.github.com/repos/neovim/neovim/labels/platform:wsl"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/27962/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 726,
        "created_at": "2014-05-10T20:43:04Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "Low priority items. We plan to work on this but don't have a target date.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/6",
        "id": 655037,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lNjU1MDM3",
        "number": 6,
        "open_issues": 630,
        "state": "open",
        "title": "backlog",
        "updated_at": "2025-07-07T03:51:31Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/6"
    },
    "node_id": "I_kwDOAPphoM6DG2Zq",
    "number": 27962,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/27962/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/27962/timeline",
    "title": "jobstart() does not set $NVIM environment variable if /run/user/1000 is not accessible",
    "type": {
        "color": "blue",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "A request, idea, or new functionality",
        "id": 597167,
        "is_enabled": true,
        "name": "Enhancement",
        "node_id": "IT_kwDOAGK_Pc4ACRyv",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-07-02T08:58:46Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/27962",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/26822220?v=4",
        "events_url": "https://api.github.com/users/BKDevelop/events{/privacy}",
        "followers_url": "https://api.github.com/users/BKDevelop/followers",
        "following_url": "https://api.github.com/users/BKDevelop/following{/other_user}",
        "gists_url": "https://api.github.com/users/BKDevelop/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/BKDevelop",
        "id": 26822220,
        "login": "BKDevelop",
        "node_id": "MDQ6VXNlcjI2ODIyMjIw",
        "organizations_url": "https://api.github.com/users/BKDevelop/orgs",
        "received_events_url": "https://api.github.com/users/BKDevelop/received_events",
        "repos_url": "https://api.github.com/users/BKDevelop/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/BKDevelop/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/BKDevelop/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/BKDevelop",
        "user_view_type": "public"
    }
}