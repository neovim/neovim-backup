{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "continued from #8587 as requested by @justinmk ...\n\n# Problem\n\nhang/delay on exit (on Windows), bisected to https://github.com/neovim/neovim/commit/b360c0608556232c8ddb7ecc9cd26e68584bee76\n\n\n<details>\n<summary>old details</summary>\n\n\nHere are the original comments for context:\n\n> FYI I am on newest nightly (as of this morning) and over the last couple weeks I have noticed new \"bad behavior\" on exit of neovim ~~that is related to this shada issue (but I cannot surely tie it to shada, unlike above comments)~~.\n> \n> Primarily it happens when I have a few buffers open and after 10 minutes+ of neovim usage (does not seem to happen if opening and closing neovim \"quickly\"). I typically use `:qa` to close neovim so this is when it is happening.\n> \n> I am getting similar behavior as the Windows shada issues above except for it completely freezes/\"crashes\" my terminal on exit, unlike the shada issue above where it creates tmp shada file and keeps my terminal \"painted\" with whatever the last \"screen\" was in Neovim and I have to do a \"clear\" in my terminal to clear it... this \"new\" issue I am experiencing seems like a straight crash because the last neovim screen is still painted as above, but my terminal hangs/freezes so I cannot do \"clear\" or anything and have to close my terminal tab and re-open.\n>\n> I do not know the exact Nightly build that this started happening as I do not update nightly every day (every week or two maybe) but I do know this behavior started in the last month or so. \n\n _Originally posted by @GitMurf in [#8587](https://github.com/neovim/neovim/issues/8587#issuecomment-2701340959)_\n\n> RE: https://github.com/neovim/neovim/issues/8587#issuecomment-2701340959 (above a couple comments)\n> \n> @justinmk I have done a fairly extensive attempt at a git bisect of building Neovim-nightly (not easy as this requires using Neovim a bit to cause the hang on exit) and I have determined that the issue described above seems to start at this commit: 4c2d14a\n> \n> I have confirmed several times that going to the commit just before it (ae2fd91) does not encounter this issue... and when I again flip back to 4c2d14a I experience the issue again. Have tried this cycle several times.\n> \n> To add to my more detailed description above (https://github.com/neovim/neovim/issues/8587#issuecomment-2701340959), it seems that it does not necessarily \"fully\" freeze/crash every time on exit, but depending on the scenario/situation, if you leave the terminal open for long enough, it often eventually fully exits and gives you back control of your terminal (clears the nvim painted last screen). I have watched it for 15 minutes and still had it \"froze\", but then left it over night and by the morning it had properly exited and the terminal screen \"re-painted\" outside of nvim.\n> \n> I am less confident now that this relates to the same Shada issues as above (similar symptoms but I do not think this is necessarily related to Shada anymore), but it is very similar.\n\n _Originally posted by @GitMurf in [#8587](https://github.com/neovim/neovim/issues/8587#issuecomment-2742671422)_\n\n> Let's discuss that in a new issue, with repro steps. Can't see how a treesitter bump relates to this issue. \n\n _Originally posted by @justinmk in [#8587](https://github.com/neovim/neovim/issues/8587#issuecomment-2742814417)_\n\n</details>\n",
    "closed_at": "2025-03-25T14:14:31Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
        "events_url": "https://api.github.com/users/clason/events{/privacy}",
        "followers_url": "https://api.github.com/users/clason/followers",
        "following_url": "https://api.github.com/users/clason/following{/other_user}",
        "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/clason",
        "id": 2361214,
        "login": "clason",
        "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
        "organizations_url": "https://api.github.com/users/clason/orgs",
        "received_events_url": "https://api.github.com/users/clason/received_events",
        "repos_url": "https://api.github.com/users/clason/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/clason",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "**TLDR:** As described in detail below, it appears the **actual culprit of the freezing is likely b360c06** and is NOT commit 4c2d14a as initially hypothesized in previous comments (above).\n\n## Detailed Explanation\n\nOk, an update on the `git bisect` to determine the exact culprit. Either I was mistaken (git skill issue), or there were some past git rebase/merge issues that made the commit history look more linear (and confusing) than it was at the time of the issue.\n\nWhat I mean by that is you can see below that the commit ae2fd91 (item 2 in screenshot) appears to be the immediate commit before one of the offending (freezing) commits 4c2d14a (item 1 in screenshot). Since the commit ae2fd91 does NOT have the freezing issue, but the commit 4c2d14a does cause the freeze, I presumed this meant this was the specific offending commit for the issue.\n\n![Image](https://github.com/user-attachments/assets/91d10fd6-ed3e-4c23-a473-5969ec66e6cc)\n\nBUT, here is the actual `git log` (screenshot below) for the commit 4c2d14a which you can see the commit ae2fd91 is NOT present. Item 2 from our screenshot above is missing in the `git log`. So after troubleshooting each of those commits in the `git log` below, it appears the ACTUAL \"first\" offending commit is b360c06 (item 3 in screenshot), as I tested the commit immediately before it (bd0a65b > item 4 in screenshot) and the freezing is NOT present.\n\n![Image](https://github.com/user-attachments/assets/a1534dd8-b7e7-46a7-80cc-76f57b02e996)\n\nAdditionally, the message for the commit b360c06 sounds very much related to the issue at hand: `eliminate special case in on_proc_exit()`\n\nLet me know if you have any questions!",
            "created_at": "2025-03-21T17:05:39Z",
            "html_url": "https://github.com/neovim/neovim/issues/33019#issuecomment-2743959866",
            "id": 2743959866,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33019",
            "node_id": "IC_kwDOAPphoM6jjYE6",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2743959866/reactions"
            },
            "updated_at": "2025-03-21T17:07:10Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2743959866",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/64155612?v=4",
                "events_url": "https://api.github.com/users/GitMurf/events{/privacy}",
                "followers_url": "https://api.github.com/users/GitMurf/followers",
                "following_url": "https://api.github.com/users/GitMurf/following{/other_user}",
                "gists_url": "https://api.github.com/users/GitMurf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/GitMurf",
                "id": 64155612,
                "login": "GitMurf",
                "node_id": "MDQ6VXNlcjY0MTU1NjEy",
                "organizations_url": "https://api.github.com/users/GitMurf/orgs",
                "received_events_url": "https://api.github.com/users/GitMurf/received_events",
                "repos_url": "https://api.github.com/users/GitMurf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/GitMurf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GitMurf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/GitMurf",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Ok, great, it's useful that you can repro this issue. That means you can play around with `rpc_close` to narrow down the actual cause (or indirect cause) of the hang.\n\nCan you try making small changes to `rpc_close`, to see what \"fixes\" the issue:\n\n- change `exit_on_closed_chan(channel->exit_status == -1 ? 0 : channel->exit_status);` to `exit_on_closed_chan(0)`\n- remove the `if (!channel->detach) {` condition\n- restore the code that was removed from `src/nvim/event/proc.c`\n\nwhich of those 3 changes \"fixes\" the issue?",
            "created_at": "2025-03-22T14:50:30Z",
            "html_url": "https://github.com/neovim/neovim/issues/33019#issuecomment-2745306389",
            "id": 2745306389,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33019",
            "node_id": "IC_kwDOAPphoM6jog0V",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2745306389/reactions"
            },
            "updated_at": "2025-03-22T14:52:15Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2745306389",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> which of those 3 changes \"fixes\" the issue?\n\nNieces birthday this weekend so probably won't be able to get to this until Sunday night or Monday. \n\nBut a minor update, to confirm, yesterday I reverted this commit and rebased on top of master (newest as of yesterday morning) and used it all day and no issues. So definitely the culprit is this commit and seemingly this commit only.\n\nI will try your steps listed above to see what fixes it outside of the total revert.",
            "created_at": "2025-03-22T15:43:36Z",
            "html_url": "https://github.com/neovim/neovim/issues/33019#issuecomment-2745326245",
            "id": 2745326245,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33019",
            "node_id": "IC_kwDOAPphoM6jolql",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2745326245/reactions"
            },
            "updated_at": "2025-03-24T17:29:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2745326245",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/64155612?v=4",
                "events_url": "https://api.github.com/users/GitMurf/events{/privacy}",
                "followers_url": "https://api.github.com/users/GitMurf/followers",
                "following_url": "https://api.github.com/users/GitMurf/following{/other_user}",
                "gists_url": "https://api.github.com/users/GitMurf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/GitMurf",
                "id": 64155612,
                "login": "GitMurf",
                "node_id": "MDQ6VXNlcjY0MTU1NjEy",
                "organizations_url": "https://api.github.com/users/GitMurf/orgs",
                "received_events_url": "https://api.github.com/users/GitMurf/received_events",
                "repos_url": "https://api.github.com/users/GitMurf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/GitMurf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GitMurf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/GitMurf",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "No rush, I appreciate the help!",
            "created_at": "2025-03-22T15:51:12Z",
            "html_url": "https://github.com/neovim/neovim/issues/33019#issuecomment-2745329124",
            "id": 2745329124,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33019",
            "node_id": "IC_kwDOAPphoM6jomXk",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2745329124/reactions"
            },
            "updated_at": "2025-03-24T17:29:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2745329124",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "@justinmk just to clarify, do you want me to try each of those 3 changes independently of each other? \n\nIf the first change fixes it, do I still try 2 and 3?\n\nIf 1 fails, do I leave it and then apply 2? Or should these changes be mutually exclusive?\n\nAnything else to keep in mind?\n\nThanks!",
            "created_at": "2025-03-22T18:09:11Z",
            "html_url": "https://github.com/neovim/neovim/issues/33019#issuecomment-2745392714",
            "id": 2745392714,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33019",
            "node_id": "IC_kwDOAPphoM6jo15K",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2745392714/reactions"
            },
            "updated_at": "2025-03-23T23:20:34Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2745392714",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/64155612?v=4",
                "events_url": "https://api.github.com/users/GitMurf/events{/privacy}",
                "followers_url": "https://api.github.com/users/GitMurf/followers",
                "following_url": "https://api.github.com/users/GitMurf/following{/other_user}",
                "gists_url": "https://api.github.com/users/GitMurf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/GitMurf",
                "id": 64155612,
                "login": "GitMurf",
                "node_id": "MDQ6VXNlcjY0MTU1NjEy",
                "organizations_url": "https://api.github.com/users/GitMurf/orgs",
                "received_events_url": "https://api.github.com/users/GitMurf/received_events",
                "repos_url": "https://api.github.com/users/GitMurf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/GitMurf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GitMurf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/GitMurf",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@GitMurf Did you find a repeatable way to make this always happen? I ask because this Friday, when I  closed my neovim instances for the week, I had this happen for 2 of the 4 neovim instances that I closed. I am curious why it only happened for those two. I used :qa for all of them, and they had all been open for a couple days prior.",
            "created_at": "2025-03-22T20:03:03Z",
            "html_url": "https://github.com/neovim/neovim/issues/33019#issuecomment-2745515415",
            "id": 2745515415,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33019",
            "node_id": "IC_kwDOAPphoM6jpT2X",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2745515415/reactions"
            },
            "updated_at": "2025-03-22T20:03:03Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2745515415",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/51029315?v=4",
                "events_url": "https://api.github.com/users/crwebb85/events{/privacy}",
                "followers_url": "https://api.github.com/users/crwebb85/followers",
                "following_url": "https://api.github.com/users/crwebb85/following{/other_user}",
                "gists_url": "https://api.github.com/users/crwebb85/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/crwebb85",
                "id": 51029315,
                "login": "crwebb85",
                "node_id": "MDQ6VXNlcjUxMDI5MzE1",
                "organizations_url": "https://api.github.com/users/crwebb85/orgs",
                "received_events_url": "https://api.github.com/users/crwebb85/received_events",
                "repos_url": "https://api.github.com/users/crwebb85/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/crwebb85/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/crwebb85/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/crwebb85",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> @GitMurf Did you find a repeatable way to make this always happen? I ask because this Friday, when I  closed my neovim instances for the week, I had this happen for 2 of the 4 neovim instances that I closed. I am curious why it only happened for those two. I used :qa for all of them, and they had all been open for a couple days prior.\n\nNo I tried and tried to figure out a reliable repro, but it seemed to be a combo of stuff. Usually several buffers open across several tabs and window splits. But it seemed like had to work in it a bit before the crash would happen. I use typescript mostly and copilot so could be combo of node processes starting with LSP and copilot etc. But no way to reliably reproduce. ",
            "created_at": "2025-03-22T20:32:44Z",
            "html_url": "https://github.com/neovim/neovim/issues/33019#issuecomment-2745611130",
            "id": 2745611130,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33019",
            "node_id": "IC_kwDOAPphoM6jprN6",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2745611130/reactions"
            },
            "updated_at": "2025-03-23T23:20:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2745611130",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/64155612?v=4",
                "events_url": "https://api.github.com/users/GitMurf/events{/privacy}",
                "followers_url": "https://api.github.com/users/GitMurf/followers",
                "following_url": "https://api.github.com/users/GitMurf/following{/other_user}",
                "gists_url": "https://api.github.com/users/GitMurf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/GitMurf",
                "id": 64155612,
                "login": "GitMurf",
                "node_id": "MDQ6VXNlcjY0MTU1NjEy",
                "organizations_url": "https://api.github.com/users/GitMurf/orgs",
                "received_events_url": "https://api.github.com/users/GitMurf/received_events",
                "repos_url": "https://api.github.com/users/GitMurf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/GitMurf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GitMurf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/GitMurf",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> ... play around with `rpc_close` to narrow down the actual cause (or indirect cause) of the hang.\n> \n> Can you try making small changes to `rpc_close`, to see what \"fixes\" the issue:\n> \n> - change `exit_on_closed_chan(channel->exit_status == -1 ? 0 : channel->exit_status);` to `exit_on_closed_chan(0)`\n\n## Suggestion 1 Attempt\n\nConfirmed the fix suggestion 1 did NOT fix the problem.\n\nMoving on to suggestion 2: `remove the if (!channel->detach) { condition` ...\n\nI will post an update when I have feedback on this item after testing.",
            "created_at": "2025-03-23T21:05:20Z",
            "html_url": "https://github.com/neovim/neovim/issues/33019#issuecomment-2746466730",
            "id": 2746466730,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33019",
            "node_id": "IC_kwDOAPphoM6js8Gq",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2746466730/reactions"
            },
            "updated_at": "2025-03-23T23:20:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2746466730",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/64155612?v=4",
                "events_url": "https://api.github.com/users/GitMurf/events{/privacy}",
                "followers_url": "https://api.github.com/users/GitMurf/followers",
                "following_url": "https://api.github.com/users/GitMurf/following{/other_user}",
                "gists_url": "https://api.github.com/users/GitMurf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/GitMurf",
                "id": 64155612,
                "login": "GitMurf",
                "node_id": "MDQ6VXNlcjY0MTU1NjEy",
                "organizations_url": "https://api.github.com/users/GitMurf/orgs",
                "received_events_url": "https://api.github.com/users/GitMurf/received_events",
                "repos_url": "https://api.github.com/users/GitMurf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/GitMurf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GitMurf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/GitMurf",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> ... play around with `rpc_close` to narrow down the actual cause (or indirect cause) of the hang.\n> \n> Can you try making small changes to `rpc_close`, to see what \"fixes\" the issue:\n> \n> - remove the `if (!channel->detach) {` condition\n\n**UPDATE 1** -> TLDR: See second test below... this MIGHT have fixed it but I need to test for a couple hours of real coding (doing right now) to ensure it does not freeze on exit.\n\n**UPDATE 2** -> Nevermind! 😢 Neither of these worked... now will move on to testing suggestion 3: `restore the code that was removed from \"src/nvim/event/proc.c\"` (will update in a new comment below)\n\n## Suggestion 2 Attempt\n\nI wasn't sure if you wanted to also combine this with the suggestion 1, so I tried both.\n\n### First test, NOT including suggestion 1\n\n**This did NOT fix the issue**\n\nHere is the diff patch so you see exactly what I did.\n\n```diff\ndiff --git a/src/nvim/msgpack_rpc/channel.c b/src/nvim/msgpack_rpc/channel.c\nindex edc4442785..deb374b9a9 100644\n--- a/src/nvim/msgpack_rpc/channel.c\n+++ b/src/nvim/msgpack_rpc/channel.c\n@@ -503,9 +503,9 @@ static void rpc_close_event(void **argv)\n       remote_ui_disconnect(channel->id);\n     }\n \n-    if (!channel->detach) {\n+    // if (!channel->detach) {\n       exit_on_closed_chan(channel->exit_status == -1 ? 0 : channel->exit_status);\n-    }\n+    // }\n   }\n }\n```\n\n### Second test, which includes suggestion 1\n\n~~**This MIGHT be the solution...** need to test for a bit with some real coding to make sure no freezing on exit...~~\nAfter testing a bit, this also failed...\n\n```diff\ndiff --git a/src/nvim/msgpack_rpc/channel.c b/src/nvim/msgpack_rpc/channel.c\nindex edc4442785..383e512e5d 100644\n--- a/src/nvim/msgpack_rpc/channel.c\n+++ b/src/nvim/msgpack_rpc/channel.c\n@@ -503,9 +503,10 @@ static void rpc_close_event(void **argv)\n       remote_ui_disconnect(channel->id);\n     }\n \n-    if (!channel->detach) {\n-      exit_on_closed_chan(channel->exit_status == -1 ? 0 : channel->exit_status);\n-    }\n+    // if (!channel->detach) {\n+      // exit_on_closed_chan(channel->exit_status == -1 ? 0 : channel->exit_status);\n+      exit_on_closed_chan(0);\n+    // }\n   }\n }\n```",
            "created_at": "2025-03-23T21:44:25Z",
            "html_url": "https://github.com/neovim/neovim/issues/33019#issuecomment-2746481331",
            "id": 2746481331,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33019",
            "node_id": "IC_kwDOAPphoM6js_qz",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2746481331/reactions"
            },
            "updated_at": "2025-03-23T23:20:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2746481331",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/64155612?v=4",
                "events_url": "https://api.github.com/users/GitMurf/events{/privacy}",
                "followers_url": "https://api.github.com/users/GitMurf/followers",
                "following_url": "https://api.github.com/users/GitMurf/following{/other_user}",
                "gists_url": "https://api.github.com/users/GitMurf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/GitMurf",
                "id": 64155612,
                "login": "GitMurf",
                "node_id": "MDQ6VXNlcjY0MTU1NjEy",
                "organizations_url": "https://api.github.com/users/GitMurf/orgs",
                "received_events_url": "https://api.github.com/users/GitMurf/received_events",
                "repos_url": "https://api.github.com/users/GitMurf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/GitMurf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GitMurf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/GitMurf",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> **UPDATE 2** -> Nevermind! 😢 Neither of these worked... now will move on to testing suggestion 3: `restore the code that was removed from \"src/nvim/event/proc.c\"` (will update in a new comment below)\n\nCurrently in my testing so far, **this looks promising for fixing the freeze on exit issue**. But I will continue to do some real work over the next couple hours and if no freezes happen, this could potentially be the solution. Of course need to use Neovim for a couple days to really gain confidence whether this is the solution... but we can cross that bridge when we get there (just wanted to document my testing and give folks updates as I have them).\n\n## Suggestion 3 Attempt\n\n`restore the code that was removed from \"src/nvim/event/proc.c\"`\n\nThis does NOT include any of the changes from Suggestion 1 or 2 (see previous comments).\n\nPatch applied:\n\n```diff\ndiff --git a/src/nvim/event/proc.c b/src/nvim/event/proc.c\nindex 1a5e01eb9d..e32bbbc29a 100644\n--- a/src/nvim/event/proc.c\n+++ b/src/nvim/event/proc.c\n@@ -437,6 +437,11 @@ static void on_proc_exit(Proc *proc)\n   Loop *loop = proc->loop;\n   ILOG(\"child exited: pid=%d status=%d\" PRIu64, proc->pid, proc->status);\n \n+  // XXX: This assumes the TUI never spawns any other processes...?\n+  if (ui_client_channel_id) {\n+    exit_on_closed_chan(proc->status);\n+  }\n+\n   // Process has terminated, but there could still be data to be read from the\n   // OS. We are still in the libuv loop, so we cannot call code that polls for\n   // more data directly. Instead delay the reading after the libuv loop by\n```",
            "created_at": "2025-03-23T22:41:30Z",
            "html_url": "https://github.com/neovim/neovim/issues/33019#issuecomment-2746519315",
            "id": 2746519315,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33019",
            "node_id": "IC_kwDOAPphoM6jtI8T",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 1,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2746519315/reactions"
            },
            "updated_at": "2025-03-23T22:43:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2746519315",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/64155612?v=4",
                "events_url": "https://api.github.com/users/GitMurf/events{/privacy}",
                "followers_url": "https://api.github.com/users/GitMurf/followers",
                "following_url": "https://api.github.com/users/GitMurf/following{/other_user}",
                "gists_url": "https://api.github.com/users/GitMurf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/GitMurf",
                "id": 64155612,
                "login": "GitMurf",
                "node_id": "MDQ6VXNlcjY0MTU1NjEy",
                "organizations_url": "https://api.github.com/users/GitMurf/orgs",
                "received_events_url": "https://api.github.com/users/GitMurf/received_events",
                "repos_url": "https://api.github.com/users/GitMurf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/GitMurf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GitMurf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/GitMurf",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Thanks, that is what I expected. This means that sometimes `rpc_close` isn't called. \n\nI'll restore that code for now, in some fashion.",
            "created_at": "2025-03-23T23:21:44Z",
            "html_url": "https://github.com/neovim/neovim/issues/33019#issuecomment-2746543772",
            "id": 2746543772,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33019",
            "node_id": "IC_kwDOAPphoM6jtO6c",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 2,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2746543772/reactions"
            },
            "updated_at": "2025-03-24T11:43:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2746543772",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> Thanks, that is what I expected. I'll restore that code for now, in some fashion.\n\n@justinmk fyi I can confirm after several hours of usage, still no freeze and this definitely would have frozen previously so I feel pretty confident that indeed your suggestion 3 (`restore the code that was removed from \"src/nvim/event/proc.c\"`) was the solution 👍\n\nIf there is any other testing you need from me, let me know!",
            "created_at": "2025-03-24T03:40:52Z",
            "html_url": "https://github.com/neovim/neovim/issues/33019#issuecomment-2746801909",
            "id": 2746801909,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33019",
            "node_id": "IC_kwDOAPphoM6juN71",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2746801909/reactions"
            },
            "updated_at": "2025-03-24T03:40:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2746801909",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/64155612?v=4",
                "events_url": "https://api.github.com/users/GitMurf/events{/privacy}",
                "followers_url": "https://api.github.com/users/GitMurf/followers",
                "following_url": "https://api.github.com/users/GitMurf/following{/other_user}",
                "gists_url": "https://api.github.com/users/GitMurf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/GitMurf",
                "id": 64155612,
                "login": "GitMurf",
                "node_id": "MDQ6VXNlcjY0MTU1NjEy",
                "organizations_url": "https://api.github.com/users/GitMurf/orgs",
                "received_events_url": "https://api.github.com/users/GitMurf/received_events",
                "repos_url": "https://api.github.com/users/GitMurf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/GitMurf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GitMurf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/GitMurf",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> it completely freezes/\"crashes\" my terminal on exit\n\n@GitMurf when the \"freeze\" occurs: can you confirm if only the UI process (the parent `nvim`) is still running or if _both_ the UI and server (the `nvim --embed` \"child\") are running.\n\nCan you try latest HEAD, which includes https://github.com/neovim/neovim/commit/e73a3f1edc3ea9fe990a58f4269269c2d51fcff8 . (Details: I'm wondering if the `frame->errored = true` set by `chan_close_on_err` indirectly affects whether `rpc_close` gets called; if so, then the redundant `channel_close` call that was removed by e73a3f1edc3ea9fe990a58f4269269c2d51fcff8 could have been the cause of your issue.)\n\nIf that doesn't work, then I'll merge #33045 which restores the workaround code (for Windows only).",
            "created_at": "2025-03-24T17:28:53Z",
            "html_url": "https://github.com/neovim/neovim/issues/33019#issuecomment-2748892773",
            "id": 2748892773,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33019",
            "node_id": "IC_kwDOAPphoM6j2MZl",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2748892773/reactions"
            },
            "updated_at": "2025-03-24T17:28:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2748892773",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "@justinmk happy to test. Keep in mind the tricky part is the freeze is not always reproducible immediately and have to play around in neovim and actually do some \"real stuff\" to trigger whatever it is that it triggers to freeze up on exit. I have start to gain a bit of a \"feeling\" of the issue even when it doesn't freeze completely where I get a better hunch after a quick test but this is why above I commented that something might have worked (to later update that it failed... or vice versa).\n\nAnother key point to remember is that it seems like actually EVENTUALLY the freeze recovers and finishes as I mentioned earlier that if I leave a frozen terminal open over night, by the morning it typically is exited properly and unfrozen and back to my normal terminal prompt. There is a range of this too as sometimes there is a freeze that lasts just like 60 seconds and then will \"finish\" and resolve fine.\n\nJust adding these 2 cents in here if maybe it helps trigger some ideas or thoughts on your side of what may be happening as you understand the full lifecycle better than anyone :-)",
            "created_at": "2025-03-24T17:38:27Z",
            "html_url": "https://github.com/neovim/neovim/issues/33019#issuecomment-2748926362",
            "id": 2748926362,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33019",
            "node_id": "IC_kwDOAPphoM6j2Uma",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2748926362/reactions"
            },
            "updated_at": "2025-03-24T17:38:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2748926362",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/64155612?v=4",
                "events_url": "https://api.github.com/users/GitMurf/events{/privacy}",
                "followers_url": "https://api.github.com/users/GitMurf/followers",
                "following_url": "https://api.github.com/users/GitMurf/following{/other_user}",
                "gists_url": "https://api.github.com/users/GitMurf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/GitMurf",
                "id": 64155612,
                "login": "GitMurf",
                "node_id": "MDQ6VXNlcjY0MTU1NjEy",
                "organizations_url": "https://api.github.com/users/GitMurf/orgs",
                "received_events_url": "https://api.github.com/users/GitMurf/received_events",
                "repos_url": "https://api.github.com/users/GitMurf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/GitMurf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GitMurf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/GitMurf",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> Can you try latest HEAD, which includes [e73a3f1](https://github.com/neovim/neovim/commit/e73a3f1edc3ea9fe990a58f4269269c2d51fcff8) .\n\nI will try this now...\n\nJust to confirm, you just want me to build from `master` at latest commit which is: `76eca62137 (HEAD -> master, origin/master, origin/HEAD) Merge #33043 redundar channel_close()`?",
            "created_at": "2025-03-24T17:40:54Z",
            "html_url": "https://github.com/neovim/neovim/issues/33019#issuecomment-2748936452",
            "id": 2748936452,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33019",
            "node_id": "IC_kwDOAPphoM6j2XEE",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2748936452/reactions"
            },
            "updated_at": "2025-03-24T17:50:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2748936452",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/64155612?v=4",
                "events_url": "https://api.github.com/users/GitMurf/events{/privacy}",
                "followers_url": "https://api.github.com/users/GitMurf/followers",
                "following_url": "https://api.github.com/users/GitMurf/following{/other_user}",
                "gists_url": "https://api.github.com/users/GitMurf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/GitMurf",
                "id": 64155612,
                "login": "GitMurf",
                "node_id": "MDQ6VXNlcjY0MTU1NjEy",
                "organizations_url": "https://api.github.com/users/GitMurf/orgs",
                "received_events_url": "https://api.github.com/users/GitMurf/received_events",
                "repos_url": "https://api.github.com/users/GitMurf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/GitMurf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GitMurf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/GitMurf",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Just to confirm, you just want me to build from `master` at latest commit\n\nLatest master, yes.\n\n> it seems like actually EVENTUALLY the freeze recovers and finishes\n\nYeah, that's typical behavior when either an event isn't scheduled at the right time or the event loop isn't processing the queue (then some later activity flushes it).",
            "created_at": "2025-03-24T17:50:08Z",
            "html_url": "https://github.com/neovim/neovim/issues/33019#issuecomment-2748961613",
            "id": 2748961613,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33019",
            "node_id": "IC_kwDOAPphoM6j2dNN",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2748961613/reactions"
            },
            "updated_at": "2025-03-25T11:28:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2748961613",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> ...when the \"freeze\" occurs: can you confirm if only the UI process (the parent nvim) is still running or if both the UI and server (the nvim --embed \"child\") are running.\n\n@justinmk I can confirm the `nvim.exe --embed` process closes immediately and the regular `nvim.exe` process is the one that stays open while it is frozen.\n\nLet me know if you have any other questions or things for me to try?",
            "created_at": "2025-03-24T22:16:51Z",
            "html_url": "https://github.com/neovim/neovim/issues/33019#issuecomment-2749523625",
            "id": 2749523625,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33019",
            "node_id": "IC_kwDOAPphoM6j4map",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2749523625/reactions"
            },
            "updated_at": "2025-03-24T22:16:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2749523625",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/64155612?v=4",
                "events_url": "https://api.github.com/users/GitMurf/events{/privacy}",
                "followers_url": "https://api.github.com/users/GitMurf/followers",
                "following_url": "https://api.github.com/users/GitMurf/following{/other_user}",
                "gists_url": "https://api.github.com/users/GitMurf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/GitMurf",
                "id": 64155612,
                "login": "GitMurf",
                "node_id": "MDQ6VXNlcjY0MTU1NjEy",
                "organizations_url": "https://api.github.com/users/GitMurf/orgs",
                "received_events_url": "https://api.github.com/users/GitMurf/received_events",
                "repos_url": "https://api.github.com/users/GitMurf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/GitMurf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GitMurf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/GitMurf",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Ok, only remaining things for now: is the issue present on latest master? If so, I'll merge https://github.com/neovim/neovim/pull/33045",
            "created_at": "2025-03-25T11:30:11Z",
            "html_url": "https://github.com/neovim/neovim/issues/33019#issuecomment-2750955120",
            "id": 2750955120,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33019",
            "node_id": "IC_kwDOAPphoM6j-D5w",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2750955120/reactions"
            },
            "updated_at": "2025-03-25T11:30:11Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2750955120",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> Ok, only remaining things for now: is the issue present on latest master? If so, I'll merge https://github.com/neovim/neovim/pull/33045\n\nNothing has changed since I tested the two processes right? If so, latest master is still freezing as I did the test with latest master yesterday.",
            "created_at": "2025-03-25T13:52:09Z",
            "html_url": "https://github.com/neovim/neovim/issues/33019#issuecomment-2751338709",
            "id": 2751338709,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33019",
            "node_id": "IC_kwDOAPphoM6j_hjV",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2751338709/reactions"
            },
            "updated_at": "2025-03-25T13:52:09Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2751338709",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/64155612?v=4",
                "events_url": "https://api.github.com/users/GitMurf/events{/privacy}",
                "followers_url": "https://api.github.com/users/GitMurf/followers",
                "following_url": "https://api.github.com/users/GitMurf/following{/other_user}",
                "gists_url": "https://api.github.com/users/GitMurf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/GitMurf",
                "id": 64155612,
                "login": "GitMurf",
                "node_id": "MDQ6VXNlcjY0MTU1NjEy",
                "organizations_url": "https://api.github.com/users/GitMurf/orgs",
                "received_events_url": "https://api.github.com/users/GitMurf/received_events",
                "repos_url": "https://api.github.com/users/GitMurf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/GitMurf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GitMurf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/GitMurf",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Are you 100% certain you have tested with https://github.com/neovim/neovim/commit/76eca621374b7d19604c820d8ebaefb184de1fc9?\n (If in doubt, please pull, build, and test again -- this is the only blocker for releasing Nvim 0.11.)",
            "created_at": "2025-03-25T13:55:11Z",
            "html_url": "https://github.com/neovim/neovim/issues/33019#issuecomment-2751348206",
            "id": 2751348206,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33019",
            "node_id": "IC_kwDOAPphoM6j_j3u",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2751348206/reactions"
            },
            "updated_at": "2025-03-25T13:55:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2751348206",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> Are you 100% certain you have tested with https://github.com/neovim/neovim/commit/76eca621374b7d19604c820d8ebaefb184de1fc9?\n>  (If in doubt, please pull, build, and test again -- this is the only blocker for releasing Nvim 0.11.)\n\n@clason see here (comment is collapsed): https://github.com/neovim/neovim/issues/33019#issuecomment-2748936452\n\nThis is what I tested from. ~~But I'll do it again just to make sure. It just can take a little time of real usage to trigger the right state that creates the issue (or at least makes it clear) so I'll confirm in a couple hours.~~",
            "created_at": "2025-03-25T14:12:28Z",
            "html_url": "https://github.com/neovim/neovim/issues/33019#issuecomment-2751403745",
            "id": 2751403745,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33019",
            "node_id": "IC_kwDOAPphoM6j_xbh",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2751403745/reactions"
            },
            "updated_at": "2025-03-25T14:19:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2751403745",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/64155612?v=4",
                "events_url": "https://api.github.com/users/GitMurf/events{/privacy}",
                "followers_url": "https://api.github.com/users/GitMurf/followers",
                "following_url": "https://api.github.com/users/GitMurf/following{/other_user}",
                "gists_url": "https://api.github.com/users/GitMurf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/GitMurf",
                "id": 64155612,
                "login": "GitMurf",
                "node_id": "MDQ6VXNlcjY0MTU1NjEy",
                "organizations_url": "https://api.github.com/users/GitMurf/orgs",
                "received_events_url": "https://api.github.com/users/GitMurf/received_events",
                "repos_url": "https://api.github.com/users/GitMurf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/GitMurf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GitMurf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/GitMurf",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "No, that's good enough for me, thanks.",
            "created_at": "2025-03-25T14:13:32Z",
            "html_url": "https://github.com/neovim/neovim/issues/33019#issuecomment-2751406956",
            "id": 2751406956,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33019",
            "node_id": "IC_kwDOAPphoM6j_yNs",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2751406956/reactions"
            },
            "updated_at": "2025-03-25T14:13:32Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2751406956",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 22,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/33019/comments",
    "created_at": "2025-03-21T16:36:53Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/33019/events",
    "html_url": "https://github.com/neovim/neovim/issues/33019",
    "id": 2938933574,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "issues reporting wrong behavior",
            "id": 77997474,
            "name": "bug",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3NA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug"
        },
        {
            "color": "d4c5f9",
            "default": false,
            "description": null,
            "id": 109461219,
            "name": "platform:windows",
            "node_id": "MDU6TGFiZWwxMDk0NjEyMTk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/platform:windows"
        },
        {
            "color": "F9D0C4",
            "default": false,
            "description": "issue reporting a crash or segfault",
            "id": 435854234,
            "name": "bug-crash",
            "node_id": "MDU6TGFiZWw0MzU4NTQyMzQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-crash"
        },
        {
            "color": "0E8A16",
            "default": false,
            "description": "issue has been tracked to a specific commit",
            "id": 1481421490,
            "name": "has:bisected",
            "node_id": "MDU6TGFiZWwxNDgxNDIxNDkw",
            "url": "https://api.github.com/repos/neovim/neovim/labels/has:bisected"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/33019/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": "2025-03-26T14:28:55Z",
        "closed_issues": 278,
        "created_at": "2023-12-07T23:09:35Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "",
        "due_on": "2025-03-30T07:00:00Z",
        "html_url": "https://github.com/neovim/neovim/milestone/41",
        "id": 10283236,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/41/labels",
        "node_id": "MI_kwDOAPphoM4AnOjk",
        "number": 41,
        "open_issues": 0,
        "state": "closed",
        "title": "0.11",
        "updated_at": "2025-03-26T14:28:55Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/41"
    },
    "node_id": "I_kwDOAPphoM6vLJFG",
    "number": 33019,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 1,
        "laugh": 0,
        "rocket": 0,
        "total_count": 1,
        "url": "https://api.github.com/repos/neovim/neovim/issues/33019/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/33019/timeline",
    "title": "Windows Terminal \"crash\" (hang/freeze) on exit after using Neovim for a few minutes",
    "type": {
        "color": "red",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "An unexpected problem or behavior",
        "id": 597163,
        "is_enabled": true,
        "name": "Bug",
        "node_id": "IT_kwDOAGK_Pc4ACRyr",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-03-25T14:19:50Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/33019",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/64155612?v=4",
        "events_url": "https://api.github.com/users/GitMurf/events{/privacy}",
        "followers_url": "https://api.github.com/users/GitMurf/followers",
        "following_url": "https://api.github.com/users/GitMurf/following{/other_user}",
        "gists_url": "https://api.github.com/users/GitMurf/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/GitMurf",
        "id": 64155612,
        "login": "GitMurf",
        "node_id": "MDQ6VXNlcjY0MTU1NjEy",
        "organizations_url": "https://api.github.com/users/GitMurf/orgs",
        "received_events_url": "https://api.github.com/users/GitMurf/received_events",
        "repos_url": "https://api.github.com/users/GitMurf/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/GitMurf/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/GitMurf/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/GitMurf",
        "user_view_type": "public"
    }
}