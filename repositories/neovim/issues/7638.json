{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "Currently if one wants to emulate `:python` with user commands he will be stuck at implementing `<< EOF`: there is no way for user commands to have multiline input, except for not adding `-bar` and using `:execute 'MyCmd' \"multiline\\nstring\"`. On the other hand it is impossible to just add `command -herestring` and expect it to work fine: not unless somebody wants to state that user commands must be defined not prior to its *usage*, but prior to its *appearance* (i.e. prior to the first function definition which happens to have that command inside) and canâ€™t switch definition after that (or give up on having proper parser). Thus the suggestion: knowing that `python << EOF\\n{multiline string}\\nEOF` yields just the same result as `execute 'python' \"{multiline string}\"` I am suggesting to add `:here` command used like that:\r\n\r\n    here MyCmd << EOF\r\n    foo\r\n    EOF\r\n\r\nand\r\n\r\n    if 1\r\n      here! MyCmd << EOF\r\n        First non-empty line appears as having zero indent when bang is used.\r\n       And this appears as an error for it being less indented then the first one.\r\n      EOF\r\n    endif\r\n\r\n. The only thing which `:here` command will do is calling `MyCmd` with multiline string in `<args>`, universally and without requiring any additional support in `MyCmd` definition.\r\n\r\nAdditionally `:here` may accept range and forward it to `MyCmd`. Also `:here!` is good for built-in `:python` itself.",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "related:\n\n- https://github.com/neovim/neovim/issues/11306\n\nImplementation notes:\n\n- Currently the `:{lua,python,...} <<EOF`  logic is hacked into `ex_function`.\n- ~~That could be extended to support user commands, and would call out to `provider#foo#Call()` in that case (via `eval_call_provider`)~~\n- ~~Add a flag to `:command`, e.g. `:command -heredoc ...`~~\n- Introduce an explicit builtin `:here` (?) command: `:here Foo <<EOF` (as suggested in the original issue description)\n\ntodo:\n\n- does the \"closed\" scope (local variables) need to be passed to the heredoc block?\n- can a heredoc block return a value?",
            "created_at": "2019-03-06T22:18:19Z",
            "html_url": "https://github.com/neovim/neovim/issues/7638#issuecomment-470299864",
            "id": 470299864,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/7638",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDI5OTg2NA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/470299864/reactions"
            },
            "updated_at": "2025-02-26T19:22:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/470299864",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Vim 8.1.1354 has it for `:let` (https://github.com/vim/vim/commit/f5842c5a533346c4ff41ff666e465c85f1de35d5).",
            "created_at": "2019-06-18T05:42:48Z",
            "html_url": "https://github.com/neovim/neovim/issues/7638#issuecomment-502955614",
            "id": 502955614,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/7638",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUwMjk1NTYxNA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/502955614/reactions"
            },
            "updated_at": "2019-06-18T05:43:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/502955614",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/9766?v=4",
                "events_url": "https://api.github.com/users/blueyed/events{/privacy}",
                "followers_url": "https://api.github.com/users/blueyed/followers",
                "following_url": "https://api.github.com/users/blueyed/following{/other_user}",
                "gists_url": "https://api.github.com/users/blueyed/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/blueyed",
                "id": 9766,
                "login": "blueyed",
                "node_id": "MDQ6VXNlcjk3NjY=",
                "organizations_url": "https://api.github.com/users/blueyed/orgs",
                "received_events_url": "https://api.github.com/users/blueyed/received_events",
                "repos_url": "https://api.github.com/users/blueyed/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/blueyed/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/blueyed/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/blueyed",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/7638/comments",
    "created_at": "2017-11-26T14:38:21Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/7638/events",
    "html_url": "https://github.com/neovim/neovim/issues/7638",
    "id": 276829365,
    "labels": [
        {
            "color": "c7def8",
            "default": false,
            "description": "",
            "id": 109899557,
            "name": "vimscript",
            "node_id": "MDU6TGFiZWwxMDk4OTk1NTc=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/vimscript"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/7638/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 285,
        "created_at": "2014-11-26T22:13:11Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "We don't plan to work on this, but will accept high quality contributions from someone who will own the feature and follow up on bug reports.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/9",
        "id": 881978,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/9/labels",
        "node_id": "MDk6TWlsZXN0b25lODgxOTc4",
        "number": 9,
        "open_issues": 339,
        "state": "open",
        "title": "needs-owner",
        "updated_at": "2025-07-04T21:53:41Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/9"
    },
    "node_id": "MDU6SXNzdWUyNzY4MjkzNjU=",
    "number": 7638,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 5,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 5,
        "url": "https://api.github.com/repos/neovim/neovim/issues/7638/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/7638/timeline",
    "title": "VimL heredoc (<<HERE) for user commands",
    "type": {
        "color": "blue",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "A request, idea, or new functionality",
        "id": 597167,
        "is_enabled": true,
        "name": "Enhancement",
        "node_id": "IT_kwDOAGK_Pc4ACRyv",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-07-02T08:57:40Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/7638",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/322097?v=4",
        "events_url": "https://api.github.com/users/ZyX-I/events{/privacy}",
        "followers_url": "https://api.github.com/users/ZyX-I/followers",
        "following_url": "https://api.github.com/users/ZyX-I/following{/other_user}",
        "gists_url": "https://api.github.com/users/ZyX-I/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/ZyX-I",
        "id": 322097,
        "login": "ZyX-I",
        "node_id": "MDQ6VXNlcjMyMjA5Nw==",
        "organizations_url": "https://api.github.com/users/ZyX-I/orgs",
        "received_events_url": "https://api.github.com/users/ZyX-I/received_events",
        "repos_url": "https://api.github.com/users/ZyX-I/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/ZyX-I/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ZyX-I/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/ZyX-I",
        "user_view_type": "public"
    }
}