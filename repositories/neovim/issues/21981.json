{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Describe the bug\n\nThe Neovim terminal does not show all the output of the first command that's entered into it when the terminal isn't the currently active window, it only fills the current window to its bottom without scrolling down to the latest output. The commands are successfully run, as entering back into the terminal buffer and pressing `G` gets one down to the bottom of the output. If one then moves back into the terminal, executes another command and moves away from the terminal buffer again it will _now_ correctly show the bottom of the output; any subsequent long-output command will be shown as expected.\r\n\r\n![Screenshot](https://user-images.githubusercontent.com/12528765/214262916-d4ecdf32-6286-4cad-bdcd-b42414fd2b3a.png)\r\n\n\n### Steps to reproduce\n\n```\r\nnvim --clean\r\n:vsp\r\n:term\r\ni\r\nsleep 3; for n in $(seq 100); do echo $n; done\r\n<C-\\\\><C-N><C-W>l\r\n```\r\nThis will not scroll down to the last output, as shown in screenshot above.\r\n```\r\n<C-W>h\r\nG\r\ni\r\nsleep 3; for n in $(seq 100); do echo $n; done\r\n<C-\\\\><C-N><C-W>l\r\n```\r\nThis _will_ scroll down to the last output, as will any subsequent command.\n\n### Expected behavior\n\nI would expect the latter behaviour from the very start, _i.e._ scrolling down to the latest output even on the first execution of the command and moving to another window.\n\n### Neovim version (nvim -v)\n\n0.8.2 Release\n\n### Vim (not Nvim) behaves the same?\n\nNo, Vim 9.0.1151\n\n### Operating system/version\n\nmacOS 11.6.4 Big Sur\n\n### Terminal name/version\n\nAlacritty 0.11.0 / iTerm2 3.4.18 (tested on both)\n\n### $TERM environment variable\n\nxterm-256color\n\n### Installation\n\nHomebrew",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "+1 \r\nthis has always been very annoying and should be an easy fix. maybe related to #18757 ?\r\n\r\ni found someone trying to fix this like so: https://github.com/ViRu-ThE-ViRuS/configs/blob/f2b001b07b0da4c39b3beea00c90f249906d375c/nvim/lua/lib/misc.lua#L27",
            "created_at": "2024-06-27T16:45:54Z",
            "html_url": "https://github.com/neovim/neovim/issues/21981#issuecomment-2195198056",
            "id": 2195198056,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21981",
            "node_id": "IC_kwDOAPphoM6C2BBo",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2195198056/reactions"
            },
            "updated_at": "2024-06-27T16:45:54Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2195198056",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/16804617?v=4",
                "events_url": "https://api.github.com/users/jrvieira/events{/privacy}",
                "followers_url": "https://api.github.com/users/jrvieira/followers",
                "following_url": "https://api.github.com/users/jrvieira/following{/other_user}",
                "gists_url": "https://api.github.com/users/jrvieira/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jrvieira",
                "id": 16804617,
                "login": "jrvieira",
                "node_id": "MDQ6VXNlcjE2ODA0NjE3",
                "organizations_url": "https://api.github.com/users/jrvieira/orgs",
                "received_events_url": "https://api.github.com/users/jrvieira/received_events",
                "repos_url": "https://api.github.com/users/jrvieira/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jrvieira/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jrvieira/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jrvieira",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "What is wrong with typing `G` to opt-in to autoscroll? If `G` wasn't required, there would be no way to opt-out until after the output was printed. I'm not sure what's best.",
            "created_at": "2024-08-29T21:24:32Z",
            "html_url": "https://github.com/neovim/neovim/issues/21981#issuecomment-2319037641",
            "id": 2319037641,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21981",
            "node_id": "IC_kwDOAPphoM6KObTJ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2319037641/reactions"
            },
            "updated_at": "2024-08-29T21:24:32Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2319037641",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "autoscroll is a terminal's expected default behavior (otherwise the input position leaves the visible area). opting out is as easy as scrolling up on the teminal buffer",
            "created_at": "2024-08-30T16:05:07Z",
            "html_url": "https://github.com/neovim/neovim/issues/21981#issuecomment-2321789937",
            "id": 2321789937,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21981",
            "node_id": "IC_kwDOAPphoM6KY7Px",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2321789937/reactions"
            },
            "updated_at": "2024-08-30T16:10:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2321789937",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/16804617?v=4",
                "events_url": "https://api.github.com/users/jrvieira/events{/privacy}",
                "followers_url": "https://api.github.com/users/jrvieira/followers",
                "following_url": "https://api.github.com/users/jrvieira/following{/other_user}",
                "gists_url": "https://api.github.com/users/jrvieira/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jrvieira",
                "id": 16804617,
                "login": "jrvieira",
                "node_id": "MDQ6VXNlcjE2ODA0NjE3",
                "organizations_url": "https://api.github.com/users/jrvieira/orgs",
                "received_events_url": "https://api.github.com/users/jrvieira/received_events",
                "repos_url": "https://api.github.com/users/jrvieira/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jrvieira/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jrvieira/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jrvieira",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> autoscroll is a terminal's expected default behavior\r\n\r\nthat's how it works already, if you stay in terminal-mode (\"insert\" mode).\r\n\r\n> opting out is as easy as scrolling up on the terminal buffer\r\n\r\nbut in the scenario you described, that would require (1) waiting for the buffer to fill up, and (2) navigating back to the window.\r\n\r\ncurrently: you can preemptively *opt-in* to autoscroll by hitting `G`.\r\n\r\nif we can think of a way to preemptively *opt-out* (before waiting for the buffer to fill up), then we could be more aggressive about defaulting to autoscroll. Perhaps with an explicit `gg` or `ctrl-y` ?",
            "created_at": "2024-08-30T16:11:11Z",
            "html_url": "https://github.com/neovim/neovim/issues/21981#issuecomment-2321812439",
            "id": 2321812439,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21981",
            "node_id": "IC_kwDOAPphoM6KZAvX",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2321812439/reactions"
            },
            "updated_at": "2024-08-30T16:17:41Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2321812439",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "one of the most fundamental rules of interface design is to ask the user for the exception, never for the norm (the importance of sane defaults and all)\r\n\r\ni never once wanted the terminal not to autoscroll and i am assuming this is representative of the vast majority of users but i may be wrong. my opinion is that design should follow use in this manner, whatever it may be.\r\n\r\nan additional issue to consider is that the terminal can silently fail to scroll on new output and that has tripped me and a few other users many times. whatever we decide, i think this is something that should be addressed.",
            "created_at": "2024-08-30T16:47:58Z",
            "html_url": "https://github.com/neovim/neovim/issues/21981#issuecomment-2321954549",
            "id": 2321954549,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21981",
            "node_id": "IC_kwDOAPphoM6KZjb1",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2321954549/reactions"
            },
            "updated_at": "2024-08-30T17:50:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2321954549",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/16804617?v=4",
                "events_url": "https://api.github.com/users/jrvieira/events{/privacy}",
                "followers_url": "https://api.github.com/users/jrvieira/followers",
                "following_url": "https://api.github.com/users/jrvieira/following{/other_user}",
                "gists_url": "https://api.github.com/users/jrvieira/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jrvieira",
                "id": 16804617,
                "login": "jrvieira",
                "node_id": "MDQ6VXNlcjE2ODA0NjE3",
                "organizations_url": "https://api.github.com/users/jrvieira/orgs",
                "received_events_url": "https://api.github.com/users/jrvieira/received_events",
                "repos_url": "https://api.github.com/users/jrvieira/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jrvieira/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jrvieira/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jrvieira",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> if we can think of a way to preemptively _opt-out_ (before waiting for the buffer to fill up), then we could be more aggressive about defaulting to autoscroll. Perhaps with an explicit `gg` or `ctrl-y` ?\r\n\r\ni am partial to opt-out rather than opt-in but i'm having trouble thinking of a solution that would be intuitive and wouldn't contribute to unexpected behavior.\r\n\r\nmaybe putting the cursor anywhere except the last character in the buffer could be the opt-out of autoscroll (opting back in would be a matter of ```i<esc>```).\r\n\r\n\r\nand possibly a status warning for when there's output \"below the fold\"\r\n",
            "created_at": "2024-08-30T17:07:29Z",
            "html_url": "https://github.com/neovim/neovim/issues/21981#issuecomment-2321997776",
            "id": 2321997776,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21981",
            "node_id": "IC_kwDOAPphoM6KZt_Q",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2321997776/reactions"
            },
            "updated_at": "2024-08-30T17:14:39Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2321997776",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/16804617?v=4",
                "events_url": "https://api.github.com/users/jrvieira/events{/privacy}",
                "followers_url": "https://api.github.com/users/jrvieira/followers",
                "following_url": "https://api.github.com/users/jrvieira/following{/other_user}",
                "gists_url": "https://api.github.com/users/jrvieira/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jrvieira",
                "id": 16804617,
                "login": "jrvieira",
                "node_id": "MDQ6VXNlcjE2ODA0NjE3",
                "organizations_url": "https://api.github.com/users/jrvieira/orgs",
                "received_events_url": "https://api.github.com/users/jrvieira/received_events",
                "repos_url": "https://api.github.com/users/jrvieira/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jrvieira/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jrvieira/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jrvieira",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I consider this a feature, not a bug. I suspect I'm not the only one person who feels this way.",
            "created_at": "2025-03-30T15:03:28Z",
            "html_url": "https://github.com/neovim/neovim/issues/21981#issuecomment-2764602101",
            "id": 2764602101,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21981",
            "node_id": "IC_kwDOAPphoM6kyHr1",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2764602101/reactions"
            },
            "updated_at": "2025-03-30T15:03:28Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2764602101",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/77233589?v=4",
                "events_url": "https://api.github.com/users/msaher/events{/privacy}",
                "followers_url": "https://api.github.com/users/msaher/followers",
                "following_url": "https://api.github.com/users/msaher/following{/other_user}",
                "gists_url": "https://api.github.com/users/msaher/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/msaher",
                "id": 77233589,
                "login": "msaher",
                "node_id": "MDQ6VXNlcjc3MjMzNTg5",
                "organizations_url": "https://api.github.com/users/msaher/orgs",
                "received_events_url": "https://api.github.com/users/msaher/received_events",
                "repos_url": "https://api.github.com/users/msaher/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/msaher/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/msaher/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/msaher",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 7,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/21981/comments",
    "created_at": "2023-01-24T10:28:29Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/21981/events",
    "html_url": "https://github.com/neovim/neovim/issues/21981",
    "id": 1554710686,
    "labels": [
        {
            "color": "c7def8",
            "default": false,
            "description": "user experience",
            "id": 151718455,
            "name": "ux",
            "node_id": "MDU6TGFiZWwxNTE3MTg0NTU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/ux"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "built-in :terminal or :shell",
            "id": 212696822,
            "name": "terminal",
            "node_id": "MDU6TGFiZWwyMTI2OTY4MjI=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/terminal"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/21981/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 726,
        "created_at": "2014-05-10T20:43:04Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "Low priority items. We plan to work on this but don't have a target date.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/6",
        "id": 655037,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lNjU1MDM3",
        "number": 6,
        "open_issues": 630,
        "state": "open",
        "title": "backlog",
        "updated_at": "2025-07-07T03:51:31Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/6"
    },
    "node_id": "I_kwDOAPphoM5cqwCe",
    "number": 21981,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 2,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 2,
        "url": "https://api.github.com/repos/neovim/neovim/issues/21981/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/21981/timeline",
    "title": ":terminal does not initially autoscroll unless \"G\" is typed",
    "type": {
        "color": "blue",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "A request, idea, or new functionality",
        "id": 597167,
        "is_enabled": true,
        "name": "Enhancement",
        "node_id": "IT_kwDOAGK_Pc4ACRyv",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-07-02T09:00:22Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/21981",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/12528765?v=4",
        "events_url": "https://api.github.com/users/fasterius/events{/privacy}",
        "followers_url": "https://api.github.com/users/fasterius/followers",
        "following_url": "https://api.github.com/users/fasterius/following{/other_user}",
        "gists_url": "https://api.github.com/users/fasterius/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/fasterius",
        "id": 12528765,
        "login": "fasterius",
        "node_id": "MDQ6VXNlcjEyNTI4NzY1",
        "organizations_url": "https://api.github.com/users/fasterius/orgs",
        "received_events_url": "https://api.github.com/users/fasterius/received_events",
        "repos_url": "https://api.github.com/users/fasterius/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/fasterius/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fasterius/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/fasterius",
        "user_view_type": "public"
    }
}