{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "### Problem\n\nSo i use this config to hide status line always:\n\n```\nset laststatus=0\nset noruler\nset statusline=%{repeat('─',winwidth('.')-1)}\nset fillchars=stl:─,stlnc:─\n```\n\nBut when there is a lot of echo output vim._extui unhides the status line and never hides it again. This causes issue where the status line is always drawn over the top of last line in buffer making it invisible, example (see my cursor)\n\n<img width=\"1218\" height=\"431\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/e11308f7-2aea-4c6c-87b6-5a5adbbe10bc\" />\n\n### Steps to reproduce\n\nminimal.lua below\n\n```lua\n-- Run this file as `nvim --clean -u minimal.lua`\n\nfor name, url in pairs {\n  -- ADD PLUGINS _NECESSARY_ TO REPRODUCE THE ISSUE, e.g:\n  -- 'https://github.com/author1/plugin1',\n  -- 'https://github.com/author2/plugin2',\n} do\n  local install_path = vim.fn.fnamemodify('nvim_issue/' .. name, ':p')\n  if vim.fn.isdirectory(install_path) == 0 then\n    vim.fn.system { 'git', 'clone', '--depth=1', url, install_path }\n  end\n  vim.opt.runtimepath:append(install_path)\nend\n\nvim.cmd [[\nset laststatus=0\nset noruler\nset statusline=%{repeat('─',winwidth('.')-1)}\nset fillchars=stl:─,stlnc:─\n]]\n\nrequire('vim._extui').enable({\n    msg = {\n        target = 'cmd',\n        timeout = 1000,\n    }\n})\n\nvim.defer_fn(function()\n  local lines = {}\n  for i = 1, 100 do\n    table.insert(lines, {string.format(\"Line %d: Hello from timer!\", i), \"None\"})\n    vim.api.nvim_echo(lines, true, {})\n    vim.wait(50)\n  end\nend, 1000)\n```\n\nto reproduce on zshrc (or any file if you have that has more than full screen of lines)\n\n```\nnvim ~/.zshrc --clean -u minimal.lua\n```\n\nwait a bit till th messages are printed, then press : to close the multiline outpu, then see that statusline is still there. navigate to bottom of screen, see it overlapping characters.\n\n\n### Expected behavior\n\nIf my statusline is hidden it should *always* stay hidden\n\n### Nvim version (nvim -v)\n\nNVIM v0.12.0-dev-933+ga5c598871b\n\n### Vim (not Nvim) behaves the same?\n\ncant obviously\n\n### Operating system/version\n\nLinux archlinux 6.15.9-arch1-1.1-g14 #1 SMP PREEMPT_DYNAMIC Mon, 04 Aug 2025 06:57:08 +0000 x86_64 GNU/Linux\n\n### Terminal name/version\n\nalacritty 0.15.1 (0c405d53)\n\n### $TERM environment variable\n\ntmux-256color\n\n### Installation\n\nAUR",
    "closed_at": "2025-08-11T21:13:41Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
        "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
        "followers_url": "https://api.github.com/users/justinmk/followers",
        "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
        "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/justinmk",
        "id": 1359421,
        "login": "justinmk",
        "node_id": "MDQ6VXNlcjEzNTk0MjE=",
        "organizations_url": "https://api.github.com/users/justinmk/orgs",
        "received_events_url": "https://api.github.com/users/justinmk/received_events",
        "repos_url": "https://api.github.com/users/justinmk/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/justinmk",
        "user_view_type": "public"
    },
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/35298/comments",
    "created_at": "2025-08-10T23:45:00Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/35298/events",
    "html_url": "https://github.com/neovim/neovim/issues/35298",
    "id": 3308085221,
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "Nvim 0.12 mesages/dialog/pager/notifications based on the UI-ext protocol",
            "id": 8934685970,
            "name": "ui2",
            "node_id": "LA_kwDOAPphoM8AAAACFIx9Eg",
            "url": "https://api.github.com/repos/neovim/neovim/labels/ui2"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/35298/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM7FLV_l",
    "number": 35298,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/35298/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/35298/timeline",
    "title": "vim._extui unhides status line and never hides it again",
    "type": {
        "color": "red",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "An unexpected problem or behavior",
        "id": 597163,
        "is_enabled": true,
        "name": "Bug",
        "node_id": "IT_kwDOAGK_Pc4ACRyr",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-08-11T21:13:51Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/35298",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/5115805?v=4",
        "events_url": "https://api.github.com/users/deathbeam/events{/privacy}",
        "followers_url": "https://api.github.com/users/deathbeam/followers",
        "following_url": "https://api.github.com/users/deathbeam/following{/other_user}",
        "gists_url": "https://api.github.com/users/deathbeam/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/deathbeam",
        "id": 5115805,
        "login": "deathbeam",
        "node_id": "MDQ6VXNlcjUxMTU4MDU=",
        "organizations_url": "https://api.github.com/users/deathbeam/orgs",
        "received_events_url": "https://api.github.com/users/deathbeam/received_events",
        "repos_url": "https://api.github.com/users/deathbeam/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/deathbeam/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/deathbeam/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/deathbeam",
        "user_view_type": "public"
    }
}