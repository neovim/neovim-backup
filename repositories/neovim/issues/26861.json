{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "### Problem\n\nProcesses (jobs) can be created in various ways. There's no easy way to see a list of jobs or historical stats. Plugins may cause performance issues and troubleshooting this requires external platform-specific tools (gdb/lldb/etc).\n\n### Expected behavior\n\nNvim should have a global \"jobs\" table that provides visibility into:\n\n- recent jobs (including terminated jobs)\n- job info (start/end times, plugin/source-line that invoked it)\n\nThis table should be updated whenever a process is started by:\n\n```\nsystem()\njobstart()\nvim.system()\n:terminal\nnvim_open_term()\nvim.uv.spawn (if reasonably feasible)\n```\n\n`:checkhealth job` should show a warning if a plugin is causing performance degradation because of expensive or numerous processes.\n\n### Implementation\n\nHooking into `uv_spawn` would be the most comprehensive way to capture all jobs. But the higher-level info (such as plugin source-line) would need to be plumbed through, where possible.\n\n### Related\n\n- https://github.com/neovim/neovim/issues/25914\n- https://github.com/neovim/neovim/issues/19624\n- https://github.com/neovim/neovim/issues/557",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "> Plugins may cause performance issues and troubleshooting this requires external platform-specific tools (gdb/lldb/etc).\n\nBecause processes can spawn other processes (and often do), I'm pretty sure we will always need these tools to debug most issues, so any value we can add will always be quite limited.\n\nI'm not sure we can easily measure CPU/memory usage of any jobs we spawn. And we can't track all the processes that may get spawned by child processes (which are the ones that typically use the most resources). This is the job of an OS.\n\n> Nvim should have a global \"jobs\" table that provides visibility into:\n>\n> - recent jobs (including terminated jobs)\n> - job info (start/end times, plugin/source-line that invoked it)\n\nDoing something like this _might_ have a good enough ROI if we can do it all in Lua using a weak table to hold process objects, but this would mean only doing it for `vim.system` (and/or maybe `vim.uv.spawn`). I think anything more might become too complicated for the benefit.",
            "created_at": "2025-02-13T09:40:19Z",
            "html_url": "https://github.com/neovim/neovim/issues/26861#issuecomment-2656035801",
            "id": 2656035801,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26861",
            "node_id": "IC_kwDOAPphoM6eT-PZ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2656035801/reactions"
            },
            "updated_at": "2025-02-13T09:40:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2656035801",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Doing something like this _might_ have a good enough ROI if we can do it all in Lua\n\nLet's start with that. Consider the rest of the items here \"aspirational\".\n\nAfter the Lua weak table is implemented, wouldn't it be straightforward to hook into that from the legacy `jobstart()`? That isn't a blocking requirement, but is something I want to plan for eventually. \n\n> This is the job of an OS.\n \nThe OS failed at its job :) We have `nvim_get_proc_children`, and we can continue to enhance its ergonomics and related features. It doesn't need to be perfect. If it catches 50% of cases, that's 10x better than nothing at all.",
            "created_at": "2025-02-13T13:29:51Z",
            "html_url": "https://github.com/neovim/neovim/issues/26861#issuecomment-2656607501",
            "id": 2656607501,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26861",
            "node_id": "IC_kwDOAPphoM6eWJ0N",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2656607501/reactions"
            },
            "updated_at": "2025-02-13T13:29:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2656607501",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/26861/comments",
    "created_at": "2024-01-02T23:25:28Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/26861/events",
    "html_url": "https://github.com/neovim/neovim/issues/26861",
    "id": 2063063923,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "feature request",
            "id": 77997476,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Ng==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/enhancement"
        },
        {
            "color": "FEF2C0",
            "default": false,
            "description": "performance, latency, cpu/memory usage",
            "id": 101930601,
            "name": "performance",
            "node_id": "MDU6TGFiZWwxMDE5MzA2MDE=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/performance"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "OS processes, spawn",
            "id": 182884815,
            "name": "job-control",
            "node_id": "MDU6TGFiZWwxODI4ODQ4MTU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/job-control"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/26861/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 696,
        "created_at": "2014-05-10T20:43:04Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "Low priority items. We plan to work on this but don't have a target date.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/6",
        "id": 655037,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lNjU1MDM3",
        "number": 6,
        "open_issues": 635,
        "state": "open",
        "title": "backlog",
        "updated_at": "2025-02-17T18:55:16Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/6"
    },
    "node_id": "I_kwDOAPphoM5699tz",
    "number": 26861,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 1,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 4,
        "total_count": 5,
        "url": "https://api.github.com/repos/neovim/neovim/issues/26861/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/26861/timeline",
    "title": "jobs/processes info, stats, history",
    "updated_at": "2025-02-13T13:29:56Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/26861",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
        "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
        "followers_url": "https://api.github.com/users/justinmk/followers",
        "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
        "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/justinmk",
        "id": 1359421,
        "login": "justinmk",
        "node_id": "MDQ6VXNlcjEzNTk0MjE=",
        "organizations_url": "https://api.github.com/users/justinmk/orgs",
        "received_events_url": "https://api.github.com/users/justinmk/received_events",
        "repos_url": "https://api.github.com/users/justinmk/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/justinmk",
        "user_view_type": "public"
    }
}