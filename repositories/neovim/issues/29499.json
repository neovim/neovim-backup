{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "### Problem\r\n\r\nIn `time_differs` on Linux mtimes with nanosecond precision are not respected out of concern for behavior on FAT filesystems. The filesystem should be detected and in the case where it's not a FAT filesystem nanosecond precision should be used.\r\nhttps://github.com/neovim/neovim/blob/724d1110b1e4699a34f489e9cdb2d25098746499/src/nvim/fileio.c#L2180-L2194\r\n\r\n### Neovim version (nvim -v)\r\n\r\n0.10.0\r\n\r\n### Vim (not Nvim) behaves the same?\r\n\r\nYes",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "Isn't it already checking with nanosecond precision in line 2184? And then only if the nanoseconds are the same (which I presume may happen when either the times are the same or tv_nsec and mtime_ns are filled with zeros e.g. in FAT filesystems) does it check for equality with lower precision. That way if it's a FAT filesystem the first check 2184 will always be true and then the 5 bit comparison will be done, if it's not a FAT filesystem and the first check is true then both the second and third checks will also be true, they may be redundant but it still looks simpler than trying to identify which filesystem is currently in use.",
            "created_at": "2024-07-22T23:59:25Z",
            "html_url": "https://github.com/neovim/neovim/issues/29499#issuecomment-2244008753",
            "id": 2244008753,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29499",
            "node_id": "IC_kwDOAPphoM6FwNsx",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2244008753/reactions"
            },
            "updated_at": "2024-07-22T23:59:25Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2244008753",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/116819854?v=4",
                "events_url": "https://api.github.com/users/eduardorittner/events{/privacy}",
                "followers_url": "https://api.github.com/users/eduardorittner/followers",
                "following_url": "https://api.github.com/users/eduardorittner/following{/other_user}",
                "gists_url": "https://api.github.com/users/eduardorittner/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/eduardorittner",
                "id": 116819854,
                "login": "eduardorittner",
                "node_id": "U_kgDOBvaHjg",
                "organizations_url": "https://api.github.com/users/eduardorittner/orgs",
                "received_events_url": "https://api.github.com/users/eduardorittner/received_events",
                "repos_url": "https://api.github.com/users/eduardorittner/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/eduardorittner/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/eduardorittner/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/eduardorittner",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> if it's not a FAT filesystem and the first check is true then both the second and third checks will also be true\r\n\r\n`tv_nsec` is sub-second. `tv_sec` is the total seconds. the ns values may be equal yet the total seconds may differ.",
            "created_at": "2024-09-04T22:00:57Z",
            "html_url": "https://github.com/neovim/neovim/issues/29499#issuecomment-2330221652",
            "id": 2330221652,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29499",
            "node_id": "IC_kwDOAPphoM6K5FxU",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2330221652/reactions"
            },
            "updated_at": "2024-09-04T22:00:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2330221652",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/29499/comments",
    "created_at": "2024-06-27T15:17:16Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/29499/events",
    "html_url": "https://github.com/neovim/neovim/issues/29499",
    "id": 2378446082,
    "labels": [
        {
            "color": "C5DEF5",
            "default": false,
            "description": "file metadata/attributes, filenames, path manipulation",
            "id": 3386070083,
            "name": "filesystem",
            "node_id": "LA_kwDOAPphoM7J01RD",
            "url": "https://api.github.com/repos/neovim/neovim/labels/filesystem"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/29499/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 726,
        "created_at": "2014-05-10T20:43:04Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "Low priority items. We plan to work on this but don't have a target date.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/6",
        "id": 655037,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lNjU1MDM3",
        "number": 6,
        "open_issues": 630,
        "state": "open",
        "title": "backlog",
        "updated_at": "2025-07-07T03:51:31Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/6"
    },
    "node_id": "I_kwDOAPphoM6NxDUC",
    "number": 29499,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/29499/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/29499/timeline",
    "title": "Detect FAT filesystem explicitly in `time_differs`",
    "type": {
        "color": "red",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "An unexpected problem or behavior",
        "id": 597163,
        "is_enabled": true,
        "name": "Bug",
        "node_id": "IT_kwDOAGK_Pc4ACRyr",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-07-02T08:37:32Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/29499",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/802511?v=4",
        "events_url": "https://api.github.com/users/ddickstein/events{/privacy}",
        "followers_url": "https://api.github.com/users/ddickstein/followers",
        "following_url": "https://api.github.com/users/ddickstein/following{/other_user}",
        "gists_url": "https://api.github.com/users/ddickstein/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/ddickstein",
        "id": 802511,
        "login": "ddickstein",
        "node_id": "MDQ6VXNlcjgwMjUxMQ==",
        "organizations_url": "https://api.github.com/users/ddickstein/orgs",
        "received_events_url": "https://api.github.com/users/ddickstein/received_events",
        "repos_url": "https://api.github.com/users/ddickstein/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/ddickstein/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ddickstein/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/ddickstein",
        "user_view_type": "public"
    }
}