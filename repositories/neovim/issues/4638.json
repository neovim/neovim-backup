{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "- Neovim version: 0.1.3\r\n- Vim behaves differently?: no\r\n- Operating system/version: Linux Fedora 23\r\n- Terminal name/version: Gnome-terminal\r\n- `$TERM`: xterm-256color\r\n### Steps to reproduce using `nvim -u NONE`\r\n1. `nvim -u NONE`\r\n2. Type:\r\n   \r\n   ```\r\n   This is a test.\r\n     This is indented.\r\n   ```\r\n3. Backspace over all contents of the second line, including the spaces.\r\n4. All the text including the spaces are gone, but there still appear to be spaces rendered on the terminal. Typing new text will insert it at the beginning of the line, as it should with all spaces gone. But arrowing right/left does not reveal the presence of these spaces. They appear to be entirely gone from the file but are till rendered on the screen, likely aren't visible, and aren't used to indent when new text is added on the line.\r\n### Background\r\n\r\nI am a blind screen reader user. I use the arrow keys rather than hjkl to navigate because screen readers don't know to present entire lines when hjkl are pressed, but they generally assume that the cursor moves in response to an arrow press so speak the updated change then. When I arrow to the second line in the above test data, after it is blank, my screen reader speaks \"2 spaces\", which is what it would speak before a line of text/whitespace that is indented. But, when typing text on that line, text is inserted at the beginning. As such, it is impossible to distinguish a line that actually has 2 spaces vs. one that had 2 and is now entirely blank. Vim does this too, is very annoying, and I hope Neovim might fix it.\r\n\r\nTo be very clear, these 2 spaces aren't in the file or editing buffer. They appear to be artifacts that aren't removed from the rendering, like istead of rendering the blank line as \"\\n\\n\" it's being rendered as \"\\n  \\n\". It probably doesn't affect anyone other than screen reader users, so you may not notice it unless you dig into the rendering code.\r\n",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "Can you tell what screen reader is used and how to launch it? It would otherwise be impossible to test whether issue is (not) fixed.\n\nIt may appear that for such cases new UI is needed: most likely many artifacts are there due to optimizations that make drawing UI faster.\n",
            "created_at": "2016-04-24T19:02:19Z",
            "html_url": "https://github.com/neovim/neovim/issues/4638#issuecomment-214023155",
            "id": 214023155,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/4638",
            "node_id": "MDEyOklzc3VlQ29tbWVudDIxNDAyMzE1NQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/214023155/reactions"
            },
            "updated_at": "2016-04-24T19:02:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/214023155",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/322097?v=4",
                "events_url": "https://api.github.com/users/ZyX-I/events{/privacy}",
                "followers_url": "https://api.github.com/users/ZyX-I/followers",
                "following_url": "https://api.github.com/users/ZyX-I/following{/other_user}",
                "gists_url": "https://api.github.com/users/ZyX-I/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ZyX-I",
                "id": 322097,
                "login": "ZyX-I",
                "node_id": "MDQ6VXNlcjMyMjA5Nw==",
                "organizations_url": "https://api.github.com/users/ZyX-I/orgs",
                "received_events_url": "https://api.github.com/users/ZyX-I/received_events",
                "repos_url": "https://api.github.com/users/ZyX-I/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ZyX-I/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ZyX-I/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ZyX-I",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "This is under the Orca screen reader under Linux/GNOME. On Ubuntu, for instance, you can launch it by running `orca`. It also ships by default in Fedora.\n\nNote that, to get the behavior I'm experiencing, you need to enable the \"speak indentation and justification\" setting (I forget the exact name.) To do this, press insert-space, select the Speech tab and check the box. Then, when you arrow to the formerly blank line, you'll hear \"2 spaces\" spoken even though right/left arrow won't let you navigate to them.\n",
            "created_at": "2016-04-27T04:31:25Z",
            "html_url": "https://github.com/neovim/neovim/issues/4638#issuecomment-214967262",
            "id": 214967262,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/4638",
            "node_id": "MDEyOklzc3VlQ29tbWVudDIxNDk2NzI2Mg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/214967262/reactions"
            },
            "updated_at": "2016-04-27T04:31:25Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/214967262",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1172?v=4",
                "events_url": "https://api.github.com/users/ndarilek/events{/privacy}",
                "followers_url": "https://api.github.com/users/ndarilek/followers",
                "following_url": "https://api.github.com/users/ndarilek/following{/other_user}",
                "gists_url": "https://api.github.com/users/ndarilek/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ndarilek",
                "id": 1172,
                "login": "ndarilek",
                "node_id": "MDQ6VXNlcjExNzI=",
                "organizations_url": "https://api.github.com/users/ndarilek/orgs",
                "received_events_url": "https://api.github.com/users/ndarilek/received_events",
                "repos_url": "https://api.github.com/users/ndarilek/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ndarilek/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ndarilek/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ndarilek",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Ok, I just tried reproducing this with different setups.\r\nI'm on Mac OS so I tested Ubuntu using Virtualbox (6.1.22 r144080).\r\n\r\n1. Setup: Ubuntu 21.04 and shipped neovim 0.4.4\r\n  I did activate the speak indentation option as described by @ndarilek .\r\n  I then started neovim with `nvim -u NONE` from within gnome terminal.\r\n  I then inserted the proposed sample text.\r\n  After deleting characters and moving around with the cursor keys, no space artifacts were picked up by the screen reader (orca).\r\n  However, I did notice that the line which has been completely cleared using backspace wasn't announced on revisits.\r\n  I did test that by changing to command mode and moving to line one.\r\n  Line one gets announced.\r\n  I then move back to the altered line two.\r\n  The screen reader doesn't announce anything.\r\n  I create and enter a new line three.\r\n  I switch to command mode and move to line one again.\r\n  At this point, line one has the initial text, line two is empty and line three has just been added but is empty as well.\r\n  When moving around with the cursor keys in command mode.\r\n  Line one gets announced as expected.\r\n  Line two (which has been emptied) is not announced at all.\r\n  Line three is announced as empty line with the correct index. \r\n\r\n2. setup: vim 8.2.2434 on ubuntu 21.04\r\nVim did correctly cleared the line, so that the screen reader doesn't pick up any space artefacts.  \r\nBut somehow vim does has issues with backspace keys when not loading it's defaults. \r\nNevertheless vim doesn't face the reported issue.\r\n\r\n3. setup: NVIM v0.6.0-dev+15698eb5a on macOS 11.5.1.\r\nI activated the screen reader and tested the same scenario with the shipped terminal application.\r\nHere, the screen reader picks up a lot of spaces after emptying the line.\r\n\r\n4. setup: vim 8.2.3250 on MacOS 11.5.1\r\nStarting it with `vim -u NONE` results in the same behaviour, so the bug seems to be related to both, vim and neovim at least under Mac OS.\r\n\r\nI don't know which part of the neovim project is related to the screen reader portion, but this is indeed still in a broken state.\r\n\r\nMaybe someone can share which portion of neovim is related to this? @justinmk ",
            "created_at": "2021-08-01T09:36:11Z",
            "html_url": "https://github.com/neovim/neovim/issues/4638#issuecomment-890485332",
            "id": 890485332,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/4638",
            "node_id": "IC_kwDOAPphoM41E7pU",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/890485332/reactions"
            },
            "updated_at": "2021-08-01T10:35:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/890485332",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/25434434?v=4",
                "events_url": "https://api.github.com/users/lockejan/events{/privacy}",
                "followers_url": "https://api.github.com/users/lockejan/followers",
                "following_url": "https://api.github.com/users/lockejan/following{/other_user}",
                "gists_url": "https://api.github.com/users/lockejan/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lockejan",
                "id": 25434434,
                "login": "lockejan",
                "node_id": "MDQ6VXNlcjI1NDM0NDM0",
                "organizations_url": "https://api.github.com/users/lockejan/orgs",
                "received_events_url": "https://api.github.com/users/lockejan/received_events",
                "repos_url": "https://api.github.com/users/lockejan/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lockejan/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lockejan/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lockejan",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/4638/comments",
    "created_at": "2016-04-24T16:15:37Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/4638/events",
    "html_url": "https://github.com/neovim/neovim/issues/4638",
    "id": 150677226,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "feature request",
            "id": 77997476,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Ng==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/enhancement"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 197254545,
            "name": "tui",
            "node_id": "MDU6TGFiZWwxOTcyNTQ1NDU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/tui"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "Nvim core functionality or code",
            "id": 858327504,
            "name": "core",
            "node_id": "MDU6TGFiZWw4NTgzMjc1MDQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/core"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/4638/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 260,
        "created_at": "2014-11-26T22:13:11Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "We don't plan to work on this, but will accept high quality contributions from someone who will own the feature and follow up on bug reports.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/9",
        "id": 881978,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/9/labels",
        "node_id": "MDk6TWlsZXN0b25lODgxOTc4",
        "number": 9,
        "open_issues": 297,
        "state": "open",
        "title": "needs-owner",
        "updated_at": "2025-01-20T17:56:23Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/9"
    },
    "node_id": "MDU6SXNzdWUxNTA2NzcyMjY=",
    "number": 4638,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/4638/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/4638/timeline",
    "title": "Remove spaces from formerly-indented blank lines",
    "updated_at": "2025-01-17T16:05:52Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/4638",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1172?v=4",
        "events_url": "https://api.github.com/users/ndarilek/events{/privacy}",
        "followers_url": "https://api.github.com/users/ndarilek/followers",
        "following_url": "https://api.github.com/users/ndarilek/following{/other_user}",
        "gists_url": "https://api.github.com/users/ndarilek/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/ndarilek",
        "id": 1172,
        "login": "ndarilek",
        "node_id": "MDQ6VXNlcjExNzI=",
        "organizations_url": "https://api.github.com/users/ndarilek/orgs",
        "received_events_url": "https://api.github.com/users/ndarilek/received_events",
        "repos_url": "https://api.github.com/users/ndarilek/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/ndarilek/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ndarilek/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/ndarilek",
        "user_view_type": "public"
    }
}