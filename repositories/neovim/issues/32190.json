{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nSome of my Verilog (`*.v`) files are being detected as `v`, instead of `verilog`.  I've traced the problem to [this line](https://github.com/neovim/neovim/blob/2470db02c5136525b8abce1ee0889d94f8d81d98/runtime/lua/vim/filetype/detect.lua#L1780) and surrounding function.\n\nThe filetype detection at the moment works by scanning the first 200 lines for any line that ends in a semicolon, but I have various files where the first line that meets that criteria is past the first 200.  I don't know `coq` well enough to know if my suggestions will work in all cases, so I'll leave it up to more knowledgeable people to perform the actual fix.\n\nMy suggestions, in order of preference, are:\n\n- In addition to the search for lines ending in semicolon `;`, search for a line that starts with `module`.  This is typically the first keyword in a file, after the header comments and `timescale` directive, but quite possibly valid `coq`, so instead:\n- Increase the line count to something like 10000.  I think it unlikely that a module will have more than 10 000 port definitions, but it is very likely to have more than 200.\n\nJust for refererence: this is \"somewhat\" (with some eye-squinting) related to #25305.  It's the only other issue I found after my search.\n\n### Steps to reproduce\n\nOpen a verilog file with `.v` extension with more than 200 port definitions.  In other words:\n\n```verilog\nmodule MyModule(\n  input Clk,\n  input Reset,\n  input Data,\n  output LEDs,\n  // etc... more than 200 lines\n  inout LastPort\n);\nendmodule\n```\n\n### Expected behavior\n\nDetect the file as `verilog`\n\n### Nvim version (nvim -v)\n\nNVIM v0.10.2\n\n### Vim (not Nvim) behaves the same?\n\nNot confirmed\n\n### Operating system/version\n\nWindows 11\n\n### Terminal name/version\n\nPowershell\n\n### $TERM environment variable\n\nDon't know\n\n### Installation\n\nWindows installer",
    "closed_at": "2025-01-24T08:35:39Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
        "events_url": "https://api.github.com/users/clason/events{/privacy}",
        "followers_url": "https://api.github.com/users/clason/followers",
        "following_url": "https://api.github.com/users/clason/following{/other_user}",
        "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/clason",
        "id": 2361214,
        "login": "clason",
        "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
        "organizations_url": "https://api.github.com/users/clason/orgs",
        "received_events_url": "https://api.github.com/users/clason/received_events",
        "repos_url": "https://api.github.com/users/clason/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/clason",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Filetype detection is taken directly from Vim (the logic, even if the implementation is different). Please report this issue there (and propose a solution); any changes they make are ported quickly.",
            "created_at": "2025-01-24T08:35:39Z",
            "html_url": "https://github.com/neovim/neovim/issues/32190#issuecomment-2611959772",
            "id": 2611959772,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/32190",
            "node_id": "IC_kwDOAPphoM6br1fc",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2611959772/reactions"
            },
            "updated_at": "2025-01-24T08:35:39Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2611959772",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 1,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/32190/comments",
    "created_at": "2025-01-24T08:33:00Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/32190/events",
    "html_url": "https://github.com/neovim/neovim/issues/32190",
    "id": 2808856419,
    "labels": [
        {
            "color": "FBCA04",
            "default": false,
            "description": "upstream issue that must be fixed in Vim first",
            "id": 2639399975,
            "name": "needs:vim-patch",
            "node_id": "MDU6TGFiZWwyNjM5Mzk5OTc1",
            "url": "https://api.github.com/repos/neovim/neovim/labels/needs:vim-patch"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "filetype detection, filetype.lua",
            "id": 3708202139,
            "name": "filetype",
            "node_id": "LA_kwDOAPphoM7dBqyb",
            "url": "https://api.github.com/repos/neovim/neovim/labels/filetype"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/32190/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6na79j",
    "number": 32190,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/32190/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "not_planned",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/32190/timeline",
    "title": "Verilog Filetype Detection",
    "updated_at": "2025-01-24T08:35:51Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/32190",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/41227383?v=4",
        "events_url": "https://api.github.com/users/jpt13653903/events{/privacy}",
        "followers_url": "https://api.github.com/users/jpt13653903/followers",
        "following_url": "https://api.github.com/users/jpt13653903/following{/other_user}",
        "gists_url": "https://api.github.com/users/jpt13653903/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/jpt13653903",
        "id": 41227383,
        "login": "jpt13653903",
        "node_id": "MDQ6VXNlcjQxMjI3Mzgz",
        "organizations_url": "https://api.github.com/users/jpt13653903/orgs",
        "received_events_url": "https://api.github.com/users/jpt13653903/received_events",
        "repos_url": "https://api.github.com/users/jpt13653903/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/jpt13653903/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jpt13653903/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/jpt13653903",
        "user_view_type": "public"
    }
}