{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\npreviously everything worked fine. I uninstalled Python 3.9, etc. and manually removed most stuffs.\r\nThen I extracted nvim and installed Python 3.8.5.\r\nNow :UpdateRemotePlugins does not change rplugin.vim for either Shougo/deoplete.nvim or gelguy/wilder.nvim. (I'm using Plug.)\r\nthe command results in \"python3 host registered plugins []\" and rplugin.vim is always,\r\n```\r\n\" perl plugins\r\n\r\n\" node plugins\r\n\r\n\" python3 plugins\r\n\r\n\" ruby plugins\r\n\r\n```\r\n\r\nThank you in advance.\n\n### Steps to reproduce\n\n1. use Plug to install deoplete and wilder. I don't know how to use them without any package managers.\r\n2. restart nvim.\r\n3. manually run :UpdateRemotePlugins. rplugin.vim is empty\r\n4. repeat steps 2 and 3. rplugin.vim is still empty\r\nthus the plugins cannot load.\n\n### Expected behavior\n\nfor deoplete on Linux, rplugin.vim consists,\r\n```\r\ncall remote#host#RegisterPlugin('python3', '/home/users/.../.local/share/nvim/plugged/deoplete.nvim/rplugin/python3/deoplete', [\r\n      \\ {'sync': v:false, 'name': '_deoplete_init', 'type': 'function', 'opts': {}},\r\n     \\ ])\r\n```\n\n### Nvim version (nvim -v)\n\n0.10.1\n\n### Vim (not Nvim) behaves the same?\n\nN/A\n\n### Operating system/version\n\nWindows 10\n\n### Terminal name/version\n\nN/A\n\n### $TERM environment variable\n\nN/A\n\n### Installation\n\nportable",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Please show your full config to configure/load plugins. One possible scenario where rplugins manifest won't be written is when the plugin is not loaded (when, for instance, using lazy loading). Also verify if the plugin has been loaded and is active when `:UpdateRemotePlugins` is invoked.",
            "created_at": "2024-09-23T04:16:28Z",
            "html_url": "https://github.com/neovim/neovim/issues/30470#issuecomment-2367206721",
            "id": 2367206721,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30470",
            "node_id": "IC_kwDOAPphoM6NGLVB",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2367206721/reactions"
            },
            "updated_at": "2024-09-23T04:16:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2367206721",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1009873?v=4",
                "events_url": "https://api.github.com/users/wookayin/events{/privacy}",
                "followers_url": "https://api.github.com/users/wookayin/followers",
                "following_url": "https://api.github.com/users/wookayin/following{/other_user}",
                "gists_url": "https://api.github.com/users/wookayin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wookayin",
                "id": 1009873,
                "login": "wookayin",
                "node_id": "MDQ6VXNlcjEwMDk4NzM=",
                "organizations_url": "https://api.github.com/users/wookayin/orgs",
                "received_events_url": "https://api.github.com/users/wookayin/received_events",
                "repos_url": "https://api.github.com/users/wookayin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wookayin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wookayin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wookayin",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> Please show your full config to configure/load plugins. One possible scenario where rplugins manifest won't be written is when the plugin is not loaded (when, for instance, using lazy loading). Also verify if the plugin has been loaded and is active when `:UpdateRemotePlugins` is invoked.\r\n\r\nminimal init.vim as below. as I said, I am not able to use deoplete without Plug. I doubt Plug causes the problem, since it lazy loads. when :UpdateRemotePlugins is invoked manually, deoplete is not run, because it calls python in remote plugin during loading. The problem may be counter-locking.\r\n```\r\n\" Use Vim settings, rather than Vi settings (much better!).\r\n\" This must be first, because it changes other options as a side effect.\r\nset nocompatible\r\nif &cp | set nocp | endif\r\n\r\npackadd! matchit\r\n\r\nlet g:python3_host_prog = 'D:\\\\apps\\\\Python3\\\\python.exe'  \" Python 3\r\n\r\ncall plug#begin()\r\n\r\nPlug 'Shougo/deoplete.nvim', { 'do': ':UpdateRemotePlugins' }\r\n\r\ncall plug#end()\r\n\r\nlet g:deoplete#enable_at_startup = 1\r\n\r\n\" Load all plugins now.\r\n\" Plugins need to be added to runtimepath before helptags can be generated.\r\npackloadall\r\n\" Load all of the helptags now, after plugins have been loaded.\r\n\" All messages and errors will be ignored.\r\nsilent! helptags ALL\r\n```",
            "created_at": "2024-09-23T07:00:00Z",
            "html_url": "https://github.com/neovim/neovim/issues/30470#issuecomment-2367371906",
            "id": 2367371906,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30470",
            "node_id": "IC_kwDOAPphoM6NGzqC",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2367371906/reactions"
            },
            "updated_at": "2024-09-23T07:00:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2367371906",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/19204158?v=4",
                "events_url": "https://api.github.com/users/bon-ami/events{/privacy}",
                "followers_url": "https://api.github.com/users/bon-ami/followers",
                "following_url": "https://api.github.com/users/bon-ami/following{/other_user}",
                "gists_url": "https://api.github.com/users/bon-ami/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bon-ami",
                "id": 19204158,
                "login": "bon-ami",
                "node_id": "MDQ6VXNlcjE5MjA0MTU4",
                "organizations_url": "https://api.github.com/users/bon-ami/orgs",
                "received_events_url": "https://api.github.com/users/bon-ami/received_events",
                "repos_url": "https://api.github.com/users/bon-ami/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bon-ami/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bon-ami/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bon-ami",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "This looks like a Windows-specific problem: I have the same problem with wilder and Python 3.12 on nvim 0.10.2 on Windows, but this works fine on Linux with the same versions.\n\nRandom guess: maybe some native Python module is not compiling/loading properly on Windows?\n\nHere is the output of `:checkhealth python`:\n\n```\nprovider.python: require(\"provider.python.health\").check()\n\nPython 3 provider (optional)\n- Using: g:python3_host_prog = \"C:\\Python312\\python.exe\"\n- Executable: C:\\Python312\\python.exe\n- Python version: 3.12.6\n- pynvim version: 0.5.0\n- OK Latest pynvim is installed.\n\nPython virtualenv\n- OK no $VIRTUAL_ENV\n```\n\nAnd here is my minimal vimrc:\n\n```vim\nlet g:python3_host_prog = expand('C:/Python312/python.exe')\n\n\" This assumes that Plug is already installed there.\n\" See instructions on https://github.com/junegunn/vim-plug?tab=readme-ov-file#installation\nsource $HOME/.vim/autoload/plug.vim\n\ncall plug#begin(expand('~/.vim/installed'))\nPlug 'gelguy/wilder.nvim', {'do' : ':UpdateRemotePlugins'}\ncall plug#end()\n\n\" This assmes that wilder has already been installed, i.e. that :PlugInstall has been run previously\ncall wilder#setup({ 'modes': [':'] })\n\" Optional, but this makes the error more visible\n\"call wilder#set_option('renderer', wilder#popupmenu_renderer())\n```\n\nWith this setup, `:UpdateRemotePlugins` does not register `wilder`, causing errors e.g. when opening a file with `:e`.",
            "created_at": "2024-10-13T10:15:02Z",
            "html_url": "https://github.com/neovim/neovim/issues/30470#issuecomment-2408916960",
            "id": 2408916960,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30470",
            "node_id": "IC_kwDOAPphoM6PlSfg",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 1,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2408916960/reactions"
            },
            "updated_at": "2024-10-13T10:17:12Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2408916960",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2920475?v=4",
                "events_url": "https://api.github.com/users/ipkiss42/events{/privacy}",
                "followers_url": "https://api.github.com/users/ipkiss42/followers",
                "following_url": "https://api.github.com/users/ipkiss42/following{/other_user}",
                "gists_url": "https://api.github.com/users/ipkiss42/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ipkiss42",
                "id": 2920475,
                "login": "ipkiss42",
                "node_id": "MDQ6VXNlcjI5MjA0NzU=",
                "organizations_url": "https://api.github.com/users/ipkiss42/orgs",
                "received_events_url": "https://api.github.com/users/ipkiss42/received_events",
                "repos_url": "https://api.github.com/users/ipkiss42/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ipkiss42/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ipkiss42/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ipkiss42",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "FYI before anyone works too hard on this: :UpdateRemotePlugins will be deprecated pretty soon https://github.com/neovim/neovim/issues/27949 . Only thing blocking it is updating the https://github.com/neovim/pynvim api client and perhaps providing a way to help v1 remote-plugins migrate to v2.",
            "created_at": "2024-10-13T20:14:18Z",
            "html_url": "https://github.com/neovim/neovim/issues/30470#issuecomment-2409110192",
            "id": 2409110192,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30470",
            "node_id": "IC_kwDOAPphoM6PmBqw",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2409110192/reactions"
            },
            "updated_at": "2024-10-13T20:14:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2409110192",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/30470/comments",
    "created_at": "2024-09-23T02:24:52Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/30470/events",
    "html_url": "https://github.com/neovim/neovim/issues/30470",
    "id": 2541436526,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "issues reporting wrong behavior",
            "id": 77997474,
            "name": "bug",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3NA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "plugins as RPC coprocesses (node.js, python, etc)",
            "id": 652698463,
            "name": "remote-plugin",
            "node_id": "MDU6TGFiZWw2NTI2OTg0NjM=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/remote-plugin"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/30470/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6Xez5u",
    "number": 30470,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/30470/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/30470/timeline",
    "title": "UpdateRemotePlugins does not work",
    "updated_at": "2025-01-17T15:39:35Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/30470",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/19204158?v=4",
        "events_url": "https://api.github.com/users/bon-ami/events{/privacy}",
        "followers_url": "https://api.github.com/users/bon-ami/followers",
        "following_url": "https://api.github.com/users/bon-ami/following{/other_user}",
        "gists_url": "https://api.github.com/users/bon-ami/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/bon-ami",
        "id": 19204158,
        "login": "bon-ami",
        "node_id": "MDQ6VXNlcjE5MjA0MTU4",
        "organizations_url": "https://api.github.com/users/bon-ami/orgs",
        "received_events_url": "https://api.github.com/users/bon-ami/received_events",
        "repos_url": "https://api.github.com/users/bon-ami/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/bon-ami/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/bon-ami/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/bon-ami",
        "user_view_type": "public"
    }
}