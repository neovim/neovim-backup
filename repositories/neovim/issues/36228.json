{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nOkay, so it's very possible I messed something up because I literally installed Neovim 5 minutes ago.\n\nEDIT: I did indeed mess something up but I still think the behavior may be undesirable (see comment below)\n\nI'm on windows 10, went for the latest stable release.\nStarted it up, read the text recommending the `:Tutor` command, so I typed it in and started the tutorial.\nEverything worked fine, I got comfy with \"hjkl\", next step was to quit, then restart the Tutor.\nQuitting worked fine. Starting the tutorial again via `:Tutor` throws this error:\n```\nError detected while processing function tutor#TutorCmd[39]..tutor#EnableInteractive:\nline    6:\nE5108: Error executing lua ...ogram Files\\Neovim\\share\\nvim\\runtime/lua/nvim/tutor.lua:61: Invalid 'line': out of range\nstack traceback:\n        [C]: in function 'nvim_buf_set_extmark'\n        ...ogram Files\\Neovim\\share\\nvim\\runtime/lua/nvim/tutor.lua:61: in function 'apply_marks'\n        [string \":lua\"]:1: in main chunk\nPress ENTER or type command to continue\n```\n\nWhat confuses me is that it worked initially and I didn't change anything (apart from the font size of my terminal).\n\n### Steps to reproduce\n\n1. `:Tutor`\n2. `:q!`\n3. `:Tutor`\n\n### Expected behavior\n\nNo crash. Should open Tutor again.\n\n### Nvim version (nvim -v)\n\n0.11.4\n\n### Vim (not Nvim) behaves the same?\n\nidk\n\n### Operating system/version\n\nWindows 10\n\n### Terminal name/version\n\nWindows Terminal Preview\n\n### $TERM environment variable\n\nNo clue\n\n### Installation\n\n.msi",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "Ah, nevermind. I must've messed something up.\nI just restarted my terminal and tried again and noticed that this time `:q!` actually quit Neovim too, which didn't happen before. Restarting Neovim, then Tutor works.\nSo I tried reproducing the error: It happens when typing `:Tutor` while already in the Tutorial. \nIs that intended?\nIf yes, maybe still give some more helpful error, because Newbies like me may get confused.\n\nFeel free to close this otherwise.",
            "created_at": "2025-10-17T21:31:27Z",
            "html_url": "https://github.com/neovim/neovim/issues/36228#issuecomment-3417300948",
            "id": 3417300948,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36228",
            "node_id": "IC_kwDOAPphoM7Lr9_U",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3417300948/reactions"
            },
            "updated_at": "2025-10-17T21:31:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3417300948",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/122003158?v=4",
                "events_url": "https://api.github.com/users/Zirunis/events{/privacy}",
                "followers_url": "https://api.github.com/users/Zirunis/followers",
                "following_url": "https://api.github.com/users/Zirunis/following{/other_user}",
                "gists_url": "https://api.github.com/users/Zirunis/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Zirunis",
                "id": 122003158,
                "login": "Zirunis",
                "node_id": "U_kgDOB0We1g",
                "organizations_url": "https://api.github.com/users/Zirunis/orgs",
                "received_events_url": "https://api.github.com/users/Zirunis/received_events",
                "repos_url": "https://api.github.com/users/Zirunis/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Zirunis/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Zirunis/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Zirunis",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Nvim version (nvim -v)\n> latest stable\n\nplease say the exact version.\n\nalthough, it looks like `apply_marks` https://github.com/neovim/neovim/pull/34921 was backported to stable. @brianhuster ",
            "created_at": "2025-10-17T21:33:23Z",
            "html_url": "https://github.com/neovim/neovim/issues/36228#issuecomment-3417304534",
            "id": 3417304534,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36228",
            "node_id": "IC_kwDOAPphoM7Lr-3W",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3417304534/reactions"
            },
            "updated_at": "2025-10-17T21:33:23Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3417304534",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "My bad, here:\nNVIM v0.11.4\nBuild type: Release\nLuaJIT 2.1.1741730670",
            "created_at": "2025-10-17T21:53:51Z",
            "html_url": "https://github.com/neovim/neovim/issues/36228#issuecomment-3417364429",
            "id": 3417364429,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36228",
            "node_id": "IC_kwDOAPphoM7LsNfN",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3417364429/reactions"
            },
            "updated_at": "2025-10-17T21:53:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3417364429",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/122003158?v=4",
                "events_url": "https://api.github.com/users/Zirunis/events{/privacy}",
                "followers_url": "https://api.github.com/users/Zirunis/followers",
                "following_url": "https://api.github.com/users/Zirunis/following{/other_user}",
                "gists_url": "https://api.github.com/users/Zirunis/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Zirunis",
                "id": 122003158,
                "login": "Zirunis",
                "node_id": "U_kgDOB0We1g",
                "organizations_url": "https://api.github.com/users/Zirunis/orgs",
                "received_events_url": "https://api.github.com/users/Zirunis/received_events",
                "repos_url": "https://api.github.com/users/Zirunis/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Zirunis/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Zirunis/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Zirunis",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "If I had to guess it's probably just an issue with opening the file since it's already opened (write lock)?\nIn that case that issue may have existed before the refactor too, no?\nJust saying, before you guys go bug hunting through the diff.\nIgnore me if that makes no sense. I know nothing about Neovim yet.",
            "created_at": "2025-10-17T22:02:13Z",
            "html_url": "https://github.com/neovim/neovim/issues/36228#issuecomment-3417377608",
            "id": 3417377608,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36228",
            "node_id": "IC_kwDOAPphoM7LsQtI",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3417377608/reactions"
            },
            "updated_at": "2025-10-17T22:02:13Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3417377608",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/122003158?v=4",
                "events_url": "https://api.github.com/users/Zirunis/events{/privacy}",
                "followers_url": "https://api.github.com/users/Zirunis/followers",
                "following_url": "https://api.github.com/users/Zirunis/following{/other_user}",
                "gists_url": "https://api.github.com/users/Zirunis/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Zirunis",
                "id": 122003158,
                "login": "Zirunis",
                "node_id": "U_kgDOB0We1g",
                "organizations_url": "https://api.github.com/users/Zirunis/orgs",
                "received_events_url": "https://api.github.com/users/Zirunis/received_events",
                "repos_url": "https://api.github.com/users/Zirunis/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Zirunis/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Zirunis/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Zirunis",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "A better way to reproduce this bug would be\n```vim\n:Tutor \" => the tutor is open\n:Tutor \" => the tutor buffer is cleared\n```\nor\n```vim\n:Tutor\n:e\n```\nThe culprit is the line [set buftype=nofile](https://github.com/neovim/neovim/blob/be73c35943f85e7835c3a0fc89bddaeba944db29/runtime/autoload/tutor.vim#L203) which comes from [the original plugin that has been archived](https://github.com/fmoralesc/vim-tutor-mode/blob/8c53ae4b7c35ea10d9ef2eb4a30cfc6177a32e97/ftplugin/tutor.vim#L9). So this bug can be produced in Vim as well and it is unlikely related to the \"apply_marks\" PR.\n\nIt's not clear to me what the point of `set buftype=nofile` is. If it is just to prevent users from writing changes to the tutor file, then would `set buftype=nowrite` be enough? @fmoralesc\n\nIt's also worth taking into account what you actually want to do when typing `:Tutor` again. Do you want to reload the tutor (which means clearing all your changes to the tutor), or just reopen the existing tutor buffer? @Zirunis ",
            "created_at": "2025-10-19T09:14:19Z",
            "html_url": "https://github.com/neovim/neovim/issues/36228#issuecomment-3419489056",
            "id": 3419489056,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36228",
            "node_id": "IC_kwDOAPphoM7L0UMg",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3419489056/reactions"
            },
            "updated_at": "2025-10-20T13:05:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3419489056",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/111893501?v=4",
                "events_url": "https://api.github.com/users/brianhuster/events{/privacy}",
                "followers_url": "https://api.github.com/users/brianhuster/followers",
                "following_url": "https://api.github.com/users/brianhuster/following{/other_user}",
                "gists_url": "https://api.github.com/users/brianhuster/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/brianhuster",
                "id": 111893501,
                "login": "brianhuster",
                "node_id": "U_kgDOBqtb_Q",
                "organizations_url": "https://api.github.com/users/brianhuster/orgs",
                "received_events_url": "https://api.github.com/users/brianhuster/received_events",
                "repos_url": "https://api.github.com/users/brianhuster/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/brianhuster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/brianhuster/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/brianhuster",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> It's also worth taking into account what you actually want to do when typing `:Tutor` again. Do you want to reload the tutor (which means clearing all your changes to the tutor), or just reopen the existing tutor buffer? [@Zirunis](https://github.com/Zirunis)\n\nOh, I didn't do it on purpose. The tutorial asks to quit and then reopen the Tutor. I must've done something wrong when quitting because although the screen cleared, the file was apparently still open. Thinking I successfully quit, I then tried to reopen Tutor as instructed, which led to the error. So for me an error was fine, this particular error message just didn't tell me what I did wrong.\n\nIf you decide that it actually shouldn't throw an error, to me reloading seems more sensible. I mean I'm completely new, but with my current understanding when I type `:fileName` I'd expect to end up in the file that's currently on disk, without any unsaved changes in the buffer. So I'm saying it should behave the same regardless whether I'm already in the file or not.",
            "created_at": "2025-10-20T12:28:11Z",
            "html_url": "https://github.com/neovim/neovim/issues/36228#issuecomment-3421859826",
            "id": 3421859826,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36228",
            "node_id": "IC_kwDOAPphoM7L9W_y",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3421859826/reactions"
            },
            "updated_at": "2025-10-20T12:28:11Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3421859826",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/122003158?v=4",
                "events_url": "https://api.github.com/users/Zirunis/events{/privacy}",
                "followers_url": "https://api.github.com/users/Zirunis/followers",
                "following_url": "https://api.github.com/users/Zirunis/following{/other_user}",
                "gists_url": "https://api.github.com/users/Zirunis/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Zirunis",
                "id": 122003158,
                "login": "Zirunis",
                "node_id": "U_kgDOB0We1g",
                "organizations_url": "https://api.github.com/users/Zirunis/orgs",
                "received_events_url": "https://api.github.com/users/Zirunis/received_events",
                "repos_url": "https://api.github.com/users/Zirunis/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Zirunis/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Zirunis/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Zirunis",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> not clear to me what the point of `set buftype=nofile` is. If it is just to prevent users from writing changes to the tutor file, then would `set buftype=nowrite` be enough?\n\nsure, we can change that as we see fit.",
            "created_at": "2025-10-20T21:24:28Z",
            "html_url": "https://github.com/neovim/neovim/issues/36228#issuecomment-3423778869",
            "id": 3423778869,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36228",
            "node_id": "IC_kwDOAPphoM7MErg1",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3423778869/reactions"
            },
            "updated_at": "2025-10-20T21:24:28Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3423778869",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 7,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/36228/comments",
    "created_at": "2025-10-17T21:24:39Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/36228/events",
    "html_url": "https://github.com/neovim/neovim/issues/36228",
    "id": 3527611045,
    "issue_dependencies_summary": {
        "blocked_by": 0,
        "blocking": 0,
        "total_blocked_by": 0,
        "total_blocking": 0
    },
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "funtime",
            "id": 120251370,
            "name": "runtime",
            "node_id": "MDU6TGFiZWwxMjAyNTEzNzA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/runtime"
        },
        {
            "color": "f9d0c4",
            "default": false,
            "description": "wrong behavior that was introduced in a previous commit (please bisect)",
            "id": 619474658,
            "name": "bug-regression",
            "node_id": "MDU6TGFiZWw2MTk0NzQ2NTg=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-regression"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/36228/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 38,
        "created_at": "2025-09-02T15:27:06Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/53",
        "id": 13605541,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/53/labels",
        "node_id": "MI_kwDOAPphoM4Az5ql",
        "number": 53,
        "open_issues": 19,
        "state": "open",
        "title": "0.11.5",
        "updated_at": "2025-10-18T15:14:21Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/53"
    },
    "node_id": "I_kwDOAPphoM7SQxKl",
    "number": 36228,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/36228/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/36228/timeline",
    "title": "Tutor: `Invalid 'line': out of range`",
    "type": {
        "color": "red",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "An unexpected problem or behavior",
        "id": 597163,
        "is_enabled": true,
        "name": "Bug",
        "node_id": "IT_kwDOAGK_Pc4ACRyr",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-10-20T21:24:28Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/36228",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/122003158?v=4",
        "events_url": "https://api.github.com/users/Zirunis/events{/privacy}",
        "followers_url": "https://api.github.com/users/Zirunis/followers",
        "following_url": "https://api.github.com/users/Zirunis/following{/other_user}",
        "gists_url": "https://api.github.com/users/Zirunis/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/Zirunis",
        "id": 122003158,
        "login": "Zirunis",
        "node_id": "U_kgDOB0We1g",
        "organizations_url": "https://api.github.com/users/Zirunis/orgs",
        "received_events_url": "https://api.github.com/users/Zirunis/received_events",
        "repos_url": "https://api.github.com/users/Zirunis/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/Zirunis/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Zirunis/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/Zirunis",
        "user_view_type": "public"
    }
}