{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "### Problem\n\nI have been trying to implement support for `wrap` in one of my plugins.\n\nI want something like this,\n\n<img width=\"719\" height=\"387\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/20982142-ec76-488c-9b58-a0fcfc72bc33\" />\n\nHere wherever a line(inside of a block quote/callout) gets *wrapped* a border is added.\n\nThe problem is, I can't figure out where the line gets wrapped(especially if the line has `virtual_text` & `conceal`).\n\n------\n\nI have been using `screenpos()` and iterating over the line. But users have reported that this has performance issues.\n\nI thought about using `virt_text_win_col`(this is what I am using for the image) but it causes text to overlay with the fake indentation/border.\n\n### Expected behavior\n\nProvide some way to check where a line gets wrapped.",
    "closed_at": "2025-09-30T06:15:13Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/122956967?v=4",
        "events_url": "https://api.github.com/users/OXY2DEV/events{/privacy}",
        "followers_url": "https://api.github.com/users/OXY2DEV/followers",
        "following_url": "https://api.github.com/users/OXY2DEV/following{/other_user}",
        "gists_url": "https://api.github.com/users/OXY2DEV/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/OXY2DEV",
        "id": 122956967,
        "login": "OXY2DEV",
        "node_id": "U_kgDOB1Qspw",
        "organizations_url": "https://api.github.com/users/OXY2DEV/orgs",
        "received_events_url": "https://api.github.com/users/OXY2DEV/received_events",
        "repos_url": "https://api.github.com/users/OXY2DEV/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/OXY2DEV/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/OXY2DEV/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/OXY2DEV",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "1. I cannot understand what is the \"border\" you are referring to.\n2. You can use `virtcol2col()`. However it's indeed still not ideal, as you'll need to call `virtcol2col()` (which has O(N) time complexity) for each screen line until the end of the line.",
            "created_at": "2025-09-30T05:33:52Z",
            "html_url": "https://github.com/neovim/neovim/issues/35964#issuecomment-3350043421",
            "id": 3350043421,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35964",
            "node_id": "IC_kwDOAPphoM7HrZsd",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3350043421/reactions"
            },
            "updated_at": "2025-09-30T05:40:09Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3350043421",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "My bad, I should have clarified.\n\nI have some text that look like this,\n\n<img width=\"719\" height=\"133\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/7edb808e-eed1-45c1-ab93-622b86edf628\" />\n\nI would like to add some borders to the start of the lines(either at the beginning of a line or where a line got wrapped).\n\n![Image](https://github.com/user-attachments/assets/5f382329-e305-4a19-ac16-bece16ea81b1)",
            "created_at": "2025-09-30T05:46:56Z",
            "html_url": "https://github.com/neovim/neovim/issues/35964#issuecomment-3350065896",
            "id": 3350065896,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35964",
            "node_id": "IC_kwDOAPphoM7HrfLo",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3350065896/reactions"
            },
            "updated_at": "2025-09-30T05:46:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3350065896",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/122956967?v=4",
                "events_url": "https://api.github.com/users/OXY2DEV/events{/privacy}",
                "followers_url": "https://api.github.com/users/OXY2DEV/followers",
                "following_url": "https://api.github.com/users/OXY2DEV/following{/other_user}",
                "gists_url": "https://api.github.com/users/OXY2DEV/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/OXY2DEV",
                "id": 122956967,
                "login": "OXY2DEV",
                "node_id": "U_kgDOB1Qspw",
                "organizations_url": "https://api.github.com/users/OXY2DEV/orgs",
                "received_events_url": "https://api.github.com/users/OXY2DEV/received_events",
                "repos_url": "https://api.github.com/users/OXY2DEV/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/OXY2DEV/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/OXY2DEV/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/OXY2DEV",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> You can use virtcol2col(). However it's indeed still not ideal, as you'll need to call virtcol2col() (which has O(N) time complexity) for each screen line until the end of the line.\n\nUhh, how do I use `virtcol` to figure out where a line got wrapped?\n\nDoesn't it extend beyond the window width(as if `nowrap` used)?",
            "created_at": "2025-09-30T05:48:20Z",
            "html_url": "https://github.com/neovim/neovim/issues/35964#issuecomment-3350068110",
            "id": 3350068110,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35964",
            "node_id": "IC_kwDOAPphoM7HrfuO",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3350068110/reactions"
            },
            "updated_at": "2025-09-30T05:48:20Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3350068110",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/122956967?v=4",
                "events_url": "https://api.github.com/users/OXY2DEV/events{/privacy}",
                "followers_url": "https://api.github.com/users/OXY2DEV/followers",
                "following_url": "https://api.github.com/users/OXY2DEV/following{/other_user}",
                "gists_url": "https://api.github.com/users/OXY2DEV/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/OXY2DEV",
                "id": 122956967,
                "login": "OXY2DEV",
                "node_id": "U_kgDOB1Qspw",
                "organizations_url": "https://api.github.com/users/OXY2DEV/orgs",
                "received_events_url": "https://api.github.com/users/OXY2DEV/received_events",
                "repos_url": "https://api.github.com/users/OXY2DEV/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/OXY2DEV/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/OXY2DEV/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/OXY2DEV",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Example script that prints all (1-based) byte positions where each line is wrapped in the current window:\n```vim\nfor lnum in range(1, line('$'))\n  let wininfo = getwininfo(win_getid())[0]\n  let width = wininfo.width - wininfo.textoff\n  let end_vcol = virtcol([lnum, '$']) - 1\n  if end_vcol <= width\n    continue\n  endif\n  for vcol in range(width + 1, virtcol([lnum, '$']) - 1, width)\n    let wrapcol = virtcol2col(0, lnum, vcol)\n    echomsg [lnum, wrapcol]\n  endfor\nendfor\n```\n\n> I would like to add some borders to the start of the lines(either at the beginning of a line or where a line got wrapped).\n\nIf you are not using virtual text with `virt_text_win_col` to show the border, what are you using then?",
            "created_at": "2025-09-30T06:06:23Z",
            "html_url": "https://github.com/neovim/neovim/issues/35964#issuecomment-3350107375",
            "id": 3350107375,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35964",
            "node_id": "IC_kwDOAPphoM7HrpTv",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3350107375/reactions"
            },
            "updated_at": "2025-09-30T06:07:10Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3350107375",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> If you are not using virtual text with virt_text_win_col to show the border, what are you using then?\n\nOh, I used a for loop and compare the current characters `screenpos` with the previous characters `screenpos`. If it's smaller than the last character's `screenpos` I add an `inline` virtual text.\n\nThis however is very bad performance-wise. So, I am hoping to find something that's a little less taxing.",
            "created_at": "2025-09-30T06:10:38Z",
            "html_url": "https://github.com/neovim/neovim/issues/35964#issuecomment-3350116783",
            "id": 3350116783,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35964",
            "node_id": "IC_kwDOAPphoM7Hrrmv",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3350116783/reactions"
            },
            "updated_at": "2025-09-30T06:10:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3350116783",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/122956967?v=4",
                "events_url": "https://api.github.com/users/OXY2DEV/events{/privacy}",
                "followers_url": "https://api.github.com/users/OXY2DEV/followers",
                "following_url": "https://api.github.com/users/OXY2DEV/following{/other_user}",
                "gists_url": "https://api.github.com/users/OXY2DEV/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/OXY2DEV",
                "id": 122956967,
                "login": "OXY2DEV",
                "node_id": "U_kgDOB1Qspw",
                "organizations_url": "https://api.github.com/users/OXY2DEV/orgs",
                "received_events_url": "https://api.github.com/users/OXY2DEV/received_events",
                "repos_url": "https://api.github.com/users/OXY2DEV/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/OXY2DEV/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/OXY2DEV/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/OXY2DEV",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> Example script that prints all (1-based) byte positions where each line is wrapped in the current window:\n\nThat seems to do what I want.\nThank you for your help!",
            "created_at": "2025-09-30T06:14:57Z",
            "html_url": "https://github.com/neovim/neovim/issues/35964#issuecomment-3350126801",
            "id": 3350126801,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35964",
            "node_id": "IC_kwDOAPphoM7HruDR",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3350126801/reactions"
            },
            "updated_at": "2025-09-30T06:14:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3350126801",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/122956967?v=4",
                "events_url": "https://api.github.com/users/OXY2DEV/events{/privacy}",
                "followers_url": "https://api.github.com/users/OXY2DEV/followers",
                "following_url": "https://api.github.com/users/OXY2DEV/following{/other_user}",
                "gists_url": "https://api.github.com/users/OXY2DEV/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/OXY2DEV",
                "id": 122956967,
                "login": "OXY2DEV",
                "node_id": "U_kgDOB1Qspw",
                "organizations_url": "https://api.github.com/users/OXY2DEV/orgs",
                "received_events_url": "https://api.github.com/users/OXY2DEV/received_events",
                "repos_url": "https://api.github.com/users/OXY2DEV/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/OXY2DEV/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/OXY2DEV/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/OXY2DEV",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> > If you are not using virtual text with virt_text_win_col to show the border, what are you using then?\n> \n> Oh, I used a for loop and compare the current characters `screenpos` with the previous characters `screenpos`. If it's smaller than the last character's `screenpos` I add an `inline` virtual text.\n\nHmm, in that case the next wrapping position changes after each virtual text you place, so you still need to get the next wrapping position after placing every virtual text. Calling `virtcol2col()` repeatedly seems not too bad for that.",
            "created_at": "2025-09-30T06:15:36Z",
            "html_url": "https://github.com/neovim/neovim/issues/35964#issuecomment-3350128355",
            "id": 3350128355,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35964",
            "node_id": "IC_kwDOAPphoM7Hrubj",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3350128355/reactions"
            },
            "updated_at": "2025-09-30T06:24:43Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3350128355",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I have tested it and it looks like your approach is faster than any of the stuff I tried.\n\nSo, again, thanks for the help!\n\n> I have been bashing my head trying to fix this for so long.",
            "created_at": "2025-09-30T06:42:24Z",
            "html_url": "https://github.com/neovim/neovim/issues/35964#issuecomment-3350208388",
            "id": 3350208388,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35964",
            "node_id": "IC_kwDOAPphoM7HsB-E",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3350208388/reactions"
            },
            "updated_at": "2025-09-30T06:42:24Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3350208388",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/122956967?v=4",
                "events_url": "https://api.github.com/users/OXY2DEV/events{/privacy}",
                "followers_url": "https://api.github.com/users/OXY2DEV/followers",
                "following_url": "https://api.github.com/users/OXY2DEV/following{/other_user}",
                "gists_url": "https://api.github.com/users/OXY2DEV/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/OXY2DEV",
                "id": 122956967,
                "login": "OXY2DEV",
                "node_id": "U_kgDOB1Qspw",
                "organizations_url": "https://api.github.com/users/OXY2DEV/orgs",
                "received_events_url": "https://api.github.com/users/OXY2DEV/received_events",
                "repos_url": "https://api.github.com/users/OXY2DEV/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/OXY2DEV/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/OXY2DEV/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/OXY2DEV",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 8,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/35964/comments",
    "created_at": "2025-09-30T05:12:05Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/35964/events",
    "html_url": "https://github.com/neovim/neovim/issues/35964",
    "id": 3467596800,
    "issue_dependencies_summary": {
        "blocked_by": 0,
        "blocking": 0,
        "total_blocked_by": 0,
        "total_blocking": 0
    },
    "labels": [],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/35964/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM7Or1QA",
    "number": 35964,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/35964/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/35964/timeline",
    "title": "Function to check where a line gets **visually** wrapped",
    "type": {
        "color": "blue",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "A request, idea, or new functionality",
        "id": 597167,
        "is_enabled": true,
        "name": "Enhancement",
        "node_id": "IT_kwDOAGK_Pc4ACRyv",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-09-30T06:42:24Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/35964",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/122956967?v=4",
        "events_url": "https://api.github.com/users/OXY2DEV/events{/privacy}",
        "followers_url": "https://api.github.com/users/OXY2DEV/followers",
        "following_url": "https://api.github.com/users/OXY2DEV/following{/other_user}",
        "gists_url": "https://api.github.com/users/OXY2DEV/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/OXY2DEV",
        "id": 122956967,
        "login": "OXY2DEV",
        "node_id": "U_kgDOB1Qspw",
        "organizations_url": "https://api.github.com/users/OXY2DEV/orgs",
        "received_events_url": "https://api.github.com/users/OXY2DEV/received_events",
        "repos_url": "https://api.github.com/users/OXY2DEV/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/OXY2DEV/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/OXY2DEV/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/OXY2DEV",
        "user_view_type": "public"
    }
}