{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "### Feature already in Vim?\n\nYes, with basic `:source`\n\n### Feature description\n\nFor most cases using `vim.cmd('source ...')` is fine. But it doesn't seem to be an exact replacement of `:source` when it comes to handling errors. The manual `:source` executes all commands from script, even after the error, while `vim.cmd()` stops on first error.\r\n\r\nExample:\r\n- Create 'init-error.vim' file with following contents:\r\n```\r\nlet g:before_error=1\r\nnormal! zo\r\nlet g:after_error=1\r\n```\r\n- `nvim --clean -u NONE`\r\n- Take one of two routes:\r\n    - `:lua vim.cmd('source init_error.vim')` - throws error `E5108` with `E490` Vimscript error; `g:before_error` is 1 but `g:after_error` is absent.\r\n    - `:source init_error.vim` - throws `E490`, but both `g:before_error` and `g:after_error` are 1.",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "Stopping on error sounds like a desirable feature to me. What's the usecase for trying to continue to parse code after errors?",
            "created_at": "2022-05-11T13:01:53Z",
            "html_url": "https://github.com/neovim/neovim/issues/18497#issuecomment-1123732560",
            "id": 1123732560,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18497",
            "node_id": "IC_kwDOAPphoM5C-sxQ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1123732560/reactions"
            },
            "updated_at": "2022-05-11T13:01:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1123732560",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/325724?v=4",
                "events_url": "https://api.github.com/users/jvoisin/events{/privacy}",
                "followers_url": "https://api.github.com/users/jvoisin/followers",
                "following_url": "https://api.github.com/users/jvoisin/following{/other_user}",
                "gists_url": "https://api.github.com/users/jvoisin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jvoisin",
                "id": 325724,
                "login": "jvoisin",
                "node_id": "MDQ6VXNlcjMyNTcyNA==",
                "organizations_url": "https://api.github.com/users/jvoisin/orgs",
                "received_events_url": "https://api.github.com/users/jvoisin/received_events",
                "repos_url": "https://api.github.com/users/jvoisin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jvoisin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jvoisin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jvoisin",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Basically, It is in linked issue echasnovski/mini.nvim#75 . When sourcing a session, it stops on first error in session file causing some weird behavior. Manual `:source` keeps processing.",
            "created_at": "2022-05-11T13:11:05Z",
            "html_url": "https://github.com/neovim/neovim/issues/18497#issuecomment-1123742944",
            "id": 1123742944,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18497",
            "node_id": "IC_kwDOAPphoM5C-vTg",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1123742944/reactions"
            },
            "updated_at": "2022-05-11T13:11:05Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1123742944",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/24854248?v=4",
                "events_url": "https://api.github.com/users/echasnovski/events{/privacy}",
                "followers_url": "https://api.github.com/users/echasnovski/followers",
                "following_url": "https://api.github.com/users/echasnovski/following{/other_user}",
                "gists_url": "https://api.github.com/users/echasnovski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/echasnovski",
                "id": 24854248,
                "login": "echasnovski",
                "node_id": "MDQ6VXNlcjI0ODU0MjQ4",
                "organizations_url": "https://api.github.com/users/echasnovski/orgs",
                "received_events_url": "https://api.github.com/users/echasnovski/received_events",
                "repos_url": "https://api.github.com/users/echasnovski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/echasnovski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/echasnovski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/echasnovski",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Did you try `nvim_exec()` ? If it doesn't do what you want, it should probably be fixed. Let's not add another function `nvim_source()`.",
            "created_at": "2022-05-11T21:42:16Z",
            "html_url": "https://github.com/neovim/neovim/issues/18497#issuecomment-1124320912",
            "id": 1124320912,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18497",
            "node_id": "IC_kwDOAPphoM5DA8aQ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1124320912/reactions"
            },
            "updated_at": "2022-05-11T21:42:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1124320912",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Did you try `nvim_exec()` ? If it doesn't do what you want, it should probably be fixed. Let's not add another function `nvim_source()`.\r\n\r\nYep. The list of what I've tried and all of them acted the same as `vim.cmd`:\r\n- `:lua vim.api.nvim_exec('source init_error.vim', false)`.\r\n- `:lua vim.api.nvim_exec('source init_error.vim', true)`.\r\n- `:lua vim.api.nvim_command('source init_error.vim')`.\r\n- `:lua vim.api.nvim_cmd({ cmd = 'source', args = { 'init_error.vim' } })` in the most recent Nightly (`NVIM v0.8.0-dev+181-ga2d4b862f`).\r\n\r\nMy reasoning was that altering \"stop after first error\" behavior of `nvim_exec()` might lead to a lot of broken code. Unless alter specifically for `:source`, of course, but I am not sure if this is optimal.",
            "created_at": "2022-05-12T06:43:21Z",
            "html_url": "https://github.com/neovim/neovim/issues/18497#issuecomment-1124593520",
            "id": 1124593520,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18497",
            "node_id": "IC_kwDOAPphoM5DB-9w",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1124593520/reactions"
            },
            "updated_at": "2022-05-12T06:43:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1124593520",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/24854248?v=4",
                "events_url": "https://api.github.com/users/echasnovski/events{/privacy}",
                "followers_url": "https://api.github.com/users/echasnovski/followers",
                "following_url": "https://api.github.com/users/echasnovski/following{/other_user}",
                "gists_url": "https://api.github.com/users/echasnovski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/echasnovski",
                "id": 24854248,
                "login": "echasnovski",
                "node_id": "MDQ6VXNlcjI0ODU0MjQ4",
                "organizations_url": "https://api.github.com/users/echasnovski/orgs",
                "received_events_url": "https://api.github.com/users/echasnovski/received_events",
                "repos_url": "https://api.github.com/users/echasnovski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/echasnovski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/echasnovski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/echasnovski",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> My reasoning was that altering \"stop after first error\" behavior of `nvim_exec()` might lead to a lot of broken code\r\n\r\nidk. The reason for the current issue is that these quirks are discovered over time. If we keep adding new functions to fix quirks, we never actually reach a fully-working function, just a lot of half-working functions. So let's just fix `nvim_exec()`. It is a fairly new API, and it is documented to behave like `:source`.",
            "created_at": "2022-05-12T12:57:39Z",
            "html_url": "https://github.com/neovim/neovim/issues/18497#issuecomment-1124961016",
            "id": 1124961016,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18497",
            "node_id": "IC_kwDOAPphoM5DDYr4",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1124961016/reactions"
            },
            "updated_at": "2022-05-12T12:57:39Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1124961016",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Does https://github.com/neovim/neovim/pull/16071 fix the issue for you?",
            "created_at": "2022-05-12T12:57:52Z",
            "html_url": "https://github.com/neovim/neovim/issues/18497#issuecomment-1124961239",
            "id": 1124961239,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18497",
            "node_id": "IC_kwDOAPphoM5DDYvX",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1124961239/reactions"
            },
            "updated_at": "2022-05-12T12:57:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1124961239",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Does #16071 fix the issue for you?\r\n\r\nI tried with its recent commit (7201cf494422f501803f29ce12f0be0357b120ef), and it didn't fix this. Output is still the same as current `nvim_exec(..., false)`: `g:before_error` is 1 but `g:after_error` is absent.\r\n\r\nI hope, I built it correctly from that PR (not much experience with this), because version is showed to be `NVIM v0.7.0-dev+7201cf494`.",
            "created_at": "2022-05-12T13:54:50Z",
            "html_url": "https://github.com/neovim/neovim/issues/18497#issuecomment-1125026814",
            "id": 1125026814,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18497",
            "node_id": "IC_kwDOAPphoM5DDov-",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1125026814/reactions"
            },
            "updated_at": "2022-05-12T13:54:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1125026814",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/24854248?v=4",
                "events_url": "https://api.github.com/users/echasnovski/events{/privacy}",
                "followers_url": "https://api.github.com/users/echasnovski/followers",
                "following_url": "https://api.github.com/users/echasnovski/following{/other_user}",
                "gists_url": "https://api.github.com/users/echasnovski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/echasnovski",
                "id": 24854248,
                "login": "echasnovski",
                "node_id": "MDQ6VXNlcjI0ODU0MjQ4",
                "organizations_url": "https://api.github.com/users/echasnovski/orgs",
                "received_events_url": "https://api.github.com/users/echasnovski/received_events",
                "repos_url": "https://api.github.com/users/echasnovski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/echasnovski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/echasnovski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/echasnovski",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Prolly due to `try_start` in `nvim_exec`, which is used to return empty string on error and not update `v:errmsg`. (My PR doesn't touch this)\r\nSetting `try_level` usually causes errors to abort script processing; you'd see the same thing happen in script files with:\r\n\r\n```vim\r\ntry\r\n  source init_error.vim\r\nendtry\r\n```\r\n\r\n> I hope, I built it correctly from that PR (not much experience with this), because version is showed to be NVIM v0.7.0-dev+7201cf494.\r\n\r\nThat's expected as the PR was a lil' stale. (I've since rebased it again and fixed conflicts)\r\n\r\n> My reasoning was that altering \"stop after first error\" behavior of nvim_exec() might lead to a lot of broken code\r\n\r\nI'm also somewhat concerned about this.\r\n\r\nI did have some _very vague_ thoughts of a variant of `nvim_exec` with `opts` anyway (`nvim_exec` is missing them), that could be used to run code in the context of a given SID.\r\nIf this existed, we could maybe make aborting _not_ the default for it and add an opt to control it, but :shrug:.\r\n",
            "created_at": "2022-05-13T00:43:17Z",
            "html_url": "https://github.com/neovim/neovim/issues/18497#issuecomment-1125549953",
            "id": 1125549953,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18497",
            "node_id": "IC_kwDOAPphoM5DFoeB",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1125549953/reactions"
            },
            "updated_at": "2022-05-13T00:52:41Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1125549953",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> I did have some _very vague_ thoughts of a variant of `nvim_exec` with `opts` anyway (`nvim_exec` is missing them),\r\n\r\nyep, that was a big mistake with nvim_exec :(",
            "created_at": "2022-05-13T00:48:08Z",
            "html_url": "https://github.com/neovim/neovim/issues/18497#issuecomment-1125551908",
            "id": 1125551908,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18497",
            "node_id": "IC_kwDOAPphoM5DFo8k",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1125551908/reactions"
            },
            "updated_at": "2022-05-13T00:48:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1125551908",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Is there any definitive course of action here? From what I see, at least these options might be considered:\r\n- Make breaking change to `nvim_exec()` to have `opts` instead of boolean `output`. Maybe allowing boolean second argument for some soft deprecation period. Use one of `opts` fields to control \"stop/continue on Vimscript error\" behavior.\r\n- Introduce new variant of `nvim_exec()` with `opts` argument. Same usage as before.\r\n- Introduce dedicated `nvim_source()`. Was disregarded before, but still might be an option.\r\n- Modify existing function to be completely equivalent to `:source` in this regard.\r\n\r\nIf there is a decision to what is a preferred solution, I am willing to help here (don't have experience with C, so will need at least some guidance).",
            "created_at": "2022-05-20T11:41:17Z",
            "html_url": "https://github.com/neovim/neovim/issues/18497#issuecomment-1132800701",
            "id": 1132800701,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18497",
            "node_id": "IC_kwDOAPphoM5DhSq9",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1132800701/reactions"
            },
            "updated_at": "2022-05-20T11:41:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1132800701",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/24854248?v=4",
                "events_url": "https://api.github.com/users/echasnovski/events{/privacy}",
                "followers_url": "https://api.github.com/users/echasnovski/followers",
                "following_url": "https://api.github.com/users/echasnovski/following{/other_user}",
                "gists_url": "https://api.github.com/users/echasnovski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/echasnovski",
                "id": 24854248,
                "login": "echasnovski",
                "node_id": "MDQ6VXNlcjI0ODU0MjQ4",
                "organizations_url": "https://api.github.com/users/echasnovski/orgs",
                "received_events_url": "https://api.github.com/users/echasnovski/received_events",
                "repos_url": "https://api.github.com/users/echasnovski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/echasnovski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/echasnovski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/echasnovski",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Introduce new variant of `nvim_exec`() with opts argument. Same usage as before.\r\n\r\nI'm inclined for this choice because it was such a mistake not to have `opt` on nvim_exec, name it `nvim_exec2()` and make sure that `nvim_exec()` just internally calls `nvim_exec2()`.\r\n\r\nWe will remove all this old API cruft in Nvim 2.0, as documented in `:help api-contract`. Meanwhile we have a clear deprecation strategy, which includes removing the functions from autocomplete and removing their documentation.\r\n\r\n> I am willing to help here (don't have experience with C, so will need at least some guidance).\r\n\r\nStart here https://github.com/neovim/neovim/blob/b3453ea4a6b6518cccd6922fbcaa64a0aa47c743/src/nvim/api/vimscript.c#L48\r\n\r\n",
            "created_at": "2022-05-22T15:07:08Z",
            "html_url": "https://github.com/neovim/neovim/issues/18497#issuecomment-1133915763",
            "id": 1133915763,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/18497",
            "node_id": "IC_kwDOAPphoM5Dli5z",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1133915763/reactions"
            },
            "updated_at": "2022-05-22T15:08:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1133915763",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 11,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/18497/comments",
    "created_at": "2022-05-09T13:55:59Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/18497/events",
    "html_url": "https://github.com/neovim/neovim/issues/18497",
    "id": 1229755941,
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "libnvim, Nvim RPC API",
            "id": 103819671,
            "name": "api",
            "node_id": "MDU6TGFiZWwxMDM4MTk2NzE=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/api"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/18497/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM5JTJYl",
    "number": 18497,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 4,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 4,
        "url": "https://api.github.com/repos/neovim/neovim/issues/18497/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/18497/timeline",
    "title": "`nvim_exec('source ...')` is not equivalent to `:source ...`",
    "type": {
        "color": "blue",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "A request, idea, or new functionality",
        "id": 597167,
        "is_enabled": true,
        "name": "Enhancement",
        "node_id": "IT_kwDOAGK_Pc4ACRyv",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-07-02T08:59:51Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/18497",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/24854248?v=4",
        "events_url": "https://api.github.com/users/echasnovski/events{/privacy}",
        "followers_url": "https://api.github.com/users/echasnovski/followers",
        "following_url": "https://api.github.com/users/echasnovski/following{/other_user}",
        "gists_url": "https://api.github.com/users/echasnovski/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/echasnovski",
        "id": 24854248,
        "login": "echasnovski",
        "node_id": "MDQ6VXNlcjI0ODU0MjQ4",
        "organizations_url": "https://api.github.com/users/echasnovski/orgs",
        "received_events_url": "https://api.github.com/users/echasnovski/received_events",
        "repos_url": "https://api.github.com/users/echasnovski/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/echasnovski/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/echasnovski/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/echasnovski",
        "user_view_type": "public"
    }
}