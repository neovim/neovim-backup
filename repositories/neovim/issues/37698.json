{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nhttps://github.com/neovim/neovim/blob/ddd1bf757fab3615301053acab5cc85508340844/runtime/lua/vim/fs.lua#L114\n\n```lua\n:= vim.fs.basename(\"/name/\")\n\"\"\n```\n\n### Expected behavior\n\n```lua\n:= vim.fs.basename(\"/name/\")\n:= vim.fs.basename(\"/name//////////\")\n\"name\"\n```\n\nThe same behavior as `basename` in the shell or `path.basename` in [Node.Js #pathbasenamepath-suffix](https://nodejs.org/api/path.html#pathbasenamepath-suffix).",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "I think the same should apply to `vim.fs.dirname`. Alternatively, a small note could be added to the documentation for `vim.fs.basename`.",
            "created_at": "2026-02-04T09:51:05Z",
            "html_url": "https://github.com/neovim/neovim/issues/37698#issuecomment-3846420755",
            "id": 3846420755,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37698",
            "node_id": "IC_kwDOAPphoM7lQ7kT",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3846420755/reactions"
            },
            "updated_at": "2026-02-04T09:51:05Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3846420755",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/119845045?v=4",
                "events_url": "https://api.github.com/users/drowning-cat/events{/privacy}",
                "followers_url": "https://api.github.com/users/drowning-cat/followers",
                "following_url": "https://api.github.com/users/drowning-cat/following{/other_user}",
                "gists_url": "https://api.github.com/users/drowning-cat/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/drowning-cat",
                "id": 119845045,
                "login": "drowning-cat",
                "node_id": "U_kgDOBySwtQ",
                "organizations_url": "https://api.github.com/users/drowning-cat/orgs",
                "received_events_url": "https://api.github.com/users/drowning-cat/received_events",
                "repos_url": "https://api.github.com/users/drowning-cat/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/drowning-cat/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/drowning-cat/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/drowning-cat",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "\n> Expected behavior: same behavior as `basename` in the shell or `path.basename` in [Node.Js #pathbasenamepath-suffix](https://nodejs.org/api/path.html#pathbasenamepath-suffix).\n\nWell the current behavior seems to match python's `os.path.basename`:\n\n```\n>>> import os.path\n>>> os.path.basename(\"/name/\")\n''\n```\n\n> Alternatively, a small note could be added to the documentation for `vim.fs.basename`.\n\nWhat would it say?\n\n## Proposal\n\nI do agree that `vim.fs.dirname(\"/name//////////\") = \"/name/////////\"` seems wrong. The redundant slashes should be trimmed? ",
            "created_at": "2026-02-04T14:41:41Z",
            "html_url": "https://github.com/neovim/neovim/issues/37698#issuecomment-3847866806",
            "id": 3847866806,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37698",
            "node_id": "IC_kwDOAPphoM7lWcm2",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3847866806/reactions"
            },
            "updated_at": "2026-02-04T14:41:41Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3847866806",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Sorry for the messy issue.\n\n> Alternatively, a small note could be added to the documentation for `vim.fs.basename`.\n\nIf you decide not to change the code, it could be something like that:\n\n*removed, *dealt\n\n<img width=\"915\" height=\"334\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/e875ffdd-125f-4a17-ae04-5a721bb4c91d\" />\n\n>\n\nFrom the Python docs:\n\n<img width=\"1378\" height=\"267\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/2907d523-a86c-43d4-93bd-5c0e9edd82dc\" />\n\nBut to me, it feels like they're just trying to explain away the unexpected behavior.\n\n>\n\n> The redundant slashes should be trimmed?\n\nAs stated in the Node.Js documentation:\n\n> Trailing [directory separators](https://nodejs.org/api/path.html#pathsep) are ignored.\n\nI'd explain my reasoning another way: is there any reason not to trim them? I can't imagine why someone would want an empty string from `basename` or `dirname` when there is a trailing separator. Is it a chain of empty directories? Or does a path ending in `/` simply have no `basename` or `dirname`? If the goal is to get the last part of the path, it's better to use pattern matching. And it seems like other `fs` functions ignore trailing separators already.\n\n```lua\n:= vim.fs.normalize(\"/home////////////\")\n\"/home\"\n```",
            "created_at": "2026-02-04T16:08:02Z",
            "html_url": "https://github.com/neovim/neovim/issues/37698#issuecomment-3848340901",
            "id": 3848340901,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37698",
            "node_id": "IC_kwDOAPphoM7lYQWl",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3848340901/reactions"
            },
            "updated_at": "2026-02-04T19:09:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3848340901",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/119845045?v=4",
                "events_url": "https://api.github.com/users/drowning-cat/events{/privacy}",
                "followers_url": "https://api.github.com/users/drowning-cat/followers",
                "following_url": "https://api.github.com/users/drowning-cat/following{/other_user}",
                "gists_url": "https://api.github.com/users/drowning-cat/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/drowning-cat",
                "id": 119845045,
                "login": "drowning-cat",
                "node_id": "U_kgDOBySwtQ",
                "organizations_url": "https://api.github.com/users/drowning-cat/orgs",
                "received_events_url": "https://api.github.com/users/drowning-cat/received_events",
                "repos_url": "https://api.github.com/users/drowning-cat/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/drowning-cat/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/drowning-cat/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/drowning-cat",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> But to me, it feels like they're just trying to explain away the unexpected behavior.\n\nHmm. I have no real preference, so waiting to hear others.\n",
            "created_at": "2026-02-04T18:54:37Z",
            "html_url": "https://github.com/neovim/neovim/issues/37698#issuecomment-3849185746",
            "id": 3849185746,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37698",
            "node_id": "IC_kwDOAPphoM7lbenS",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3849185746/reactions"
            },
            "updated_at": "2026-02-04T18:54:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3849185746",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Agreed that Python's behavior is surprising and that Python's docs implicitly acknowledge this when they say \"Note that the result of this function is different from the Unix `basename` program; where `basename` for '/foo/bar/' returns 'bar', the [`basename()`](https://docs.python.org/3/library/os.path.html#os.path.basename) function returns an empty string ('').\"\n\nTo put this a different way, why would users expect Neovim's basename to follow *Python's* `os.path.basename`? I would definitely expect it to follow the Unix utility. It's fair to say, \"Well, we followed Python, because \\<reasons\\>\" but in that case the docs should reflect the choice.\n\n>> Alternatively, a small note could be added to the documentation for vim.fs.basename.\n>\n> What would it say?\n\nIt should say the same thing that Python's docs say: the result of `vim.fs.basename('/foo/bar/`) is `(\"\")` rather than `\"bar\"` like `basename` in shell scripts.",
            "created_at": "2026-02-05T12:43:43Z",
            "html_url": "https://github.com/neovim/neovim/issues/37698#issuecomment-3853407367",
            "id": 3853407367,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37698",
            "node_id": "IC_kwDOAPphoM7lrlSH",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3853407367/reactions"
            },
            "updated_at": "2026-02-05T12:44:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3853407367",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62958?v=4",
                "events_url": "https://api.github.com/users/telemachus/events{/privacy}",
                "followers_url": "https://api.github.com/users/telemachus/followers",
                "following_url": "https://api.github.com/users/telemachus/following{/other_user}",
                "gists_url": "https://api.github.com/users/telemachus/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/telemachus",
                "id": 62958,
                "login": "telemachus",
                "node_id": "MDQ6VXNlcjYyOTU4",
                "organizations_url": "https://api.github.com/users/telemachus/orgs",
                "received_events_url": "https://api.github.com/users/telemachus/received_events",
                "repos_url": "https://api.github.com/users/telemachus/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/telemachus/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/telemachus/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/telemachus",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 5,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/37698/comments",
    "created_at": "2026-02-04T07:57:03Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/37698/events",
    "html_url": "https://github.com/neovim/neovim/issues/37698",
    "id": 3895196881,
    "issue_dependencies_summary": {
        "blocked_by": 0,
        "blocking": 0,
        "total_blocked_by": 0,
        "total_blocking": 0
    },
    "labels": [
        {
            "color": "FBCA04",
            "default": false,
            "description": "Need a decision with a clear, actionable path.",
            "id": 83851236,
            "name": "needs:decision",
            "node_id": "MDU6TGFiZWw4Mzg1MTIzNg==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/needs:decision"
        },
        {
            "color": "c5def5",
            "default": true,
            "description": "",
            "id": 84744038,
            "name": "documentation",
            "node_id": "MDU6TGFiZWw4NDc0NDAzOA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/documentation"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "stdlib",
            "id": 573222693,
            "name": "lua",
            "node_id": "MDU6TGFiZWw1NzMyMjI2OTM=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lua"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "file metadata/attributes, filenames, path manipulation",
            "id": 3386070083,
            "name": "filesystem",
            "node_id": "LA_kwDOAPphoM7J01RD",
            "url": "https://api.github.com/repos/neovim/neovim/labels/filesystem"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/37698/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 776,
        "created_at": "2014-05-10T20:43:04Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "Low priority items. We plan to work on this but don't have a target date.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/6",
        "id": 655037,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lNjU1MDM3",
        "number": 6,
        "open_issues": 636,
        "state": "open",
        "title": "backlog",
        "updated_at": "2026-02-09T08:13:39Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/6"
    },
    "node_id": "I_kwDOAPphoM7oK_zR",
    "number": 37698,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 1,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 1,
        "url": "https://api.github.com/repos/neovim/neovim/issues/37698/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/37698/timeline",
    "title": "vim.fs: trim redundant trailing slashes with basename(), dirname()",
    "type": {
        "color": "blue",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "A request, idea, or new functionality",
        "id": 597167,
        "is_enabled": true,
        "name": "Enhancement",
        "node_id": "IT_kwDOAGK_Pc4ACRyv",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2026-02-05T12:44:27Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/37698",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/119845045?v=4",
        "events_url": "https://api.github.com/users/drowning-cat/events{/privacy}",
        "followers_url": "https://api.github.com/users/drowning-cat/followers",
        "following_url": "https://api.github.com/users/drowning-cat/following{/other_user}",
        "gists_url": "https://api.github.com/users/drowning-cat/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/drowning-cat",
        "id": 119845045,
        "login": "drowning-cat",
        "node_id": "U_kgDOBySwtQ",
        "organizations_url": "https://api.github.com/users/drowning-cat/orgs",
        "received_events_url": "https://api.github.com/users/drowning-cat/received_events",
        "repos_url": "https://api.github.com/users/drowning-cat/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/drowning-cat/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/drowning-cat/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/drowning-cat",
        "user_view_type": "public"
    }
}