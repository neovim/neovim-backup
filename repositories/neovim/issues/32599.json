{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nHello all. I've been struggling with Neovim Copying for a while. I believe I got it to work on previous versions but for the life of me I can't figure out how to make it work again. I am running Hyprland on Linux. My current version of neovim is:\n\nNVIM v0.10.4\nBuild Type: RelWithDebInfo\nLuaJIT 2.1.1736781742\n\nwhich at the time of the report is the version of the stable release.\n\nI have wl-clipboard installed (which adds wl-copy and wl-paste).\n\nI have installed xclip in the past to have neovim use the clipboard features on Xorg.\n\nIt seems that if $DISPLAY is set (:0 in my case) and $WAYLAND_DISPLAY is set (wayland-1 in my case), when I open neovim, it won't look for wl-clipboard at all. \n\nFrom the output of the :h clipboard I see:\nThe presence of a working clipboard tool implicitly enables the '+' and \"*\" registers. Nvim looks for these clipboard tools, in order of priority:\n\n - g:clipboard (unless unset or false)\n - pbcopy, pbpaste (macOS)\n - wl-copy, wl-paste (if $WAYLAND_DISPLAY is set)\n - waycopy, waypaste (if $WAYLAND_DISPLAY is set)\n - xsel (if $DISPLAY is set)\n\nNow, from reading that, my understanding is that whether or not $DISPLAY is set or not doesn't matter in my use case since I'm simply trying to use wl-copy and wl-paste. The $WAYLAND_DISPLAY is set to wayland-1. However, for some reason, even though I have the $WAYLAND_DISPLAY set and wl-copy and wl-paste available (and yes I tested the cli tools themselves to make sure they are working correctly) and yet when I launch neovim and try to copy it doesn't work.\n\nI get different errors depending on if $DISPLAY is set and if xclip is installed or not. Which I don't thinks should matter if the priority list is first looking for wayland setup before it even goes down to look at xclip/xorg setup.\n\n- If I have the $DISPLAY variable **set** (to :0 in my case)\n  - And if I **have** xclip installed when I try to do checkhealth clipboard I get:\n      Clipboard (optional) ~\n        - OK Clipboard tool found: xclip\n      And when I try to copy in neovim, I get the following error:\n        clipboard: error invoking xclip: Authorization required, but no authentication protocol specified. Error: Can't open display: :0\n  - And if I **don't have** xclip installed when I try to do checkhealth clipboard I get:\n      Clipboard (optional)\n      - WARNING: No clipboard tool found. Clipboard registers (\"+ and \"*) will not work.\n- If I have the $DISPLAY variable **unset**\n  - And if I **have** xclip installed I get:\n    - Clipboard (optional)\n      - WARNING No clipboard tool found. Clipboard registers (\"+ and \"*) will not work.\n  - And if I **don't have** xclip installed I get:\n    - Clipboard (optional)\n      - WARNING No clipboard tool found. Clipboard registers (\"+ and \"*) will not work.\n\n\nSo even when $DISPLAY is unset and $WAYLAND_DISPLAY is set, and even if xclip is uninstalled and wl-clipboard is installed, it won't find any providers at all.\n\nI can do this test in my terminal:\n\necho \"test\" | wl-copy\nwl-paste\n\nAnd I get: \"test\" in the output which means it works fine.\n\nI am somewhat at a loss. I thought I had an understanding of the priority system and if I simply had $WAYLAND_DISPLAY set and wl-clipboard (with wl-copy and wl-paste)  installed, it would use wl-clipboard and I would be able to copy/paste just fine.\n\nAlso I'm using the = register and the * register for my tests.\n\nAny help is appreciated.\n\nI also looked at this closed issue:\n\nhttps://github.com/neovim/neovim/issues/26196?utm_source=chatgpt.com\n\nHowever, the linked issue was resolved but just simply installing wl-clipboard whereas I have wl-clipboard and $WAYLAND_DISPLAY set and yet even if I unset the $DISPLAY, it still doesn't pick up my wl-clipboard.\n\nI did just did an entire system upgrade before testing all of these things again.\n\nThanks for any help\n\n\n\n\n### Steps to reproduce\n\nInstall NVIM v0.10.4 with build type RelWithDebInfo from the official arch repository.\n\nOpen a wayland window manager of some kind like hyprland.\n\nInstall wl-clipboard from arch official arch repository.\n\nEnsure $DISPLAY environment variable is set, ensure $WAYLAND_DISPLAY variable is set, ensure that you have wl-clipboard. You can change $DISPLAY environment variable to debug and/or install xclip to debug.\n\n### Expected behavior\n\nI was expecting once I installed wl-clipboard and ensured that the $WAYLAND_DISPLAY variable is set, that it should allow me to copy/paste normally using neovim and that the checkhealth status of the clipboard would say OK.\n\n### Nvim version (nvim -v)\n\nv0.10.4\n\n### Vim (not Nvim) behaves the same?\n\nyes, VIM - Vi IMproved 9.1 (without the check health debugging)\n\n### Operating system/version\n\nUp-To-Date-Arch-Linux\n\n### Terminal name/version\n\nkitty 0.39.1\n\n### $TERM environment variable\n\nxterm-kitty\n\n### Installation\n\nArch Official Repo",
    "closed_at": "2025-02-23T22:37:03Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/26285018?v=4",
        "events_url": "https://api.github.com/users/shawn-peery/events{/privacy}",
        "followers_url": "https://api.github.com/users/shawn-peery/followers",
        "following_url": "https://api.github.com/users/shawn-peery/following{/other_user}",
        "gists_url": "https://api.github.com/users/shawn-peery/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/shawn-peery",
        "id": 26285018,
        "login": "shawn-peery",
        "node_id": "MDQ6VXNlcjI2Mjg1MDE4",
        "organizations_url": "https://api.github.com/users/shawn-peery/orgs",
        "received_events_url": "https://api.github.com/users/shawn-peery/received_events",
        "repos_url": "https://api.github.com/users/shawn-peery/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/shawn-peery/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/shawn-peery/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/shawn-peery",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Please test the latest development version. The [Releases](https://github.com/neovim/neovim/releases/tag/nightly) page has pre-built archives for Linux/Windows/macOS. Check `:version` to confirm the version.",
            "created_at": "2025-02-23T19:36:52Z",
            "html_url": "https://github.com/neovim/neovim/issues/32599#issuecomment-2677076981",
            "id": 2677076981,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/32599",
            "node_id": "IC_kwDOAPphoM6fkPP1",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2677076981/reactions"
            },
            "updated_at": "2025-02-23T19:36:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2677076981",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I accidentally made this ticket closed. Can someone re-open it?\n\nAdditionally, I installed both the .AppImage and the .zip file with the binary file in it and ran nvim with the version of: NVIM v0.11.0-dev-1819+glc81734871\n\nBut when I do :checkhealth clipboard it says:\n\n\"clipboard:\n\n- Error No health check found for \"clipboard\" plugin.\"\n\nBut interestingly enough if I just try to copy from neovim, it does work on the latest version at least with the + register.\n\nSo I'm not sure why the clipboard checkhealth isn't working. Perhaps because it's development version? But if I understand the situation correctly, will this issue be resolved once the arch repo updates to neovim version v0.11.0?\n\n",
            "created_at": "2025-02-23T22:41:57Z",
            "html_url": "https://github.com/neovim/neovim/issues/32599#issuecomment-2677157328",
            "id": 2677157328,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/32599",
            "node_id": "IC_kwDOAPphoM6fki3Q",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2677157328/reactions"
            },
            "updated_at": "2025-02-23T22:43:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2677157328",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26285018?v=4",
                "events_url": "https://api.github.com/users/shawn-peery/events{/privacy}",
                "followers_url": "https://api.github.com/users/shawn-peery/followers",
                "following_url": "https://api.github.com/users/shawn-peery/following{/other_user}",
                "gists_url": "https://api.github.com/users/shawn-peery/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shawn-peery",
                "id": 26285018,
                "login": "shawn-peery",
                "node_id": "MDQ6VXNlcjI2Mjg1MDE4",
                "organizations_url": "https://api.github.com/users/shawn-peery/orgs",
                "received_events_url": "https://api.github.com/users/shawn-peery/received_events",
                "repos_url": "https://api.github.com/users/shawn-peery/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shawn-peery/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shawn-peery/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shawn-peery",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> But interestingly enough if I just try to copy from neovim, it does work on the latest version at least with the + register.\n\nso why does this need to be reopened?\n\n\n",
            "created_at": "2025-02-24T00:00:39Z",
            "html_url": "https://github.com/neovim/neovim/issues/32599#issuecomment-2677197627",
            "id": 2677197627,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/32599",
            "node_id": "IC_kwDOAPphoM6fkss7",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2677197627/reactions"
            },
            "updated_at": "2025-02-24T00:00:39Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2677197627",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "@justinmk \n\nJust wanting to confirm that that is the solution. So I will wait until Arch Linux packages update and then try again.",
            "created_at": "2025-02-24T00:42:45Z",
            "html_url": "https://github.com/neovim/neovim/issues/32599#issuecomment-2677227140",
            "id": 2677227140,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/32599",
            "node_id": "IC_kwDOAPphoM6fkz6E",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2677227140/reactions"
            },
            "updated_at": "2025-02-24T00:42:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2677227140",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26285018?v=4",
                "events_url": "https://api.github.com/users/shawn-peery/events{/privacy}",
                "followers_url": "https://api.github.com/users/shawn-peery/followers",
                "following_url": "https://api.github.com/users/shawn-peery/following{/other_user}",
                "gists_url": "https://api.github.com/users/shawn-peery/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shawn-peery",
                "id": 26285018,
                "login": "shawn-peery",
                "node_id": "MDQ6VXNlcjI2Mjg1MDE4",
                "organizations_url": "https://api.github.com/users/shawn-peery/orgs",
                "received_events_url": "https://api.github.com/users/shawn-peery/received_events",
                "repos_url": "https://api.github.com/users/shawn-peery/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shawn-peery/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shawn-peery/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shawn-peery",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/32599/comments",
    "created_at": "2025-02-23T18:21:53Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/32599/events",
    "html_url": "https://github.com/neovim/neovim/issues/32599",
    "id": 2873379714,
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "clipboard, paste",
            "id": 186192409,
            "name": "clipboard",
            "node_id": "MDU6TGFiZWwxODYxOTI0MDk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/clipboard"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/32599/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6rREuC",
    "number": 32599,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/32599/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/32599/timeline",
    "title": "Can't get my neovim to ever look at my wl-copy or wl-paste utilities when copying",
    "updated_at": "2025-02-24T00:42:46Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/32599",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/26285018?v=4",
        "events_url": "https://api.github.com/users/shawn-peery/events{/privacy}",
        "followers_url": "https://api.github.com/users/shawn-peery/followers",
        "following_url": "https://api.github.com/users/shawn-peery/following{/other_user}",
        "gists_url": "https://api.github.com/users/shawn-peery/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/shawn-peery",
        "id": 26285018,
        "login": "shawn-peery",
        "node_id": "MDQ6VXNlcjI2Mjg1MDE4",
        "organizations_url": "https://api.github.com/users/shawn-peery/orgs",
        "received_events_url": "https://api.github.com/users/shawn-peery/received_events",
        "repos_url": "https://api.github.com/users/shawn-peery/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/shawn-peery/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/shawn-peery/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/shawn-peery",
        "user_view_type": "public"
    }
}