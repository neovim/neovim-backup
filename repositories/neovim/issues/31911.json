{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nIn css language server. Use `<C-x><C-o>`  get the prefix match list before(v0.10),  but now get the full list(v0.11).\n\n*v0.10.3*\n![Image](https://github.com/user-attachments/assets/6418f32c-3f4c-43df-8546-5caf49b714c7)\n\n*v0.11*\n![Image](https://github.com/user-attachments/assets/fa939a3c-787d-4abc-8434-7b0361fc0cd7)\n\n\n\n### Steps to reproduce\n\n1. `npm i -g vscode-langservers-extracted`\n2. `nvim -u test.lua 1.css`\n3. type `text-<C-x><C-o>` \n\n*./test.lua*\n```lua\nvim.cmd('set shiftwidth=4')\nvim.cmd('hi Normal guibg=none')\nvim.cmd('set completeopt=menu,menuone,noselect')\n\nvim.api.nvim_create_autocmd('FileType', {\n    pattern = {\n        'css'\n    },\n    callback = function ()\n        vim.lsp.start({\n            name = \"lsp-css\",\n            cmd = { 'vscode-css-language-server.cmd', '--stdio' },  -- .cmd for windows\n        })\n    end\n})\n```\n\n### Expected behavior\n\nSame with v0.10, always get the prefix match list.\n\n### Nvim version (nvim -v)\n\nNVIM v0.11.0-dev-1498+g6719276040\n\n### Vim (not Nvim) behaves the same?\n\nno\n\n### Operating system/version\n\nwindows 11\n\n### Terminal name/version\n\nwindows terminal v1.21\n\n### $TERM environment variable\n\nN/A\n\n### Installation\n\nscoop",
    "closed_at": "2025-01-08T15:08:19Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
        "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
        "followers_url": "https://api.github.com/users/dundargoc/followers",
        "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
        "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/dundargoc",
        "id": 33953936,
        "login": "dundargoc",
        "node_id": "MDQ6VXNlcjMzOTUzOTM2",
        "organizations_url": "https://api.github.com/users/dundargoc/orgs",
        "received_events_url": "https://api.github.com/users/dundargoc/received_events",
        "repos_url": "https://api.github.com/users/dundargoc/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/dundargoc",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Bisected to ff097f2091e7a970e5b12960683b4dade5563040/https://github.com/neovim/neovim/pull/27339\n\n@MariaSolOs no clue if this is intended or not, any ideas?",
            "created_at": "2025-01-08T09:34:14Z",
            "html_url": "https://github.com/neovim/neovim/issues/31911#issuecomment-2577208458",
            "id": 2577208458,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31911",
            "node_id": "IC_kwDOAPphoM6ZnRSK",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2577208458/reactions"
            },
            "updated_at": "2025-01-08T09:34:14Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2577208458",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
                "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
                "followers_url": "https://api.github.com/users/dundargoc/followers",
                "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
                "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dundargoc",
                "id": 33953936,
                "login": "dundargoc",
                "node_id": "MDQ6VXNlcjMzOTUzOTM2",
                "organizations_url": "https://api.github.com/users/dundargoc/orgs",
                "received_events_url": "https://api.github.com/users/dundargoc/received_events",
                "repos_url": "https://api.github.com/users/dundargoc/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dundargoc",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I can't reproduce with `VIMRUNTIME=./runtime vi --clean -u test.lua test.css` but can reproduce with default install $VIMRUNTIME.\n\n\n<img width=\"383\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/fe0b0129-2e7f-4f7a-bfff-b680c1ad8961\" />\n\n",
            "created_at": "2025-01-08T12:39:14Z",
            "html_url": "https://github.com/neovim/neovim/issues/31911#issuecomment-2577576905",
            "id": 2577576905,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31911",
            "node_id": "IC_kwDOAPphoM6ZorPJ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2577576905/reactions"
            },
            "updated_at": "2025-01-08T12:43:48Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2577576905",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Bisected to [ff097f2](https://github.com/neovim/neovim/commit/ff097f2091e7a970e5b12960683b4dade5563040)/[#27339](https://github.com/neovim/neovim/pull/27339)\n> \n> [@MariaSolOs](https://github.com/MariaSolOs) no clue if this is intended or not, any ideas?\n\nWhile that was the initial commit that changed the behavior, I think https://github.com/neovim/neovim/pull/30945 is more relevant to this.\nThe behavior is intentional.\n\nThis is one of the returned candidates:\n\n```\n{\n  command = {\n    command = \"editor.action.triggerSuggest\",\n    title = \"Suggest\"\n  },\n  documentation = {\n    kind = \"markdown\",\n    value = \"Specifies the height of the content area, padding area or border area \\\\(depending on 'box\\\\-sizing'\\\\) of certain boxes\\\\.\\n\\n(Edge 12, Firefox 1, Safari 1, Chrome 1, IE 4, Opera 7)\\n\\nSyntax: auto | &lt;length&gt; | &lt;percentage&gt; | min\\\\-content | max\\\\-content | fit\\\\-content | fit\\\\-content\\\\(&lt;length\\\\-percentage&gt;\\\\)\\n\\n[MDN Reference](https://developer.mozilla.org/docs/Web/CSS/height)\"\n  },\n  insertTextFormat = 2,\n  kind = 10,\n  label = \"height\",\n  sortText = \"d_9f\",\n  tags = {},\n  textEdit = {\n    newText = \"height: $0;\",\n    range = {\n      [\"end\"] = {\n        character = 7,\n        line = 1\n      },\n      start = {\n        character = 2,\n        line = 1\n      }\n    }\n  }\n},\n```\nThe candidate contains `textEdit`, which means this part of the [spec](https://microsoft.github.io/language-server-protocol/specifications/lsp/3.17/specification/#textDocument_completion) applies:\n\n> Completion Item with text edits: in this mode the server tells the client that it actually knows what it is doing. If you create a completion item with a text edit at the current cursor position no word guessing takes place and no filtering should happen\n\n\nAnd therefore nvim doesn't apply the prefix filter (which would be `text-` in this case, and remove the `height` candidate)\n\n\nI agree that the result isn't ideal in this case, but it is in line with the spec so I'm not sure how to best deal with this without causing regressions for other servers. Maybe it should be brought up in the css-ls repo?\n",
            "created_at": "2025-01-08T14:47:17Z",
            "html_url": "https://github.com/neovim/neovim/issues/31911#issuecomment-2577854145",
            "id": 2577854145,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31911",
            "node_id": "IC_kwDOAPphoM6Zpu7B",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 3,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 3,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2577854145/reactions"
            },
            "updated_at": "2025-01-08T14:47:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2577854145",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/38700?v=4",
                "events_url": "https://api.github.com/users/mfussenegger/events{/privacy}",
                "followers_url": "https://api.github.com/users/mfussenegger/followers",
                "following_url": "https://api.github.com/users/mfussenegger/following{/other_user}",
                "gists_url": "https://api.github.com/users/mfussenegger/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mfussenegger",
                "id": 38700,
                "login": "mfussenegger",
                "node_id": "MDQ6VXNlcjM4NzAw",
                "organizations_url": "https://api.github.com/users/mfussenegger/orgs",
                "received_events_url": "https://api.github.com/users/mfussenegger/received_events",
                "repos_url": "https://api.github.com/users/mfussenegger/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mfussenegger/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mfussenegger/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mfussenegger",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "That spec section sounds like it's pretty clear cut? We're following the spec as intended and the server is insisting that the results shouldn't be filtered by the client, so there is nothing we can do as I understand it. This should be reported to https://github.com/microsoft/vscode-css-languageservice. I'll go ahead and close this if there are no objections.",
            "created_at": "2025-01-08T15:08:19Z",
            "html_url": "https://github.com/neovim/neovim/issues/31911#issuecomment-2577906280",
            "id": 2577906280,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31911",
            "node_id": "IC_kwDOAPphoM6Zp7po",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2577906280/reactions"
            },
            "updated_at": "2025-01-08T15:08:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2577906280",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
                "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
                "followers_url": "https://api.github.com/users/dundargoc/followers",
                "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
                "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dundargoc",
                "id": 33953936,
                "login": "dundargoc",
                "node_id": "MDQ6VXNlcjMzOTUzOTM2",
                "organizations_url": "https://api.github.com/users/dundargoc/orgs",
                "received_events_url": "https://api.github.com/users/dundargoc/received_events",
                "repos_url": "https://api.github.com/users/dundargoc/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dundargoc",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "@dundargoc  I can't judge which you said whether is reason.  I'm very curious @glepnir mentioned. I get  the same situation on windows. \n\nBut, why offer the built-in completion to user?  Why not give some flexible method to solve these question which under the spec? \n\nBy the way, you close question is so quickly. ",
            "created_at": "2025-01-08T15:26:34Z",
            "html_url": "https://github.com/neovim/neovim/issues/31911#issuecomment-2577953359",
            "id": 2577953359,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31911",
            "node_id": "IC_kwDOAPphoM6ZqHJP",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2577953359/reactions"
            },
            "updated_at": "2025-01-09T02:16:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2577953359",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/188698513?v=4",
                "events_url": "https://api.github.com/users/ddad431/events{/privacy}",
                "followers_url": "https://api.github.com/users/ddad431/followers",
                "following_url": "https://api.github.com/users/ddad431/following{/other_user}",
                "gists_url": "https://api.github.com/users/ddad431/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ddad431",
                "id": 188698513,
                "login": "ddad431",
                "node_id": "U_kgDOCz9PkQ",
                "organizations_url": "https://api.github.com/users/ddad431/orgs",
                "received_events_url": "https://api.github.com/users/ddad431/received_events",
                "repos_url": "https://api.github.com/users/ddad431/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ddad431/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ddad431/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ddad431",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "One more thing to add to clarify the current behaviour: Once the completion popup menu is visible, typing more characters will activate the client side filtering to ensure the result gets narrowed based on the newly typed character without having to do additional server roundtrips. If that's prefix matching or fuzzy depends on the completeopt settings. \n\n> But, why offer the built-in completion to user?\n\nBecause it works well for well-behaving servers.\n\nAlso note that https://github.com/neovim/neovim/pull/30936 might provide the option to customize filtering, so one could force prefix match",
            "created_at": "2025-01-08T15:31:30Z",
            "html_url": "https://github.com/neovim/neovim/issues/31911#issuecomment-2577966102",
            "id": 2577966102,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31911",
            "node_id": "IC_kwDOAPphoM6ZqKQW",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2577966102/reactions"
            },
            "updated_at": "2025-01-08T15:31:30Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2577966102",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/38700?v=4",
                "events_url": "https://api.github.com/users/mfussenegger/events{/privacy}",
                "followers_url": "https://api.github.com/users/mfussenegger/followers",
                "following_url": "https://api.github.com/users/mfussenegger/following{/other_user}",
                "gists_url": "https://api.github.com/users/mfussenegger/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mfussenegger",
                "id": 38700,
                "login": "mfussenegger",
                "node_id": "MDQ6VXNlcjM4NzAw",
                "organizations_url": "https://api.github.com/users/mfussenegger/orgs",
                "received_events_url": "https://api.github.com/users/mfussenegger/received_events",
                "repos_url": "https://api.github.com/users/mfussenegger/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mfussenegger/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mfussenegger/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mfussenegger",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> I can't judge which you said whether is reason.\n\nMathias said it was the reason and I don't see a reason not to trust his judgement?\n\n> But, why offer the built-in completion to user?\n\nWe're following the lsp specification as described.\n\n> Why not give some flexible method to solve these question which under the spec?\n\nI guess the PR Mathias linked does that, but I assumed we weren't going to accommodate badly behaving servers. I'll refer to his judgement on this.",
            "created_at": "2025-01-08T16:12:35Z",
            "html_url": "https://github.com/neovim/neovim/issues/31911#issuecomment-2578066590",
            "id": 2578066590,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31911",
            "node_id": "IC_kwDOAPphoM6Zqiye",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2578066590/reactions"
            },
            "updated_at": "2025-01-08T16:13:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2578066590",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
                "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
                "followers_url": "https://api.github.com/users/dundargoc/followers",
                "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
                "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dundargoc",
                "id": 33953936,
                "login": "dundargoc",
                "node_id": "MDQ6VXNlcjMzOTUzOTM2",
                "organizations_url": "https://api.github.com/users/dundargoc/orgs",
                "received_events_url": "https://api.github.com/users/dundargoc/received_events",
                "repos_url": "https://api.github.com/users/dundargoc/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dundargoc",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 7,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/31911/comments",
    "created_at": "2025-01-08T08:17:11Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/31911/events",
    "html_url": "https://github.com/neovim/neovim/issues/31911",
    "id": 2774627113,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "issues reporting wrong behavior",
            "id": 77997474,
            "name": "bug",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3NA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": null,
            "id": 662566370,
            "name": "lsp",
            "node_id": "MDU6TGFiZWw2NjI1NjYzNzA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lsp"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "Nvim built-in (omni)completion",
            "id": 3214348835,
            "name": "completion",
            "node_id": "MDU6TGFiZWwzMjE0MzQ4ODM1",
            "url": "https://api.github.com/repos/neovim/neovim/labels/completion"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/31911/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6lYXMp",
    "number": 31911,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/31911/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "not_planned",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/31911/timeline",
    "title": "for some language server, `<C-x><C-o>` omnifunc completion has broken in 0.11",
    "updated_at": "2025-01-17T15:00:50Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/31911",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/188698513?v=4",
        "events_url": "https://api.github.com/users/ddad431/events{/privacy}",
        "followers_url": "https://api.github.com/users/ddad431/followers",
        "following_url": "https://api.github.com/users/ddad431/following{/other_user}",
        "gists_url": "https://api.github.com/users/ddad431/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/ddad431",
        "id": 188698513,
        "login": "ddad431",
        "node_id": "U_kgDOCz9PkQ",
        "organizations_url": "https://api.github.com/users/ddad431/orgs",
        "received_events_url": "https://api.github.com/users/ddad431/received_events",
        "repos_url": "https://api.github.com/users/ddad431/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/ddad431/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ddad431/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/ddad431",
        "user_view_type": "public"
    }
}