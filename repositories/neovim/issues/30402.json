{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "### Problem\n\nSince 26be6446e5ea1c5b22c50bfd9a0e5aa85927aff9, some new characters are treated as double-width rather than single. However the rendering of the cursor when on these characters is not consistent with the previous double width characters, e.g. emojis:\r\n\r\n- Cursor doesn't take up two columns\r\n- Visual selection doesn't account for the extra column\r\n\r\nSee below:\r\n![image](https://github.com/user-attachments/assets/46614f4d-0c69-456c-998d-427fac0f8ee5)\r\n(blank space in visual selection, should look like this:)\r\n![image](https://github.com/user-attachments/assets/ee86c25c-26ac-4b19-bb24-97c3df7f2fc9)\r\n\n\n### Steps to reproduce\n\n`nvim --clean` `:edit foo` `iðŸ—¹<Esc>`\n\n### Expected behavior\n\nThe new double width characters act like emojis, where the cursor takes up two columns which prevents the weird rendering\n\n### Neovim version (nvim -v)\n\nv0.11.0-nightly+b6e350a\n\n### Vim (not Nvim) behaves the same?\n\nno, vim 9.1\n\n### Operating system/version\n\nNixOS, linux kernel 6.10.7\n\n### Terminal name/version\n\nkitty 0.36.1\n\n### $TERM environment variable\n\nxterm-kitty\n\n### Installation\n\nbuild from source",
    "closed_at": null,
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
        "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
        "followers_url": "https://api.github.com/users/bfredl/followers",
        "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
        "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/bfredl",
        "id": 1363104,
        "login": "bfredl",
        "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
        "organizations_url": "https://api.github.com/users/bfredl/orgs",
        "received_events_url": "https://api.github.com/users/bfredl/received_events",
        "repos_url": "https://api.github.com/users/bfredl/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/bfredl",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "This is a terminal emulator issue. It is up to the terminal to make the block cursor double width whenever the cursor is on a double width char (and the chosen font has a wide glyph for it), so this has to be fixed in kitty.",
            "created_at": "2024-09-16T22:13:41Z",
            "html_url": "https://github.com/neovim/neovim/issues/30402#issuecomment-2354121832",
            "id": 2354121832,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30402",
            "node_id": "IC_kwDOAPphoM6MUQxo",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 1,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2354121832/reactions"
            },
            "updated_at": "2024-09-16T22:13:41Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2354121832",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
                "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
                "followers_url": "https://api.github.com/users/bfredl/followers",
                "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
                "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bfredl",
                "id": 1363104,
                "login": "bfredl",
                "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
                "organizations_url": "https://api.github.com/users/bfredl/orgs",
                "received_events_url": "https://api.github.com/users/bfredl/received_events",
                "repos_url": "https://api.github.com/users/bfredl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bfredl",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "The Visual selection problem isn't new. It may happen with `setcellwidths()` as well.\r\n```vim\r\ncall setcellwidths([[0x2103, 0x2103, 2]])\r\ncall setline(1, \"foo\\u2103bar\")\r\nnormal! 3lV\r\n```\r\n\r\nRelated #8983 #7488\r\n\r\nWorkaround: enable cursor blinking in Visual mode:\r\n```vim\r\nset guicursor+=v:blinkon500-blinkoff500\r\n```",
            "created_at": "2024-09-16T22:34:39Z",
            "html_url": "https://github.com/neovim/neovim/issues/30402#issuecomment-2354146701",
            "id": 2354146701,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30402",
            "node_id": "IC_kwDOAPphoM6MUW2N",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2354146701/reactions"
            },
            "updated_at": "2024-09-16T23:04:31Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2354146701",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> This is a terminal emulator issue. It is up to the terminal to make the block cursor double width whenever the cursor is on a double width char (and the chosen font has a wide glyph for it), so this has to be fixed in kitty.\r\n\r\nNo, it isnt. This is a neovim issue. Nowhere in the unicode spec that I can find does it say extended_pictographic characters must be rendered wide by default. Indeed, the extended_pictographic characters include characters like Â©ï¸ and âš¨ which are obviously not to be rendered wide by default. You for some reason have decided that the intersection of extended pictographic characters and codepoints above 1f000 should be rendered wide by default. What is the justification for this? I can find nothing in the unicode standard that says anything about this neovim specific set of characters.",
            "created_at": "2024-09-17T05:57:00Z",
            "html_url": "https://github.com/neovim/neovim/issues/30402#issuecomment-2354593999",
            "id": 2354593999,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30402",
            "node_id": "IC_kwDOAPphoM6MWEDP",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2354593999/reactions"
            },
            "updated_at": "2024-09-17T05:57:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2354593999",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1308621?v=4",
                "events_url": "https://api.github.com/users/kovidgoyal/events{/privacy}",
                "followers_url": "https://api.github.com/users/kovidgoyal/followers",
                "following_url": "https://api.github.com/users/kovidgoyal/following{/other_user}",
                "gists_url": "https://api.github.com/users/kovidgoyal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kovidgoyal",
                "id": 1308621,
                "login": "kovidgoyal",
                "node_id": "MDQ6VXNlcjEzMDg2MjE=",
                "organizations_url": "https://api.github.com/users/kovidgoyal/orgs",
                "received_events_url": "https://api.github.com/users/kovidgoyal/received_events",
                "repos_url": "https://api.github.com/users/kovidgoyal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kovidgoyal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kovidgoyal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kovidgoyal",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@kovidgoyal This is true but beside the point of what is actually being reported here. If we look at the picture both following statements are true\r\n\r\n- terminal emulator does, in fact, render a wide glyph for the character in question when the space is available.\r\n- the terminal emulator still renders a narrow cursor block (the white color)  over this character.\r\n\r\n**This** inconsistency is not something which neither can be detected nor solved by the TUI application, as only the terminal emulator knows if the glyph rendered by the font was actually wide.\r\n\r\nIn addition there is also an issue about the visual selection (the two different nuances of dark gray), which is on the neovim side (although it would be less visible if a wide cursor was used in the first place).",
            "created_at": "2024-09-17T08:09:22Z",
            "html_url": "https://github.com/neovim/neovim/issues/30402#issuecomment-2354835672",
            "id": 2354835672,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30402",
            "node_id": "IC_kwDOAPphoM6MW_DY",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2354835672/reactions"
            },
            "updated_at": "2024-09-17T08:09:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2354835672",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
                "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
                "followers_url": "https://api.github.com/users/bfredl/followers",
                "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
                "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bfredl",
                "id": 1363104,
                "login": "bfredl",
                "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
                "organizations_url": "https://api.github.com/users/bfredl/orgs",
                "received_events_url": "https://api.github.com/users/bfredl/received_events",
                "repos_url": "https://api.github.com/users/bfredl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bfredl",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "On Tue, Sep 17, 2024 at 01:09:45AM -0700, bfredl wrote:\n> @kovidgoyal This is true but beside the point of what is actually being reported here. If we look at the picture both following statements are true\n>\n> - terminal emulator does, in fact, render a wide glyph for the character in question when the space is available.\n> - the terminal emulator still renders a narrow cursor block (the white color)  over this character.\n\nYes because the character is a narrow character, it's just making use of\nthe extra space to render nicely. kitty uses wide cursors only for actually wide\ncharacters, i.e. characters that occupy two cells not just visually but\nalso in terms of cursor movement, positioning, deleting characters, line\nwrapping, etc.\n\nIf kitty were to follow your suggestion and use a wide cursor for these\ncharacters, it would break many things, for example, you would not be\nable to position the cursor on the space following the character.\n\nIf nvim incorrectly calculates the width of some characters then all\nthese operations can potentially break, so I strongly recommend getting\nthe width calculation right.\n",
            "created_at": "2024-09-17T08:17:40Z",
            "html_url": "https://github.com/neovim/neovim/issues/30402#issuecomment-2354852838",
            "id": 2354852838,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30402",
            "node_id": "IC_kwDOAPphoM6MXDPm",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2354852838/reactions"
            },
            "updated_at": "2024-09-17T08:17:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2354852838",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1308621?v=4",
                "events_url": "https://api.github.com/users/kovidgoyal/events{/privacy}",
                "followers_url": "https://api.github.com/users/kovidgoyal/followers",
                "following_url": "https://api.github.com/users/kovidgoyal/following{/other_user}",
                "gists_url": "https://api.github.com/users/kovidgoyal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kovidgoyal",
                "id": 1308621,
                "login": "kovidgoyal",
                "node_id": "MDQ6VXNlcjEzMDg2MjE=",
                "organizations_url": "https://api.github.com/users/kovidgoyal/orgs",
                "received_events_url": "https://api.github.com/users/kovidgoyal/received_events",
                "repos_url": "https://api.github.com/users/kovidgoyal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kovidgoyal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kovidgoyal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kovidgoyal",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": ">  it's just making use of the extra space to render nicely\r\n\r\nSo you're arbitrarily rendering a narrow character as wide? That's... certainly one way of doing it.\r\n",
            "created_at": "2024-09-17T08:21:19Z",
            "html_url": "https://github.com/neovim/neovim/issues/30402#issuecomment-2354860971",
            "id": 2354860971,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30402",
            "node_id": "IC_kwDOAPphoM6MXFOr",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2354860971/reactions"
            },
            "updated_at": "2024-09-17T08:21:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2354860971",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "No, not arbitrarily, *only when it is followed by a space*. And entirely configurably by the end user https://sw.kovidgoyal.net/kitty/conf/#opt-kitty.narrow_symbols, and in a way that does not break integration with other software, unlike what neovim is proposing to do here which is arbitrarily changing the *actual width* as opposed to *rendered appearance* of the character.",
            "created_at": "2024-09-17T08:27:56Z",
            "html_url": "https://github.com/neovim/neovim/issues/30402#issuecomment-2354875306",
            "id": 2354875306,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30402",
            "node_id": "IC_kwDOAPphoM6MXIuq",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2354875306/reactions"
            },
            "updated_at": "2024-09-17T08:27:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2354875306",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1308621?v=4",
                "events_url": "https://api.github.com/users/kovidgoyal/events{/privacy}",
                "followers_url": "https://api.github.com/users/kovidgoyal/followers",
                "following_url": "https://api.github.com/users/kovidgoyal/following{/other_user}",
                "gists_url": "https://api.github.com/users/kovidgoyal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kovidgoyal",
                "id": 1308621,
                "login": "kovidgoyal",
                "node_id": "MDQ6VXNlcjEzMDg2MjE=",
                "organizations_url": "https://api.github.com/users/kovidgoyal/orgs",
                "received_events_url": "https://api.github.com/users/kovidgoyal/received_events",
                "repos_url": "https://api.github.com/users/kovidgoyal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kovidgoyal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kovidgoyal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kovidgoyal",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "sure, that's the terminal emulator's choice to make if it so insist, but it is still not a neovim issue. \r\n\r\nThere is no such thing as the \"correct width\" of a pictographic character. there are plenty of emoji which has EastAsianWidth=1 and still is rendered as double width by nearly all emoji fonts in existence, and neovim has to make one good guess or another. Altough the user can actually opt out of this behavior by `set noemoji` in neovim if they really wanted to stick to the EAW standard literally. ",
            "created_at": "2024-09-17T08:28:05Z",
            "html_url": "https://github.com/neovim/neovim/issues/30402#issuecomment-2354875615",
            "id": 2354875615,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30402",
            "node_id": "IC_kwDOAPphoM6MXIzf",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2354875615/reactions"
            },
            "updated_at": "2024-09-17T08:28:05Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2354875615",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
                "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
                "followers_url": "https://api.github.com/users/bfredl/followers",
                "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
                "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bfredl",
                "id": 1363104,
                "login": "bfredl",
                "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
                "organizations_url": "https://api.github.com/users/bfredl/orgs",
                "received_events_url": "https://api.github.com/users/bfredl/received_events",
                "repos_url": "https://api.github.com/users/bfredl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bfredl",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Yes, there is such a thing as the correct width, and you need to calculate it if you want to do any sort of correct text layout using such characters in a terminal. The algorithm for calculating grapheme segmentation of a sequence of unicode codepoints is described in he unicode standard: https://www.unicode.org/reports/tr29/\r\n\r\nand how emoji relate to that in: https://www.unicode.org/reports/tr51\r\n\r\nTo date no major terminal emulators implement all of UAX29, but at least for the emoji under discussion here, all modern terminal emulators agree their default width is 1, in the absence of the unicode variation selector. neovim really should be following that. But anyway, let me not spend more of my time on this, it's your project, you do whatever you want.",
            "created_at": "2024-09-17T08:33:23Z",
            "html_url": "https://github.com/neovim/neovim/issues/30402#issuecomment-2354886463",
            "id": 2354886463,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30402",
            "node_id": "IC_kwDOAPphoM6MXLc_",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 1,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2354886463/reactions"
            },
            "updated_at": "2024-09-17T08:33:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2354886463",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1308621?v=4",
                "events_url": "https://api.github.com/users/kovidgoyal/events{/privacy}",
                "followers_url": "https://api.github.com/users/kovidgoyal/followers",
                "following_url": "https://api.github.com/users/kovidgoyal/following{/other_user}",
                "gists_url": "https://api.github.com/users/kovidgoyal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kovidgoyal",
                "id": 1308621,
                "login": "kovidgoyal",
                "node_id": "MDQ6VXNlcjEzMDg2MjE=",
                "organizations_url": "https://api.github.com/users/kovidgoyal/orgs",
                "received_events_url": "https://api.github.com/users/kovidgoyal/received_events",
                "repos_url": "https://api.github.com/users/kovidgoyal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kovidgoyal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kovidgoyal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kovidgoyal",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> But anyway, let me not spend more of my time on this, it's your project, you do whatever you want.\r\n\r\nSame. Luckily, there is choice.",
            "created_at": "2024-09-17T08:36:18Z",
            "html_url": "https://github.com/neovim/neovim/issues/30402#issuecomment-2354892530",
            "id": 2354892530,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30402",
            "node_id": "IC_kwDOAPphoM6MXM7y",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2354892530/reactions"
            },
            "updated_at": "2024-09-17T08:36:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2354892530",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I don't think that means there is no issue in Nvim, as this issue also happens for symbols that are rendered as single-width in the terminal, but are set to double-width in Nvim (e.g. via `ambiwidth=double` or `setcellwidths()`).\n\nA possible solution here is to apply Visual highlighting to the 2 spaces filling for double-width ambiwidth characters, but the UI protocol will complicate that.",
            "created_at": "2024-09-17T08:55:18Z",
            "html_url": "https://github.com/neovim/neovim/issues/30402#issuecomment-2354934702",
            "id": 2354934702,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30402",
            "node_id": "IC_kwDOAPphoM6MXXOu",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2354934702/reactions"
            },
            "updated_at": "2025-02-15T01:44:47Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2354934702",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I've tested printing the same sequence of characters inside and outside of neovim. \n\nThe results with a double width character inside vim is an extra space after the actual character : \n\n![Image](https://github.com/user-attachments/assets/f032feeb-06ae-47b4-9635-686431d5491e)\n\n![Image](https://github.com/user-attachments/assets/f18cacfa-3786-4bd2-ba96-f517efe2bedd)\n\nI've used the command `echo -e '|\\e[1;41m\\U0001f551\\e[0m|'`",
            "created_at": "2025-03-13T16:03:48Z",
            "html_url": "https://github.com/neovim/neovim/issues/30402#issuecomment-2721791780",
            "id": 2721791780,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30402",
            "node_id": "IC_kwDOAPphoM6iOz8k",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2721791780/reactions"
            },
            "updated_at": "2025-03-13T16:03:48Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2721791780",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3781?v=4",
                "events_url": "https://api.github.com/users/bogado/events{/privacy}",
                "followers_url": "https://api.github.com/users/bogado/followers",
                "following_url": "https://api.github.com/users/bogado/following{/other_user}",
                "gists_url": "https://api.github.com/users/bogado/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bogado",
                "id": 3781,
                "login": "bogado",
                "node_id": "MDQ6VXNlcjM3ODE=",
                "organizations_url": "https://api.github.com/users/bogado/orgs",
                "received_events_url": "https://api.github.com/users/bogado/received_events",
                "repos_url": "https://api.github.com/users/bogado/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bogado/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bogado/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bogado",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Notice that this has nothing to do with the cursor. There's no cursors on the screen shot. Both screen shots were using iterm2 on a mac.",
            "created_at": "2025-03-13T16:26:17Z",
            "html_url": "https://github.com/neovim/neovim/issues/30402#issuecomment-2721884737",
            "id": 2721884737,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30402",
            "node_id": "IC_kwDOAPphoM6iPKpB",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2721884737/reactions"
            },
            "updated_at": "2025-03-13T16:26:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2721884737",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3781?v=4",
                "events_url": "https://api.github.com/users/bogado/events{/privacy}",
                "followers_url": "https://api.github.com/users/bogado/followers",
                "following_url": "https://api.github.com/users/bogado/following{/other_user}",
                "gists_url": "https://api.github.com/users/bogado/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bogado",
                "id": 3781,
                "login": "bogado",
                "node_id": "MDQ6VXNlcjM3ODE=",
                "organizations_url": "https://api.github.com/users/bogado/orgs",
                "received_events_url": "https://api.github.com/users/bogado/received_events",
                "repos_url": "https://api.github.com/users/bogado/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bogado/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bogado/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bogado",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 13,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/30402/comments",
    "created_at": "2024-09-16T19:22:26Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/30402/events",
    "html_url": "https://github.com/neovim/neovim/issues/30402",
    "id": 2529287927,
    "labels": [
        {
            "color": "F9D0C4",
            "default": false,
            "description": "wrong behavior inherited from vim",
            "id": 154310492,
            "name": "bug-vim",
            "node_id": "MDU6TGFiZWwxNTQzMTA0OTI=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-vim"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 197254545,
            "name": "tui",
            "node_id": "MDU6TGFiZWwxOTcyNTQ1NDU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/tui"
        },
        {
            "color": "0E8A16",
            "default": false,
            "description": "issue is not fixed but can be circumvented until then",
            "id": 435850181,
            "name": "has:workaround",
            "node_id": "MDU6TGFiZWw0MzU4NTAxODE=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/has:workaround"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "redraw, layout, presentation",
            "id": 718084050,
            "name": "display",
            "node_id": "MDU6TGFiZWw3MTgwODQwNTA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/display"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "(multibyte) unicode characters",
            "id": 2882115256,
            "name": "unicode  ðŸ’©",
            "node_id": "MDU6TGFiZWwyODgyMTE1MjU2",
            "url": "https://api.github.com/repos/neovim/neovim/labels/unicode%20%20%F0%9F%92%A9"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "",
            "id": 5826988504,
            "name": "visual-mode",
            "node_id": "LA_kwDOAPphoM8AAAABW1DJ2A",
            "url": "https://api.github.com/repos/neovim/neovim/labels/visual-mode"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/30402/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6Wwd73",
    "number": 30402,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/30402/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": "reopened",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/30402/timeline",
    "title": "Weird visual selection rendering for double-width character under cursor",
    "updated_at": "2025-03-13T16:26:19Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/30402",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/55766287?v=4",
        "events_url": "https://api.github.com/users/ribru17/events{/privacy}",
        "followers_url": "https://api.github.com/users/ribru17/followers",
        "following_url": "https://api.github.com/users/ribru17/following{/other_user}",
        "gists_url": "https://api.github.com/users/ribru17/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/ribru17",
        "id": 55766287,
        "login": "ribru17",
        "node_id": "MDQ6VXNlcjU1NzY2Mjg3",
        "organizations_url": "https://api.github.com/users/ribru17/orgs",
        "received_events_url": "https://api.github.com/users/ribru17/received_events",
        "repos_url": "https://api.github.com/users/ribru17/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/ribru17/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ribru17/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/ribru17",
        "user_view_type": "public"
    }
}