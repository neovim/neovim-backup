{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nHi, I'm currently experiencing this problem in 0.10.\r\n\r\nI'm having this error when I use tabs as for indention.\r\n```\r\nError in decoration provider treesitter/highlighter.line:\r\nError executing lua: ...al/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:337: Invalid 'end_col': out of range\r\nstack traceback:\r\n        [C]: in function 'nvim_buf_set_extmark'\r\n        ...al/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:337: in function 'fn'\r\n        ...al/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:210: in function 'for_each_highlight_state'\r\n        ...al/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:291: in function 'on_line_impl'\r\n        ...al/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:367: in function <...al/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:361>\r\n```\r\n\r\nSo far the languages I used that has this error are lua, javascript, and go.\r\n\r\nDemo:\r\n\r\nThis is using Go.\r\nhttps://github.com/neovim/neovim/assets/77670158/7176f902-e161-437b-a865-223780d15c09\r\n\r\nThis is for Lua.\r\nhttps://github.com/neovim/neovim/assets/77670158/e949c46e-1059-49a6-adaa-3b5672857cc8\r\n\r\nMy soft fixes for this problem are disable treesitter syntax highlighting or use spaces for indention.\n\n### Steps to reproduce\n\nThis is a treesitter/highlighter.lua problem, so I think I can't do it using ```nvim --clean```.\r\n\r\n1. I did ```:set noexpandtab``` to use tabs for indention.\r\n2. I typed ```<Tab><any first character>```.\r\n3. Then error shows up after pressing the first character.\n\n### Expected behavior\n\nNo error.\n\n### Neovim version (nvim -v)\n\nNVIM v0.10.0\n\n### Vim (not Nvim) behaves the same?\n\nNo.\n\n### Operating system/version\n\nLinux Mint 21.3\n\n### Terminal name/version\n\nkitty 0.34.1\n\n### $TERM environment variable\n\nxterm-kitty or tmux-256color\n\n### Installation\n\nDownloaded the tar.gz and extracted it to ~/.local/share",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "> This is a treesitter/highlighter.lua problem, so I think I can't do it using nvim --clean.\r\n\r\nYes, you can: the Lua parser is bundled and enabled by default. (I can't reproduce it with your steps and `--clean`.)",
            "created_at": "2024-07-03T12:12:12Z",
            "html_url": "https://github.com/neovim/neovim/issues/29550#issuecomment-2205931906",
            "id": 2205931906,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29550",
            "node_id": "IC_kwDOAPphoM6De9mC",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2205931906/reactions"
            },
            "updated_at": "2024-07-03T12:13:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2205931906",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I tried doing the minimal.lua stuff\r\n\r\n```\r\n-- Run this file as `nvim --clean -u minimal.lua`\r\n\r\nfor name, url in pairs {\r\n  -- ADD PLUGINS _NECESSARY_ TO REPRODUCE THE ISSUE, e.g:\r\n  -- some_plugin = 'https://github.com/author/plugin.nvim'\r\n  treesitter = 'https://github.com/nvim-treesitter/nvim-treesitter',\r\n  everforest = 'https://github.com/neanias/everforest-nvim'\r\n} do\r\n  local install_path = vim.fn.fnamemodify('nvim_issue/' .. name, ':p')\r\n  if vim.fn.isdirectory(install_path) == 0 then\r\n    vim.fn.system { 'git', 'clone', '--depth=1', url, install_path }\r\n  end\r\n  vim.opt.runtimepath:append(install_path)\r\nend\r\n\r\n-- indention options\r\nvim.opt.autoindent = true\r\nvim.opt.expandtab = false\r\nvim.opt.tabstop = 3\r\nvim.opt.softtabstop = 3\r\nvim.opt.shiftwidth = 3\r\nvim.opt.smartindent = true\r\n\r\nrequire(\"nvim-treesitter.configs\").setup {\r\n   highlight = {\r\n      enable = true\r\n   },\r\n}\r\n\r\nvim.cmd.colorscheme \"everforest\"\r\n```\r\n\r\nThe error did not showup...",
            "created_at": "2024-07-03T13:22:54Z",
            "html_url": "https://github.com/neovim/neovim/issues/29550#issuecomment-2206068698",
            "id": 2206068698,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29550",
            "node_id": "IC_kwDOAPphoM6Dfe_a",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2206068698/reactions"
            },
            "updated_at": "2025-07-16T02:32:10Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2206068698",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/77670158?v=4",
                "events_url": "https://api.github.com/users/alexxGmZ/events{/privacy}",
                "followers_url": "https://api.github.com/users/alexxGmZ/followers",
                "following_url": "https://api.github.com/users/alexxGmZ/following{/other_user}",
                "gists_url": "https://api.github.com/users/alexxGmZ/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/alexxGmZ",
                "id": 77670158,
                "login": "alexxGmZ",
                "node_id": "MDQ6VXNlcjc3NjcwMTU4",
                "organizations_url": "https://api.github.com/users/alexxGmZ/orgs",
                "received_events_url": "https://api.github.com/users/alexxGmZ/received_events",
                "repos_url": "https://api.github.com/users/alexxGmZ/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/alexxGmZ/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/alexxGmZ/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/alexxGmZ",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I was able to replicate this issue with my nvim setup when programming in go.",
            "created_at": "2024-07-03T21:10:28Z",
            "html_url": "https://github.com/neovim/neovim/issues/29550#issuecomment-2207304031",
            "id": 2207304031,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29550",
            "node_id": "IC_kwDOAPphoM6DkMlf",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2207304031/reactions"
            },
            "updated_at": "2024-07-03T22:17:47Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2207304031",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/84316763?v=4",
                "events_url": "https://api.github.com/users/samuel-form3/events{/privacy}",
                "followers_url": "https://api.github.com/users/samuel-form3/followers",
                "following_url": "https://api.github.com/users/samuel-form3/following{/other_user}",
                "gists_url": "https://api.github.com/users/samuel-form3/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/samuel-form3",
                "id": 84316763,
                "login": "samuel-form3",
                "node_id": "MDQ6VXNlcjg0MzE2NzYz",
                "organizations_url": "https://api.github.com/users/samuel-form3/orgs",
                "received_events_url": "https://api.github.com/users/samuel-form3/received_events",
                "repos_url": "https://api.github.com/users/samuel-form3/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/samuel-form3/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/samuel-form3/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/samuel-form3",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "See a similar error very frequently (nvim 0.10.0 on OSX, installed via brew) using https://github.com/nvim-orgmode/orgmode/commit/95fb795a422f0455e03d13a3f83525f1d00793ad.\r\nWhen joining lines I get error \"Invalid 'end_row': out of range.\"\r\n\r\nTo recreate:\r\n\r\nminimal.lua:\r\n```\r\nvim.opt.rtp:prepend(vim.fn.stdpath(\"data\") .. \"/lazy/orgmode\")\r\nrequire(\"orgmode\").setup {}\r\n```\r\n\r\nSample file _test.org_:\r\n```\r\nLorem ipsum dolor sit amet, officia excepteur ex fugiat reprehenderit enim\r\nlabore culpa sint ad nisi Lorem pariatur mollit ex esse exercitation amet.\r\nNisi anim cupidatat excepteur officia. Reprehenderit nostrud nostrud ipsum\r\nLorem est aliquip amet voluptate voluptate dolor minim nulla est proident.\r\nNostrud officia pariatur ut officia. Sit irure elit esse ea nulla sunt ex\r\noccaecat reprehenderit commodo officia dolor Lorem duis laboris cupidatat\r\nofficia voluptate. Culpa proident adipisicing id nulla nisi laboris ex in\r\nLorem sunt duis officia eiusmod. Aliqua reprehenderit commodo ex non\r\nexcepteur duis sunt velit enim. Voluptate laboris sint cupidatat ullamco ut\r\nea consectetur et est culpa et culpa duis.\r\n```\r\n\r\n    > nvim --clean -u minimal.lua test.org\r\n\r\nWhen editor opens, `J` to join second line to first and I see:\r\n\r\n```\r\nError in decoration provider treesitter/highlighter.line:\r\nError executing lua: ....0/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:337: Invalid 'end_row': out of range\r\nstack traceback:\r\n        [C]: in function 'nvim_buf_set_extmark'\r\n        ....0/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:337: in function 'fn'\r\n        ....0/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:210: in function 'for_each_highlight_state'\r\n        ....0/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:291: in function 'on_line_impl'\r\n        ....0/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:367: in function <....0/share/nvim/runtime/lua/vim/tree\r\nsitter/highlighter.lua:361>\r\n```\r\n\r\nSo far I've been unable to recreate the error with other file types.",
            "created_at": "2024-07-05T23:10:30Z",
            "html_url": "https://github.com/neovim/neovim/issues/29550#issuecomment-2211494967",
            "id": 2211494967,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29550",
            "node_id": "IC_kwDOAPphoM6D0Lw3",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2211494967/reactions"
            },
            "updated_at": "2024-07-05T23:10:30Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2211494967",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/232873?v=4",
                "events_url": "https://api.github.com/users/KnBrckr/events{/privacy}",
                "followers_url": "https://api.github.com/users/KnBrckr/followers",
                "following_url": "https://api.github.com/users/KnBrckr/following{/other_user}",
                "gists_url": "https://api.github.com/users/KnBrckr/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/KnBrckr",
                "id": 232873,
                "login": "KnBrckr",
                "node_id": "MDQ6VXNlcjIzMjg3Mw==",
                "organizations_url": "https://api.github.com/users/KnBrckr/orgs",
                "received_events_url": "https://api.github.com/users/KnBrckr/received_events",
                "repos_url": "https://api.github.com/users/KnBrckr/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/KnBrckr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/KnBrckr/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/KnBrckr",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Since I can't reproduce it using minimal.lua (the error doesn't show up), I decided to create a minimal config in order to pinpoint any plugins that can be related to the issue until the only remaining plugin is nvim-treesitter. Sadly the error still persist.\r\n\r\nThis is the minimal config repo: https://github.com/alexxGmZ/temp-nvim-config ",
            "created_at": "2024-07-06T03:44:42Z",
            "html_url": "https://github.com/neovim/neovim/issues/29550#issuecomment-2211619116",
            "id": 2211619116,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29550",
            "node_id": "IC_kwDOAPphoM6D0qEs",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 6,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 6,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2211619116/reactions"
            },
            "updated_at": "2024-07-06T03:44:42Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2211619116",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/77670158?v=4",
                "events_url": "https://api.github.com/users/alexxGmZ/events{/privacy}",
                "followers_url": "https://api.github.com/users/alexxGmZ/followers",
                "following_url": "https://api.github.com/users/alexxGmZ/following{/other_user}",
                "gists_url": "https://api.github.com/users/alexxGmZ/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/alexxGmZ",
                "id": 77670158,
                "login": "alexxGmZ",
                "node_id": "MDQ6VXNlcjc3NjcwMTU4",
                "organizations_url": "https://api.github.com/users/alexxGmZ/orgs",
                "received_events_url": "https://api.github.com/users/alexxGmZ/received_events",
                "repos_url": "https://api.github.com/users/alexxGmZ/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/alexxGmZ/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/alexxGmZ/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/alexxGmZ",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I don't know if I have the same problem as you do, or not.\nI had this situation when I inserted a new line using `<Return>`, and then deleting it & going back to the previous line using `<Backspace>`, this error would appear:\n\n```\nError in decoration provider \"line\" (ns=nvim.treesitter.highlighter):\nError executing lua: /usr/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:370: Invalid 'end_col': out of range\nstack traceback:\n        [C]: in function 'nvim_buf_set_extmark'\n        /usr/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:370: in function 'fn'\n        /usr/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:232: in function 'for_each_highlight_state'\n        /usr/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:322: in function 'on_line_impl'\n        /usr/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:411: in function </usr/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:405>\n        [C]: in function 'nvim__redraw'\n        ...re/nvim/site/pack/deps/start/mini.nvim/lua/mini/diff.lua:1909: in function 'redraw_buffer'\n        ...re/nvim/site/pack/deps/start/mini.nvim/lua/mini/diff.lua:1321: in function ''\n        vim/_editor.lua: in function <vim/_editor.lua:0>\n```\n\nsetting ```highlight = { enable = false }``` in ```nvim-treesitter.configs``` setup table caused it to not happen, so maybe this is the plugin you are looking for?\n\nor maybe it is not, idk. thanks for the workaround tho.",
            "created_at": "2025-07-15T04:31:56Z",
            "html_url": "https://github.com/neovim/neovim/issues/29550#issuecomment-3071856030",
            "id": 3071856030,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29550",
            "node_id": "IC_kwDOAPphoM63GM2e",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 1,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 3,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3071856030/reactions"
            },
            "updated_at": "2025-07-16T02:31:36Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3071856030",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/46246465?v=4",
                "events_url": "https://api.github.com/users/amirongit/events{/privacy}",
                "followers_url": "https://api.github.com/users/amirongit/followers",
                "following_url": "https://api.github.com/users/amirongit/following{/other_user}",
                "gists_url": "https://api.github.com/users/amirongit/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/amirongit",
                "id": 46246465,
                "login": "amirongit",
                "node_id": "MDQ6VXNlcjQ2MjQ2NDY1",
                "organizations_url": "https://api.github.com/users/amirongit/orgs",
                "received_events_url": "https://api.github.com/users/amirongit/received_events",
                "repos_url": "https://api.github.com/users/amirongit/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/amirongit/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/amirongit/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/amirongit",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I can produce it with this setup\n\n<details>\n\n```\nError in decoration provider \"line\" (ns=nvim.treesitter.highlighter):                                                                                                                                                \nError executing lua: /usr/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:370: Invalid 'end_col': out of range                                                                                                 \nstack traceback:                                                                                                                                                                                                     \n        [C]: in function 'nvim_buf_set_extmark'                                                                                                                                                                      \n        /usr/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:370: in function 'fn'                                                                                                                             \n        /usr/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:232: in function 'for_each_highlight_state'                                                                                                       \n        /usr/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:322: in function 'on_line_impl'                                                                                                                   \n        /usr/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:411: in function </usr/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:405>  \n```\n\nVersions\n```\n$ nvim --version\nNVIM v0.11.3\nBuild type: RelWithDebInfo\nLuaJIT 2.1.1748459687\nRun \"nvim -V1 -v\" for more info\n\n$ uname -r\n6.15.6-arch1-1\n\n$ foot --version\nfoot version: 1.22.3 +pgo +ime +graphemes -assertions\n\n$ pacman --query --info tree-sitter-markdown\nName            : tree-sitter-markdown\nVersion         : 0.5.0-1\n\n$ pacman --query --info tree-sitter\nName            : tree-sitter\nVersion         : 0.25.8-1\n```\n**Steps to reproduce:**\n\nCreate a markdown file with 100 lines of '- foo'; open nvim at last line\n```bash\nfor i in {1..100}; do echo '- foo'; done > foo.md\nnvim --clean +$ foo.md\n```\n\n`:lua vim.treesitter.start(1, 'markdown')`\n\nNow press `dd` 1-5 times in quick succession and the error pops up.\n</details>\n\n---\n\n### Edit:\n\nâœ… This issue does **not** occur when building from commit [`95dfb06`](https://github.com/neovim/neovim/commit/95dfb063daa709d303d0e37e86fbc8067950a830).\n\nThis suggests the bug was fixed **sometime between the last release and this commit**.\n\nLeaving the reproducer for regression testing or verification. Feel free to delete comment.",
            "created_at": "2025-07-15T19:05:47Z",
            "html_url": "https://github.com/neovim/neovim/issues/29550#issuecomment-3075112155",
            "id": 3075112155,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29550",
            "node_id": "IC_kwDOAPphoM63Snzb",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 15,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 15,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3075112155/reactions"
            },
            "updated_at": "2025-07-23T09:37:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3075112155",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/55574996?v=4",
                "events_url": "https://api.github.com/users/aheger/events{/privacy}",
                "followers_url": "https://api.github.com/users/aheger/followers",
                "following_url": "https://api.github.com/users/aheger/following{/other_user}",
                "gists_url": "https://api.github.com/users/aheger/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/aheger",
                "id": 55574996,
                "login": "aheger",
                "node_id": "MDQ6VXNlcjU1NTc0OTk2",
                "organizations_url": "https://api.github.com/users/aheger/orgs",
                "received_events_url": "https://api.github.com/users/aheger/received_events",
                "repos_url": "https://api.github.com/users/aheger/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/aheger/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/aheger/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/aheger",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "For what it's worth, I'm able to consistently reproduce this on php by opening a large file (1358 files in my case). \nI'm using the appimage, latest version.\n\n- Go near the end (say line 1345).\n- Hit `O` to create a new empty line.\n- Hitting `<esc>` and `dd` to delete it again.\n\nPerforming the same operation at line 1300 does _not_ produce this error. I experience that scrolling effects the issue.\nOnce it does not error, it keeps not erroring, unless I scroll back down.\n\n```\nError in decoration provider \"line\" (ns=nvim.treesitter.highlighter):                                                                                                                                                                                                                      \nError executing lua: ...sr/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:370: Invalid 'end_col': out of range                                                                                                                                                                      \nstack traceback:                                                                                                                                                                                                                                                                           \n        [C]: in function 'nvim_buf_set_extmark'                                                                                                                                                                                                                                            \n        ...sr/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:370: in function 'fn'                                                                                                                                                                                                  \n        ...sr/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:232: in function 'for_each_highlight_state'                                                                                                                                                                            \n        ...sr/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:322: in function 'on_line_impl'                                                                                                                                                                                        \n        ...sr/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:411: in function <...sr/share/nvim/runtime/lua/vim/treesitter/highlighter.lua:405> \n```\n\n",
            "created_at": "2025-07-24T09:15:09Z",
            "html_url": "https://github.com/neovim/neovim/issues/29550#issuecomment-3112694256",
            "id": 3112694256,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29550",
            "node_id": "IC_kwDOAPphoM65h_Hw",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 5,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 5,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3112694256/reactions"
            },
            "updated_at": "2025-07-24T15:49:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3112694256",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/20627978?v=4",
                "events_url": "https://api.github.com/users/KaspervdHeijden/events{/privacy}",
                "followers_url": "https://api.github.com/users/KaspervdHeijden/followers",
                "following_url": "https://api.github.com/users/KaspervdHeijden/following{/other_user}",
                "gists_url": "https://api.github.com/users/KaspervdHeijden/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/KaspervdHeijden",
                "id": 20627978,
                "login": "KaspervdHeijden",
                "node_id": "MDQ6VXNlcjIwNjI3OTc4",
                "organizations_url": "https://api.github.com/users/KaspervdHeijden/orgs",
                "received_events_url": "https://api.github.com/users/KaspervdHeijden/received_events",
                "repos_url": "https://api.github.com/users/KaspervdHeijden/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/KaspervdHeijden/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/KaspervdHeijden/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/KaspervdHeijden",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 8,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/29550/comments",
    "created_at": "2024-07-03T12:09:23Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/29550/events",
    "html_url": "https://github.com/neovim/neovim/issues/29550",
    "id": 2388466632,
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 1799626557,
            "name": "treesitter",
            "node_id": "MDU6TGFiZWwxNzk5NjI2NTU3",
            "url": "https://api.github.com/repos/neovim/neovim/labels/treesitter"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/29550/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 733,
        "created_at": "2014-05-10T20:43:04Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "Low priority items. We plan to work on this but don't have a target date.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/6",
        "id": 655037,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lNjU1MDM3",
        "number": 6,
        "open_issues": 633,
        "state": "open",
        "title": "backlog",
        "updated_at": "2025-07-28T09:46:47Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/6"
    },
    "node_id": "I_kwDOAPphoM6OXRvI",
    "number": 29550,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 24,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 24,
        "url": "https://api.github.com/repos/neovim/neovim/issues/29550/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/29550/timeline",
    "title": "Invalid: 'end_col': out of range error in treesitter/highlighter.lua",
    "type": {
        "color": "red",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "An unexpected problem or behavior",
        "id": 597163,
        "is_enabled": true,
        "name": "Bug",
        "node_id": "IT_kwDOAGK_Pc4ACRyr",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-07-24T15:49:16Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/29550",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/77670158?v=4",
        "events_url": "https://api.github.com/users/alexxGmZ/events{/privacy}",
        "followers_url": "https://api.github.com/users/alexxGmZ/followers",
        "following_url": "https://api.github.com/users/alexxGmZ/following{/other_user}",
        "gists_url": "https://api.github.com/users/alexxGmZ/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/alexxGmZ",
        "id": 77670158,
        "login": "alexxGmZ",
        "node_id": "MDQ6VXNlcjc3NjcwMTU4",
        "organizations_url": "https://api.github.com/users/alexxGmZ/orgs",
        "received_events_url": "https://api.github.com/users/alexxGmZ/received_events",
        "repos_url": "https://api.github.com/users/alexxGmZ/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/alexxGmZ/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/alexxGmZ/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/alexxGmZ",
        "user_view_type": "public"
    }
}