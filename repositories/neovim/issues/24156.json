{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "### Problem\r\n\r\nThere are a number of options that do not appear to conform to the classic semantics of the 5 types of options (global, global-local buffer option, buffer-local option, global-local window option, window-local option):\r\n\r\n* `cmdheight` is a new one-of-a-kind \"Global or local to tab page\" option\r\n* The buffer-local options `buftype`, `modified`, and `syntax` have local values automatically set in new buffers irrespective of the global value.\r\n* The global-local buffer option `undolevels` automatically has a local override set in the initial buffer\r\n* The window-local option `winfixheight` isn't per-buffer at all -- it seems the global value is just ignored and the local value is shared to all buffers immediately when written.\r\n\r\nThese are just a handful of cases I happened to come across. Can any bespoke option semantics be captured in additional metadata in `nvim_get_option_info2`?\r\n",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "I think this `winfixheight` behavior is due to the fact that it isn't copied here:\r\nhttps://github.com/neovim/neovim/blob/0ca2d11c1f473d9924c261c9dbd4e38730932bb4/src/nvim/option.c#L4753-L4810\r\n\r\n(Not saying that the behavior should be changed - only that the difference should be reflected in the metadata)\r\n\r\nSo far in terms of special options I have:\r\n\r\nThese \"global or local to window\" options have local settings that seem to be scoped to the window in general, not per-buffer:\r\n* scrolloff\r\n* sidescrolloff\r\n\r\nThese \"local to buffer\" options have global values that are ignored on buffer creation:\r\n* syntax\r\n* filetype\r\n* readonly\r\n* channel\r\n* bufhidden\r\n* buftype\r\n* modified\r\n\r\nThese \"local to window\" options have local settings that seem to apply for the window in general, and the global value seems not to matter.\r\n* previewwindow\r\n* scroll\r\n* winfixheight\r\n* winfixwidth",
            "created_at": "2023-06-26T14:03:53Z",
            "html_url": "https://github.com/neovim/neovim/issues/24156#issuecomment-1607563115",
            "id": 1607563115,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24156",
            "node_id": "IC_kwDOAPphoM5f0Xdr",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1607563115/reactions"
            },
            "updated_at": "2023-06-26T21:18:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1607563115",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/802511?v=4",
                "events_url": "https://api.github.com/users/ddickstein/events{/privacy}",
                "followers_url": "https://api.github.com/users/ddickstein/followers",
                "following_url": "https://api.github.com/users/ddickstein/following{/other_user}",
                "gists_url": "https://api.github.com/users/ddickstein/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ddickstein",
                "id": 802511,
                "login": "ddickstein",
                "node_id": "MDQ6VXNlcjgwMjUxMQ==",
                "organizations_url": "https://api.github.com/users/ddickstein/orgs",
                "received_events_url": "https://api.github.com/users/ddickstein/received_events",
                "repos_url": "https://api.github.com/users/ddickstein/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ddickstein/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ddickstein/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ddickstein",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Not really a \"Local to window\" option:\r\n>\r\n>    previewwindow\r\n>    signcolumn\r\n>    winfixheight\r\n>    winfixwidth\r\n\r\nI'm pretty sure all these are window specific options and thus should be local to windows.",
            "created_at": "2023-06-26T14:15:35Z",
            "html_url": "https://github.com/neovim/neovim/issues/24156#issuecomment-1607587847",
            "id": 1607587847,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24156",
            "node_id": "IC_kwDOAPphoM5f0dgH",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1607587847/reactions"
            },
            "updated_at": "2023-06-26T14:15:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1607587847",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Yes I agree, but they don't have the regular semantics of \"Local to window\" options, e.g., w.r.t. buffer-specific settings. I'm just making an observation that they are treated differently in the source code, and that manifests in a behavior difference, but that difference is not reflected in the metadata (or documentation at least insofar as they're still called \"local to window\" like all the other \"local to window\" options).\r\n\r\n(Also your quote with \"signcolumn\" there was from me misreading a diff - I updated the post to say \"scroll\")",
            "created_at": "2023-06-26T14:17:16Z",
            "html_url": "https://github.com/neovim/neovim/issues/24156#issuecomment-1607590810",
            "id": 1607590810,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24156",
            "node_id": "IC_kwDOAPphoM5f0eOa",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1607590810/reactions"
            },
            "updated_at": "2023-06-26T15:27:54Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1607590810",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/802511?v=4",
                "events_url": "https://api.github.com/users/ddickstein/events{/privacy}",
                "followers_url": "https://api.github.com/users/ddickstein/followers",
                "following_url": "https://api.github.com/users/ddickstein/following{/other_user}",
                "gists_url": "https://api.github.com/users/ddickstein/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ddickstein",
                "id": 802511,
                "login": "ddickstein",
                "node_id": "MDQ6VXNlcjgwMjUxMQ==",
                "organizations_url": "https://api.github.com/users/ddickstein/orgs",
                "received_events_url": "https://api.github.com/users/ddickstein/received_events",
                "repos_url": "https://api.github.com/users/ddickstein/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ddickstein/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ddickstein/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ddickstein",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Many options have very specific special behaviour all over the place.\r\n\r\nI'm not sure how feasible it is to reflect this in machine consumable metadata. The only metadata we can properly support is that which is maintained in options.lua.",
            "created_at": "2023-06-26T14:18:57Z",
            "html_url": "https://github.com/neovim/neovim/issues/24156#issuecomment-1607593600",
            "id": 1607593600,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24156",
            "node_id": "IC_kwDOAPphoM5f0e6A",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1607593600/reactions"
            },
            "updated_at": "2023-06-26T14:18:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1607593600",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> Many options have very specific special behaviour all over the place.\r\n\r\nThat's fair. I think there might be some specific questions that would be helpful to also have supported in the metadata, but maybe the issue as stated today is too general. I think what I'm after is enough information to answer questions of scope - how should I think about global/local values as they pertain to the option - what does setting each of them affect?",
            "created_at": "2023-06-26T14:25:52Z",
            "html_url": "https://github.com/neovim/neovim/issues/24156#issuecomment-1607605505",
            "id": 1607605505,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24156",
            "node_id": "IC_kwDOAPphoM5f0h0B",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1607605505/reactions"
            },
            "updated_at": "2023-06-26T14:25:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1607605505",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/802511?v=4",
                "events_url": "https://api.github.com/users/ddickstein/events{/privacy}",
                "followers_url": "https://api.github.com/users/ddickstein/followers",
                "following_url": "https://api.github.com/users/ddickstein/following{/other_user}",
                "gists_url": "https://api.github.com/users/ddickstein/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ddickstein",
                "id": 802511,
                "login": "ddickstein",
                "node_id": "MDQ6VXNlcjgwMjUxMQ==",
                "organizations_url": "https://api.github.com/users/ddickstein/orgs",
                "received_events_url": "https://api.github.com/users/ddickstein/received_events",
                "repos_url": "https://api.github.com/users/ddickstein/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ddickstein/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ddickstein/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ddickstein",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Honestly, I'm not sure anybody (including Bram) has a full picture of this.\r\n\r\nIf anything, one of our aims would be to **remove** a lot of this special casing and integrate things more generally.",
            "created_at": "2023-06-26T14:35:55Z",
            "html_url": "https://github.com/neovim/neovim/issues/24156#issuecomment-1607623164",
            "id": 1607623164,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24156",
            "node_id": "IC_kwDOAPphoM5f0mH8",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1607623164/reactions"
            },
            "updated_at": "2023-06-26T14:35:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1607623164",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 6,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/24156/comments",
    "created_at": "2023-06-26T02:36:15Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/24156/events",
    "html_url": "https://github.com/neovim/neovim/issues/24156",
    "id": 1773726690,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "feature request",
            "id": 77997476,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Ng==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/enhancement"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "libnvim, Nvim RPC API",
            "id": 103819671,
            "name": "api",
            "node_id": "MDU6TGFiZWwxMDM4MTk2NzE=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/api"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "configuration, settings",
            "id": 4242493821,
            "name": "options",
            "node_id": "LA_kwDOAPphoM7831F9",
            "url": "https://api.github.com/repos/neovim/neovim/labels/options"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/24156/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 260,
        "created_at": "2014-11-26T22:13:11Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "We don't plan to work on this, but will accept high quality contributions from someone who will own the feature and follow up on bug reports.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/9",
        "id": 881978,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/9/labels",
        "node_id": "MDk6TWlsZXN0b25lODgxOTc4",
        "number": 9,
        "open_issues": 297,
        "state": "open",
        "title": "needs-owner",
        "updated_at": "2025-01-20T17:56:23Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/9"
    },
    "node_id": "I_kwDOAPphoM5puOvi",
    "number": 24156,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/24156/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/24156/timeline",
    "title": "nvim_get_option_info2: include special options info",
    "updated_at": "2025-01-17T15:30:44Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/24156",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/802511?v=4",
        "events_url": "https://api.github.com/users/ddickstein/events{/privacy}",
        "followers_url": "https://api.github.com/users/ddickstein/followers",
        "following_url": "https://api.github.com/users/ddickstein/following{/other_user}",
        "gists_url": "https://api.github.com/users/ddickstein/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/ddickstein",
        "id": 802511,
        "login": "ddickstein",
        "node_id": "MDQ6VXNlcjgwMjUxMQ==",
        "organizations_url": "https://api.github.com/users/ddickstein/orgs",
        "received_events_url": "https://api.github.com/users/ddickstein/received_events",
        "repos_url": "https://api.github.com/users/ddickstein/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/ddickstein/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ddickstein/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/ddickstein",
        "user_view_type": "public"
    }
}