{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "<!-- Before reporting: search existing issues and check the FAQ. -->\r\n\r\n- `nvim --version`: v0.5.0-dev\r\n- Operating system/version: Ubuntu 19.04\r\n- Terminal name/version: gnome-terminal\r\n- `$TERM`: xterm-256color\r\n\r\n### Steps to reproduce using `nvim -u NORC`\r\n\r\n```\r\nnvim -u NORC\r\n:vs | term\r\ni yes\r\n\r\n```\r\n\r\n### Actual behaviour\r\nOther neovim buffers slow down (navigation, editing, etc.)\r\n\r\n### Expected behaviour\r\nOther neovim buffers work as usual\r\n\r\n### Suggestion\r\nWould it be to add an option to limit the rate of buffer stdout and stderr? Similar to piping all output through [pv](https://linux.die.net/man/1/pv) -qL [rate]",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "There's some feature in this regard with `:!` - try `:!yes`.\r\nMaybe that could be used in a terminal also somehow?",
            "created_at": "2019-09-25T02:16:01Z",
            "html_url": "https://github.com/neovim/neovim/issues/11090#issuecomment-534820823",
            "id": 534820823,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11090",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzNDgyMDgyMw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/534820823/reactions"
            },
            "updated_at": "2019-09-25T02:16:01Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/534820823",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/9766?v=4",
                "events_url": "https://api.github.com/users/blueyed/events{/privacy}",
                "followers_url": "https://api.github.com/users/blueyed/followers",
                "following_url": "https://api.github.com/users/blueyed/following{/other_user}",
                "gists_url": "https://api.github.com/users/blueyed/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/blueyed",
                "id": 9766,
                "login": "blueyed",
                "node_id": "MDQ6VXNlcjk3NjY=",
                "organizations_url": "https://api.github.com/users/blueyed/orgs",
                "received_events_url": "https://api.github.com/users/blueyed/received_events",
                "repos_url": "https://api.github.com/users/blueyed/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/blueyed/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/blueyed/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/blueyed",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Related: https://github.com/neovim/neovim/issues/8723\r\n\r\n> There's some feature in this regard with `:!` - try `:!yes`.\r\n> Maybe that could be used in a terminal also somehow?\r\n\r\nTUI drops output if it's being flooded because that does not cause data-loss, it's just cosmetic. \r\n\r\nBut we can't drop output in `:terminal` because then the buffer contents are nonsense/unreliable, and this could break scripts. Probably not many scripts inspect the contents of a `:terminal` buffer, but it _seems_ potentially useful and not something we want to break...\r\n\r\nHowever there is room for improvement:\r\n\r\n- batch scrollback deletion https://github.com/neovim/neovim/pull/8959 \r\n- batch upates (maybe this is what @blueyed was suggesting)\r\n- batch/defer updates 10x more when the `:terminal` buffer is not visible\r\n    - \"defer\" or \"delay\" is essentially what @aelkazdadi suggested:\r\n      > limit the rate .. similar to `pv -qL [rate]`\r\n    - but that risks OOM unless we implement yet another scrollback-like mechanism to truncate big data.",
            "created_at": "2019-09-25T05:09:50Z",
            "html_url": "https://github.com/neovim/neovim/issues/11090#issuecomment-534854690",
            "id": 534854690,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11090",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzNDg1NDY5MA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/534854690/reactions"
            },
            "updated_at": "2019-09-25T05:21:23Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/534854690",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I confirm that on neovim 0.10 everything is still incredibly slow if a terminal buffer with 10K lines is opened\r\nAs soon as buffer is cleaned (scrollback = 1 then scrollback = 10000 to clean it) my cursor can move without lagging again. As I use a tool that outputs 5-10K lines everytime it's problematic.\r\nIf any workaround is known please share.",
            "created_at": "2024-06-17T14:32:44Z",
            "html_url": "https://github.com/neovim/neovim/issues/11090#issuecomment-2173585672",
            "id": 2173585672,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11090",
            "node_id": "IC_kwDOAPphoM6BjkkI",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2173585672/reactions"
            },
            "updated_at": "2024-06-17T21:03:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2173585672",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/9869317?v=4",
                "events_url": "https://api.github.com/users/ilan-schemoul/events{/privacy}",
                "followers_url": "https://api.github.com/users/ilan-schemoul/followers",
                "following_url": "https://api.github.com/users/ilan-schemoul/following{/other_user}",
                "gists_url": "https://api.github.com/users/ilan-schemoul/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ilan-schemoul",
                "id": 9869317,
                "login": "ilan-schemoul",
                "node_id": "MDQ6VXNlcjk4NjkzMTc=",
                "organizations_url": "https://api.github.com/users/ilan-schemoul/orgs",
                "received_events_url": "https://api.github.com/users/ilan-schemoul/received_events",
                "repos_url": "https://api.github.com/users/ilan-schemoul/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ilan-schemoul/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ilan-schemoul/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ilan-schemoul",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> incredibly slow if a terminal buffer with 10K lines is opened\r\n\r\nThat sounds wrong. 10k lines in a :terminal buffer should not be noticeably slow. This issue is primarily about performance when a :terminal buffer is being *rapidly updated*.\r\n\r\n- Does it happen with `nvim --clean`?  \r\n- Try the steps at `:help lua-profile` to see if there is a (Lua) event handler that is slowing things down.\r\n\r\n",
            "created_at": "2024-06-17T21:02:52Z",
            "html_url": "https://github.com/neovim/neovim/issues/11090#issuecomment-2174419293",
            "id": 2174419293,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11090",
            "node_id": "IC_kwDOAPphoM6BmwFd",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2174419293/reactions"
            },
            "updated_at": "2024-06-17T21:19:10Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2174419293",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I'm also experiencing massive slowdowns of any tab that is displaying a terminal buffer with around 12k+ lines (it's still fine at 10k, but goes south soon-ish after). It doesn't matter whether the buffer is being actively filled or not for this behavior.\r\n\r\nSo, while 10k isn't noticeably slow, it gets incredibly sluggish at longer terminal buffers.\r\n\r\nI can try with clean later, but I'd be rather surprised if that helped much.",
            "created_at": "2024-06-17T21:13:14Z",
            "html_url": "https://github.com/neovim/neovim/issues/11090#issuecomment-2174434456",
            "id": 2174434456,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11090",
            "node_id": "IC_kwDOAPphoM6BmzyY",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2174434456/reactions"
            },
            "updated_at": "2024-06-17T21:13:14Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2174434456",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/755021?v=4",
                "events_url": "https://api.github.com/users/griwes/events{/privacy}",
                "followers_url": "https://api.github.com/users/griwes/followers",
                "following_url": "https://api.github.com/users/griwes/following{/other_user}",
                "gists_url": "https://api.github.com/users/griwes/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/griwes",
                "id": 755021,
                "login": "griwes",
                "node_id": "MDQ6VXNlcjc1NTAyMQ==",
                "organizations_url": "https://api.github.com/users/griwes/orgs",
                "received_events_url": "https://api.github.com/users/griwes/received_events",
                "repos_url": "https://api.github.com/users/griwes/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/griwes/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/griwes/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/griwes",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Try the steps at `:help lua-profile` to see if there is a (Lua) event handler that is slowing things down.",
            "created_at": "2024-06-17T21:18:21Z",
            "html_url": "https://github.com/neovim/neovim/issues/11090#issuecomment-2174442138",
            "id": 2174442138,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11090",
            "node_id": "IC_kwDOAPphoM6Bm1qa",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2174442138/reactions"
            },
            "updated_at": "2024-06-17T21:18:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2174442138",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Well I don't know what happened but 0.10 was very slow around 10K lines now it's smooth as butter. Congrats to whomever fixed that even if that was accidental the UX is so much better now",
            "created_at": "2024-11-19T15:58:26Z",
            "html_url": "https://github.com/neovim/neovim/issues/11090#issuecomment-2486110678",
            "id": 2486110678,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/11090",
            "node_id": "IC_kwDOAPphoM6ULwnW",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 1,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2486110678/reactions"
            },
            "updated_at": "2024-11-19T15:58:26Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2486110678",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/9869317?v=4",
                "events_url": "https://api.github.com/users/ilan-schemoul/events{/privacy}",
                "followers_url": "https://api.github.com/users/ilan-schemoul/followers",
                "following_url": "https://api.github.com/users/ilan-schemoul/following{/other_user}",
                "gists_url": "https://api.github.com/users/ilan-schemoul/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ilan-schemoul",
                "id": 9869317,
                "login": "ilan-schemoul",
                "node_id": "MDQ6VXNlcjk4NjkzMTc=",
                "organizations_url": "https://api.github.com/users/ilan-schemoul/orgs",
                "received_events_url": "https://api.github.com/users/ilan-schemoul/received_events",
                "repos_url": "https://api.github.com/users/ilan-schemoul/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ilan-schemoul/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ilan-schemoul/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ilan-schemoul",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 7,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/11090/comments",
    "created_at": "2019-09-24T18:50:39Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/11090/events",
    "html_url": "https://github.com/neovim/neovim/issues/11090",
    "id": 497863544,
    "labels": [
        {
            "color": "FEF2C0",
            "default": false,
            "description": "performance, latency, cpu/memory usage",
            "id": 101930601,
            "name": "performance",
            "node_id": "MDU6TGFiZWwxMDE5MzA2MDE=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/performance"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "built-in :terminal or :shell",
            "id": 212696822,
            "name": "terminal",
            "node_id": "MDU6TGFiZWwyMTI2OTY4MjI=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/terminal"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/11090/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 726,
        "created_at": "2014-05-10T20:43:04Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "Low priority items. We plan to work on this but don't have a target date.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/6",
        "id": 655037,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lNjU1MDM3",
        "number": 6,
        "open_issues": 630,
        "state": "open",
        "title": "backlog",
        "updated_at": "2025-07-07T03:51:31Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/6"
    },
    "node_id": "MDU6SXNzdWU0OTc4NjM1NDQ=",
    "number": 11090,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/11090/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/11090/timeline",
    "title": ":terminal output slows down editor when handling large output",
    "type": {
        "color": "blue",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "A request, idea, or new functionality",
        "id": 597167,
        "is_enabled": true,
        "name": "Enhancement",
        "node_id": "IT_kwDOAGK_Pc4ACRyv",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-07-02T08:58:49Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/11090",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "events_url": "https://api.github.com/users/ghost/events{/privacy}",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following{/other_user}",
        "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/ghost",
        "id": 10137,
        "login": "ghost",
        "node_id": "MDQ6VXNlcjEwMTM3",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/ghost",
        "user_view_type": "public"
    }
}