{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "### Problem\r\n\r\nIn `'diff'` mode:\r\n\r\n1. When a diff fold (containing equivalent lines) closes due to `foldclose` and cursor movement, it only closes in the current buffer. Yet this does work properly when the fold is explicitly closed instead (which will close it in all diff buffers).\r\n\r\n2. Soft-wrapped lines are not compensated for in other diff-buffers where they are not soft-wrapped (or when they are soft-wrapped as well, but take up fewer screen rows).\r\n\r\n   For example, notice how the screen lines are not properly vertically-aligned until `set nowrap` (2nd image):\r\n\r\n<img width=\"1560\" alt=\"Screenshot 2024-06-30 at 3 30 06 AM\" src=\"https://github.com/neovim/neovim/assets/45028928/c56dcc79-1fad-4af4-aa9e-0cb1108aae4d\"><br />\r\n\r\n<img width=\"1553\" alt=\"Screenshot 2024-06-30 at 3 29 56 AM\" src=\"https://github.com/neovim/neovim/assets/45028928/b642f2bd-02c2-4cdf-a44f-898a925a872d\"><br />\r\n\r\nGitHub soft-wrapping both sides:\r\n\r\n<img width=\"817\" alt=\"Screenshot 2024-07-01 at 2 30 19 AM\" src=\"https://github.com/neovim/neovim/assets/45028928/cc06b544-a0bf-490d-8352-968ac0c6cf54\"><br /><br />\r\n\r\n3. In diff mode, having only 1 window scroll when using the mouse is kinda annoying, but I guess this is intended behavior when the scrolled window isn't the current window.\r\n\r\n---\r\n\r\nBoth of these issues cause the diffed buffers to become out-of-sync visually (vertical splits in particular).\r\n\r\n### Expected behavior\r\n\r\n1. The automatic closing of folds due to `foldclose` should sync across all diff buffers, just like `zc` does.\r\n\r\n2. For any line that takes up less screen rows than the `max()` of all respective lines in other diffed buffers, empty virtual or wrapped lines should be added underneath that line (kinda like how is done on GitHub.com's side-by-side diff when code lines are soft-wrapped). This also means that sometimes extra diff \"filler\" lines need to be added to a set/hunk of diff filler lines.\r\n\r\n   These extra screen lines/rows should inherit the same highlighting as the line they are applied to, just like how is done currently for soft-wrapping. The result is that the lines will be synced and line-up visually.",
    "closed_at": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/29518/comments",
    "created_at": "2024-06-30T07:34:09Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/29518/events",
    "html_url": "https://github.com/neovim/neovim/issues/29518",
    "id": 2382129148,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "feature request",
            "id": 77997476,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Ng==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/enhancement"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 2598645343,
            "name": "folds",
            "node_id": "MDU6TGFiZWwyNTk4NjQ1MzQz",
            "url": "https://api.github.com/repos/neovim/neovim/labels/folds"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 3010934759,
            "name": "diff",
            "node_id": "MDU6TGFiZWwzMDEwOTM0NzU5",
            "url": "https://api.github.com/repos/neovim/neovim/labels/diff"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/29518/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 633,
        "created_at": "2014-05-10T20:43:04Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk"
        },
        "description": "Low priority. Not planned for the current target, may be reassigned.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/6",
        "id": 655037,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lNjU1MDM3",
        "number": 6,
        "open_issues": 564,
        "state": "open",
        "title": "backlog",
        "updated_at": "2024-09-02T20:49:25Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/6"
    },
    "node_id": "I_kwDOAPphoM6N_Gf8",
    "number": 29518,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/29518/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/29518/timeline",
    "title": "Diff: `foldclose` and `wrap` don't sync",
    "updated_at": "2024-08-29T21:16:44Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/29518",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/45028928?v=4",
        "events_url": "https://api.github.com/users/tmillr/events{/privacy}",
        "followers_url": "https://api.github.com/users/tmillr/followers",
        "following_url": "https://api.github.com/users/tmillr/following{/other_user}",
        "gists_url": "https://api.github.com/users/tmillr/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/tmillr",
        "id": 45028928,
        "login": "tmillr",
        "node_id": "MDQ6VXNlcjQ1MDI4OTI4",
        "organizations_url": "https://api.github.com/users/tmillr/orgs",
        "received_events_url": "https://api.github.com/users/tmillr/received_events",
        "repos_url": "https://api.github.com/users/tmillr/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/tmillr/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/tmillr/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/tmillr"
    }
}