{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "- `nvim --version`:\r\n\r\n<details>\r\n<summary>\r\noutput\r\n</summary>\r\n<p>\r\nNVIM v0.4.3\r\nBuild type: Release\r\nLuaJIT 2.0.5\r\nCompilation: /usr/local/Homebrew/Library/Homebrew/shims/mac/super/clang -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=1 -DNDEBUG -DMIN_LOG_LEVEL=3 -Wall -Wextra -pedantic -Wno-unused-parameter -Wstrict-prototypes -std=gnu99 -Wshadow -Wconversion -Wmissing-prototypes -Wimplicit-fallthrough -Wvla -fstack-protector-strong -fdiagnostics-color=auto -DINCLUDE_GENERATED_DECLARATIONS -D_GNU_SOURCE -DNVIM_MSGPACK_HAS_FLOAT32 -DNVIM_UNIBI_HAS_VAR_FROM -I/tmp/neovim-20191107-13403-1or2rj3/neovim-0.4.3/build/config -I/tmp/neovim-20191107-13403-1or2rj3/neovim-0.4.3/src -I/usr/local/include -I/tmp/neovim-20191107-13403-1or2rj3/neovim-0.4.3/deps-build/include -I/usr/local/opt/gettext/include -I/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.15.sdk/usr/include -I/tmp/neovim-20191107-13403-1or2rj3/neovim-0.4.3/build/src/nvim/auto -I/tmp/neovim-20191107-13403-1or2rj3/neovim-0.4.3/build/include\r\nCompiled by brew@Mojave.local\r\n\r\nFeatures: +acl +iconv +tui\r\nSee \":help feature-compile\"\r\n\r\n   system vimrc file: \"$VIM/sysinit.vim\"\r\n  fall-back for $VIM: \"/usr/local/Cellar/neovim/0.4.3/share/nvim\"\r\n\r\nRun :checkhealth for more info\r\n</p>\r\n</details>\r\n\r\n- `vim -u DEFAULTS` (version: ) behaves differently? Irrelevant since vim does\r\n  not have `wildoptions=pum`\r\n\r\n- Operating system/version: Mac OS X 10.14.6\r\n\r\n- Terminal name/version: kitty 0.17.4\r\n\r\n- `$TERM`: xterm-kitty\r\n\r\n### Steps to reproduce using `nvim -u NORC`\r\n\r\n```\r\nnvim -u NORC\r\n:e<Tab><C-p>c\r\n```\r\n\r\nOr\r\n\r\n```\r\nnvim -u NORC\r\n:set wildmode=longest:full\r\n:e<Tab>c\r\n```\r\n### Actual behaviour\r\n\r\nWhen you type the `c`, the completion popup menu closes.\r\n\r\n![1](https://user-images.githubusercontent.com/4657140/83581573-0f117800-a4f4-11ea-98cd-7465ba54fe7e.gif)\r\n\r\n### Expected behaviour\r\n\r\nWhen you type the `c`, the completion popup menu should stay open and just be\r\nfiltered.\r\n\r\nLike in insert mode in the command-line window (BTW this is with `set completeopt+=noselect`)\r\n![2](https://user-images.githubusercontent.com/4657140/83581748-8810cf80-a4f4-11ea-8801-8a3894c1c059.gif)",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "This can be simulated with something like this:\r\n```vim\r\nfunction! OnCompletionDone(timer) abort\r\n        let g:doing_update = 0\r\nendfunction\r\n\r\nfunction! OnTimeoutTriggered(timer) abort\r\n        if pumvisible()\r\n                call nvim_input('<C-p>')\r\n        endif\r\n        call timer_start(5, 'OnCompletionDone')\r\nendfunction\r\n\r\nfunction! OnCmdlineChanged() abort\r\n        if !exists('g:doing_update') || !g:doing_update\r\n                let g:doing_update = 1\r\n                call nvim_input('<C-n>')\r\n                call timer_start(5, 'OnTimeoutTriggered')\r\n        endif\r\nendfunction\r\n\r\nset wildchar=<C-n>\r\nau CmdlineChanged * call OnCmdlineChanged()\r\n```\r\n\r\nKind of hackish though. Not sure I'd recommend using it :).",
            "created_at": "2020-06-05T02:21:24Z",
            "html_url": "https://github.com/neovim/neovim/issues/12428#issuecomment-639218763",
            "id": 639218763,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/12428",
            "node_id": "MDEyOklzc3VlQ29tbWVudDYzOTIxODc2Mw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/639218763/reactions"
            },
            "updated_at": "2020-06-05T02:21:24Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/639218763",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11534587?v=4",
                "events_url": "https://api.github.com/users/glacambre/events{/privacy}",
                "followers_url": "https://api.github.com/users/glacambre/followers",
                "following_url": "https://api.github.com/users/glacambre/following{/other_user}",
                "gists_url": "https://api.github.com/users/glacambre/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glacambre",
                "id": 11534587,
                "login": "glacambre",
                "node_id": "MDQ6VXNlcjExNTM0NTg3",
                "organizations_url": "https://api.github.com/users/glacambre/orgs",
                "received_events_url": "https://api.github.com/users/glacambre/received_events",
                "repos_url": "https://api.github.com/users/glacambre/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glacambre/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glacambre/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glacambre",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I've been working a plugin to provide this functionality: https://github.com/gelguy/wilder.nvim.\r\n\r\nIt doesn't support the popupmenu (yet).\r\n\r\nHere's a sample GIF: ![wilder](https://i.imgur.com/BHA7Rf6.gif)",
            "created_at": "2020-06-11T10:07:00Z",
            "html_url": "https://github.com/neovim/neovim/issues/12428#issuecomment-642548354",
            "id": 642548354,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/12428",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY0MjU0ODM1NA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 3,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 3,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/642548354/reactions"
            },
            "updated_at": "2020-06-11T10:07:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/642548354",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1418660?v=4",
                "events_url": "https://api.github.com/users/gelguy/events{/privacy}",
                "followers_url": "https://api.github.com/users/gelguy/followers",
                "following_url": "https://api.github.com/users/gelguy/following{/other_user}",
                "gists_url": "https://api.github.com/users/gelguy/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gelguy",
                "id": 1418660,
                "login": "gelguy",
                "node_id": "MDQ6VXNlcjE0MTg2NjA=",
                "organizations_url": "https://api.github.com/users/gelguy/orgs",
                "received_events_url": "https://api.github.com/users/gelguy/received_events",
                "repos_url": "https://api.github.com/users/gelguy/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gelguy/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gelguy/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gelguy",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "...and as lua grows, having autocompletion in command line would be neat too !",
            "created_at": "2020-07-20T14:41:00Z",
            "html_url": "https://github.com/neovim/neovim/issues/12428#issuecomment-661082328",
            "id": 661082328,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/12428",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY2MTA4MjMyOA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/661082328/reactions"
            },
            "updated_at": "2020-07-20T14:41:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/661082328",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/886074?v=4",
                "events_url": "https://api.github.com/users/teto/events{/privacy}",
                "followers_url": "https://api.github.com/users/teto/followers",
                "following_url": "https://api.github.com/users/teto/following{/other_user}",
                "gists_url": "https://api.github.com/users/teto/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/teto",
                "id": 886074,
                "login": "teto",
                "node_id": "MDQ6VXNlcjg4NjA3NA==",
                "organizations_url": "https://api.github.com/users/teto/orgs",
                "received_events_url": "https://api.github.com/users/teto/received_events",
                "repos_url": "https://api.github.com/users/teto/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/teto/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/teto/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/teto",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "@Asheq Why does `vim.o.wildmode = 'longest,list,full';` or `:set wildmode='longest,list,full'` not work for you?\r\nThe persistent search history is also quite nice and I hate popups (I prefer preview windows that can be matched with keypress or modified).\r\n\r\n@gelguy Your plugin looks like a mix of zoxide and zsh statusline plugins. \r\n1. Did you think about using the telescope extension for zoxide for expanding autocompletions in the preview?\r\n2. Did you think about using telescope + telescope-fzf for fuzzy search preview + selection?\r\n3. Do you provide a fallback to the \"normal :e\" ?\r\n\r\n@teto To have programs talking to the shell/command line in a  context-dependent way what inputs they support for subcommands in a portable way one would need an POSIX ABI extension, which does not look commitee is interested like the [many simple fixable shortcomings of POSIX shell itself](https://github.com/matu3ba/dotfiles_skeleton/blob/main/POSIXunsafe).\r\n\r\nSomething along [shellac-server](https://gitlab.redox-os.org/AdminXVII/shellac-server/-/tree/next) to define all commands without the external interface/DSL would be needed.",
            "created_at": "2021-10-01T17:03:28Z",
            "html_url": "https://github.com/neovim/neovim/issues/12428#issuecomment-932398842",
            "id": 932398842,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/12428",
            "node_id": "IC_kwDOAPphoM43k0b6",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/932398842/reactions"
            },
            "updated_at": "2021-10-01T17:03:28Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/932398842",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/13089667?v=4",
                "events_url": "https://api.github.com/users/matu3ba/events{/privacy}",
                "followers_url": "https://api.github.com/users/matu3ba/followers",
                "following_url": "https://api.github.com/users/matu3ba/following{/other_user}",
                "gists_url": "https://api.github.com/users/matu3ba/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/matu3ba",
                "id": 13089667,
                "login": "matu3ba",
                "node_id": "MDQ6VXNlcjEzMDg5NjY3",
                "organizations_url": "https://api.github.com/users/matu3ba/orgs",
                "received_events_url": "https://api.github.com/users/matu3ba/received_events",
                "repos_url": "https://api.github.com/users/matu3ba/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/matu3ba/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/matu3ba/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/matu3ba",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@matu3ba I'll try to keep the answers short as this is probably off-topic for this issue.\r\n\r\n- The plugin doesn't use Telescope as there are a lot of quirks that occur when the user is in cmdline mode. I'm not certain if Telescope will work in cmdline mode, but I assume it is possible with some effort.\r\n- There's no zoxide support but it's possible to write an extension that does this.\r\n- You can create a mapping to turn off the plugin, which then falls back to \"normal :e\".\r\n\r\nIf you wish to have a further discussion, we can open an issue on https://github.com/gelguy/wilder.nvim instead.",
            "created_at": "2021-10-06T10:10:21Z",
            "html_url": "https://github.com/neovim/neovim/issues/12428#issuecomment-935900610",
            "id": 935900610,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/12428",
            "node_id": "IC_kwDOAPphoM43yLXC",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/935900610/reactions"
            },
            "updated_at": "2021-10-06T10:10:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/935900610",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1418660?v=4",
                "events_url": "https://api.github.com/users/gelguy/events{/privacy}",
                "followers_url": "https://api.github.com/users/gelguy/followers",
                "following_url": "https://api.github.com/users/gelguy/following{/other_user}",
                "gists_url": "https://api.github.com/users/gelguy/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gelguy",
                "id": 1418660,
                "login": "gelguy",
                "node_id": "MDQ6VXNlcjE0MTg2NjA=",
                "organizations_url": "https://api.github.com/users/gelguy/orgs",
                "received_events_url": "https://api.github.com/users/gelguy/received_events",
                "repos_url": "https://api.github.com/users/gelguy/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gelguy/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gelguy/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gelguy",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 5,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/12428/comments",
    "created_at": "2020-06-03T00:16:14Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/12428/events",
    "html_url": "https://github.com/neovim/neovim/issues/12428",
    "id": 629598308,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "feature request",
            "id": 77997476,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Ng==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/enhancement"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "Nvim built-in (omni)completion",
            "id": 3214348835,
            "name": "completion",
            "node_id": "MDU6TGFiZWwzMjE0MzQ4ODM1",
            "url": "https://api.github.com/repos/neovim/neovim/labels/completion"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "command line, also cmdwin",
            "id": 5826989442,
            "name": "cmdline-mode",
            "node_id": "LA_kwDOAPphoM8AAAABW1DNgg",
            "url": "https://api.github.com/repos/neovim/neovim/labels/cmdline-mode"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/12428/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 260,
        "created_at": "2014-11-26T22:13:11Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "We don't plan to work on this, but will accept high quality contributions from someone who will own the feature and follow up on bug reports.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/9",
        "id": 881978,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/9/labels",
        "node_id": "MDk6TWlsZXN0b25lODgxOTc4",
        "number": 9,
        "open_issues": 297,
        "state": "open",
        "title": "needs-owner",
        "updated_at": "2025-01-20T17:56:23Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/9"
    },
    "node_id": "MDU6SXNzdWU2Mjk1OTgzMDg=",
    "number": 12428,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 11,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 11,
        "url": "https://api.github.com/repos/neovim/neovim/issues/12428/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/12428/timeline",
    "title": "Keep command-line pop-up menu open while typing",
    "updated_at": "2025-01-17T16:01:55Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/12428",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/4657140?v=4",
        "events_url": "https://api.github.com/users/Asheq/events{/privacy}",
        "followers_url": "https://api.github.com/users/Asheq/followers",
        "following_url": "https://api.github.com/users/Asheq/following{/other_user}",
        "gists_url": "https://api.github.com/users/Asheq/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/Asheq",
        "id": 4657140,
        "login": "Asheq",
        "node_id": "MDQ6VXNlcjQ2NTcxNDA=",
        "organizations_url": "https://api.github.com/users/Asheq/orgs",
        "received_events_url": "https://api.github.com/users/Asheq/received_events",
        "repos_url": "https://api.github.com/users/Asheq/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/Asheq/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Asheq/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/Asheq",
        "user_view_type": "public"
    }
}