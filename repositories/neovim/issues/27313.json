{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nHi, I'm trying to use neovim in wezterm but the cursor stays the same color.\r\n\r\nProbably this is more related to wezterm. There is an issue opened in wezterm repo: https://github.com/wez/wezterm/issues/2635\r\nMaybe some of neovim developers could come to the wezterm's issue and help to figure out the problem. Probably just to explain how neovim changes the color of cursor would be enough.\n\n### Steps to reproduce\n\n1. Open wezterm\r\n2. Start neovim without any config `nvim -u none`\r\n3. Add some text and move cursor to the text\r\n4. Cursor stays dark green (with the default wezterm colorscheme) while should be gray\n\n### Expected behavior\n\nCursor changes color in wezterm.\n\n### Neovim version (nvim -v)\n\n0.9.5\n\n### Vim (not Nvim) behaves the same?\n\nYes, vim 9.1\n\n### Operating system/version\n\nmacOS 14.3\n\n### Terminal name/version\n\nwezterm 20240127-113634-bbcac864\n\n### $TERM environment variable\n\nwezterm\n\n### Installation\n\nNix",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Hmm, works for me? (both on nvim 0.9.4 and 0.10-master; macOS + wezterm 20240131-075510-21af10e0)\r\n\r\n<img width=\"634\" alt=\"image\" src=\"https://github.com/neovim/neovim/assets/1009873/d9f46421-c0a0-4d1d-802d-e8c15ce2435f\">\r\n\r\n<br/>\r\n\r\nThe reproduction step and expected behavior is a bit ambiguous here, it'd be better if this could be written more explicitly and self-contained.\r\n\r\nBTW, do you have \"terminfo\" for wezterm properly installed?",
            "created_at": "2024-02-03T02:34:29Z",
            "html_url": "https://github.com/neovim/neovim/issues/27313#issuecomment-1925027708",
            "id": 1925027708,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27313",
            "node_id": "IC_kwDOAPphoM5yvZd8",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1925027708/reactions"
            },
            "updated_at": "2024-02-03T02:34:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1925027708",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1009873?v=4",
                "events_url": "https://api.github.com/users/wookayin/events{/privacy}",
                "followers_url": "https://api.github.com/users/wookayin/followers",
                "following_url": "https://api.github.com/users/wookayin/following{/other_user}",
                "gists_url": "https://api.github.com/users/wookayin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wookayin",
                "id": 1009873,
                "login": "wookayin",
                "node_id": "MDQ6VXNlcjEwMDk4NzM=",
                "organizations_url": "https://api.github.com/users/wookayin/orgs",
                "received_events_url": "https://api.github.com/users/wookayin/received_events",
                "repos_url": "https://api.github.com/users/wookayin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wookayin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wookayin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wookayin",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Hi @wookayin, thanks for checking that!\r\n\r\nI have terminfo installed according to [wezterm's documentation](https://wezfurlong.org/wezterm/config/lua/config/term.html).\r\n<details>  <summary>\r\n  $ tree ~/.terminfo\r\n  </summary> \r\n  \r\n```bash\r\n/Users/sergey/.terminfo\r\n├── 61\r\n│   ├── alacritty -> /opt/homebrew/Caskroom/alacritty/0.13.1/Alacritty.app/Contents/Resources/61/alacritty\r\n│   └── alacritty-direct -> /opt/homebrew/Caskroom/alacritty/0.13.1/Alacritty.app/Contents/Resources/61/alacritty-direct\r\n└── 77\r\n    └── wezterm\r\n ```  \r\n \r\n </details>\r\n \r\n Your example works for me. But reverse highlighting for cursor doesn't.\r\n\r\nSorry for the not clear reproducion step, here is a better one:\r\n 1. Create file `test.vim` containing:\r\n ```vim\r\nset termguicolors\r\nhi Cursor guifg=NONE guibg=NONE gui=reverse cterm=reverse\r\nset guicursor=n-v-c:block-Cursor/lCursor\r\n ```\r\n 2. Open wezterm\r\n 3. Open nvim using command `nvim -u ./test.vim test.vim`\r\n 4. Cursor stays the same color while jumping between words with different color\r\n \r\n Expected behaviour:\r\nCursor changes color while jumping between words with different color.\r\n\r\n![Screenshot 2024-02-03 at 10 18 43](https://github.com/neovim/neovim/assets/15742918/0d45e105-d34e-4cba-80be-6e779fb7a367)\r\n",
            "created_at": "2024-02-03T10:19:55Z",
            "html_url": "https://github.com/neovim/neovim/issues/27313#issuecomment-1925256435",
            "id": 1925256435,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27313",
            "node_id": "IC_kwDOAPphoM5ywRTz",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1925256435/reactions"
            },
            "updated_at": "2024-02-03T10:28:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1925256435",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15742918?v=4",
                "events_url": "https://api.github.com/users/kuznetsss/events{/privacy}",
                "followers_url": "https://api.github.com/users/kuznetsss/followers",
                "following_url": "https://api.github.com/users/kuznetsss/following{/other_user}",
                "gists_url": "https://api.github.com/users/kuznetsss/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kuznetsss",
                "id": 15742918,
                "login": "kuznetsss",
                "node_id": "MDQ6VXNlcjE1NzQyOTE4",
                "organizations_url": "https://api.github.com/users/kuznetsss/orgs",
                "received_events_url": "https://api.github.com/users/kuznetsss/received_events",
                "repos_url": "https://api.github.com/users/kuznetsss/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kuznetsss/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kuznetsss/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kuznetsss",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Can confirm the behavior @kuznetsss describes.\r\n\r\n![image](https://github.com/neovim/neovim/assets/31665788/23dae78c-4a89-40a6-a6b8-4aa6c34330d3)\r\n\r\n\r\nJust tested with the latest nightly builds of NeoVim and Wezterm\r\n\r\n* Wezterm version `wezterm 20240202-193942-c3d37f9e`\r\n* NeoVim version\r\n  ```\r\n  NVIM v0.10.0-dev-2267+g6709f7f8f\r\n  Build type: RelWithDebInfo\r\n  LuaJIT 2.1.1706708390\r\n  Run \"nvim -V1 -v\" for more info\r\n  ```\r\n\r\nFor reference, it works as expected in Alacritty.\r\n\r\n![image](https://github.com/neovim/neovim/assets/31665788/0359a36a-19cb-4033-9d40-ab6668897bd4)\r\n",
            "created_at": "2024-02-03T10:30:58Z",
            "html_url": "https://github.com/neovim/neovim/issues/27313#issuecomment-1925259170",
            "id": 1925259170,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27313",
            "node_id": "IC_kwDOAPphoM5ywR-i",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1925259170/reactions"
            },
            "updated_at": "2024-02-03T10:30:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1925259170",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31665788?v=4",
                "events_url": "https://api.github.com/users/david-haerer/events{/privacy}",
                "followers_url": "https://api.github.com/users/david-haerer/followers",
                "following_url": "https://api.github.com/users/david-haerer/following{/other_user}",
                "gists_url": "https://api.github.com/users/david-haerer/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/david-haerer",
                "id": 31665788,
                "login": "david-haerer",
                "node_id": "MDQ6VXNlcjMxNjY1Nzg4",
                "organizations_url": "https://api.github.com/users/david-haerer/orgs",
                "received_events_url": "https://api.github.com/users/david-haerer/received_events",
                "repos_url": "https://api.github.com/users/david-haerer/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/david-haerer/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/david-haerer/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/david-haerer",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I assume Alacritty just has reversed cursor by default. While WezTerm has fixed cursor color by default. If I set a cursor color in Alacritty's config it starts to behave exactly like WezTerm not showing reversed cursor color. And vice versa if I turn on `force_reverse_video_cursor = true` for WezTerm it starts to show cursor with reversed color like Alacritty.\r\n\r\nSo maybe we could close the issue if someone confirms that Neovim doesn't use any specific terminal sequence for reversing cursor color.",
            "created_at": "2024-02-03T12:07:00Z",
            "html_url": "https://github.com/neovim/neovim/issues/27313#issuecomment-1925303876",
            "id": 1925303876,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27313",
            "node_id": "IC_kwDOAPphoM5ywc5E",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 3,
                "total_count": 3,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1925303876/reactions"
            },
            "updated_at": "2024-02-03T12:07:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1925303876",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15742918?v=4",
                "events_url": "https://api.github.com/users/kuznetsss/events{/privacy}",
                "followers_url": "https://api.github.com/users/kuznetsss/followers",
                "following_url": "https://api.github.com/users/kuznetsss/following{/other_user}",
                "gists_url": "https://api.github.com/users/kuznetsss/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kuznetsss",
                "id": 15742918,
                "login": "kuznetsss",
                "node_id": "MDQ6VXNlcjE1NzQyOTE4",
                "organizations_url": "https://api.github.com/users/kuznetsss/orgs",
                "received_events_url": "https://api.github.com/users/kuznetsss/received_events",
                "repos_url": "https://api.github.com/users/kuznetsss/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kuznetsss/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kuznetsss/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kuznetsss",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> So maybe we could close the issue if someone confirms that Neovim doesn't use any specific terminal sequence for reversing cursor color.\r\n\r\nThat logic is here: https://github.com/neovim/neovim/blob/5e5b004da44c7075ed1e20ae9d05ab09c6f2ac58/src/nvim/tui/tui.c#L2253-L2284\r\n",
            "created_at": "2024-02-03T19:48:15Z",
            "html_url": "https://github.com/neovim/neovim/issues/27313#issuecomment-1925439832",
            "id": 1925439832,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27313",
            "node_id": "IC_kwDOAPphoM5yw-FY",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1925439832/reactions"
            },
            "updated_at": "2024-02-03T19:48:15Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1925439832",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Thanks for sharing this!\r\n\r\nI can see that there are only `\\033]12;...\\007` and `\\x1b]112\\x07` sequences used to control or reset cursor color. I have tried both in WezTerm and they work fine.\r\nSo I think that proves that the problem was in different default setting.\r\n\r\nI don't know much about terminal sequences but is it possible for Neovim to make inverse cursor color even if terminal sets some specific color? I think that would make Neovim more self containable.\r\n",
            "created_at": "2024-02-04T11:11:54Z",
            "html_url": "https://github.com/neovim/neovim/issues/27313#issuecomment-1925705304",
            "id": 1925705304,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27313",
            "node_id": "IC_kwDOAPphoM5yx-5Y",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1925705304/reactions"
            },
            "updated_at": "2024-02-04T11:11:54Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1925705304",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15742918?v=4",
                "events_url": "https://api.github.com/users/kuznetsss/events{/privacy}",
                "followers_url": "https://api.github.com/users/kuznetsss/followers",
                "following_url": "https://api.github.com/users/kuznetsss/following{/other_user}",
                "gists_url": "https://api.github.com/users/kuznetsss/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kuznetsss",
                "id": 15742918,
                "login": "kuznetsss",
                "node_id": "MDQ6VXNlcjE1NzQyOTE4",
                "organizations_url": "https://api.github.com/users/kuznetsss/orgs",
                "received_events_url": "https://api.github.com/users/kuznetsss/received_events",
                "repos_url": "https://api.github.com/users/kuznetsss/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kuznetsss/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kuznetsss/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kuznetsss",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 6,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/27313/comments",
    "created_at": "2024-02-03T01:16:33Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/27313/events",
    "html_url": "https://github.com/neovim/neovim/issues/27313",
    "id": 2116101615,
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "user system environment (terminal, shell, tmux)",
            "id": 147354524,
            "name": "environment",
            "node_id": "MDU6TGFiZWwxNDczNTQ1MjQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/environment"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 197254545,
            "name": "tui",
            "node_id": "MDU6TGFiZWwxOTcyNTQ1NDU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/tui"
        },
        {
            "color": "0E8A16",
            "default": false,
            "description": "",
            "id": 606691254,
            "name": "has:plan",
            "node_id": "MDU6TGFiZWw2MDY2OTEyNTQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/has:plan"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/27313/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 285,
        "created_at": "2014-11-26T22:13:11Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "We don't plan to work on this, but will accept high quality contributions from someone who will own the feature and follow up on bug reports.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/9",
        "id": 881978,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/9/labels",
        "node_id": "MDk6TWlsZXN0b25lODgxOTc4",
        "number": 9,
        "open_issues": 339,
        "state": "open",
        "title": "needs-owner",
        "updated_at": "2025-07-04T21:53:41Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/9"
    },
    "node_id": "I_kwDOAPphoM5-ISXv",
    "number": 27313,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/27313/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/27313/timeline",
    "title": "TUI: cursor doesn't change color in wezterm",
    "type": {
        "color": "blue",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "A request, idea, or new functionality",
        "id": 597167,
        "is_enabled": true,
        "name": "Enhancement",
        "node_id": "IT_kwDOAGK_Pc4ACRyv",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-07-02T08:59:13Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/27313",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/15742918?v=4",
        "events_url": "https://api.github.com/users/kuznetsss/events{/privacy}",
        "followers_url": "https://api.github.com/users/kuznetsss/followers",
        "following_url": "https://api.github.com/users/kuznetsss/following{/other_user}",
        "gists_url": "https://api.github.com/users/kuznetsss/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/kuznetsss",
        "id": 15742918,
        "login": "kuznetsss",
        "node_id": "MDQ6VXNlcjE1NzQyOTE4",
        "organizations_url": "https://api.github.com/users/kuznetsss/orgs",
        "received_events_url": "https://api.github.com/users/kuznetsss/received_events",
        "repos_url": "https://api.github.com/users/kuznetsss/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/kuznetsss/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/kuznetsss/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/kuznetsss",
        "user_view_type": "public"
    }
}