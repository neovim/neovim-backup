{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nWhen both virtual_lines and vim.lsp.inlay_hint.enable() are enabled, lines are drawn in the wrong position\n\n<img width=\"1258\" height=\"277\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/93f42e2a-f2cd-4997-9984-0496ad977e21\" />\n\n### Steps to reproduce\n\nIf the code is long, it may be in the correct position when drawn on the first screen, and then scrolling the screen to the rest of the code reveals that the subsequent renders are in the incorrect position, and the line doesn't take into account the position of the inlayhint\n\n### Expected behavior\n\nlike this, this is when this code is displayed correctly when the first screen is drawn\n<img width=\"1297\" height=\"303\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/f8cb15a7-9a17-4333-9afc-198ef34b9759\" />\n\n### Nvim version (nvim -v)\n\nNVIM v0.11.3\n\n### Vim (not Nvim) behaves the same?\n\ninconclusive\n\n### Operating system/version\n\nmacOs\n\n### Terminal name/version\n\nkitty 0.41.1 created by Kovid Goyal\n\n### $TERM environment variable\n\ni dont know\n\n### Installation\n\nhomebrew",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/35049/comments",
    "created_at": "2025-07-24T09:53:38Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/35049/events",
    "html_url": "https://github.com/neovim/neovim/issues/35049",
    "id": 3259275133,
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "redraw, layout, presentation",
            "id": 718084050,
            "name": "display",
            "node_id": "MDU6TGFiZWw3MTgwODQwNTA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/display"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "marks, extmarks, decorations, virtual text",
            "id": 1680119719,
            "name": "marks",
            "node_id": "MDU6TGFiZWwxNjgwMTE5NzE5",
            "url": "https://api.github.com/repos/neovim/neovim/labels/marks"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "",
            "id": 3361645105,
            "name": "diagnostic",
            "node_id": "MDU6TGFiZWwzMzYxNjQ1MTA1",
            "url": "https://api.github.com/repos/neovim/neovim/labels/diagnostic"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/35049/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 733,
        "created_at": "2014-05-10T20:43:04Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "Low priority items. We plan to work on this but don't have a target date.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/6",
        "id": 655037,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lNjU1MDM3",
        "number": 6,
        "open_issues": 633,
        "state": "open",
        "title": "backlog",
        "updated_at": "2025-07-28T09:46:47Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/6"
    },
    "node_id": "I_kwDOAPphoM7CRJd9",
    "number": 35049,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/35049/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/35049/timeline",
    "title": "virtual_lines shown in wrong position when vim.lsp.inlay_hint is enabled",
    "type": {
        "color": "red",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "An unexpected problem or behavior",
        "id": 597163,
        "is_enabled": true,
        "name": "Bug",
        "node_id": "IT_kwDOAGK_Pc4ACRyr",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-07-24T13:02:24Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/35049",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/73976311?v=4",
        "events_url": "https://api.github.com/users/xiaoliyooo/events{/privacy}",
        "followers_url": "https://api.github.com/users/xiaoliyooo/followers",
        "following_url": "https://api.github.com/users/xiaoliyooo/following{/other_user}",
        "gists_url": "https://api.github.com/users/xiaoliyooo/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/xiaoliyooo",
        "id": 73976311,
        "login": "xiaoliyooo",
        "node_id": "MDQ6VXNlcjczOTc2MzEx",
        "organizations_url": "https://api.github.com/users/xiaoliyooo/orgs",
        "received_events_url": "https://api.github.com/users/xiaoliyooo/received_events",
        "repos_url": "https://api.github.com/users/xiaoliyooo/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/xiaoliyooo/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/xiaoliyooo/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/xiaoliyooo",
        "user_view_type": "public"
    }
}