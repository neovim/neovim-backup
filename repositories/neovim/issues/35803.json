{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\n```\n-------------------------------------\nTranslated Report (Full Report Below)\n-------------------------------------\nProcess:             nvim [71394]\nPath:                /usr/local/bin/nvim\nIdentifier:          nvim\nVersion:             ???\nCode Type:           ARM-64 (Native)\nRole:                Default\nParent Process:      Exited process [71393]\nCoalition:           net.kovidgoyal.kitty [4609]\nResponsible Process: kitty [56620]\nUser ID:             501\n\nDate/Time:           2025-09-16 11:21:00.3696 -0400\nLaunch Time:         2025-09-16 11:14:10.2023 -0400\nHardware Model:      MacBookPro18,4\nOS Version:          macOS 26.0 (25A354)\nRelease Type:        User\n\nCrash Reporter Key:  9AF9B8D0-EA58-34FA-0C1D-85D405751E0A\nIncident Identifier: 67FB21B2-B5D9-438B-8F57-7CC3A954F858\n\nSleep/Wake UUID:       6DA7065A-BCD7-46B2-A004-D72B96DA0592\n\nTime Awake Since Boot: 66000 seconds\nTime Since Wake:       33687 seconds\n\nSystem Integrity Protection: enabled\n\nTriggered by Thread: 0\n\nException Type:    EXC_BAD_ACCESS (SIGSEGV)\nException Subtype: KERN_INVALID_ADDRESS at 0x00000000003938d0\nException Codes:   0x0000000000000001, 0x00000000003938d0\n\nTermination Reason:  Namespace SIGNAL, Code 11, Segmentation fault: 11\nTerminating Process: exc handler [71394]\n\n\nVM Region Info: 0x3938d0 is not in any region.  Bytes before following region: 4359079728\n      REGION TYPE                    START - END         [ VSIZE] PRT/MAX SHRMOD  REGION DETAIL\n      UNUSED SPACE AT START\n--->  \n      __TEXT                      1040b8000-1046bc000    [ 6160K] r-x/r-x SM=COW  /usr/local/bin/nvim\n\nThread 0 Crashed:\n0   nvim                          \t       0x1041da2b0 apply_autocmds_group + 908\n1   nvim                          \t       0x1045a94f8 may_trigger_win_scrolled_resized + 1112\n2   nvim                          \t       0x10423f9b8 ins_redraw + 792\n3   nvim                          \t       0x10423de50 insert_check + 2904\n4   nvim                          \t       0x104510628 state_enter + 104\n5   nvim                          \t       0x10423ec54 insert_enter + 3240\n6   nvim                          \t       0x10423c744 edit + 396\n7   nvim                          \t       0x104408f08 nv_open + 1500\n8   nvim                          \t       0x1044020dc normal_execute + 9032\n9   nvim                          \t       0x104510650 state_enter + 144\n10  nvim                          \t       0x104392738 main + 17636\n11  dyld                          \t       0x189219d54 start + 7184\n\nThread 1:: libuv-worker\n0   libsystem_kernel.dylib        \t       0x1895994f8 __psynch_cvwait + 8\n1   libsystem_pthread.dylib       \t       0x1895d90dc _pthread_cond_wait + 984\n2   nvim                          \t       0x10418440c uv_cond_wait + 40\n3   nvim                          \t       0x104172eb8 worker + 536\n4   libsystem_pthread.dylib       \t       0x1895d8c08 _pthread_start + 136\n5   libsystem_pthread.dylib       \t       0x1895d3ba8 thread_start + 8\n\nThread 2:: libuv-worker\n0   libsystem_kernel.dylib        \t       0x1895994f8 __psynch_cvwait + 8\n1   libsystem_pthread.dylib       \t       0x1895d90dc _pthread_cond_wait + 984\n2   nvim                          \t       0x10418440c uv_cond_wait + 40\n3   nvim                          \t       0x104172eb8 worker + 536\n4   libsystem_pthread.dylib       \t       0x1895d8c08 _pthread_start + 136\n5   libsystem_pthread.dylib       \t       0x1895d3ba8 thread_start + 8\n\nThread 3:: libuv-worker\n0   libsystem_kernel.dylib        \t       0x1895994f8 __psynch_cvwait + 8\n1   libsystem_pthread.dylib       \t       0x1895d90dc _pthread_cond_wait + 984\n2   nvim                          \t       0x10418440c uv_cond_wait + 40\n3   nvim                          \t       0x104172eb8 worker + 536\n4   libsystem_pthread.dylib       \t       0x1895d8c08 _pthread_start + 136\n5   libsystem_pthread.dylib       \t       0x1895d3ba8 thread_start + 8\n\nThread 4:: libuv-worker\n0   libsystem_kernel.dylib        \t       0x1895994f8 __psynch_cvwait + 8\n1   libsystem_pthread.dylib       \t       0x1895d90dc _pthread_cond_wait + 984\n2   nvim                          \t       0x10418440c uv_cond_wait + 40\n3   nvim                          \t       0x104172eb8 worker + 536\n4   libsystem_pthread.dylib       \t       0x1895d8c08 _pthread_start + 136\n5   libsystem_pthread.dylib       \t       0x1895d3ba8 thread_start + 8\n\nThread 5:\n0   libsystem_kernel.dylib        \t       0x189595c34 mach_msg2_trap + 8\n1   libsystem_kernel.dylib        \t       0x1895a8028 mach_msg2_internal + 76\n2   libsystem_kernel.dylib        \t       0x18959e98c mach_msg_overwrite + 484\n3   libsystem_kernel.dylib        \t       0x189595fb4 mach_msg + 24\n4   CoreFoundation                \t       0x189677c80 __CFRunLoopServiceMachPort + 160\n5   CoreFoundation                \t       0x1896765d8 __CFRunLoopRun + 1188\n6   CoreFoundation                \t       0x189734898 _CFRunLoopRunSpecificWithOptions + 532\n7   CoreFoundation                \t       0x1896cda44 CFRunLoopRun + 64\n8   nvim                          \t       0x1041899d0 uv__cf_loop_runner + 80\n9   libsystem_pthread.dylib       \t       0x1895d8c08 _pthread_start + 136\n10  libsystem_pthread.dylib       \t       0x1895d3ba8 thread_start + 8\n\nThread 6:\n\n\nThread 0 crashed with ARM Thread State (64-bit):\n    x0: 0x000000000000008c   x1: 0x000000098da2d7d0   x2: 0x000000016bd45f98   x3: 0x0000000000000000\n    x4: 0x00000000fffffffd   x5: 0x0000000000393848   x6: 0x0000000000000000   x7: 0x0000000000000000\n    x8: 0x000000016bd45f98   x9: 0x000000016bd45f98  x10: 0x00000000ffffff74  x11: 0x0000000000000018\n   x12: 0x000000000000000a  x13: 0x000000016bd458ee  x14: 0x0000000104651ec8  x15: 0x0000000000000053\n   x16: 0x00000001895e2360  x17: 0x00000001f75bbb50  x18: 0x0000000000000000  x19: 0x000000000000008c\n   x20: 0x00000001046f93a0  x21: 0x000000016bd45f98  x22: 0x000000016bd45f98  x23: 0x00000001046f5d80\n   x24: 0x00000001046f9358  x25: 0x0000000000000000  x26: 0x00000001046f9358  x27: 0x0000000104705c20\n   x28: 0x0000000000000000   fp: 0x000000016bd45f60   lr: 0x00000001041da0fc\n    sp: 0x000000016bd45d80   pc: 0x00000001041da2b0 cpsr: 0xa0001000\n   far: 0x00000000003938d0  esr: 0x92000006 (Data Abort) byte read Translation fault\n\nBinary Images:\n       0x1040b8000 -        0x1046bbfff nvim (*) <c830823a-2507-3eb8-b76f-6d0a06f8a3b3> /usr/local/bin/nvim\n       0x104894000 -        0x1048bbfff libintl.8.dylib (*) <9414c162-5ccc-3b6d-8a0d-c7c743f7fec1> /opt/homebrew/*/libintl.8.dylib\n       0x109f44000 -        0x10a133fff libblink_cmp_fuzzy.dylib (*) <b950014a-ca88-3221-9261-144ae92c8f4a> /Users/USER/*/libblink_cmp_fuzzy.dylib\n       0x10a7dc000 -        0x10a9dffff ruby.so (*) <d43ab8fb-1fd6-3abd-aa54-9494d02249a6> /Users/USER/*/ruby.so\n       0x1096a0000 -        0x1096d3fff vimdoc.so (*) <9d76e179-db87-3e3c-a377-f32952171a8d> /usr/local/lib/nvim/parser/vimdoc.so\n       0x189211000 -        0x1892aff73 dyld (*) <abfd3247-50ac-3c8e-b72a-83710166e982> /usr/lib/dyld\n               0x0 - 0xffffffffffffffff ??? (*) <00000000-0000-0000-0000-000000000000> ???\n       0x1895df000 -        0x1895e73bf libsystem_platform.dylib (*) <36396b66-54eb-30fa-8e3b-e71ae63da30c> /usr/lib/system/libsystem_platform.dylib\n       0x189595000 -        0x1895d145f libsystem_kernel.dylib (*) <2eb73bf1-8c71-3e1f-a160-6da83dc82606> /usr/lib/system/libsystem_kernel.dylib\n       0x1895d2000 -        0x1895deabb libsystem_pthread.dylib (*) <5d31d65c-2ecf-36da-84f5-ba4caab06adb> /usr/lib/system/libsystem_pthread.dylib\n       0x189618000 -        0x189b64f7f com.apple.CoreFoundation (6.9) <edb39786-80b1-3bff-b6c3-e33f2e3ca867> /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation\n\nExternal Modification Summary:\n  Calls made by other processes targeting this process:\n    task_for_pid: 0\n    thread_create: 0\n    thread_set_state: 0\n  Calls made by this process:\n    task_for_pid: 0\n    thread_create: 0\n    thread_set_state: 0\n  Calls made by all processes on this machine:\n    task_for_pid: 0\n    thread_create: 0\n    thread_set_state: 0\n\nVM Region Summary:\nReadOnly portion of Libraries: Total=889.2M resident=0K(0%) swapped_out_or_unallocated=889.2M(100%)\nWritable regions: Total=203.5M written=353K(0%) resident=353K(0%) swapped_out=0K(0%) unallocated=203.1M(100%)\n\n                                VIRTUAL   REGION \nREGION TYPE                        SIZE    COUNT (non-coalesced) \n===========                     =======  ======= \nActivity Tracing                   256K        1 \nColorSync                           48K        2 \nKernel Alloc Once                   32K        1 \nMALLOC                           124.8M       22 \nMALLOC guard page                 3344K        4 \nSTACK GUARD                       56.1M        7 \nStack                             48.7M        7 \nVM_ALLOCATE                       29.5M      234 \n__AUTH                            1305K      146 \n__AUTH_CONST                      17.6M      345 \n__CTF                               824        1 \n__DATA                            4235K      306 \n__DATA_CONST                      15.5M      350 \n__DATA_DIRTY                      1314K      290 \n__FONT_DATA                        2352        1 \n__LINKEDIT                       595.1M        6 \n__OBJC_RO                         78.1M        1 \n__OBJC_RW                         2561K        1 \n__TEXT                           294.1M      359 \n__TPRO_CONST                       128K        2 \nmapped file                         80K        1 \npage table in kernel               353K        1 \nshared memory                       48K        2 \n===========                     =======  ======= \nTOTAL                              1.2G     2090 \n\n\n-----------\nFull Report\n-----------\n\n{\"app_name\":\"nvim\",\"timestamp\":\"2025-09-16 11:21:06.00 -0400\",\"app_version\":\"\",\"slice_uuid\":\"c830823a-2507-3eb8-b76f-6d0a06f8a3b3\",\"build_version\":\"\",\"platform\":1,\"share_with_app_devs\":1,\"is_first_party\":1,\"bug_type\":\"309\",\"os_version\":\"macOS 26.0 (25A354)\",\"roots_installed\":0,\"incident_id\":\"67FB21B2-B5D9-438B-8F57-7CC3A954F858\",\"name\":\"nvim\"}\n{\n  \"uptime\" : 66000,\n  \"procRole\" : \"Default\",\n  \"version\" : 2,\n  \"userID\" : 501,\n  \"deployVersion\" : 210,\n  \"modelCode\" : \"MacBookPro18,4\",\n  \"coalitionID\" : 4609,\n  \"osVersion\" : {\n    \"train\" : \"macOS 26.0\",\n    \"build\" : \"25A354\",\n    \"releaseType\" : \"User\"\n  },\n  \"captureTime\" : \"2025-09-16 11:21:00.3696 -0400\",\n  \"codeSigningMonitor\" : 1,\n  \"incident\" : \"67FB21B2-B5D9-438B-8F57-7CC3A954F858\",\n  \"pid\" : 71394,\n  \"translated\" : false,\n  \"cpuType\" : \"ARM-64\",\n  \"roots_installed\" : 0,\n  \"bug_type\" : \"309\",\n  \"procLaunch\" : \"2025-09-16 11:14:10.2023 -0400\",\n  \"procStartAbsTime\" : 1576671818347,\n  \"procExitAbsTime\" : 1586515711281,\n  \"procName\" : \"nvim\",\n  \"procPath\" : \"\\/usr\\/local\\/bin\\/nvim\",\n  \"parentProc\" : \"Exited process\",\n  \"parentPid\" : 71393,\n  \"coalitionName\" : \"net.kovidgoyal.kitty\",\n  \"crashReporterKey\" : \"9AF9B8D0-EA58-34FA-0C1D-85D405751E0A\",\n  \"developerMode\" : 1,\n  \"responsiblePid\" : 56620,\n  \"responsibleProc\" : \"kitty\",\n  \"codeSigningID\" : \"nvim\",\n  \"codeSigningTeamID\" : \"\",\n  \"codeSigningFlags\" : 570556929,\n  \"codeSigningValidationCategory\" : 10,\n  \"codeSigningTrustLevel\" : 4294967295,\n  \"codeSigningAuxiliaryInfo\" : 0,\n  \"instructionByteStream\" : {\"beforePC\":\"XtUHlPUDAKrhM0D5AgCCUg6cD5TlN0D54AMTqugDFqrsAxqqTAAAFA==\",\"atPC\":\"qohAuV8FAHHr9f9UaSkAsCkhDZE6AUD5mur\\/tGkpALApgQyRKQFA+Q==\"},\n  \"bootSessionUUID\" : \"8A010344-A3CA-4839-8E4E-40E7F8D10ECC\",\n  \"wakeTime\" : 33687,\n  \"sleepWakeUUID\" : \"6DA7065A-BCD7-46B2-A004-D72B96DA0592\",\n  \"sip\" : \"enabled\",\n  \"vmRegionInfo\" : \"0x3938d0 is not in any region.  Bytes before following region: 4359079728\\n      REGION TYPE                    START - END         [ VSIZE] PRT\\/MAX SHRMOD  REGION DETAIL\\n      UNUSED SPACE AT START\\n--->  \\n      __TEXT                      1040b8000-1046bc000    [ 6160K] r-x\\/r-x SM=COW  \\/usr\\/local\\/bin\\/nvim\",\n  \"exception\" : {\"codes\":\"0x0000000000000001, 0x00000000003938d0\",\"rawCodes\":[1,3750096],\"type\":\"EXC_BAD_ACCESS\",\"signal\":\"SIGSEGV\",\"subtype\":\"KERN_INVALID_ADDRESS at 0x00000000003938d0\"},\n  \"termination\" : {\"flags\":0,\"code\":11,\"namespace\":\"SIGNAL\",\"indicator\":\"Segmentation fault: 11\",\"byProc\":\"exc handler\",\"byPid\":71394},\n  \"vmregioninfo\" : \"0x3938d0 is not in any region.  Bytes before following region: 4359079728\\n      REGION TYPE                    START - END         [ VSIZE] PRT\\/MAX SHRMOD  REGION DETAIL\\n      UNUSED SPACE AT START\\n--->  \\n      __TEXT                      1040b8000-1046bc000    [ 6160K] r-x\\/r-x SM=COW  \\/usr\\/local\\/bin\\/nvim\",\n  \"extMods\" : {\"caller\":{\"thread_create\":0,\"thread_set_state\":0,\"task_for_pid\":0},\"system\":{\"thread_create\":0,\"thread_set_state\":0,\"task_for_pid\":0},\"targeted\":{\"thread_create\":0,\"thread_set_state\":0,\"task_for_pid\":0},\"warnings\":0},\n  \"faultingThread\" : 0,\n  \"threads\" : [{\"triggered\":true,\"id\":2107451,\"threadState\":{\"x\":[{\"value\":140},{\"value\":41030965200},{\"value\":6104047512},{\"value\":0},{\"value\":4294967293},{\"value\":3749960},{\"value\":0},{\"value\":0},{\"value\":6104047512},{\"value\":6104047512},{\"value\":4294967156},{\"value\":24},{\"value\":10},{\"value\":6104045806},{\"value\":4368703176,\"symbolLocation\":462,\"symbol\":\"e_duplicate_char_in_map_entry\"},{\"value\":83},{\"value\":6599615328,\"symbolLocation\":0,\"symbol\":\"_platform_memmove\"},{\"value\":8444951376},{\"value\":0},{\"value\":140},{\"value\":4369388448,\"symbolLocation\":0,\"symbol\":\"autocmd_busy\"},{\"value\":6104047512},{\"value\":6104047512},{\"value\":4369374592,\"symbolLocation\":3360,\"symbol\":\"autocmds\"},{\"value\":4369388376,\"symbolLocation\":0,\"symbol\":\"curbuf\"},{\"value\":0},{\"value\":4369388376,\"symbolLocation\":0,\"symbol\":\"curbuf\"},{\"value\":4369439776,\"symbolLocation\":0,\"symbol\":\"KeyTyped\"},{\"value\":0}],\"flavor\":\"ARM_THREAD_STATE64\",\"lr\":{\"value\":4364017916},\"cpsr\":{\"value\":2684358656},\"fp\":{\"value\":6104047456},\"sp\":{\"value\":6104046976},\"esr\":{\"value\":2449473542,\"description\":\"(Data Abort) byte read Translation fault\"},\"pc\":{\"value\":4364018352,\"matchesCrashFrame\":1},\"far\":{\"value\":3750096}},\"frames\":[{\"imageOffset\":1188528,\"symbol\":\"apply_autocmds_group\",\"symbolLocation\":908,\"imageIndex\":0},{\"imageOffset\":5182712,\"symbol\":\"may_trigger_win_scrolled_resized\",\"symbolLocation\":1112,\"imageIndex\":0},{\"imageOffset\":1604024,\"symbol\":\"ins_redraw\",\"symbolLocation\":792,\"imageIndex\":0},{\"imageOffset\":1597008,\"symbol\":\"insert_check\",\"symbolLocation\":2904,\"imageIndex\":0},{\"imageOffset\":4556328,\"symbol\":\"state_enter\",\"symbolLocation\":104,\"imageIndex\":0},{\"imageOffset\":1600596,\"symbol\":\"insert_enter\",\"symbolLocation\":3240,\"imageIndex\":0},{\"imageOffset\":1591108,\"symbol\":\"edit\",\"symbolLocation\":396,\"imageIndex\":0},{\"imageOffset\":3477256,\"symbol\":\"nv_open\",\"symbolLocation\":1500,\"imageIndex\":0},{\"imageOffset\":3449052,\"symbol\":\"normal_execute\",\"symbolLocation\":9032,\"imageIndex\":0},{\"imageOffset\":4556368,\"symbol\":\"state_enter\",\"symbolLocation\":144,\"imageIndex\":0},{\"imageOffset\":2991928,\"symbol\":\"main\",\"symbolLocation\":17636,\"imageIndex\":0},{\"imageOffset\":36180,\"symbol\":\"start\",\"symbolLocation\":7184,\"imageIndex\":5}]},{\"id\":2107471,\"name\":\"libuv-worker\",\"threadState\":{\"x\":[{\"value\":4},{\"value\":0},{\"value\":20736},{\"value\":0},{\"value\":0},{\"value\":160},{\"value\":0},{\"value\":0},{\"value\":6112472776},{\"value\":0},{\"value\":0},{\"value\":2},{\"value\":2},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":305},{\"value\":8444944320},{\"value\":0},{\"value\":4369461712,\"symbolLocation\":168,\"symbol\":\"_MergedGlobals\"},{\"value\":4369461664,\"symbolLocation\":120,\"symbol\":\"_MergedGlobals\"},{\"value\":6112473312},{\"value\":0},{\"value\":0},{\"value\":20736},{\"value\":20736},{\"value\":21760},{\"value\":4369461248,\"symbolLocation\":0,\"symbol\":\"ui_cb_ext\"},{\"value\":4369461568,\"symbolLocation\":24,\"symbol\":\"_MergedGlobals\"}],\"flavor\":\"ARM_THREAD_STATE64\",\"lr\":{\"value\":6599577820},\"cpsr\":{\"value\":1610616832},\"fp\":{\"value\":6112472896},\"sp\":{\"value\":6112472752},\"esr\":{\"value\":1442840704,\"description\":\"(Syscall)\"},\"pc\":{\"value\":6599316728},\"far\":{\"value\":0}},\"frames\":[{\"imageOffset\":17656,\"symbol\":\"__psynch_cvwait\",\"symbolLocation\":8,\"imageIndex\":8},{\"imageOffset\":28892,\"symbol\":\"_pthread_cond_wait\",\"symbolLocation\":984,\"imageIndex\":9},{\"imageOffset\":836620,\"symbol\":\"uv_cond_wait\",\"symbolLocation\":40,\"imageIndex\":0},{\"imageOffset\":765624,\"symbol\":\"worker\",\"symbolLocation\":536,\"imageIndex\":0},{\"imageOffset\":27656,\"symbol\":\"_pthread_start\",\"symbolLocation\":136,\"imageIndex\":9},{\"imageOffset\":7080,\"symbol\":\"thread_start\",\"symbolLocation\":8,\"imageIndex\":9}]},{\"id\":2107472,\"name\":\"libuv-worker\",\"threadState\":{\"x\":[{\"value\":4},{\"value\":0},{\"value\":20992},{\"value\":0},{\"value\":0},{\"value\":160},{\"value\":0},{\"value\":0},{\"value\":6120910536},{\"value\":0},{\"value\":0},{\"value\":2},{\"value\":2},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":305},{\"value\":8444944320},{\"value\":0},{\"value\":4369461712,\"symbolLocation\":168,\"symbol\":\"_MergedGlobals\"},{\"value\":4369461664,\"symbolLocation\":120,\"symbol\":\"_MergedGlobals\"},{\"value\":6120911072},{\"value\":0},{\"value\":0},{\"value\":20992},{\"value\":20992},{\"value\":22016},{\"value\":4369461248,\"symbolLocation\":0,\"symbol\":\"ui_cb_ext\"},{\"value\":4369461568,\"symbolLocation\":24,\"symbol\":\"_MergedGlobals\"}],\"flavor\":\"ARM_THREAD_STATE64\",\"lr\":{\"value\":6599577820},\"cpsr\":{\"value\":1610616832},\"fp\":{\"value\":6120910656},\"sp\":{\"value\":6120910512},\"esr\":{\"value\":1442840704,\"description\":\"(Syscall)\"},\"pc\":{\"value\":6599316728},\"far\":{\"value\":0}},\"frames\":[{\"imageOffset\":17656,\"symbol\":\"__psynch_cvwait\",\"symbolLocation\":8,\"imageIndex\":8},{\"imageOffset\":28892,\"symbol\":\"_pthread_cond_wait\",\"symbolLocation\":984,\"imageIndex\":9},{\"imageOffset\":836620,\"symbol\":\"uv_cond_wait\",\"symbolLocation\":40,\"imageIndex\":0},{\"imageOffset\":765624,\"symbol\":\"worker\",\"symbolLocation\":536,\"imageIndex\":0},{\"imageOffset\":27656,\"symbol\":\"_pthread_start\",\"symbolLocation\":136,\"imageIndex\":9},{\"imageOffset\":7080,\"symbol\":\"thread_start\",\"symbolLocation\":8,\"imageIndex\":9}]},{\"id\":2107473,\"name\":\"libuv-worker\",\"threadState\":{\"x\":[{\"value\":4},{\"value\":0},{\"value\":21248},{\"value\":0},{\"value\":0},{\"value\":160},{\"value\":0},{\"value\":0},{\"value\":6129348296},{\"value\":0},{\"value\":0},{\"value\":2},{\"value\":2},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":305},{\"value\":8444944320},{\"value\":0},{\"value\":4369461712,\"symbolLocation\":168,\"symbol\":\"_MergedGlobals\"},{\"value\":4369461664,\"symbolLocation\":120,\"symbol\":\"_MergedGlobals\"},{\"value\":6129348832},{\"value\":0},{\"value\":0},{\"value\":21248},{\"value\":21248},{\"value\":22272},{\"value\":4369461248,\"symbolLocation\":0,\"symbol\":\"ui_cb_ext\"},{\"value\":4369461568,\"symbolLocation\":24,\"symbol\":\"_MergedGlobals\"}],\"flavor\":\"ARM_THREAD_STATE64\",\"lr\":{\"value\":6599577820},\"cpsr\":{\"value\":1610616832},\"fp\":{\"value\":6129348416},\"sp\":{\"value\":6129348272},\"esr\":{\"value\":1442840704,\"description\":\"(Syscall)\"},\"pc\":{\"value\":6599316728},\"far\":{\"value\":0}},\"frames\":[{\"imageOffset\":17656,\"symbol\":\"__psynch_cvwait\",\"symbolLocation\":8,\"imageIndex\":8},{\"imageOffset\":28892,\"symbol\":\"_pthread_cond_wait\",\"symbolLocation\":984,\"imageIndex\":9},{\"imageOffset\":836620,\"symbol\":\"uv_cond_wait\",\"symbolLocation\":40,\"imageIndex\":0},{\"imageOffset\":765624,\"symbol\":\"worker\",\"symbolLocation\":536,\"imageIndex\":0},{\"imageOffset\":27656,\"symbol\":\"_pthread_start\",\"symbolLocation\":136,\"imageIndex\":9},{\"imageOffset\":7080,\"symbol\":\"thread_start\",\"symbolLocation\":8,\"imageIndex\":9}]},{\"id\":2107474,\"name\":\"libuv-worker\",\"threadState\":{\"x\":[{\"value\":260},{\"value\":0},{\"value\":20480},{\"value\":0},{\"value\":0},{\"value\":160},{\"value\":0},{\"value\":0},{\"value\":6137786056},{\"value\":0},{\"value\":0},{\"value\":2},{\"value\":2},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":305},{\"value\":8444944320},{\"value\":0},{\"value\":4369461712,\"symbolLocation\":168,\"symbol\":\"_MergedGlobals\"},{\"value\":4369461664,\"symbolLocation\":120,\"symbol\":\"_MergedGlobals\"},{\"value\":6137786592},{\"value\":0},{\"value\":0},{\"value\":20480},{\"value\":20480},{\"value\":21504},{\"value\":4369461248,\"symbolLocation\":0,\"symbol\":\"ui_cb_ext\"},{\"value\":4369461568,\"symbolLocation\":24,\"symbol\":\"_MergedGlobals\"}],\"flavor\":\"ARM_THREAD_STATE64\",\"lr\":{\"value\":6599577820},\"cpsr\":{\"value\":1610616832},\"fp\":{\"value\":6137786176},\"sp\":{\"value\":6137786032},\"esr\":{\"value\":1442840704,\"description\":\"(Syscall)\"},\"pc\":{\"value\":6599316728},\"far\":{\"value\":0}},\"frames\":[{\"imageOffset\":17656,\"symbol\":\"__psynch_cvwait\",\"symbolLocation\":8,\"imageIndex\":8},{\"imageOffset\":28892,\"symbol\":\"_pthread_cond_wait\",\"symbolLocation\":984,\"imageIndex\":9},{\"imageOffset\":836620,\"symbol\":\"uv_cond_wait\",\"symbolLocation\":40,\"imageIndex\":0},{\"imageOffset\":765624,\"symbol\":\"worker\",\"symbolLocation\":536,\"imageIndex\":0},{\"imageOffset\":27656,\"symbol\":\"_pthread_start\",\"symbolLocation\":136,\"imageIndex\":9},{\"imageOffset\":7080,\"symbol\":\"thread_start\",\"symbolLocation\":8,\"imageIndex\":9}]},{\"id\":2109895,\"frames\":[{\"imageOffset\":3124,\"symbol\":\"mach_msg2_trap\",\"symbolLocation\":8,\"imageIndex\":8},{\"imageOffset\":77864,\"symbol\":\"mach_msg2_internal\",\"symbolLocation\":76,\"imageIndex\":8},{\"imageOffset\":39308,\"symbol\":\"mach_msg_overwrite\",\"symbolLocation\":484,\"imageIndex\":8},{\"imageOffset\":4020,\"symbol\":\"mach_msg\",\"symbolLocation\":24,\"imageIndex\":8},{\"imageOffset\":392320,\"symbol\":\"__CFRunLoopServiceMachPort\",\"symbolLocation\":160,\"imageIndex\":10},{\"imageOffset\":386520,\"symbol\":\"__CFRunLoopRun\",\"symbolLocation\":1188,\"imageIndex\":10},{\"imageOffset\":1165464,\"symbol\":\"_CFRunLoopRunSpecificWithOptions\",\"symbolLocation\":532,\"imageIndex\":10},{\"imageOffset\":744004,\"symbol\":\"CFRunLoopRun\",\"symbolLocation\":64,\"imageIndex\":10},{\"imageOffset\":858576,\"symbol\":\"uv__cf_loop_runner\",\"symbolLocation\":80,\"imageIndex\":0},{\"imageOffset\":27656,\"symbol\":\"_pthread_start\",\"symbolLocation\":136,\"imageIndex\":9},{\"imageOffset\":7080,\"symbol\":\"thread_start\",\"symbolLocation\":8,\"imageIndex\":9}],\"threadState\":{\"x\":[{\"value\":268451845},{\"value\":21592279046},{\"value\":8589934592},{\"value\":37396280246272},{\"value\":0},{\"value\":37396280246272},{\"value\":2},{\"value\":4294967295},{\"value\":0},{\"value\":17179869184},{\"value\":0},{\"value\":2},{\"value\":0},{\"value\":0},{\"value\":8707},{\"value\":0},{\"value\":18446744073709551569},{\"value\":8444946192},{\"value\":0},{\"value\":4294967295},{\"value\":2},{\"value\":37396280246272},{\"value\":0},{\"value\":37396280246272},{\"value\":6146203720},{\"value\":8589934592},{\"value\":21592279046},{\"value\":18446744073709550527},{\"value\":4412409862}],\"flavor\":\"ARM_THREAD_STATE64\",\"lr\":{\"value\":6599376936},\"cpsr\":{\"value\":4096},\"fp\":{\"value\":6146203568},\"sp\":{\"value\":6146203488},\"esr\":{\"value\":1442840704,\"description\":\"(Syscall)\"},\"pc\":{\"value\":6599302196},\"far\":{\"value\":0}}},{\"id\":2110651,\"frames\":[],\"threadState\":{\"x\":[{\"value\":6147354624},{\"value\":11027},{\"value\":6146818048},{\"value\":0},{\"value\":409602},{\"value\":18446744073709551615},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0}],\"flavor\":\"ARM_THREAD_STATE64\",\"lr\":{\"value\":0},\"cpsr\":{\"value\":4096},\"fp\":{\"value\":0},\"sp\":{\"value\":6147354624},\"esr\":{\"value\":1442840704,\"description\":\"(Syscall)\"},\"pc\":{\"value\":6599555988},\"far\":{\"value\":0}}}],\n  \"usedImages\" : [\n  {\n    \"source\" : \"P\",\n    \"arch\" : \"arm64\",\n    \"base\" : 4362829824,\n    \"size\" : 6307840,\n    \"uuid\" : \"c830823a-2507-3eb8-b76f-6d0a06f8a3b3\",\n    \"path\" : \"\\/usr\\/local\\/bin\\/nvim\",\n    \"name\" : \"nvim\"\n  },\n  {\n    \"source\" : \"P\",\n    \"arch\" : \"arm64\",\n    \"base\" : 4371070976,\n    \"size\" : 163840,\n    \"uuid\" : \"9414c162-5ccc-3b6d-8a0d-c7c743f7fec1\",\n    \"path\" : \"\\/opt\\/homebrew\\/*\\/libintl.8.dylib\",\n    \"name\" : \"libintl.8.dylib\"\n  },\n  {\n    \"source\" : \"P\",\n    \"arch\" : \"arm64\",\n    \"base\" : 4461969408,\n    \"size\" : 2031616,\n    \"uuid\" : \"b950014a-ca88-3221-9261-144ae92c8f4a\",\n    \"path\" : \"\\/Users\\/USER\\/*\\/libblink_cmp_fuzzy.dylib\",\n    \"name\" : \"libblink_cmp_fuzzy.dylib\"\n  },\n  {\n    \"source\" : \"P\",\n    \"arch\" : \"arm64\",\n    \"base\" : 4470980608,\n    \"size\" : 2113536,\n    \"uuid\" : \"d43ab8fb-1fd6-3abd-aa54-9494d02249a6\",\n    \"path\" : \"\\/Users\\/USER\\/*\\/ruby.so\",\n    \"name\" : \"ruby.so\"\n  },\n  {\n    \"source\" : \"P\",\n    \"arch\" : \"arm64\",\n    \"base\" : 4452909056,\n    \"size\" : 212992,\n    \"uuid\" : \"9d76e179-db87-3e3c-a377-f32952171a8d\",\n    \"path\" : \"\\/usr\\/local\\/lib\\/nvim\\/parser\\/vimdoc.so\",\n    \"name\" : \"vimdoc.so\"\n  },\n  {\n    \"source\" : \"P\",\n    \"arch\" : \"arm64e\",\n    \"base\" : 6595612672,\n    \"size\" : 651124,\n    \"uuid\" : \"abfd3247-50ac-3c8e-b72a-83710166e982\",\n    \"path\" : \"\\/usr\\/lib\\/dyld\",\n    \"name\" : \"dyld\"\n  },\n  {\n    \"size\" : 0,\n    \"source\" : \"A\",\n    \"base\" : 0,\n    \"uuid\" : \"00000000-0000-0000-0000-000000000000\"\n  },\n  {\n    \"source\" : \"P\",\n    \"arch\" : \"arm64e\",\n    \"base\" : 6599602176,\n    \"size\" : 33728,\n    \"uuid\" : \"36396b66-54eb-30fa-8e3b-e71ae63da30c\",\n    \"path\" : \"\\/usr\\/lib\\/system\\/libsystem_platform.dylib\",\n    \"name\" : \"libsystem_platform.dylib\"\n  },\n  {\n    \"source\" : \"P\",\n    \"arch\" : \"arm64e\",\n    \"base\" : 6599299072,\n    \"size\" : 246880,\n    \"uuid\" : \"2eb73bf1-8c71-3e1f-a160-6da83dc82606\",\n    \"path\" : \"\\/usr\\/lib\\/system\\/libsystem_kernel.dylib\",\n    \"name\" : \"libsystem_kernel.dylib\"\n  },\n  {\n    \"source\" : \"P\",\n    \"arch\" : \"arm64e\",\n    \"base\" : 6599548928,\n    \"size\" : 51900,\n    \"uuid\" : \"5d31d65c-2ecf-36da-84f5-ba4caab06adb\",\n    \"path\" : \"\\/usr\\/lib\\/system\\/libsystem_pthread.dylib\",\n    \"name\" : \"libsystem_pthread.dylib\"\n  },\n  {\n    \"source\" : \"P\",\n    \"arch\" : \"arm64e\",\n    \"base\" : 6599835648,\n    \"CFBundleShortVersionString\" : \"6.9\",\n    \"CFBundleIdentifier\" : \"com.apple.CoreFoundation\",\n    \"size\" : 5558144,\n    \"uuid\" : \"edb39786-80b1-3bff-b6c3-e33f2e3ca867\",\n    \"path\" : \"\\/System\\/Library\\/Frameworks\\/CoreFoundation.framework\\/Versions\\/A\\/CoreFoundation\",\n    \"name\" : \"CoreFoundation\",\n    \"CFBundleVersion\" : \"4040.1.401\"\n  }\n],\n  \"sharedCache\" : {\n  \"base\" : 6594543616,\n  \"size\" : 5557583872,\n  \"uuid\" : \"52e4eec0-379e-31c7-ac62-bfed14d90f52\"\n},\n  \"vmSummary\" : \"ReadOnly portion of Libraries: Total=889.2M resident=0K(0%) swapped_out_or_unallocated=889.2M(100%)\\nWritable regions: Total=203.5M written=353K(0%) resident=353K(0%) swapped_out=0K(0%) unallocated=203.1M(100%)\\n\\n                                VIRTUAL   REGION \\nREGION TYPE                        SIZE    COUNT (non-coalesced) \\n===========                     =======  ======= \\nActivity Tracing                   256K        1 \\nColorSync                           48K        2 \\nKernel Alloc Once                   32K        1 \\nMALLOC                           124.8M       22 \\nMALLOC guard page                 3344K        4 \\nSTACK GUARD                       56.1M        7 \\nStack                             48.7M        7 \\nVM_ALLOCATE                       29.5M      234 \\n__AUTH                            1305K      146 \\n__AUTH_CONST                      17.6M      345 \\n__CTF                               824        1 \\n__DATA                            4235K      306 \\n__DATA_CONST                      15.5M      350 \\n__DATA_DIRTY                      1314K      290 \\n__FONT_DATA                        2352        1 \\n__LINKEDIT                       595.1M        6 \\n__OBJC_RO                         78.1M        1 \\n__OBJC_RW                         2561K        1 \\n__TEXT                           294.1M      359 \\n__TPRO_CONST                       128K        2 \\nmapped file                         80K        1 \\npage table in kernel               353K        1 \\nshared memory                       48K        2 \\n===========                     =======  ======= \\nTOTAL                              1.2G     2090 \\n\",\n  \"legacyInfo\" : {\n  \"threadTriggered\" : {\n\n  }\n},\n  \"logWritingSignature\" : \"a7a112fe8118de521851a5c2212d5ad5334531f7\",\n  \"trialInfo\" : {\n  \"rollouts\" : [\n    {\n      \"rolloutId\" : \"65a8173205d942272410674b\",\n      \"factorPackIds\" : [\n        \"65d39fa4cb0e2417d11ce5f6\"\n      ],\n      \"deploymentId\" : 240000001\n    },\n    {\n      \"rolloutId\" : \"5fb4245a1bbfe8005e33a1e1\",\n      \"factorPackIds\" : [\n\n      ],\n      \"deploymentId\" : 240000021\n    }\n  ],\n  \"experiments\" : [\n\n  ]\n}\n}\n```\n\n### Steps to reproduce\n\nnvim randomly crashes on typing \n\n### Expected behavior\n\ni expect it not to crash\n\n### Nvim version (nvim -v)\n\nNVIM v0.12.0-dev-1237+g1460f01faf\n\n### Vim (not Nvim) behaves the same?\n\nnot sure\n\n### Operating system/version\n\nmacOS 26.0 (25A354)\n\n### Terminal name/version\n\nkitty \n\n### $TERM environment variable\n\nxterm-256color\n\n### Installation\n\nbuild from repo",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "> nvim randomly crashes on typing\n\nThat is not good enough. (And _please_ attach crash logs a text files, or at least put them in codeblocks (triple backticks).)",
            "created_at": "2025-09-16T15:46:53Z",
            "html_url": "https://github.com/neovim/neovim/issues/35803#issuecomment-3299367823",
            "id": 3299367823,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35803",
            "node_id": "IC_kwDOAPphoM7EqFuP",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3299367823/reactions"
            },
            "updated_at": "2025-09-16T15:46:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3299367823",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "```\nThread 0 Crashed:\n0   nvim                      0x1041da2b0 apply_autocmds_group + 908\n1   nvim                      0x1045a94f8 may_trigger_win_scrolled_resized + 1112\n```\n\n`WinScrolled` may be an event that we should defer https://github.com/neovim/neovim/issues/35366 . ",
            "created_at": "2025-09-16T18:24:09Z",
            "html_url": "https://github.com/neovim/neovim/issues/35803#issuecomment-3299873265",
            "id": 3299873265,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35803",
            "node_id": "IC_kwDOAPphoM7EsBHx",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3299873265/reactions"
            },
            "updated_at": "2025-09-16T18:24:09Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3299873265",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Deferring `WinScrolled` most likely won't fix anything because it's already \"deferred\".\n\nAnd the crash may be a heap corruption, in which case it may have nothing to do with `WinScrolled` at all (if it just happens to be the first code path that accesses the invalid memory).",
            "created_at": "2025-09-17T00:36:55Z",
            "html_url": "https://github.com/neovim/neovim/issues/35803#issuecomment-3300786660",
            "id": 3300786660,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35803",
            "node_id": "IC_kwDOAPphoM7EvgHk",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3300786660/reactions"
            },
            "updated_at": "2025-09-17T00:40:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3300786660",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I don't know if it helps. It happens with blink.cmp pluigin and auto_show option enabled. It consistently crashes when I type and autocomplete window is being redrawn on typing. I noticed that it doesn't take long to crash, mostly after several keystrokes. All crash reports show the same stack trace and if I disable this plugin, I don't see any crashes. ",
            "created_at": "2025-09-20T18:58:45Z",
            "html_url": "https://github.com/neovim/neovim/issues/35803#issuecomment-3315174355",
            "id": 3315174355,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35803",
            "node_id": "IC_kwDOAPphoM7FmYvT",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3315174355/reactions"
            },
            "updated_at": "2025-09-20T18:58:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3315174355",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15819?v=4",
                "events_url": "https://api.github.com/users/datanoise/events{/privacy}",
                "followers_url": "https://api.github.com/users/datanoise/followers",
                "following_url": "https://api.github.com/users/datanoise/following{/other_user}",
                "gists_url": "https://api.github.com/users/datanoise/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/datanoise",
                "id": 15819,
                "login": "datanoise",
                "node_id": "MDQ6VXNlcjE1ODE5",
                "organizations_url": "https://api.github.com/users/datanoise/orgs",
                "received_events_url": "https://api.github.com/users/datanoise/received_events",
                "repos_url": "https://api.github.com/users/datanoise/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/datanoise/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/datanoise/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/datanoise",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "No, reporting vague descriptions doesn't help. Don't need more \"me too\" reports.\n\nbtw, do you have blink.cmp \"fuzzy\" enabled? That uses FFI, which is at risk of crashes if not done carefully: https://github.com/Saghen/blink.cmp/blob/2fcf66aa31e37d4b443c669ec1bf189530dcbf20/doc/development/architecture.md?plain=1#L6",
            "created_at": "2025-09-20T19:01:01Z",
            "html_url": "https://github.com/neovim/neovim/issues/35803#issuecomment-3315175907",
            "id": 3315175907,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35803",
            "node_id": "IC_kwDOAPphoM7FmZHj",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3315175907/reactions"
            },
            "updated_at": "2025-09-20T19:01:01Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3315175907",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I don't have fuzzy enabled and no FFI is being used.\n\nI recompiled neovim in the debug mode and now you can see the line numbers in the crash report. It looks like the issue was introduced by ef5c5dc99b4 commit. I have reverted it and so far I am not able to reproduce the crash. I will keep testing and post here if it crashes again.\n\n\n```\n-------------------------------------\nTranslated Report (Full Report Below)\n-------------------------------------\nProcess:             nvim [5107]\nPath:                /usr/local/bin/nvim\nIdentifier:          nvim\nVersion:             ???\nCode Type:           ARM-64 (Native)\nRole:                Default\nParent Process:      nvim [5106]\nCoalition:           net.kovidgoyal.kitty [4609]\nResponsible PID:     56620\nUser ID:             501\n\nDate/Time:           2025-09-23 17:33:09.4243 -0400\nLaunch Time:         2025-09-23 16:51:42.0622 -0400\nHardware Model:      MacBookPro18,4\nOS Version:          macOS 26.0 (25A354)\nRelease Type:        User\n\nCrash Reporter Key:  9AF9B8D0-EA58-34FA-0C1D-85D405751E0A\nIncident Identifier: 5C523E2D-736D-4724-86CA-039BE719E544\n\nSleep/Wake UUID:       5C7C593C-AEB0-4552-ADAF-2557E133E471\n\nTime Awake Since Boot: 660000 seconds\nTime Since Wake:       5874 seconds\n\nSystem Integrity Protection: enabled\n\nTriggered by Thread: 0\n\nException Type:    EXC_BAD_ACCESS (SIGSEGV)\nException Subtype: KERN_INVALID_ADDRESS at 0x00000000000498c4\nException Codes:   0x0000000000000001, 0x00000000000498c4\n\nTermination Reason:  Namespace SIGNAL, Code 11, Segmentation fault: 11\nTerminating Process: exc handler [5107]\n\n\nVM Region Info: 0x498c4 is not in any region.  Bytes before following region: 4302169916\n      REGION TYPE                    START - END         [ VSIZE] PRT/MAX SHRMOD  REGION DETAIL\n      UNUSED SPACE AT START\n--->  \n      __TEXT                      100728000-100d70000    [ 6432K] r-x/r-x SM=COW  /usr/local/bin/nvim\n\nThread 0 Crashed:\n0   nvim                          \t       0x100788c80 apply_autocmds_group + 480 (autocmd.c:1641)\n1   nvim                          \t       0x10078a99c apply_autocmds + 72 (autocmd.c:1507)\n2   nvim                          \t       0x100b62164 may_trigger_win_scrolled_resized + 724 (window.c:5800)\n3   nvim                          \t       0x1007eead4 ins_redraw + 1016 (edit.c:1419)\n4   nvim                          \t       0x1007edb98 insert_check + 1408 (edit.c:506)\n5   nvim                          \t       0x100ab19a8 state_enter + 52 (state.c:38)\n6   nvim                          \t       0x1007ee588 insert_enter + 2284 (edit.c:340)\n7   nvim                          \t       0x1007ecdc4 edit + 396 (edit.c:1337)\n8   nvim                          \t       0x1009b8170 invoke_edit + 200 (normal.c:6273)\n9   nvim                          \t       0x1009b8630 n_opencmd + 400 (normal.c:5732)\n10  nvim                          \t       0x1009b351c nv_open + 284 (normal.c:6619)\n11  nvim                          \t       0x1009af430 normal_execute + 2148 (normal.c:1244)\n12  nvim                          \t       0x100ab1bb0 state_enter + 572 (state.c:100)\n13  nvim                          \t       0x1009aa288 normal_enter + 180 (normal.c:521)\n14  nvim                          \t       0x10093e148 main + 4332 (main.c:654)\n15  dyld                          \t       0x189219d54 start + 7184\n\nThread 1:\n0   libsystem_kernel.dylib        \t       0x189595c34 mach_msg2_trap + 8\n1   libsystem_kernel.dylib        \t       0x1895a8028 mach_msg2_internal + 76\n2   libsystem_kernel.dylib        \t       0x18959e98c mach_msg_overwrite + 484\n3   libsystem_kernel.dylib        \t       0x189595fb4 mach_msg + 24\n4   CoreFoundation                \t       0x189677c80 __CFRunLoopServiceMachPort + 160\n5   CoreFoundation                \t       0x1896765d8 __CFRunLoopRun + 1188\n6   CoreFoundation                \t       0x189734898 _CFRunLoopRunSpecificWithOptions + 532\n7   CoreFoundation                \t       0x1896cda44 CFRunLoopRun + 64\n8   nvim                          \t       0x100c7d980 uv__cf_loop_runner + 124 (fsevents.c:719)\n9   libsystem_pthread.dylib       \t       0x1895d8c08 _pthread_start + 136\n10  libsystem_pthread.dylib       \t       0x1895d3ba8 thread_start + 8\n\nThread 2:: libuv-worker\n0   libsystem_kernel.dylib        \t       0x1895994f8 __psynch_cvwait + 8\n1   libsystem_pthread.dylib       \t       0x1895d90dc _pthread_cond_wait + 984\n2   nvim                          \t       0x100c752a4 uv_cond_wait + 40 (thread.c:819)\n3   nvim                          \t       0x100c53910 worker + 268 (threadpool.c:77)\n4   libsystem_pthread.dylib       \t       0x1895d8c08 _pthread_start + 136\n5   libsystem_pthread.dylib       \t       0x1895d3ba8 thread_start + 8\n\nThread 3:: libuv-worker\n0   libsystem_kernel.dylib        \t       0x1895994f8 __psynch_cvwait + 8\n1   libsystem_pthread.dylib       \t       0x1895d90dc _pthread_cond_wait + 984\n2   nvim                          \t       0x100c752a4 uv_cond_wait + 40 (thread.c:819)\n3   nvim                          \t       0x100c53910 worker + 268 (threadpool.c:77)\n4   libsystem_pthread.dylib       \t       0x1895d8c08 _pthread_start + 136\n5   libsystem_pthread.dylib       \t       0x1895d3ba8 thread_start + 8\n\nThread 4:: libuv-worker\n0   libsystem_kernel.dylib        \t       0x1895994f8 __psynch_cvwait + 8\n1   libsystem_pthread.dylib       \t       0x1895d90dc _pthread_cond_wait + 984\n2   nvim                          \t       0x100c752a4 uv_cond_wait + 40 (thread.c:819)\n3   nvim                          \t       0x100c53910 worker + 268 (threadpool.c:77)\n4   libsystem_pthread.dylib       \t       0x1895d8c08 _pthread_start + 136\n5   libsystem_pthread.dylib       \t       0x1895d3ba8 thread_start + 8\n\nThread 5:: libuv-worker\n0   libsystem_kernel.dylib        \t       0x1895994f8 __psynch_cvwait + 8\n1   libsystem_pthread.dylib       \t       0x1895d90dc _pthread_cond_wait + 984\n2   nvim                          \t       0x100c752a4 uv_cond_wait + 40 (thread.c:819)\n3   nvim                          \t       0x100c53910 worker + 268 (threadpool.c:77)\n4   libsystem_pthread.dylib       \t       0x1895d8c08 _pthread_start + 136\n5   libsystem_pthread.dylib       \t       0x1895d3ba8 thread_start + 8\n\nThread 6:\n\n\nThread 0 crashed with ARM Thread State (64-bit):\n    x0: 0x0000000000000000   x1: 0x00000009be805700   x2: 0x000000016f6d5e8f   x3: 0x0000000000000000\n    x4: 0x00000000fffffffd   x5: 0x000000000004983c   x6: 0x0000000000000000   x7: 0x0000000000000000\n    x8: 0x000000000004983c   x9: 0x0000000000000d20  x10: 0x0000000000000000  x11: 0x000000000000000a\n   x12: 0x000000000000000a  x13: 0x000000016f6d54ce  x14: 0x0000000000003000  x15: 0x0000000000000054\n   x16: 0x00000001895e2360  x17: 0x00000001f7600068  x18: 0x0000000000000000  x19: 0x00000001f5cd8060\n   x20: 0x00000001f5f829c8  x21: 0x00000001f5cd8e00  x22: 0xfffffffffffffff0  x23: 0x00000001f5f860e0\n   x24: 0x0000000000000001  x25: 0x000000016f6d6c20  x26: 0x00000001f5f860f0  x27: 0x0000000000000000\n   x28: 0x0000000000000000   fp: 0x000000016f6d5dd0   lr: 0x0000000100788bd4\n    sp: 0x000000016f6d5b80   pc: 0x0000000100788c80 cpsr: 0xa0001000\n   far: 0x00000000000498c4  esr: 0x92000006 (Data Abort) byte read Translation fault\n\nBinary Images:\n       0x100728000 -        0x100d6ffff nvim (*) <cc284701-b0c3-3fd3-9dda-ed4fcf36069c> /usr/local/bin/nvim\n       0x100f98000 -        0x100fbffff libintl.8.dylib (*) <9414c162-5ccc-3b6d-8a0d-c7c743f7fec1> /opt/homebrew/*/libintl.8.dylib\n       0x106c78000 -        0x106e7bfff ruby.so (*) <d43ab8fb-1fd6-3abd-aa54-9494d02249a6> /Users/USER/*/ruby.so\n       0x108438000 -        0x10862ffff sql.so (*) <1bbade74-18ad-37b2-99fe-3e4f96176f38> /Users/USER/*/sql.so\n       0x189211000 -        0x1892aff73 dyld (*) <abfd3247-50ac-3c8e-b72a-83710166e982> /usr/lib/dyld\n               0x0 - 0xffffffffffffffff ??? (*) <00000000-0000-0000-0000-000000000000> ???\n       0x1895df000 -        0x1895e73bf libsystem_platform.dylib (*) <36396b66-54eb-30fa-8e3b-e71ae63da30c> /usr/lib/system/libsystem_platform.dylib\n       0x189595000 -        0x1895d145f libsystem_kernel.dylib (*) <2eb73bf1-8c71-3e1f-a160-6da83dc82606> /usr/lib/system/libsystem_kernel.dylib\n       0x189618000 -        0x189b64f7f com.apple.CoreFoundation (6.9) <edb39786-80b1-3bff-b6c3-e33f2e3ca867> /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation\n       0x1895d2000 -        0x1895deabb libsystem_pthread.dylib (*) <5d31d65c-2ecf-36da-84f5-ba4caab06adb> /usr/lib/system/libsystem_pthread.dylib\n\nExternal Modification Summary:\n  Calls made by other processes targeting this process:\n    task_for_pid: 0\n    thread_create: 0\n    thread_set_state: 0\n  Calls made by this process:\n    task_for_pid: 0\n    thread_create: 0\n    thread_set_state: 0\n  Calls made by all processes on this machine:\n    task_for_pid: 0\n    thread_create: 0\n    thread_set_state: 0\n\nVM Region Summary:\nReadOnly portion of Libraries: Total=889.0M resident=0K(0%) swapped_out_or_unallocated=889.0M(100%)\nWritable regions: Total=226.2M written=353K(0%) resident=353K(0%) swapped_out=0K(0%) unallocated=225.9M(100%)\n\n                                VIRTUAL   REGION \nREGION TYPE                        SIZE    COUNT (non-coalesced) \n===========                     =======  ======= \nActivity Tracing                   256K        1 \nColorSync                           48K        2 \nKernel Alloc Once                   32K        1 \nMALLOC                           128.8M       23 \nMALLOC guard page                 3424K        4 \nSTACK GUARD                       56.1M        7 \nStack                             48.7M        7 \nVM_ALLOCATE                       48.1M      375 \n__AUTH                            1305K      146 \n__AUTH_CONST                      17.6M      345 \n__CTF                               824        1 \n__DATA                            4283K      305 \n__DATA_CONST                      15.2M      349 \n__DATA_DIRTY                      1314K      290 \n__FONT_DATA                        2352        1 \n__LINKEDIT                       594.8M        5 \n__OBJC_RO                         78.1M        1 \n__OBJC_RW                         2561K        1 \n__TEXT                           294.2M      358 \n__TPRO_CONST                       128K        2 \nmapped file                         80K        1 \npage table in kernel               353K        1 \nshared memory                       48K        2 \n===========                     =======  ======= \nTOTAL                              1.3G     2228 \n\n\n-----------\nFull Report\n-----------\n\n{\"app_name\":\"nvim\",\"timestamp\":\"2025-09-23 17:33:11.00 -0400\",\"app_version\":\"\",\"slice_uuid\":\"cc284701-b0c3-3fd3-9dda-ed4fcf36069c\",\"build_version\":\"\",\"platform\":1,\"share_with_app_devs\":1,\"is_first_party\":1,\"bug_type\":\"309\",\"os_version\":\"macOS 26.0 (25A354)\",\"roots_installed\":0,\"incident_id\":\"5C523E2D-736D-4724-86CA-039BE719E544\",\"name\":\"nvim\"}\n{\n  \"uptime\" : 660000,\n  \"procRole\" : \"Default\",\n  \"version\" : 2,\n  \"userID\" : 501,\n  \"deployVersion\" : 210,\n  \"modelCode\" : \"MacBookPro18,4\",\n  \"coalitionID\" : 4609,\n  \"osVersion\" : {\n    \"train\" : \"macOS 26.0\",\n    \"build\" : \"25A354\",\n    \"releaseType\" : \"User\"\n  },\n  \"captureTime\" : \"2025-09-23 17:33:09.4243 -0400\",\n  \"codeSigningMonitor\" : 1,\n  \"incident\" : \"5C523E2D-736D-4724-86CA-039BE719E544\",\n  \"pid\" : 5107,\n  \"translated\" : false,\n  \"cpuType\" : \"ARM-64\",\n  \"roots_installed\" : 0,\n  \"bug_type\" : \"309\",\n  \"procLaunch\" : \"2025-09-23 16:51:42.0622 -0400\",\n  \"procStartAbsTime\" : 15902466104402,\n  \"procExitAbsTime\" : 15962162968898,\n  \"procName\" : \"nvim\",\n  \"procPath\" : \"\\/usr\\/local\\/bin\\/nvim\",\n  \"parentProc\" : \"nvim\",\n  \"parentPid\" : 5106,\n  \"coalitionName\" : \"net.kovidgoyal.kitty\",\n  \"crashReporterKey\" : \"9AF9B8D0-EA58-34FA-0C1D-85D405751E0A\",\n  \"developerMode\" : 1,\n  \"responsiblePid\" : 56620,\n  \"codeSigningID\" : \"nvim\",\n  \"codeSigningTeamID\" : \"\",\n  \"codeSigningFlags\" : 570556929,\n  \"codeSigningValidationCategory\" : 10,\n  \"codeSigningTrustLevel\" : 4294967295,\n  \"codeSigningAuxiliaryInfo\" : 0,\n  \"instructionByteStream\" : {\"beforePC\":\"CQOA0gl9CZtILwDQCGEYkQgBCYsIEUC5CAEAcQwIAFQBAAAU6H9A+Q==\",\"atPC\":\"CIlAuQgBAHFtBwBUAQAAFCgAgFLoNwM5KDEA0AghDZEIAUD56GMA+Q==\"},\n  \"bootSessionUUID\" : \"8A010344-A3CA-4839-8E4E-40E7F8D10ECC\",\n  \"wakeTime\" : 5874,\n  \"sleepWakeUUID\" : \"5C7C593C-AEB0-4552-ADAF-2557E133E471\",\n  \"sip\" : \"enabled\",\n  \"vmRegionInfo\" : \"0x498c4 is not in any region.  Bytes before following region: 4302169916\\n      REGION TYPE                    START - END         [ VSIZE] PRT\\/MAX SHRMOD  REGION DETAIL\\n      UNUSED SPACE AT START\\n--->  \\n      __TEXT                      100728000-100d70000    [ 6432K] r-x\\/r-x SM=COW  \\/usr\\/local\\/bin\\/nvim\",\n  \"exception\" : {\"codes\":\"0x0000000000000001, 0x00000000000498c4\",\"rawCodes\":[1,301252],\"type\":\"EXC_BAD_ACCESS\",\"signal\":\"SIGSEGV\",\"subtype\":\"KERN_INVALID_ADDRESS at 0x00000000000498c4\"},\n  \"termination\" : {\"flags\":0,\"code\":11,\"namespace\":\"SIGNAL\",\"indicator\":\"Segmentation fault: 11\",\"byProc\":\"exc handler\",\"byPid\":5107},\n  \"vmregioninfo\" : \"0x498c4 is not in any region.  Bytes before following region: 4302169916\\n      REGION TYPE                    START - END         [ VSIZE] PRT\\/MAX SHRMOD  REGION DETAIL\\n      UNUSED SPACE AT START\\n--->  \\n      __TEXT                      100728000-100d70000    [ 6432K] r-x\\/r-x SM=COW  \\/usr\\/local\\/bin\\/nvim\",\n  \"extMods\" : {\"caller\":{\"thread_create\":0,\"thread_set_state\":0,\"task_for_pid\":0},\"system\":{\"thread_create\":0,\"thread_set_state\":0,\"task_for_pid\":0},\"targeted\":{\"thread_create\":0,\"thread_set_state\":0,\"task_for_pid\":0},\"warnings\":0},\n  \"faultingThread\" : 0,\n  \"threads\" : [{\"triggered\":true,\"id\":17490814,\"threadState\":{\"x\":[{\"value\":0},{\"value\":41850787584},{\"value\":6164405903},{\"value\":0},{\"value\":4294967293},{\"value\":301116},{\"value\":0},{\"value\":0},{\"value\":301116},{\"value\":3360},{\"value\":0},{\"value\":10},{\"value\":10},{\"value\":6164403406},{\"value\":12288},{\"value\":84},{\"value\":6599615328,\"symbolLocation\":0,\"symbol\":\"_platform_memmove\"},{\"value\":8445231208},{\"value\":0},{\"value\":8418852960,\"symbolLocation\":0,\"symbol\":\"lsl::sAllocatorBuffer\"},{\"value\":8421648840,\"symbolLocation\":0,\"symbol\":\"lsl::sMemoryManagerBuffer\"},{\"value\":8418856448,\"symbolLocation\":3424,\"symbol\":\"lsl::sPoolBytes\"},{\"value\":18446744073709551600},{\"value\":8421662944,\"symbolLocation\":0,\"symbol\":\"vm_page_mask\"},{\"value\":1},{\"value\":6164409376},{\"value\":8421662960,\"symbolLocation\":0,\"symbol\":\"mach_task_self_\"},{\"value\":0},{\"value\":0}],\"flavor\":\"ARM_THREAD_STATE64\",\"lr\":{\"value\":4302867412},\"cpsr\":{\"value\":2684358656},\"fp\":{\"value\":6164405712},\"sp\":{\"value\":6164405120},\"esr\":{\"value\":2449473542,\"description\":\"(Data Abort) byte read Translation fault\"},\"pc\":{\"value\":4302867584,\"matchesCrashFrame\":1},\"far\":{\"value\":301252}},\"frames\":[{\"imageOffset\":396416,\"sourceLine\":1641,\"sourceFile\":\"autocmd.c\",\"symbol\":\"apply_autocmds_group\",\"imageIndex\":0,\"symbolLocation\":480},{\"imageOffset\":403868,\"sourceLine\":1507,\"sourceFile\":\"autocmd.c\",\"symbol\":\"apply_autocmds\",\"imageIndex\":0,\"symbolLocation\":72},{\"imageOffset\":4432228,\"sourceLine\":5800,\"sourceFile\":\"window.c\",\"symbol\":\"may_trigger_win_scrolled_resized\",\"imageIndex\":0,\"symbolLocation\":724},{\"imageOffset\":813780,\"sourceLine\":1419,\"sourceFile\":\"edit.c\",\"symbol\":\"ins_redraw\",\"imageIndex\":0,\"symbolLocation\":1016},{\"imageOffset\":809880,\"sourceLine\":506,\"sourceFile\":\"edit.c\",\"symbol\":\"insert_check\",\"imageIndex\":0,\"symbolLocation\":1408},{\"imageOffset\":3709352,\"sourceLine\":38,\"sourceFile\":\"state.c\",\"symbol\":\"state_enter\",\"imageIndex\":0,\"symbolLocation\":52},{\"imageOffset\":812424,\"sourceLine\":340,\"sourceFile\":\"edit.c\",\"symbol\":\"insert_enter\",\"imageIndex\":0,\"symbolLocation\":2284},{\"imageOffset\":806340,\"sourceLine\":1337,\"sourceFile\":\"edit.c\",\"symbol\":\"edit\",\"imageIndex\":0,\"symbolLocation\":396},{\"imageOffset\":2687344,\"sourceLine\":6273,\"sourceFile\":\"normal.c\",\"symbol\":\"invoke_edit\",\"imageIndex\":0,\"symbolLocation\":200},{\"imageOffset\":2688560,\"sourceLine\":5732,\"sourceFile\":\"normal.c\",\"symbol\":\"n_opencmd\",\"imageIndex\":0,\"symbolLocation\":400},{\"imageOffset\":2667804,\"sourceLine\":6619,\"sourceFile\":\"normal.c\",\"symbol\":\"nv_open\",\"imageIndex\":0,\"symbolLocation\":284},{\"imageOffset\":2651184,\"sourceLine\":1244,\"sourceFile\":\"normal.c\",\"symbol\":\"normal_execute\",\"imageIndex\":0,\"symbolLocation\":2148},{\"imageOffset\":3709872,\"sourceLine\":100,\"sourceFile\":\"state.c\",\"symbol\":\"state_enter\",\"imageIndex\":0,\"symbolLocation\":572},{\"imageOffset\":2630280,\"sourceLine\":521,\"sourceFile\":\"normal.c\",\"symbol\":\"normal_enter\",\"imageIndex\":0,\"symbolLocation\":180},{\"imageOffset\":2187592,\"sourceLine\":654,\"sourceFile\":\"main.c\",\"symbol\":\"main\",\"imageIndex\":0,\"symbolLocation\":4332},{\"imageOffset\":36180,\"symbol\":\"start\",\"symbolLocation\":7184,\"imageIndex\":4}]},{\"id\":17493847,\"frames\":[{\"imageOffset\":3124,\"symbol\":\"mach_msg2_trap\",\"symbolLocation\":8,\"imageIndex\":7},{\"imageOffset\":77864,\"symbol\":\"mach_msg2_internal\",\"symbolLocation\":76,\"imageIndex\":7},{\"imageOffset\":39308,\"symbol\":\"mach_msg_overwrite\",\"symbolLocation\":484,\"imageIndex\":7},{\"imageOffset\":4020,\"symbol\":\"mach_msg\",\"symbolLocation\":24,\"imageIndex\":7},{\"imageOffset\":392320,\"symbol\":\"__CFRunLoopServiceMachPort\",\"symbolLocation\":160,\"imageIndex\":8},{\"imageOffset\":386520,\"symbol\":\"__CFRunLoopRun\",\"symbolLocation\":1188,\"imageIndex\":8},{\"imageOffset\":1165464,\"symbol\":\"_CFRunLoopRunSpecificWithOptions\",\"symbolLocation\":532,\"imageIndex\":8},{\"imageOffset\":744004,\"symbol\":\"CFRunLoopRun\",\"symbolLocation\":64,\"imageIndex\":8},{\"imageOffset\":5593472,\"sourceLine\":719,\"sourceFile\":\"fsevents.c\",\"symbol\":\"uv__cf_loop_runner\",\"imageIndex\":0,\"symbolLocation\":124},{\"imageOffset\":27656,\"symbol\":\"_pthread_start\",\"symbolLocation\":136,\"imageIndex\":9},{\"imageOffset\":7080,\"symbol\":\"thread_start\",\"symbolLocation\":8,\"imageIndex\":9}],\"threadState\":{\"x\":[{\"value\":268451845},{\"value\":21592279046},{\"value\":8589934592},{\"value\":24202140712960},{\"value\":0},{\"value\":24202140712960},{\"value\":2},{\"value\":4294967295},{\"value\":0},{\"value\":17179869184},{\"value\":0},{\"value\":2},{\"value\":0},{\"value\":0},{\"value\":5635},{\"value\":0},{\"value\":18446744073709551569},{\"value\":8444946192},{\"value\":0},{\"value\":4294967295},{\"value\":2},{\"value\":24202140712960},{\"value\":0},{\"value\":24202140712960},{\"value\":6172811336},{\"value\":8589934592},{\"value\":21592279046},{\"value\":18446744073709550527},{\"value\":4412409862}],\"flavor\":\"ARM_THREAD_STATE64\",\"lr\":{\"value\":6599376936},\"cpsr\":{\"value\":4096},\"fp\":{\"value\":6172811184},\"sp\":{\"value\":6172811104},\"esr\":{\"value\":1442840704,\"description\":\"(Syscall)\"},\"pc\":{\"value\":6599302196},\"far\":{\"value\":0}}},{\"id\":17532604,\"name\":\"libuv-worker\",\"threadState\":{\"x\":[{\"value\":4},{\"value\":0},{\"value\":256},{\"value\":0},{\"value\":0},{\"value\":164},{\"value\":0},{\"value\":0},{\"value\":6182399672},{\"value\":0},{\"value\":0},{\"value\":2},{\"value\":2},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":305},{\"value\":8444944320},{\"value\":0},{\"value\":4309420592,\"symbolLocation\":0,\"symbol\":\"mutex\"},{\"value\":4309420656,\"symbolLocation\":0,\"symbol\":\"cond\"},{\"value\":6182400224},{\"value\":0},{\"value\":0},{\"value\":256},{\"value\":256},{\"value\":1280},{\"value\":0},{\"value\":0}],\"flavor\":\"ARM_THREAD_STATE64\",\"lr\":{\"value\":6599577820},\"cpsr\":{\"value\":1610616832},\"fp\":{\"value\":6182399792},\"sp\":{\"value\":6182399648},\"esr\":{\"value\":1442840704,\"description\":\"(Syscall)\"},\"pc\":{\"value\":6599316728},\"far\":{\"value\":0}},\"frames\":[{\"imageOffset\":17656,\"symbol\":\"__psynch_cvwait\",\"symbolLocation\":8,\"imageIndex\":7},{\"imageOffset\":28892,\"symbol\":\"_pthread_cond_wait\",\"symbolLocation\":984,\"imageIndex\":9},{\"imageOffset\":5558948,\"sourceLine\":819,\"sourceFile\":\"thread.c\",\"symbol\":\"uv_cond_wait\",\"imageIndex\":0,\"symbolLocation\":40},{\"imageOffset\":5421328,\"sourceLine\":77,\"sourceFile\":\"threadpool.c\",\"symbol\":\"worker\",\"imageIndex\":0,\"symbolLocation\":268},{\"imageOffset\":27656,\"symbol\":\"_pthread_start\",\"symbolLocation\":136,\"imageIndex\":9},{\"imageOffset\":7080,\"symbol\":\"thread_start\",\"symbolLocation\":8,\"imageIndex\":9}]},{\"id\":17532605,\"name\":\"libuv-worker\",\"threadState\":{\"x\":[{\"value\":4},{\"value\":0},{\"value\":512},{\"value\":0},{\"value\":0},{\"value\":164},{\"value\":0},{\"value\":0},{\"value\":6190837432},{\"value\":0},{\"value\":0},{\"value\":2},{\"value\":2},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":305},{\"value\":8444944320},{\"value\":0},{\"value\":4309420592,\"symbolLocation\":0,\"symbol\":\"mutex\"},{\"value\":4309420656,\"symbolLocation\":0,\"symbol\":\"cond\"},{\"value\":6190837984},{\"value\":0},{\"value\":0},{\"value\":512},{\"value\":512},{\"value\":1536},{\"value\":0},{\"value\":0}],\"flavor\":\"ARM_THREAD_STATE64\",\"lr\":{\"value\":6599577820},\"cpsr\":{\"value\":1610616832},\"fp\":{\"value\":6190837552},\"sp\":{\"value\":6190837408},\"esr\":{\"value\":1442840704,\"description\":\"(Syscall)\"},\"pc\":{\"value\":6599316728},\"far\":{\"value\":0}},\"frames\":[{\"imageOffset\":17656,\"symbol\":\"__psynch_cvwait\",\"symbolLocation\":8,\"imageIndex\":7},{\"imageOffset\":28892,\"symbol\":\"_pthread_cond_wait\",\"symbolLocation\":984,\"imageIndex\":9},{\"imageOffset\":5558948,\"sourceLine\":819,\"sourceFile\":\"thread.c\",\"symbol\":\"uv_cond_wait\",\"imageIndex\":0,\"symbolLocation\":40},{\"imageOffset\":5421328,\"sourceLine\":77,\"sourceFile\":\"threadpool.c\",\"symbol\":\"worker\",\"imageIndex\":0,\"symbolLocation\":268},{\"imageOffset\":27656,\"symbol\":\"_pthread_start\",\"symbolLocation\":136,\"imageIndex\":9},{\"imageOffset\":7080,\"symbol\":\"thread_start\",\"symbolLocation\":8,\"imageIndex\":9}]},{\"id\":17532606,\"name\":\"libuv-worker\",\"threadState\":{\"x\":[{\"value\":4},{\"value\":0},{\"value\":768},{\"value\":0},{\"value\":0},{\"value\":164},{\"value\":0},{\"value\":0},{\"value\":6199275192},{\"value\":0},{\"value\":0},{\"value\":2},{\"value\":2},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":305},{\"value\":8444944320},{\"value\":0},{\"value\":4309420592,\"symbolLocation\":0,\"symbol\":\"mutex\"},{\"value\":4309420656,\"symbolLocation\":0,\"symbol\":\"cond\"},{\"value\":6199275744},{\"value\":0},{\"value\":0},{\"value\":768},{\"value\":768},{\"value\":1792},{\"value\":0},{\"value\":0}],\"flavor\":\"ARM_THREAD_STATE64\",\"lr\":{\"value\":6599577820},\"cpsr\":{\"value\":1610616832},\"fp\":{\"value\":6199275312},\"sp\":{\"value\":6199275168},\"esr\":{\"value\":1442840704,\"description\":\"(Syscall)\"},\"pc\":{\"value\":6599316728},\"far\":{\"value\":0}},\"frames\":[{\"imageOffset\":17656,\"symbol\":\"__psynch_cvwait\",\"symbolLocation\":8,\"imageIndex\":7},{\"imageOffset\":28892,\"symbol\":\"_pthread_cond_wait\",\"symbolLocation\":984,\"imageIndex\":9},{\"imageOffset\":5558948,\"sourceLine\":819,\"sourceFile\":\"thread.c\",\"symbol\":\"uv_cond_wait\",\"imageIndex\":0,\"symbolLocation\":40},{\"imageOffset\":5421328,\"sourceLine\":77,\"sourceFile\":\"threadpool.c\",\"symbol\":\"worker\",\"imageIndex\":0,\"symbolLocation\":268},{\"imageOffset\":27656,\"symbol\":\"_pthread_start\",\"symbolLocation\":136,\"imageIndex\":9},{\"imageOffset\":7080,\"symbol\":\"thread_start\",\"symbolLocation\":8,\"imageIndex\":9}]},{\"id\":17532607,\"name\":\"libuv-worker\",\"threadState\":{\"x\":[{\"value\":260},{\"value\":0},{\"value\":1024},{\"value\":0},{\"value\":0},{\"value\":164},{\"value\":0},{\"value\":0},{\"value\":6207712952},{\"value\":0},{\"value\":0},{\"value\":2},{\"value\":2},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":305},{\"value\":8444944320},{\"value\":0},{\"value\":4309420592,\"symbolLocation\":0,\"symbol\":\"mutex\"},{\"value\":4309420656,\"symbolLocation\":0,\"symbol\":\"cond\"},{\"value\":6207713504},{\"value\":0},{\"value\":0},{\"value\":1024},{\"value\":1024},{\"value\":2048},{\"value\":0},{\"value\":0}],\"flavor\":\"ARM_THREAD_STATE64\",\"lr\":{\"value\":6599577820},\"cpsr\":{\"value\":1610616832},\"fp\":{\"value\":6207713072},\"sp\":{\"value\":6207712928},\"esr\":{\"value\":1442840704,\"description\":\"(Syscall)\"},\"pc\":{\"value\":6599316728},\"far\":{\"value\":0}},\"frames\":[{\"imageOffset\":17656,\"symbol\":\"__psynch_cvwait\",\"symbolLocation\":8,\"imageIndex\":7},{\"imageOffset\":28892,\"symbol\":\"_pthread_cond_wait\",\"symbolLocation\":984,\"imageIndex\":9},{\"imageOffset\":5558948,\"sourceLine\":819,\"sourceFile\":\"thread.c\",\"symbol\":\"uv_cond_wait\",\"imageIndex\":0,\"symbolLocation\":40},{\"imageOffset\":5421328,\"sourceLine\":77,\"sourceFile\":\"threadpool.c\",\"symbol\":\"worker\",\"imageIndex\":0,\"symbolLocation\":268},{\"imageOffset\":27656,\"symbol\":\"_pthread_start\",\"symbolLocation\":136,\"imageIndex\":9},{\"imageOffset\":7080,\"symbol\":\"thread_start\",\"symbolLocation\":8,\"imageIndex\":9}]},{\"id\":17564314,\"frames\":[],\"threadState\":{\"x\":[{\"value\":6173962240},{\"value\":10843},{\"value\":6173425664},{\"value\":0},{\"value\":409604},{\"value\":18446744073709551615},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0},{\"value\":0}],\"flavor\":\"ARM_THREAD_STATE64\",\"lr\":{\"value\":0},\"cpsr\":{\"value\":4096},\"fp\":{\"value\":0},\"sp\":{\"value\":6173962240},\"esr\":{\"value\":1442840704,\"description\":\"(Syscall)\"},\"pc\":{\"value\":6599555988},\"far\":{\"value\":0}}}],\n  \"usedImages\" : [\n  {\n    \"source\" : \"P\",\n    \"arch\" : \"arm64\",\n    \"base\" : 4302471168,\n    \"size\" : 6586368,\n    \"uuid\" : \"cc284701-b0c3-3fd3-9dda-ed4fcf36069c\",\n    \"path\" : \"\\/usr\\/local\\/bin\\/nvim\",\n    \"name\" : \"nvim\"\n  },\n  {\n    \"source\" : \"P\",\n    \"arch\" : \"arm64\",\n    \"base\" : 4311318528,\n    \"size\" : 163840,\n    \"uuid\" : \"9414c162-5ccc-3b6d-8a0d-c7c743f7fec1\",\n    \"path\" : \"\\/opt\\/homebrew\\/*\\/libintl.8.dylib\",\n    \"name\" : \"libintl.8.dylib\"\n  },\n  {\n    \"source\" : \"P\",\n    \"arch\" : \"arm64\",\n    \"base\" : 4408705024,\n    \"size\" : 2113536,\n    \"uuid\" : \"d43ab8fb-1fd6-3abd-aa54-9494d02249a6\",\n    \"path\" : \"\\/Users\\/USER\\/*\\/ruby.so\",\n    \"name\" : \"ruby.so\"\n  },\n  {\n    \"source\" : \"P\",\n    \"arch\" : \"arm64\",\n    \"base\" : 4433608704,\n    \"size\" : 2064384,\n    \"uuid\" : \"1bbade74-18ad-37b2-99fe-3e4f96176f38\",\n    \"path\" : \"\\/Users\\/USER\\/*\\/sql.so\",\n    \"name\" : \"sql.so\"\n  },\n  {\n    \"source\" : \"P\",\n    \"arch\" : \"arm64e\",\n    \"base\" : 6595612672,\n    \"size\" : 651124,\n    \"uuid\" : \"abfd3247-50ac-3c8e-b72a-83710166e982\",\n    \"path\" : \"\\/usr\\/lib\\/dyld\",\n    \"name\" : \"dyld\"\n  },\n  {\n    \"size\" : 0,\n    \"source\" : \"A\",\n    \"base\" : 0,\n    \"uuid\" : \"00000000-0000-0000-0000-000000000000\"\n  },\n  {\n    \"source\" : \"P\",\n    \"arch\" : \"arm64e\",\n    \"base\" : 6599602176,\n    \"size\" : 33728,\n    \"uuid\" : \"36396b66-54eb-30fa-8e3b-e71ae63da30c\",\n    \"path\" : \"\\/usr\\/lib\\/system\\/libsystem_platform.dylib\",\n    \"name\" : \"libsystem_platform.dylib\"\n  },\n  {\n    \"source\" : \"P\",\n    \"arch\" : \"arm64e\",\n    \"base\" : 6599299072,\n    \"size\" : 246880,\n    \"uuid\" : \"2eb73bf1-8c71-3e1f-a160-6da83dc82606\",\n    \"path\" : \"\\/usr\\/lib\\/system\\/libsystem_kernel.dylib\",\n    \"name\" : \"libsystem_kernel.dylib\"\n  },\n  {\n    \"source\" : \"P\",\n    \"arch\" : \"arm64e\",\n    \"base\" : 6599835648,\n    \"CFBundleShortVersionString\" : \"6.9\",\n    \"CFBundleIdentifier\" : \"com.apple.CoreFoundation\",\n    \"size\" : 5558144,\n    \"uuid\" : \"edb39786-80b1-3bff-b6c3-e33f2e3ca867\",\n    \"path\" : \"\\/System\\/Library\\/Frameworks\\/CoreFoundation.framework\\/Versions\\/A\\/CoreFoundation\",\n    \"name\" : \"CoreFoundation\",\n    \"CFBundleVersion\" : \"4040.1.401\"\n  },\n  {\n    \"source\" : \"P\",\n    \"arch\" : \"arm64e\",\n    \"base\" : 6599548928,\n    \"size\" : 51900,\n    \"uuid\" : \"5d31d65c-2ecf-36da-84f5-ba4caab06adb\",\n    \"path\" : \"\\/usr\\/lib\\/system\\/libsystem_pthread.dylib\",\n    \"name\" : \"libsystem_pthread.dylib\"\n  }\n],\n  \"sharedCache\" : {\n  \"base\" : 6594543616,\n  \"size\" : 5557583872,\n  \"uuid\" : \"52e4eec0-379e-31c7-ac62-bfed14d90f52\"\n},\n  \"vmSummary\" : \"ReadOnly portion of Libraries: Total=889.0M resident=0K(0%) swapped_out_or_unallocated=889.0M(100%)\\nWritable regions: Total=226.2M written=353K(0%) resident=353K(0%) swapped_out=0K(0%) unallocated=225.9M(100%)\\n\\n                                VIRTUAL   REGION \\nREGION TYPE                        SIZE    COUNT (non-coalesced) \\n===========                     =======  ======= \\nActivity Tracing                   256K        1 \\nColorSync                           48K        2 \\nKernel Alloc Once                   32K        1 \\nMALLOC                           128.8M       23 \\nMALLOC guard page                 3424K        4 \\nSTACK GUARD                       56.1M        7 \\nStack                             48.7M        7 \\nVM_ALLOCATE                       48.1M      375 \\n__AUTH                            1305K      146 \\n__AUTH_CONST                      17.6M      345 \\n__CTF                               824        1 \\n__DATA                            4283K      305 \\n__DATA_CONST                      15.2M      349 \\n__DATA_DIRTY                      1314K      290 \\n__FONT_DATA                        2352        1 \\n__LINKEDIT                       594.8M        5 \\n__OBJC_RO                         78.1M        1 \\n__OBJC_RW                         2561K        1 \\n__TEXT                           294.2M      358 \\n__TPRO_CONST                       128K        2 \\nmapped file                         80K        1 \\npage table in kernel               353K        1 \\nshared memory                       48K        2 \\n===========                     =======  ======= \\nTOTAL                              1.3G     2228 \\n\",\n  \"legacyInfo\" : {\n  \"threadTriggered\" : {\n\n  }\n},\n  \"logWritingSignature\" : \"b9f10484ffd191b12636871bd2669e5672b5812a\",\n  \"trialInfo\" : {\n  \"rollouts\" : [\n    {\n      \"rolloutId\" : \"65a8173205d942272410674b\",\n      \"factorPackIds\" : [\n        \"65d39fa4cb0e2417d11ce5f6\"\n      ],\n      \"deploymentId\" : 240000001\n    },\n    {\n      \"rolloutId\" : \"5fb4245a1bbfe8005e33a1e1\",\n      \"factorPackIds\" : [\n\n      ],\n      \"deploymentId\" : 240000021\n    }\n  ],\n  \"experiments\" : [\n\n  ]\n}\n}\n```\n",
            "created_at": "2025-09-23T22:05:30Z",
            "html_url": "https://github.com/neovim/neovim/issues/35803#issuecomment-3325692703",
            "id": 3325692703,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35803",
            "node_id": "IC_kwDOAPphoM7GOgsf",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3325692703/reactions"
            },
            "updated_at": "2025-09-23T22:05:30Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3325692703",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15819?v=4",
                "events_url": "https://api.github.com/users/datanoise/events{/privacy}",
                "followers_url": "https://api.github.com/users/datanoise/followers",
                "following_url": "https://api.github.com/users/datanoise/following{/other_user}",
                "gists_url": "https://api.github.com/users/datanoise/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/datanoise",
                "id": 15819,
                "login": "datanoise",
                "node_id": "MDQ6VXNlcjE1ODE5",
                "organizations_url": "https://api.github.com/users/datanoise/orgs",
                "received_events_url": "https://api.github.com/users/datanoise/received_events",
                "repos_url": "https://api.github.com/users/datanoise/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/datanoise/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/datanoise/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/datanoise",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I experience exactly the same issue. Reverting https://github.com/neovim/neovim/commit/ef5c5dc99b486b53b35a2a46e28c2739c187ae4e didn't help in my case.\n\nI compiled nvim with the address sanitiser enabled and got this output after the crash. Hopefully this somehow contributes to the solution.\n\n```\n=================================================================\n==23576==ERROR: AddressSanitizer: heap-use-after-free on address 0x6260039c3100 at pc 0x000102786ff8 bp 0x00016f0a7eb0 sp 0x00016f0a7ea8\nREAD of size 4 at 0x6260039c3100 thread T0\n    #0 0x000102786ff4 in may_trigger_win_scrolled_resized window.c:5799\n    #1 0x000101229264 in ins_redraw edit.c:1419\n    #2 0x000101222080 in insert_check edit.c:506\n    #3 0x000102239b18 in state_enter state.c:38\n    #4 0x0001012269a0 in insert_enter edit.c:340\n    #5 0x00010121b6e4 in edit edit.c:1337\n    #6 0x000101c7d5a8 in invoke_edit normal.c:6273\n    #7 0x000101c7fe74 in n_opencmd normal.c:5732\n    #8 0x000101c5bca0 in nv_open normal.c:6619\n    #9 0x000101c39e70 in normal_execute normal.c:1244\n    #10 0x00010223a220 in state_enter state.c:100\n    #11 0x000101c19250 in normal_enter normal.c:521\n    #12 0x0001019428fc in main main.c:654\n    #13 0x000194c7dd50 in start+0x1c0c (dyld:arm64e+0x3d50)\n\n0x6260039c3100 is located 0 bytes inside of 10920-byte region [0x6260039c3100,0x6260039c5ba8)\nfreed by thread T0 here:\n    #0 0x0001042a1400 in free+0x7c (libclang_rt.asan_osx_dynamic.dylib:arm64e+0x3d400)\n    #1 0x000101b1d494 in xfree memory.c:159\n    #2 0x000100f95c2c in apply_autocmds_group autocmd.c:1932\n    #3 0x000100f9d520 in apply_autocmds autocmd.c:1507\n    #4 0x000102786dac in may_trigger_win_scrolled_resized window.c:5784\n    #5 0x000101229264 in ins_redraw edit.c:1419\n    #6 0x000101222080 in insert_check edit.c:506\n    #7 0x000102239b18 in state_enter state.c:38\n    #8 0x0001012269a0 in insert_enter edit.c:340\n    #9 0x00010121b6e4 in edit edit.c:1337\n    #10 0x000101c7d5a8 in invoke_edit normal.c:6273\n    #11 0x000101c7fe74 in n_opencmd normal.c:5732\n    #12 0x000101c5bca0 in nv_open normal.c:6619\n    #13 0x000101c39e70 in normal_execute normal.c:1244\n    #14 0x00010223a220 in state_enter state.c:100\n    #15 0x000101c19250 in normal_enter normal.c:521\n    #16 0x0001019428fc in main main.c:654\n    #17 0x000194c7dd50 in start+0x1c0c (dyld:arm64e+0x3d50)\n\npreviously allocated by thread T0 here:\n    #0 0x0001042a15fc in calloc+0x80 (libclang_rt.asan_osx_dynamic.dylib:arm64e+0x3d5fc)\n    #1 0x000101b1d53c in xcalloc memory.c:173\n    #2 0x000102745698 in win_alloc window.c:5195\n    #3 0x0001027ab90c in win_new_float winfloat.c:65\n    #4 0x000100f3b988 in nvim_open_win win_config.c:285\n    #5 0x0001018d824c in nlua_api_nvim_open_win lua_api_c_bindings.generated.h:7673\n    #6 0x0001028a8948 in lj_BC_FUNCC+0x28 (nvim:arm64+0x101b58948)\n    #7 0x0001028bfd34 in lua_pcall lj_api.c:1151\n    #8 0x00010191fe50 in nlua_schedule_event executor.c:381\n    #9 0x00010223a47c in state_handle_k_event state.c:118\n    #10 0x00010123dfb0 in insert_handle_key edit.c:938\n    #11 0x00010121f328 in insert_execute edit.c:709\n    #12 0x00010223a220 in state_enter state.c:100\n    #13 0x0001012269a0 in insert_enter edit.c:340\n    #14 0x00010121b6e4 in edit edit.c:1337\n    #15 0x000101c7d5a8 in invoke_edit normal.c:6273\n    #16 0x000101c7fe74 in n_opencmd normal.c:5732\n    #17 0x000101c5bca0 in nv_open normal.c:6619\n    #18 0x000101c39e70 in normal_execute normal.c:1244\n    #19 0x00010223a220 in state_enter state.c:100\n    #20 0x000101c19250 in normal_enter normal.c:521\n    #21 0x0001019428fc in main main.c:654\n    #22 0x000194c7dd50 in start+0x1c0c (dyld:arm64e+0x3d50)\n\nSUMMARY: AddressSanitizer: heap-use-after-free window.c:5799 in may_trigger_win_scrolled_resized\nShadow bytes around the buggy address:\n  0x6260039c2e80: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\n  0x6260039c2f00: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\n  0x6260039c2f80: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\n  0x6260039c3000: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\n  0x6260039c3080: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\n=>0x6260039c3100:[fd]fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd\n  0x6260039c3180: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd\n  0x6260039c3200: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd\n  0x6260039c3280: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd\n  0x6260039c3300: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd\n  0x6260039c3380: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd\nShadow byte legend (one shadow byte represents 8 application bytes):\n  Addressable:           00\n  Partially addressable: 01 02 03 04 05 06 07 \n  Heap left redzone:       fa\n  Freed heap region:       fd\n  Stack left redzone:      f1\n  Stack mid redzone:       f2\n  Stack right redzone:     f3\n  Stack after return:      f5\n  Stack use after scope:   f8\n  Global redzone:          f9\n  Global init order:       f6\n  Poisoned by user:        f7\n  Container overflow:      fc\n  Array cookie:            ac\n  Intra object redzone:    bb\n  ASan internal:           fe\n  Left alloca redzone:     ca\n  Right alloca redzone:    cb\n==23576==ABORTING\n```",
            "created_at": "2025-09-25T19:33:26Z",
            "html_url": "https://github.com/neovim/neovim/issues/35803#issuecomment-3335659627",
            "id": 3335659627,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35803",
            "node_id": "IC_kwDOAPphoM7G0iBr",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3335659627/reactions"
            },
            "updated_at": "2025-09-25T19:33:26Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3335659627",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1550574?v=4",
                "events_url": "https://api.github.com/users/bob3000/events{/privacy}",
                "followers_url": "https://api.github.com/users/bob3000/followers",
                "following_url": "https://api.github.com/users/bob3000/following{/other_user}",
                "gists_url": "https://api.github.com/users/bob3000/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bob3000",
                "id": 1550574,
                "login": "bob3000",
                "node_id": "MDQ6VXNlcjE1NTA1NzQ=",
                "organizations_url": "https://api.github.com/users/bob3000/orgs",
                "received_events_url": "https://api.github.com/users/bob3000/received_events",
                "repos_url": "https://api.github.com/users/bob3000/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bob3000/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bob3000/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bob3000",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Thanks. Don't need anymore backtraces, we have about 3 now.",
            "created_at": "2025-09-25T20:47:56Z",
            "html_url": "https://github.com/neovim/neovim/issues/35803#issuecomment-3335894352",
            "id": 3335894352,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35803",
            "node_id": "IC_kwDOAPphoM7G1bVQ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3335894352/reactions"
            },
            "updated_at": "2025-09-25T20:47:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3335894352",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> I experience exactly the same issue.\n\nI don't think this is the same issue.\n\nPorting Vim patch 9.0.0907 may fix this, but I wonder if it will break some plugins, as `WinScrolled` was introduced to Nvim much earlier than VIm.",
            "created_at": "2025-09-25T23:39:34Z",
            "html_url": "https://github.com/neovim/neovim/issues/35803#issuecomment-3336248627",
            "id": 3336248627,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35803",
            "node_id": "IC_kwDOAPphoM7G2x0z",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3336248627/reactions"
            },
            "updated_at": "2025-09-25T23:42:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3336248627",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "On the contrary, I think this is the same issue. I enabled AddressSanitizer and see the same output. \n\nYou are right that reverting https://github.com/neovim/neovim/commit/ef5c5dc99b486b53b35a2a46e28c2739c187ae4e didn't help. \n\nI believe the issue is present in NVIM v0.11.4 as well. It just doesn't trigger that often. I have found the following issue report https://github.com/Saghen/blink.cmp/issues/1673 which looks similar. I don't know what happened, but maybe the latest blink.cmp changes cause this issue to be more visible (at least for me). \n\nIt seems that the issue happens when autocomplete popup windows are constantly being created and/or resized on typing. \n\nLooking at the implementation of `may_trigger_win_scrolled_resized`, I see that it uses `check_window_scroll_resize` function to initialize two pointers `first_scroll_win` and `first_size_win`, which point to a list of windows that need to be scrolled and resized. It looks like both might point to the same windows. Applying autocmds for `WinResized` first can deallocate some of the windows, which results in crash when handling autocmds for `WinScrolled` via the second pointer. \n\nI am currently testing this silly change and so far no crashes:\n\n```diff\ndiff --git a/src/nvim/window.c b/src/nvim/window.c\nindex 85673566bb..63f85b63b9 100644\n--- a/src/nvim/window.c\n+++ b/src/nvim/window.c\n@@ -5795,6 +5795,8 @@ void may_trigger_win_scrolled_resized(void)\n     tv_dict_set_keys_readonly(v_event);\n     tv_dict_unref(scroll_dict);\n\n+    check_window_scroll_resize(&size_count, &first_scroll_win, &first_size_win, NULL, NULL);\n+\n     char winid[NUMBUFLEN];\n     vim_snprintf(winid, sizeof(winid), \"%d\", first_scroll_win->handle);\n     apply_autocmds(EVENT_WINSCROLLED, winid, winid, false, first_scroll_win->w_buffer);\n```\n\nHopefully, someone with better knowledge of the code can provide a better solution.\n",
            "created_at": "2025-09-26T00:50:43Z",
            "html_url": "https://github.com/neovim/neovim/issues/35803#issuecomment-3336409668",
            "id": 3336409668,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35803",
            "node_id": "IC_kwDOAPphoM7G3ZJE",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3336409668/reactions"
            },
            "updated_at": "2025-09-27T16:42:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3336409668",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15819?v=4",
                "events_url": "https://api.github.com/users/datanoise/events{/privacy}",
                "followers_url": "https://api.github.com/users/datanoise/followers",
                "following_url": "https://api.github.com/users/datanoise/following{/other_user}",
                "gists_url": "https://api.github.com/users/datanoise/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/datanoise",
                "id": 15819,
                "login": "datanoise",
                "node_id": "MDQ6VXNlcjE1ODE5",
                "organizations_url": "https://api.github.com/users/datanoise/orgs",
                "received_events_url": "https://api.github.com/users/datanoise/received_events",
                "repos_url": "https://api.github.com/users/datanoise/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/datanoise/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/datanoise/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/datanoise",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Ah, if reverting https://github.com/neovim/neovim/commit/ef5c5dc99b486b53b35a2a46e28c2739c187ae4e didn't help, then it's the same issue.",
            "created_at": "2025-09-26T01:11:16Z",
            "html_url": "https://github.com/neovim/neovim/issues/35803#issuecomment-3336441907",
            "id": 3336441907,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35803",
            "node_id": "IC_kwDOAPphoM7G3hAz",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3336441907/reactions"
            },
            "updated_at": "2025-09-26T01:11:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3336441907",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 11,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/35803/comments",
    "created_at": "2025-09-16T15:33:28Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/35803/events",
    "html_url": "https://github.com/neovim/neovim/issues/35803",
    "id": 3422787025,
    "issue_dependencies_summary": {
        "blocked_by": 0,
        "blocking": 0,
        "total_blocked_by": 0,
        "total_blocking": 0
    },
    "labels": [
        {
            "color": "FBCA04",
            "default": false,
            "description": "We need minimal steps to reproduce the issue",
            "id": 298863445,
            "name": "needs:repro",
            "node_id": "MDU6TGFiZWwyOTg4NjM0NDU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/needs:repro"
        },
        {
            "color": "0E8A16",
            "default": false,
            "description": "issue contains a stacktrace/ASAN log",
            "id": 435854079,
            "name": "has:backtrace",
            "node_id": "MDU6TGFiZWw0MzU4NTQwNzk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/has:backtrace"
        },
        {
            "color": "F9D0C4",
            "default": false,
            "description": "issue reporting a crash or segfault",
            "id": 435854234,
            "name": "bug-crash",
            "node_id": "MDU6TGFiZWw0MzU4NTQyMzQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-crash"
        },
        {
            "color": "f9d0c4",
            "default": false,
            "description": "wrong behavior that was introduced in a previous commit (please bisect)",
            "id": 619474658,
            "name": "bug-regression",
            "node_id": "MDU6TGFiZWw2MTk0NzQ2NTg=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-regression"
        },
        {
            "color": "0E8A16",
            "default": false,
            "description": "issue has been tracked to a specific commit",
            "id": 1481421490,
            "name": "has:bisected",
            "node_id": "MDU6TGFiZWwxNDgxNDIxNDkw",
            "url": "https://api.github.com/repos/neovim/neovim/labels/has:bisected"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "events, autocommands",
            "id": 3341085842,
            "name": "events",
            "node_id": "MDU6TGFiZWwzMzQxMDg1ODQy",
            "url": "https://api.github.com/repos/neovim/neovim/labels/events"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/35803/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM7MA5XR",
    "number": 35803,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/35803/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/35803/timeline",
    "title": "Random crash on WinScrolled",
    "type": {
        "color": "red",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "An unexpected problem or behavior",
        "id": 597163,
        "is_enabled": true,
        "name": "Bug",
        "node_id": "IT_kwDOAGK_Pc4ACRyr",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-09-27T16:42:57Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/35803",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/15819?v=4",
        "events_url": "https://api.github.com/users/datanoise/events{/privacy}",
        "followers_url": "https://api.github.com/users/datanoise/followers",
        "following_url": "https://api.github.com/users/datanoise/following{/other_user}",
        "gists_url": "https://api.github.com/users/datanoise/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/datanoise",
        "id": 15819,
        "login": "datanoise",
        "node_id": "MDQ6VXNlcjE1ODE5",
        "organizations_url": "https://api.github.com/users/datanoise/orgs",
        "received_events_url": "https://api.github.com/users/datanoise/received_events",
        "repos_url": "https://api.github.com/users/datanoise/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/datanoise/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/datanoise/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/datanoise",
        "user_view_type": "public"
    }
}