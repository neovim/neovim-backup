{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "When adding diagnostics to the quickfixlist, all diagnostics from all LSP:s in all files get's added by default. Sometimes I don't want everything but an easy way to filter the result.\n\n## Problem 1\nSelecting a single lsp like \"pylsp\" or \"ruff\" is not as easy as supplying the name of the server in the namespace argument. The namespace argument expects a server ID which I can only know about by running for example `:LspInfo` (I think?). \n\nSuggestion: This parameter should also accept the name of the LSP server.\n\n## Problem 2\nAll errors from all open buffers are collected. Usually I'm just concerned about the warnings in the current buffer. Many other function take a buffer parameter where 0 means current buffer, that would be convenient here as well.\n\nSuggestion: add buffer argument",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "Do you need the quickfix list specifically? There is `vim.diagnostic.setloclist()` that adds the current window diagnostics but to the location list. ",
            "created_at": "2025-10-08T10:55:41Z",
            "html_url": "https://github.com/neovim/neovim/issues/36081#issuecomment-3380963147",
            "id": 3380963147,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36081",
            "node_id": "IC_kwDOAPphoM7JhWdL",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3380963147/reactions"
            },
            "updated_at": "2025-10-08T10:55:41Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3380963147",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6431935?v=4",
                "events_url": "https://api.github.com/users/caenrique/events{/privacy}",
                "followers_url": "https://api.github.com/users/caenrique/followers",
                "following_url": "https://api.github.com/users/caenrique/following{/other_user}",
                "gists_url": "https://api.github.com/users/caenrique/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/caenrique",
                "id": 6431935,
                "login": "caenrique",
                "node_id": "MDQ6VXNlcjY0MzE5MzU=",
                "organizations_url": "https://api.github.com/users/caenrique/orgs",
                "received_events_url": "https://api.github.com/users/caenrique/received_events",
                "repos_url": "https://api.github.com/users/caenrique/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/caenrique/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/caenrique/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/caenrique",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@caenrique oh, it makes sense that loclist is for current buffer. I would however prefer qflist because I have bindings for that:\n\n`nnoremap <a-j> <cmd>cnext</cr>`",
            "created_at": "2025-10-08T10:59:40Z",
            "html_url": "https://github.com/neovim/neovim/issues/36081#issuecomment-3380975155",
            "id": 3380975155,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36081",
            "node_id": "IC_kwDOAPphoM7JhZYz",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3380975155/reactions"
            },
            "updated_at": "2025-10-08T10:59:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3380975155",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/4508793?v=4",
                "events_url": "https://api.github.com/users/kaddkaka/events{/privacy}",
                "followers_url": "https://api.github.com/users/kaddkaka/followers",
                "following_url": "https://api.github.com/users/kaddkaka/following{/other_user}",
                "gists_url": "https://api.github.com/users/kaddkaka/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kaddkaka",
                "id": 4508793,
                "login": "kaddkaka",
                "node_id": "MDQ6VXNlcjQ1MDg3OTM=",
                "organizations_url": "https://api.github.com/users/kaddkaka/orgs",
                "received_events_url": "https://api.github.com/users/kaddkaka/received_events",
                "repos_url": "https://api.github.com/users/kaddkaka/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kaddkaka/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kaddkaka/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kaddkaka",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "You can use a combination of adding additional context to the quickfix text with the `format` option and then filtering it with `:Cfilter`. If you need even more flexability you can use `vim.fn.getqflist` to get the list, do your filtering in lua , and then us vim.fn.setqflist to update the list. \n\n1. You can use  `:Cfilter <buffer name>` to limit restrict to just the current buffer. Which is normally good enough unless your quickfix has inconsistent forward and backward slashes or inconsistent filename caseing.\n2. You can use the format option to add the diagnostic source to each quickfix entry so that you can use `:Cfilter <source>` to filter out only the diagnostics you want. I believe that the source value is determined by the something in the lsp response so if you have multiple of the same lsp running you won't be able to filter on just a specific one (see option 3 to solve that issue)   \nFor example I use something like this. Which then lets me Cfilter on on the diagnostic source. \n```lua\nvim.diagnostic.setqflist({\n    severity = vim.diagnostic.severity.ERROR,\n    format = function(diagnostic)\n        return string.format(\n            '(%s) %s',\n            diagnostic.source or '',\n            diagnostic.message\n        )\n    end,\n})\n```\n\n3. Add the namespace name to the quickfix list. The namespace for lsp's will look something like `nvim.lsp.lua_ls.3` where the number is the client id. Then you can `Cfilter` on the specific lsp you want to see results from.\n\n```lua\nvim.diagnostic.setqflist({\n    severity = vim.diagnostic.severity.ERROR,\n    format = function(diagnostic)\n        local namespaces = vim.api.nvim_get_namespaces()\n        local namespace_name = ''\n        for name, id in pairs(namespaces) do\n            if id == diagnostic.namespace then\n                namespace_name = name\n                break\n            end\n        end\n        return string.format(\n            '(%s) %s',\n            namespace_name or '',\n            diagnostic.message\n        )\n    end,\n})\n```\n4. Use `vim.fn.getqflist` to get the list, do your filtering in lua , and then us `vim.fn.setqflist` to update the list. \n",
            "created_at": "2025-10-08T16:20:12Z",
            "html_url": "https://github.com/neovim/neovim/issues/36081#issuecomment-3382312929",
            "id": 3382312929,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36081",
            "node_id": "IC_kwDOAPphoM7Jmf_h",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3382312929/reactions"
            },
            "updated_at": "2025-10-08T16:20:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3382312929",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/51029315?v=4",
                "events_url": "https://api.github.com/users/crwebb85/events{/privacy}",
                "followers_url": "https://api.github.com/users/crwebb85/followers",
                "following_url": "https://api.github.com/users/crwebb85/following{/other_user}",
                "gists_url": "https://api.github.com/users/crwebb85/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/crwebb85",
                "id": 51029315,
                "login": "crwebb85",
                "node_id": "MDQ6VXNlcjUxMDI5MzE1",
                "organizations_url": "https://api.github.com/users/crwebb85/orgs",
                "received_events_url": "https://api.github.com/users/crwebb85/received_events",
                "repos_url": "https://api.github.com/users/crwebb85/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/crwebb85/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/crwebb85/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/crwebb85",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/36081/comments",
    "created_at": "2025-10-08T09:31:11Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/36081/events",
    "html_url": "https://github.com/neovim/neovim/issues/36081",
    "id": 3494651145,
    "issue_dependencies_summary": {
        "blocked_by": 0,
        "blocking": 0,
        "total_blocked_by": 0,
        "total_blocking": 0
    },
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": null,
            "id": 662566370,
            "name": "lsp",
            "node_id": "MDU6TGFiZWw2NjI1NjYzNzA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lsp"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "",
            "id": 6937717172,
            "name": "quickfix",
            "node_id": "LA_kwDOAPphoM8AAAABnYUptA",
            "url": "https://api.github.com/repos/neovim/neovim/labels/quickfix"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/36081/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM7QTCUJ",
    "number": 36081,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/36081/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/36081/timeline",
    "title": "vim.diagnostic.setqflist should allow lsp names as name, and only add diagnostics from current buffer",
    "type": {
        "color": "blue",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "A request, idea, or new functionality",
        "id": 597167,
        "is_enabled": true,
        "name": "Enhancement",
        "node_id": "IT_kwDOAGK_Pc4ACRyv",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-10-08T22:36:14Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/36081",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/4508793?v=4",
        "events_url": "https://api.github.com/users/kaddkaka/events{/privacy}",
        "followers_url": "https://api.github.com/users/kaddkaka/followers",
        "following_url": "https://api.github.com/users/kaddkaka/following{/other_user}",
        "gists_url": "https://api.github.com/users/kaddkaka/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/kaddkaka",
        "id": 4508793,
        "login": "kaddkaka",
        "node_id": "MDQ6VXNlcjQ1MDg3OTM=",
        "organizations_url": "https://api.github.com/users/kaddkaka/orgs",
        "received_events_url": "https://api.github.com/users/kaddkaka/received_events",
        "repos_url": "https://api.github.com/users/kaddkaka/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/kaddkaka/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/kaddkaka/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/kaddkaka",
        "user_view_type": "public"
    }
}