{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "### Problem\n\nHi there!\r\nI've found, that when I run NeoVim with konsole's TERMs, it doesn't properly work with alternate screen (or how is it called right way).\r\n\r\nIt looks like nvim doesn't even start alternate_screen mode.\r\n\r\nAnd, of course, screen content doesn't restore on exit.\r\n\r\nAnd with `xterm-*` TERMs nvim behaves fine, but I'd like to use TERMs that better corresponds to the terminal, than \"generic\" xterm ones...\r\n\r\nTested with `nvim -u NONE`, `nvim -u NONE -i NONE`, `nvim -u NORC` and `nvim --clean`, reproduced every time\n\n### Steps to reproduce\n\n0. use Konsole or Yakuake (they share same engine)\r\n1. TERM=konsole nvim --clean\r\n2. notice nvim doesn't entered alternate screen mode\r\n3. `:q`\r\n4. notice that terminal content doesn't restored, and there is content of nvim buffer on the screen, despite you're already exited\n\n### Expected behavior\n\nnvim enters alternate_screen mode on start, and leave it on exit (so terminal content would be restored)\n\n### Neovim version (nvim -v)\n\nv0.10.0-dev-653+gfbeef0d4e-dirty\n\n### Vim (not Nvim) behaves the same?\n\nno, 9.0.1403\n\n### Operating system/version\n\nGentoo Linux\n\n### Terminal name/version\n\nKonsole 22.12.3\n\n### $TERM environment variable\n\nkonsole, konsole-256color, konsole-direct\n\n### Installation\n\nbuilt from git HEAD using ebuild ov 9999 version from official gentoo repo",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "What does `infocmp -Lx` print when using these `TERM` values?",
            "created_at": "2023-07-16T10:31:00Z",
            "html_url": "https://github.com/neovim/neovim/issues/24368#issuecomment-1637047526",
            "id": 1637047526,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24368",
            "node_id": "IC_kwDOAPphoM5hk1zm",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1637047526/reactions"
            },
            "updated_at": "2023-07-16T10:31:05Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1637047526",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "By the way, semi-offtop: I found that vim and nvim has vice-versa opposite behaviours if I set `TERM=xterm-direct256`: nvim uses alternate screen fine, but vim - fails (as well, as less)",
            "created_at": "2023-07-16T10:31:10Z",
            "html_url": "https://github.com/neovim/neovim/issues/24368#issuecomment-1637047563",
            "id": 1637047563,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24368",
            "node_id": "IC_kwDOAPphoM5hk10L",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1637047563/reactions"
            },
            "updated_at": "2023-07-16T10:31:10Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1637047563",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/268102?v=4",
                "events_url": "https://api.github.com/users/msva/events{/privacy}",
                "followers_url": "https://api.github.com/users/msva/followers",
                "following_url": "https://api.github.com/users/msva/following{/other_user}",
                "gists_url": "https://api.github.com/users/msva/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/msva",
                "id": 268102,
                "login": "msva",
                "node_id": "MDQ6VXNlcjI2ODEwMg==",
                "organizations_url": "https://api.github.com/users/msva/orgs",
                "received_events_url": "https://api.github.com/users/msva/received_events",
                "repos_url": "https://api.github.com/users/msva/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/msva/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/msva/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/msva",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> infocmp -Lx\r\n\r\n$ TERM=konsole infocmp -Lx | mvapaste\r\nhttps://paste.mva.name/OqWTly3s.txt\r\n$ TERM=konsole-256color infocmp -Lx | mvapaste\r\nhttps://paste.mva.name/bBqnU7Xq.txt\r\n$ TERM=konsole-direct infocmp -Lx | mvapaste\r\nhttps://paste.mva.name/eU7upY0h.txt\r\n",
            "created_at": "2023-07-16T10:32:17Z",
            "html_url": "https://github.com/neovim/neovim/issues/24368#issuecomment-1637047761",
            "id": 1637047761,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24368",
            "node_id": "IC_kwDOAPphoM5hk13R",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1637047761/reactions"
            },
            "updated_at": "2023-07-16T10:32:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1637047761",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/268102?v=4",
                "events_url": "https://api.github.com/users/msva/events{/privacy}",
                "followers_url": "https://api.github.com/users/msva/followers",
                "following_url": "https://api.github.com/users/msva/following{/other_user}",
                "gists_url": "https://api.github.com/users/msva/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/msva",
                "id": 268102,
                "login": "msva",
                "node_id": "MDQ6VXNlcjI2ODEwMg==",
                "organizations_url": "https://api.github.com/users/msva/orgs",
                "received_events_url": "https://api.github.com/users/msva/received_events",
                "repos_url": "https://api.github.com/users/msva/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/msva/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/msva/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/msva",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Hmm, I get the same `enter_ca_mode` and `exit_ca_mode` values, and it works for me.",
            "created_at": "2023-07-16T10:34:02Z",
            "html_url": "https://github.com/neovim/neovim/issues/24368#issuecomment-1637048106",
            "id": 1637048106,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24368",
            "node_id": "IC_kwDOAPphoM5hk18q",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1637048106/reactions"
            },
            "updated_at": "2023-07-16T10:36:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1637048106",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "what can I do to help to reproduce the issue?",
            "created_at": "2023-07-16T11:25:35Z",
            "html_url": "https://github.com/neovim/neovim/issues/24368#issuecomment-1637058121",
            "id": 1637058121,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24368",
            "node_id": "IC_kwDOAPphoM5hk4ZJ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1637058121/reactions"
            },
            "updated_at": "2023-07-16T11:25:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1637058121",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/268102?v=4",
                "events_url": "https://api.github.com/users/msva/events{/privacy}",
                "followers_url": "https://api.github.com/users/msva/followers",
                "following_url": "https://api.github.com/users/msva/following{/other_user}",
                "gists_url": "https://api.github.com/users/msva/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/msva",
                "id": 268102,
                "login": "msva",
                "node_id": "MDQ6VXNlcjI2ODEwMg==",
                "organizations_url": "https://api.github.com/users/msva/orgs",
                "received_events_url": "https://api.github.com/users/msva/received_events",
                "repos_url": "https://api.github.com/users/msva/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/msva/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/msva/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/msva",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Maybe compare vim's `:set termcap` , see if there are any notable differences compared to what `nvim -V3` reports.",
            "created_at": "2023-07-16T11:41:55Z",
            "html_url": "https://github.com/neovim/neovim/issues/24368#issuecomment-1637061489",
            "id": 1637061489,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24368",
            "node_id": "IC_kwDOAPphoM5hk5Nx",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1637061489/reactions"
            },
            "updated_at": "2023-07-16T11:43:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1637061489",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "vim9:\r\n![image](https://github.com/neovim/neovim/assets/268102/742227a1-bc12-4361-b884-8b0c2ffba308)\r\n\r\nnvim:\r\n```\r\n--- Terminal info --- {{{\r\n&term: builtin_ansi\r\nDescription: ansi/pc-term compatible with color\r\nAliases: ansi\r\nBoolean capabilities:\r\n  auto_left_margin          bw         = false\r\n  auto_right_margin         am         = true\r\n  no_esc_ctlc               xsb        = false\r\n  ceol_standout_glitch      xhp        = false\r\n  eat_newline_glitch        xenl       = false\r\n  erase_overstrike          eo         = false\r\n  generic_type              gn         = false\r\n  hard_copy                 hc         = false\r\n  has_meta_key              km         = false\r\n  has_status_line           hs         = false\r\n  insert_null_glitch        in         = false\r\n  memory_above              da         = false\r\n  memory_below              db         = false\r\n  move_insert_mode          mir        = true\r\n  move_standout_mode        msgr       = true\r\n  over_strike               os         = false\r\n  status_line_esc_ok        eslok      = false\r\n  dest_tabs_magic_smso      xt         = false\r\n  tilde_glitch              hz         = false\r\n  transparent_underline     ul         = false\r\n  xon_xoff                  xon        = false\r\n  needs_xon_xoff            nxon       = false\r\n  prtr_silent               mc5i       = true\r\n  hard_cursor               chts       = false\r\n  non_rev_rmcup             nrrmc      = false\r\n  no_pad_char               npc        = false\r\n  non_dest_scroll_region    ndscr      = false\r\n  can_change                ccc        = false\r\n  back_color_erase          bce        = false\r\n  hue_lightness_saturation  hls        = false\r\n  col_addr_glitch           xhpa       = false\r\n  cr_cancels_micro_mode     crxm       = false\r\n  has_print_wheel           daisy      = false\r\n  row_addr_glitch           xvpa       = false\r\n  semi_auto_right_margin    sam        = false\r\n  cpi_changes_res           cpix       = false\r\n  lpi_changes_res           lpix       = false\r\n  backspaces_with_bs        OTbs       = true\r\n  crt_no_scrolling          OTns       = false\r\n  no_correctly_working_cr   OTnc       = false\r\n  gnu_has_meta_key          OTMT       = false\r\n  linefeed_is_newline       OTNL       = false\r\n  has_hardware_tabs         OTpt       = false\r\n  return_does_clr_eol       OTxr       = false\r\nNumeric capabilities:\r\n  columns                   cols       = 80\r\n  init_tabs                 it         = 8\r\n  lines                     lines      = 24\r\n  lines_of_memory           lm         = -1\r\n  magic_cookie_glitch       xmc        = -1\r\n  padding_baud_rate         pb         = -1\r\n  virtual_terminal          vt         = -1\r\n  width_status_line         wsl        = -1\r\n  num_labels                nlab       = -1\r\n  label_height              lh         = -1\r\n  label_width               lw         = -1\r\n  max_attributes            ma         = -1\r\n  maximum_windows           wnum       = -1\r\n  max_colors                colors     = 256\r\n  max_pairs                 pairs      = 64\r\n  no_color_video            ncv        = 3\r\n  buffer_capacity           bufsz      = -1\r\n  dot_vert_spacing          spinv      = -1\r\n  dot_horz_spacing          spinh      = -1\r\n  max_micro_address         maddr      = -1\r\n  max_micro_jump            mjump      = -1\r\n  micro_col_size            mcs        = -1\r\n  micro_line_size           mls        = -1\r\n  number_of_pins            npins      = -1\r\n  output_res_char           orc        = -1\r\n  output_res_line           orl        = -1\r\n  output_res_horz_inch      orhi       = -1\r\n  output_res_vert_inch      orvi       = -1\r\n  print_rate                cps        = -1\r\n  wide_char_size            widcs      = -1\r\n  buttons                   btns       = -1\r\n  bit_image_entwining       bitwin     = -1\r\n  bit_image_type            bitype     = -1\r\n  magic_cookie_glitch_ul    OTug       = -1\r\n  carriage_return_delay     OTdC       = -1\r\n  new_line_delay            OTdN       = -1\r\n  backspace_delay           OTdB       = -1\r\n  horizontal_tab_delay      OTdT       = -1\r\n  number_of_function_keys   OTkn       = -1\r\nString capabilities:\r\n  back_tab                  cbt        = ^[[Z\r\n  bell                      bel        = ^G\r\n  carriage_return           cr         = ^M\r\n  clear_all_tabs            tbc        = ^[[3g\r\n  clear_screen              clear      = ^[[H^[[J\r\n  clr_eol                   el         = ^[[K\r\n  clr_eos                   ed         = ^[[J\r\n  column_address            hpa        = ^[[%i%p1%dG\r\n  cursor_address            cup        = ^[[%i%p1%d;%p2%dH\r\n  cursor_down               cud1       = ^[[B\r\n  cursor_home               home       = ^[[H\r\n  cursor_left               cub1       = ^[[D\r\n  cursor_right              cuf1       = ^[[C\r\n  cursor_up                 cuu1       = ^[[A\r\n  delete_character          dch1       = ^[[P\r\n  delete_line               dl1        = ^[[M\r\n  enter_alt_charset_mode    smacs      = ^[[11m\r\n  enter_blink_mode          blink      = ^[[5m\r\n  enter_bold_mode           bold       = ^[[1m\r\n  enter_secure_mode         invis      = ^[[8m\r\n  enter_reverse_mode        rev        = ^[[7m\r\n  enter_standout_mode       smso       = ^[[7m\r\n  enter_underline_mode      smul       = ^[[4m\r\n  erase_chars               ech        = ^[[%p1%dX\r\n  exit_alt_charset_mode     rmacs      = ^[[10m\r\n  exit_attribute_mode       sgr0       = ^[[0;10m\r\n  exit_standout_mode        rmso       = ^[[m\r\n  exit_underline_mode       rmul       = ^[[m\r\n  insert_line               il1        = ^[[L\r\n  key_backspace             kbs        = ^H\r\n  key_down                  kcud1      = ^[[B\r\n  key_home                  khome      = ^[[H\r\n  key_ic                    kich1      = ^[[L\r\n  key_left                  kcub1      = ^[[D\r\n  key_right                 kcuf1      = ^[[C\r\n  key_up                    kcuu1      = ^[[A\r\n  newline                   nel        = ^M^[[S\r\n  parm_dch                  dch        = ^[[%p1%dP\r\n  parm_delete_line          dl         = ^[[%p1%dM\r\n  parm_down_cursor          cud        = ^[[%p1%dB\r\n  parm_ich                  ich        = ^[[%p1%d@\r\n  parm_index                indn       = ^[[%p1%dS\r\n  parm_insert_line          il         = ^[[%p1%dL\r\n  parm_left_cursor          cub        = ^[[%p1%dD\r\n  parm_right_cursor         cuf        = ^[[%p1%dC\r\n  parm_rindex               rin        = ^[[%p1%dT\r\n  parm_up_cursor            cuu        = ^[[%p1%dA\r\n  prtr_off                  mc4        = ^[[4i\r\n  prtr_on                   mc5        = ^[[5i\r\n  repeat_char               rep        = %p1%c^[[%p2%{1}%-%db\r\n  row_address               vpa        = ^[[%i%p1%dd\r\n  scroll_forward            ind        = ^@\r\n  set_attributes            sgr        = ^[[0;10%?%p1%t;7%;%?%p2%t;4%;%?%p3%t;7%;%?%p4%t;5%;%?%p6%t;1%;%?%p7%t;8%;%?%p9%t;11%;m\r\n  set_tab                   hts        = ^[H\r\n  tab                       ht         = ^[[I\r\n  acs_chars                 acsc       = +^P,^Q-^X.^Y0<db>`^Da<b1>f<f8>g<f1>h<b0>j<d9>k<bf>l<da>m<c0>n<c5>o~p<c4>q<c4>r<c4>s_t<c3>u<b4>v<c1>w<c2>x<b3>y<f3>z<f2>{<e3>|<d8>}<9c>~<fe>\r\n  key_btab                  kcbt       = ^[[Z\r\n  clr_bol                   el1        = ^[[1K\r\n  user6                     u6         = ^[[%i%d;%dR\r\n  user7                     u7         = ^[[6n\r\n  user8                     u8         = ^[[?%[;0123456789]c\r\n  user9                     u9         = ^[[c\r\n  orig_pair                 op         = ^[[39;49m\r\n  set_a_foreground          setaf      = ^[[%?%p1%{8}%<%t3%p1%d%e%p1%{16}%<%t9%p1%{8}%-%d%e38;5;%p1%d%;m\r\n  set_a_background          setab      = ^[[%?%p1%{8}%<%t4%p1%d%e%p1%{16}%<%t10%p1%{8}%-%d%e48;5;%p1%d%;m\r\n  set0_des_seq              s0ds       = ^[(B\r\n  set1_des_seq              s1ds       = ^[)B\r\n  set2_des_seq              s2ds       = ^[*B\r\n  set3_des_seq              s3ds       = ^[+B\r\n  enter_pc_charset_mode     smpch      = ^[[11m\r\n  exit_pc_charset_mode      rmpch      = ^[[10m\r\nExtended boolean capabilities:\r\n  AX                        = true\r\nExtended string capabilities:\r\n  ext.get_bg                = ^[]11;?^G\r\n  ext.get_extkeys           = ^[[?u^[[c\r\n  Ss                        = ^[[%p1%d q\r\n  Se                        = ^[[ q\r\n  ext.resize_screen         = ^[[8;%p1%d;%p2%dt\r\n  ext.enter_altfont_mode    = ^[[11m\r\n  setrgbf                   = ^[[38;2;%p1%d;%p2%d;%p3%dm\r\n  setrgbb                   = ^[[48;2;%p1%d;%p2%d;%p3%dm\r\n  ext.save_title            = ^[[22;0t\r\n  ext.restore_title         = ^[[23;0t\r\n  ext.enable_lr_margin      = ^[[?69h\r\n  ext.disable_lr_margin     = ^[[?69l\r\n  ext.enable_bpaste         = ^[[?2004h\r\n  ext.disable_bpaste        = ^[[?2004l\r\n  ext.enable_focus          = ^[[?1004h\r\n  ext.disable_focus         = ^[[?1004l\r\n  ext.enable_mouse          = ^[[?1002h^[[?1006h\r\n  ext.disable_mouse         = ^[[?1002l^[[?1006l\r\n  ext.enable_mouse_move     = ^[[?1003h\r\n  ext.disable_mouse_move    = ^[[?1003l\r\n  ext.set_underline_style   = ^[[4:%p1%dm\r\n  ext.set_underline_color   = ^[[58:2::%p1%d:%p2%d:%p3%dm\r\n  ext.enable_extended_keys  = ^[[>4;2m\r\n  ext.disable_extended_keys = ^[[>4;0m\r\n}}}\r\n```",
            "created_at": "2023-07-16T11:58:34Z",
            "html_url": "https://github.com/neovim/neovim/issues/24368#issuecomment-1637065047",
            "id": 1637065047,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24368",
            "node_id": "IC_kwDOAPphoM5hk6FX",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1637065047/reactions"
            },
            "updated_at": "2023-08-03T14:08:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1637065047",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/268102?v=4",
                "events_url": "https://api.github.com/users/msva/events{/privacy}",
                "followers_url": "https://api.github.com/users/msva/followers",
                "following_url": "https://api.github.com/users/msva/following{/other_user}",
                "gists_url": "https://api.github.com/users/msva/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/msva",
                "id": 268102,
                "login": "msva",
                "node_id": "MDQ6VXNlcjI2ODEwMg==",
                "organizations_url": "https://api.github.com/users/msva/orgs",
                "received_events_url": "https://api.github.com/users/msva/received_events",
                "repos_url": "https://api.github.com/users/msva/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/msva/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/msva/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/msva",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "as I noticed, nvim falls back to ansi TERM somewhy :shrug: ",
            "created_at": "2023-07-16T11:58:52Z",
            "html_url": "https://github.com/neovim/neovim/issues/24368#issuecomment-1637065106",
            "id": 1637065106,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24368",
            "node_id": "IC_kwDOAPphoM5hk6GS",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1637065106/reactions"
            },
            "updated_at": "2023-07-16T11:58:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1637065106",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/268102?v=4",
                "events_url": "https://api.github.com/users/msva/events{/privacy}",
                "followers_url": "https://api.github.com/users/msva/followers",
                "following_url": "https://api.github.com/users/msva/following{/other_user}",
                "gists_url": "https://api.github.com/users/msva/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/msva",
                "id": 268102,
                "login": "msva",
                "node_id": "MDQ6VXNlcjI2ODEwMg==",
                "organizations_url": "https://api.github.com/users/msva/orgs",
                "received_events_url": "https://api.github.com/users/msva/received_events",
                "repos_url": "https://api.github.com/users/msva/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/msva/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/msva/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/msva",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Does this issue still exist if you use the appimage from the Releases page?",
            "created_at": "2023-07-16T23:09:37Z",
            "html_url": "https://github.com/neovim/neovim/issues/24368#issuecomment-1637212142",
            "id": 1637212142,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24368",
            "node_id": "IC_kwDOAPphoM5hld_u",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1637212142/reactions"
            },
            "updated_at": "2023-07-16T23:09:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1637212142",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> Does this issue still exist if you use the appimage from the Releases page?\r\n\r\nYup.\r\nBoth with nightly and stable appimages",
            "created_at": "2023-07-17T12:53:40Z",
            "html_url": "https://github.com/neovim/neovim/issues/24368#issuecomment-1638084783",
            "id": 1638084783,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24368",
            "node_id": "IC_kwDOAPphoM5hozCv",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1638084783/reactions"
            },
            "updated_at": "2023-07-17T12:53:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1638084783",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/268102?v=4",
                "events_url": "https://api.github.com/users/msva/events{/privacy}",
                "followers_url": "https://api.github.com/users/msva/followers",
                "following_url": "https://api.github.com/users/msva/following{/other_user}",
                "gists_url": "https://api.github.com/users/msva/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/msva",
                "id": 268102,
                "login": "msva",
                "node_id": "MDQ6VXNlcjI2ODEwMg==",
                "organizations_url": "https://api.github.com/users/msva/orgs",
                "received_events_url": "https://api.github.com/users/msva/received_events",
                "repos_url": "https://api.github.com/users/msva/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/msva/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/msva/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/msva",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I found interesting thing.\r\n\r\nI suddenly surprisinngly found that I have `TERMINFO_DIRS=/usr/share/st/terminfo` environment variable.\r\n\r\nI digged a bit and found that it (of course) set by env-snippet, installed by `st` shell.\r\n\r\nI personally can't remember how did it appeared on my laptop (whether I installed it manually to test, or it was dependency of something I used before), but still.\r\n\r\nSo, when I unset that variable, nvim starts to work normally with konsole TERMs :shrug:\r\n\r\n\r\nAnyway, maybe it worth to patch nvim to always try to search terminfos at \"default\" terminfo paths even if this variable is set?",
            "created_at": "2023-08-03T13:58:52Z",
            "html_url": "https://github.com/neovim/neovim/issues/24368#issuecomment-1664035896",
            "id": 1664035896,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24368",
            "node_id": "IC_kwDOAPphoM5jLyw4",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1664035896/reactions"
            },
            "updated_at": "2023-08-03T13:58:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1664035896",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/268102?v=4",
                "events_url": "https://api.github.com/users/msva/events{/privacy}",
                "followers_url": "https://api.github.com/users/msva/followers",
                "following_url": "https://api.github.com/users/msva/following{/other_user}",
                "gists_url": "https://api.github.com/users/msva/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/msva",
                "id": 268102,
                "login": "msva",
                "node_id": "MDQ6VXNlcjI2ODEwMg==",
                "organizations_url": "https://api.github.com/users/msva/orgs",
                "received_events_url": "https://api.github.com/users/msva/received_events",
                "repos_url": "https://api.github.com/users/msva/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/msva/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/msva/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/msva",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> always try to search terminfos at \"default\" terminfo paths even if this variable is set?\r\n\r\nThat kind of subtle behavior usually leads to the opposite problem when the setting is intentional.\r\n\r\n# Proposal\r\n\r\nBut we should probably show an error if TERM is set but we couldn't find a terminfo file on the system.",
            "created_at": "2023-08-03T14:06:08Z",
            "html_url": "https://github.com/neovim/neovim/issues/24368#issuecomment-1664048157",
            "id": 1664048157,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24368",
            "node_id": "IC_kwDOAPphoM5jL1wd",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1664048157/reactions"
            },
            "updated_at": "2023-08-03T14:06:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1664048157",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": ">I digged a bit and found that it (of course) set by env-snippet, installed by st shell.\r\n\r\n`TERMINFO_DIRS` should only be set to this value when actually using `st`. This is likely a bug with how `st` is packaged on Gentoo. I suggest filing an issue with your packager to address this.",
            "created_at": "2023-08-03T17:14:07Z",
            "html_url": "https://github.com/neovim/neovim/issues/24368#issuecomment-1664346436",
            "id": 1664346436,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24368",
            "node_id": "IC_kwDOAPphoM5jM-lE",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1664346436/reactions"
            },
            "updated_at": "2023-08-03T17:14:07Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1664346436",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8965202?v=4",
                "events_url": "https://api.github.com/users/gpanders/events{/privacy}",
                "followers_url": "https://api.github.com/users/gpanders/followers",
                "following_url": "https://api.github.com/users/gpanders/following{/other_user}",
                "gists_url": "https://api.github.com/users/gpanders/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gpanders",
                "id": 8965202,
                "login": "gpanders",
                "node_id": "MDQ6VXNlcjg5NjUyMDI=",
                "organizations_url": "https://api.github.com/users/gpanders/orgs",
                "received_events_url": "https://api.github.com/users/gpanders/received_events",
                "repos_url": "https://api.github.com/users/gpanders/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gpanders/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gpanders/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gpanders",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "`ssh` shows this when using an invalid (read: no matching terminfo entry) `TERM` value:\r\n\r\n```\r\n$ TERM=blah ssh remote\r\nwarning: Could not set up terminal.\r\nwarning: TERM environment variable set to 'blah'.\r\n```\r\n\r\nSeems like a good template for us to use as well.",
            "created_at": "2023-08-03T17:15:52Z",
            "html_url": "https://github.com/neovim/neovim/issues/24368#issuecomment-1664348575",
            "id": 1664348575,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24368",
            "node_id": "IC_kwDOAPphoM5jM_Gf",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1664348575/reactions"
            },
            "updated_at": "2023-08-03T17:15:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1664348575",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8965202?v=4",
                "events_url": "https://api.github.com/users/gpanders/events{/privacy}",
                "followers_url": "https://api.github.com/users/gpanders/followers",
                "following_url": "https://api.github.com/users/gpanders/following{/other_user}",
                "gists_url": "https://api.github.com/users/gpanders/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gpanders",
                "id": 8965202,
                "login": "gpanders",
                "node_id": "MDQ6VXNlcjg5NjUyMDI=",
                "organizations_url": "https://api.github.com/users/gpanders/orgs",
                "received_events_url": "https://api.github.com/users/gpanders/received_events",
                "repos_url": "https://api.github.com/users/gpanders/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gpanders/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gpanders/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gpanders",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 14,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/24368/comments",
    "created_at": "2023-07-16T10:27:59Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/24368/events",
    "html_url": "https://github.com/neovim/neovim/issues/24368",
    "id": 1806529436,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "feature request",
            "id": 77997476,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Ng==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/enhancement"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "user system environment (terminal, shell, tmux)",
            "id": 147354524,
            "name": "environment",
            "node_id": "MDU6TGFiZWwxNDczNTQ1MjQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/environment"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 197254545,
            "name": "tui",
            "node_id": "MDU6TGFiZWwxOTcyNTQ1NDU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/tui"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/24368/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 260,
        "created_at": "2014-11-26T22:13:11Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "We don't plan to work on this, but will accept high quality contributions from someone who will own the feature and follow up on bug reports.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/9",
        "id": 881978,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/9/labels",
        "node_id": "MDk6TWlsZXN0b25lODgxOTc4",
        "number": 9,
        "open_issues": 297,
        "state": "open",
        "title": "needs-owner",
        "updated_at": "2025-01-20T17:56:23Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/9"
    },
    "node_id": "I_kwDOAPphoM5rrXOc",
    "number": 24368,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/24368/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/24368/timeline",
    "title": "show error if a terminfo file cannot be found for $TERM (e.g. nonsense $TERMINFO_DIRS)",
    "updated_at": "2025-01-17T15:30:16Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/24368",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/268102?v=4",
        "events_url": "https://api.github.com/users/msva/events{/privacy}",
        "followers_url": "https://api.github.com/users/msva/followers",
        "following_url": "https://api.github.com/users/msva/following{/other_user}",
        "gists_url": "https://api.github.com/users/msva/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/msva",
        "id": 268102,
        "login": "msva",
        "node_id": "MDQ6VXNlcjI2ODEwMg==",
        "organizations_url": "https://api.github.com/users/msva/orgs",
        "received_events_url": "https://api.github.com/users/msva/received_events",
        "repos_url": "https://api.github.com/users/msva/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/msva/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/msva/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/msva",
        "user_view_type": "public"
    }
}