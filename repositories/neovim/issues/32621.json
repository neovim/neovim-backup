{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nCMake generation fails due to unescaped include argument to MSVC:\n```\n[137/144] Performing configure step for 'lpeg'\nloading initial cache file D:/evil path/neovim/cmake-build-debug/.deps/build/tmp/lpeg-cache-Debug.cmake\n-- The C compiler identification is MSVC 19.43.34808.0\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Check for working C compiler: C:/Program Files/Microsoft Visual Studio/2022/Community/VC/Tools/MSVC/14.43.34808/bin/Hostx64/x64/cl.exe - skipped\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Configuring done (0.5s)\n-- Generating done (0.0s)\n-- Build files have been written to: D:/evil path/neovim/cmake-build-debug/.deps/build/src/lpeg-build\n[138/144] Performing build step for 'lpeg'\nFAILED: build/src/lpeg-stamp/lpeg-build D:/evil path/neovim/cmake-build-debug/.deps/build/src/lpeg-stamp/lpeg-build \nC:\\Windows\\system32\\cmd.exe /C \"cd /D \"D:\\evil path\\neovim\\cmake-build-debug\\.deps\\build\\src\\lpeg-build\" && \"C:\\Program Files\\CMake\\bin\\cmake.exe\" --build . && \"C:\\Program Files\\CMake\\bin\\cmake.exe\" -E touch \"D:/evil path/neovim/cmake-build-debug/.deps/build/src/lpeg-stamp/lpeg-build\"\"\n[1/7] Building C object CMakeFiles\\lpeg.dir\\lpcap.c.obj\nFAILED: CMakeFiles/lpeg.dir/lpcap.c.obj \n\"C:\\Program Files\\CMake\\bin\\cmake.exe\" -E env CCACHE_SLOPPINESS=pch_defines,time_macros C:/Lang/Strawberry/c/bin/ccache.exe C:\\PROGRA~1\\MICROS~1\\2022\\COMMUN~1\\VC\\Tools\\MSVC\\1443~1.348\\bin\\Hostx64\\x64\\cl.exe  /nologo   -ID:/evil path/neovim/cmake-build-debug/.deps/usr/include -ID:/evil path/neovim/cmake-build-debug/.deps/usr/include/luajit-2.1 /Zi /Ob0 /Od /RTC1 -MDd -w /showIncludes /FoCMakeFiles\\lpeg.dir\\lpcap.c.obj /FdCMakeFiles\\lpeg.dir\\lpeg.pdb /FS -c \"D:\\evil path\\neovim\\cmake-build-debug\\.deps\\build\\src\\lpeg\\lpcap.c\"\ncl : Command line warning D9024 : unrecognized source file type 'path/neovim/cmake-build-debug/.deps/usr/include', object file assumed\ncl : Command line warning D9027 : source file 'path/neovim/cmake-build-debug/.deps/usr/include' ignored\ncl : Command line warning D9024 : unrecognized source file type 'path/neovim/cmake-build-debug/.deps/usr/include/luajit-2.1', object file assumed\ncl : Command line warning D9027 : source file 'path/neovim/cmake-build-debug/.deps/usr/include/luajit-2.1' ignored\nD:\\evil path\\neovim\\cmake-build-debug\\.deps\\build\\src\\lpeg\\lpcap.c(2): fatal error C1083: Cannot open include file: 'lua.h': No such file or directory\n```\n\nPart of CMakeCache for lpeg build:\n```\n//Flags used by the C compiler during all build types.\nCMAKE_C_FLAGS:STRING=-ID:/evil path/neovim/cmake-build-debug/.deps/usr/include -ID:/evil path/neovim/cmake-build-debug/.deps/usr/include/luajit-2.1\n```\n\nCulprit seems to be this:\nhttps://github.com/neovim/neovim/blob/614c9322d50052c76fb3e6e1be7536a972ff0902/cmake.deps/CMakeLists.txt#L76\nEscaping those results in successful generation.\n\nA quick project wide search after `-I$` finds 4 locations. And that's only `-I`.\nI would guess that in most scenarios, CMake provides appropiate higher level mechanisms like `include_directories`.\n\n### Steps to reproduce\n\nClone into directory containing a space\nDo CMake generation that uses MSVC\n-> Generation fails\n\n### Expected behavior\n\nCMake generation should succeed even if the repo path contains spaces\n\n### Nvim version (nvim -v)\n\nmaster\n\n### Vim (not Nvim) behaves the same?\n\n-\n\n### Operating system/version\n\nWindows 11\n\n### Terminal name/version\n\n-\n\n### $TERM environment variable\n\n-\n\n### Installation\n\n-",
    "closed_at": "2025-08-16T19:25:36Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
        "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
        "followers_url": "https://api.github.com/users/justinmk/followers",
        "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
        "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/justinmk",
        "id": 1359421,
        "login": "justinmk",
        "node_id": "MDQ6VXNlcjEzNTk0MjE=",
        "organizations_url": "https://api.github.com/users/justinmk/orgs",
        "received_events_url": "https://api.github.com/users/justinmk/received_events",
        "repos_url": "https://api.github.com/users/justinmk/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/justinmk",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Unrelated to windows, spaces are just a bad time on all platforms. Technically a bug, but the obvious workaround is \"don't do that\"",
            "created_at": "2025-02-25T22:40:51Z",
            "html_url": "https://github.com/neovim/neovim/issues/32621#issuecomment-2683456123",
            "id": 2683456123,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/32621",
            "node_id": "IC_kwDOAPphoM6f8kp7",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 1,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2683456123/reactions"
            },
            "updated_at": "2025-02-25T22:40:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2683456123",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
                "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
                "followers_url": "https://api.github.com/users/dundargoc/followers",
                "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
                "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dundargoc",
                "id": 33953936,
                "login": "dundargoc",
                "node_id": "MDQ6VXNlcjMzOTUzOTM2",
                "organizations_url": "https://api.github.com/users/dundargoc/orgs",
                "received_events_url": "https://api.github.com/users/dundargoc/received_events",
                "repos_url": "https://api.github.com/users/dundargoc/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dundargoc",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I thought the option was MSVC specific, which is indeed nonsense.\nMy standard github directory contained a space for years, didn't think much of it. Learned it the hard way now.\nI'd still consider fixing it, in case I'm not the last one. Together with all other instances of unescaped directory arguments being passed directly.",
            "created_at": "2025-02-26T01:36:57Z",
            "html_url": "https://github.com/neovim/neovim/issues/32621#issuecomment-2683676252",
            "id": 2683676252,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/32621",
            "node_id": "IC_kwDOAPphoM6f9aZc",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2683676252/reactions"
            },
            "updated_at": "2025-02-26T01:36:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2683676252",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/91015021?v=4",
                "events_url": "https://api.github.com/users/glirastes/events{/privacy}",
                "followers_url": "https://api.github.com/users/glirastes/followers",
                "following_url": "https://api.github.com/users/glirastes/following{/other_user}",
                "gists_url": "https://api.github.com/users/glirastes/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glirastes",
                "id": 91015021,
                "login": "glirastes",
                "node_id": "MDQ6VXNlcjkxMDE1MDIx",
                "organizations_url": "https://api.github.com/users/glirastes/orgs",
                "received_events_url": "https://api.github.com/users/glirastes/received_events",
                "repos_url": "https://api.github.com/users/glirastes/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glirastes/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glirastes/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glirastes",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "CMake should be able to handle this. \n\nMakefiles OTOH have a known limitation: https://github.com/neovim/neovim/issues/27203#issuecomment-1913856364",
            "created_at": "2025-02-26T11:28:49Z",
            "html_url": "https://github.com/neovim/neovim/issues/32621#issuecomment-2684693292",
            "id": 2684693292,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/32621",
            "node_id": "IC_kwDOAPphoM6gBSss",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2684693292/reactions"
            },
            "updated_at": "2025-02-26T11:28:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2684693292",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/32621/comments",
    "created_at": "2025-02-25T00:29:45Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/32621/events",
    "html_url": "https://github.com/neovim/neovim/issues/32621",
    "id": 2876506526,
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "building and installing Neovim using the provided scripts",
            "id": 84723321,
            "name": "build",
            "node_id": "MDU6TGFiZWw4NDcyMzMyMQ==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/build"
        },
        {
            "color": "BFDADC",
            "default": false,
            "description": "Low-risk, self-contained. Do NOT ask \"can I work on this\", just read CONTRIBUTING.md",
            "id": 407246773,
            "name": "complexity:low",
            "node_id": "MDU6TGFiZWw0MDcyNDY3NzM=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/complexity:low"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/32621/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 34,
        "created_at": "2025-07-14T12:16:41Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/52",
        "id": 13265074,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/52/labels",
        "node_id": "MI_kwDOAPphoM4Aymiy",
        "number": 52,
        "open_issues": 20,
        "state": "open",
        "title": "0.11.4",
        "updated_at": "2025-08-17T22:15:16Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/52"
    },
    "node_id": "I_kwDOAPphoM6rdAGe",
    "number": 32621,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/32621/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/32621/timeline",
    "title": "CMake generation fails on Windows when path contains spaces",
    "type": {
        "color": "red",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "An unexpected problem or behavior",
        "id": 597163,
        "is_enabled": true,
        "name": "Bug",
        "node_id": "IT_kwDOAGK_Pc4ACRyr",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-08-16T19:26:38Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/32621",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/91015021?v=4",
        "events_url": "https://api.github.com/users/glirastes/events{/privacy}",
        "followers_url": "https://api.github.com/users/glirastes/followers",
        "following_url": "https://api.github.com/users/glirastes/following{/other_user}",
        "gists_url": "https://api.github.com/users/glirastes/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/glirastes",
        "id": 91015021,
        "login": "glirastes",
        "node_id": "MDQ6VXNlcjkxMDE1MDIx",
        "organizations_url": "https://api.github.com/users/glirastes/orgs",
        "received_events_url": "https://api.github.com/users/glirastes/received_events",
        "repos_url": "https://api.github.com/users/glirastes/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/glirastes/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/glirastes/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/glirastes",
        "user_view_type": "public"
    }
}