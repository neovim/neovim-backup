{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "- `nvim --version`: v0.3.2-530-gdadcfe22c\r\n- Vim (version: ) behaves differently? N/A\r\n- Operating system/version: Debian Linux/WSL\r\n- Terminal name/version: conhost, N/A\r\n- `$TERM`: xterm-256color N/A\r\n\r\n### Steps to reproduce using `nvim -u NORC`\r\n\r\n*This isn't reproducible without any plugins.*\r\n\r\n```\r\nyarn global add neovim\r\n# install remote plugin requiring node support, e.g. nvim-typescript\r\nnvim\r\n:UpdateRemotePlugins\r\n:qa\r\n```\r\n\r\n### Actual behaviour\r\nNeovim hangs briefly on exit. Using `set verbose=9` reveals a runtime error:\r\n\r\n```\r\nSearching for \"/home/mqudsi/.config/nvim/autoload/provider/node.vim\"\r\nSearching for \"/etc/xdg/nvim/autoload/provider/node.vim\"\r\nSearching for \"/home/mqudsi/.local/share/nvim/site/autoload/provider/node.vim\"\r\nSearching for \"/usr/local/share/nvim/site/autoload/provider/node.vim\"\r\nSearching for \"/usr/share/nvim/site/autoload/provider/node.vim\"\r\nSearching for \"/home/mqudsi/.config/nvim/bundle/repos/github.com/autozimu/LanguageClient-neovim/autoload/provider/node.vim\"\r\nSearching for \"/home/mqudsi/.config/nvim/bundle/repos/github.com/mhartington/nvim-typescript/autoload/provider/node.vim\"\r\nSearching for \"/home/mqudsi/.config/nvim/bundle/.cache/init.vim/.dein/autoload/provider/node.vim\"\r\nSearching for \"/usr/local/share/nvim/runtime/autoload/provider/node.vim\"\r\nchdir(/mnt/c/Users/mqudsi/git/prettysize-rs)\r\nchdir(/usr/local/share/nvim/runtime/autoload/provider)\r\nchdir(/mnt/c/Users/mqudsi/git/prettysize-rs)\r\nline 10: sourcing \"/usr/local/share/nvim/runtime/autoload/provider/node.vim\"\r\nError detected while processing function provider#node#Detect[4]..<SNR>70_is_minimum_version:\r\nline    2:\r\nE730: using List as a String\r\nCalling shell to execute: \"\"\r\n\r\nfinished sourcing /usr/local/share/nvim/runtime/autoload/provider/node.vim\r\ncontinuing in function remote#define#CommandBootstrap[1]..remote#host#Require\r\nExecuting FuncUndefined Auto commands for \"*\"\r\nautocommand call dein#autoload#_on_func(expand('<afile>'))\r\nSearching for \"autoload/provider.vim\" in \"/home/mqudsi/.config/nvim,/etc/xdg/nvim,/home/mqudsi/.local/share/nvim/site,/usr/local/share/nvim/site,/usr/share/nvim/site,/home/mqudsi/.config/nv\r\nim/bundle/repos/github.com/autozimu/LanguageClient-neovim,/home/mqudsi/.config/nvim/bundle/repos/github.com/mhartington/nvim-typescript,/home/mqudsi/.config/nvim/bundle/.cache/init.vim/.dei\r\nn,/usr/local/share/nvim/runtime,/home/mqudsi/.config/nvim/bundle/repos/github.com/mhartington/nvim-typescript/after,/home/mqudsi/.config/nvim/bundle/.cache/init.vim/.dein/after,/usr/share/n\r\nvim/site/after,/usr/local/share/nvim/site/after,/home/mqudsi/.local/share/nvim/site/after,/etc/xdg/nvim/after,/home/mqudsi/.config/nvim/after,/home/mqudsi/.config/nvim/bundle/repos/github.c\r\nom/Shougo/dein.vim\"\r\nSearching for \"/home/mqudsi/.config/nvim/autoload/provider.vim\"\r\nSearching for \"/etc/xdg/nvim/autoload/provider.vim\"\r\nSearching for \"/home/mqudsi/.local/share/nvim/site/autoload/provider.vim\"\r\nSearching for \"/usr/local/share/nvim/site/autoload/provider.vim\"\r\nSearching for \"/usr/share/nvim/site/autoload/provider.vim\"\r\nSearching for \"/home/mqudsi/.config/nvim/bundle/repos/github.com/autozimu/LanguageClient-neovim/autoload/provider.vim\"\r\nSearching for \"/home/mqudsi/.config/nvim/bundle/repos/github.com/mhartington/nvim-typescript/autoload/provider.vim\"\r\nSearching for \"/home/mqudsi/.config/nvim/bundle/.cache/init.vim/.dein/autoload/provider.vim\"\r\nSearching for \"/usr/local/share/nvim/runtime/autoload/provider.vim\"\r\nchdir(/mnt/c/Users/mqudsi/git/prettysize-rs)\r\nchdir(/usr/local/share/nvim/runtime/autoload)\r\nchdir(/mnt/c/Users/mqudsi/git/prettysize-rs)\r\nline 14: sourcing \"/usr/local/share/nvim/runtime/autoload/provider.vim\"\r\nfinished sourcing /usr/local/share/nvim/runtime/autoload/provider.vim\r\ncontinuing in function remote#define#CommandBootstrap[1]..remote#host#Require[10]..provider#node#Require\r\nfunction remote#define#CommandBootstrap[1]..remote#host#Require[10]..provider#node#Require[14]..provider#Poll, line 4\r\nVim(if):ch 6 was closed by the client\r\nnode: bad option: -1\r\nError detected while processing function remote#define#CommandBootstrap[1]..remote#host#Require[10]..provider#node#Require[14]..provider#Poll:\r\nline   14:\r\nE605: Exception not caught: Failed to load node host. You can try to see what happened by starting nvim with $NVIM_NODE_LOG_FILE set and opening the generated log file. Also, the host stder\r\nr is available in messages.\r\nError detected while processing function remote#define#CommandBootstrap[1]..remote#host#Require:\r\nline   10:\r\nE171: Missing :endif\r\nWriting ShaDa file \"/home/mqudsi/.local/share/nvim/shada/main.shada\"\r\n```\r\n\r\n(note the **node: bad option: -1** redirected from stderr in the log above)\r\n\r\nSetting `NVIM_NODE_LOG_FILE` does not create a log, presumably because nothing is logged this early on. `node --version` returns v8.11.2.\r\n\r\n`:checkhealth` runs fine:\r\n\r\n```\r\n...\r\n## Node.js provider (optional)\r\n  - INFO: Node.js: v8.11.2\r\n  - INFO: Neovim node.js host: /home/mqudsi/.config/yarn/global/node_modules/neovim/bin/cli.js\r\n  - OK: Latest \"neovim\" npm/yarn package is installed: 4.2.1\r\n```\r\n\r\nI'm not entirely sure this error alone is the reason for the delay on exit. Profiling reveals the following:\r\n\r\n```\r\nFUNCTIONS SORTED ON TOTAL TIME\r\ncount  total (s)   self (s)  function\r\n    1   1.563946   0.000147  remote#define#CommandBootstrap()\r\n    1   1.563326   0.000542  remote#host#Require()\r\n    1   1.126305   0.000124  provider#node#Detect()\r\n    2   1.108482   0.000548  <SNR>64_find_node_client()\r\n    1   0.435341   0.000454  provider#node#Require()\r\n    1   0.434333             provider#Poll()\r\n```\r\n\r\n### Expected behaviour\r\nNo hang on exit. No errors on exit.\r\n",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "At least it should be easy to fix the `E730: using List as a String` error, but I can't see how that could arise from line 2 of `s:is_minimum_version`. \r\n\r\nRegarding `node: bad option: -1`, could you try adding some `:echomsg` statements to see what's sending `-1` ? I don't have WSL so it's difficult for me to reproduce this.",
            "created_at": "2018-09-16T09:30:47Z",
            "html_url": "https://github.com/neovim/neovim/issues/9001#issuecomment-421731623",
            "id": 421731623,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9001",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTczMTYyMw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/421731623/reactions"
            },
            "updated_at": "2018-09-16T09:30:47Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/421731623",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I don't believe it's a WSL issue as it's working fine for me on another Windows 10 machine (running Ubuntu WSL instead of Debian (unstable) WSL).\r\n\r\nI'll poke around and see if I can figure this out.",
            "created_at": "2018-09-16T16:28:02Z",
            "html_url": "https://github.com/neovim/neovim/issues/9001#issuecomment-421791491",
            "id": 421791491,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9001",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTc5MTQ5MQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/421791491/reactions"
            },
            "updated_at": "2018-09-16T16:28:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/421791491",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/606923?v=4",
                "events_url": "https://api.github.com/users/mqudsi/events{/privacy}",
                "followers_url": "https://api.github.com/users/mqudsi/followers",
                "following_url": "https://api.github.com/users/mqudsi/following{/other_user}",
                "gists_url": "https://api.github.com/users/mqudsi/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mqudsi",
                "id": 606923,
                "login": "mqudsi",
                "node_id": "MDQ6VXNlcjYwNjkyMw==",
                "organizations_url": "https://api.github.com/users/mqudsi/orgs",
                "received_events_url": "https://api.github.com/users/mqudsi/received_events",
                "repos_url": "https://api.github.com/users/mqudsi/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mqudsi/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mqudsi/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mqudsi",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "In verbose mode, `system(['node', '-v'])` triggers the \"using list as a string\" error, but with `verbose=0` that error does not happen. Substituting `system(\"node -v\")` instead makes it behave the same in both `verbose=9` and `verbose=0` modes.\r\n\r\nI can reproduce it in a basic `nvim -u NORC` instance:\r\n\r\n```vim\r\n:call system(\"node -v\") \" works ok\r\n:call system(['node', '-v']) \" works ok\r\n:set verbose=9\r\n:call system(\"node -v\") \" works ok, prints `Calling shell to execute: \"verbose -v\"`\r\n:call system(['node', '-v']) \" fails with error E730, prints `Calling shell to execute: \"\"`\r\n```\r\n\r\nBut this error has nothing to do with the hang I'm experiencing, as the hang persists when using the non-array version of that parameter. It seems the errors above are just side effects of the node version detection failing when `node -v` isn't executed correctly, and resolving that makes those disappear.",
            "created_at": "2018-09-16T22:22:50Z",
            "html_url": "https://github.com/neovim/neovim/issues/9001#issuecomment-421843790",
            "id": 421843790,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9001",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTg0Mzc5MA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/421843790/reactions"
            },
            "updated_at": "2018-09-16T22:24:14Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/421843790",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/606923?v=4",
                "events_url": "https://api.github.com/users/mqudsi/events{/privacy}",
                "followers_url": "https://api.github.com/users/mqudsi/followers",
                "following_url": "https://api.github.com/users/mqudsi/following{/other_user}",
                "gists_url": "https://api.github.com/users/mqudsi/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mqudsi",
                "id": 606923,
                "login": "mqudsi",
                "node_id": "MDQ6VXNlcjYwNjkyMw==",
                "organizations_url": "https://api.github.com/users/mqudsi/orgs",
                "received_events_url": "https://api.github.com/users/mqudsi/received_events",
                "repos_url": "https://api.github.com/users/mqudsi/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mqudsi/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mqudsi/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mqudsi",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> In verbose mode, system(['node', '-v']) triggers the \"using list as a string\" error, but with verbose=0 that error does not happen\r\n\r\nOk, that's a (cosmetic/informational) bug in verbose mode :) **Update:** Fixed in https://github.com/neovim/neovim/pull/9009.\r\n\r\n",
            "created_at": "2018-09-16T22:31:55Z",
            "html_url": "https://github.com/neovim/neovim/issues/9001#issuecomment-421845133",
            "id": 421845133,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9001",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTg0NTEzMw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/421845133/reactions"
            },
            "updated_at": "2018-09-25T12:14:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/421845133",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Ah, thanks. Any ideas on where to start debugging the delay in `CommandBootstrap`?",
            "created_at": "2018-09-16T22:36:31Z",
            "html_url": "https://github.com/neovim/neovim/issues/9001#issuecomment-421845776",
            "id": 421845776,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9001",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTg0NTc3Ng==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/421845776/reactions"
            },
            "updated_at": "2018-09-16T22:36:31Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/421845776",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/606923?v=4",
                "events_url": "https://api.github.com/users/mqudsi/events{/privacy}",
                "followers_url": "https://api.github.com/users/mqudsi/followers",
                "following_url": "https://api.github.com/users/mqudsi/following{/other_user}",
                "gists_url": "https://api.github.com/users/mqudsi/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mqudsi",
                "id": 606923,
                "login": "mqudsi",
                "node_id": "MDQ6VXNlcjYwNjkyMw==",
                "organizations_url": "https://api.github.com/users/mqudsi/orgs",
                "received_events_url": "https://api.github.com/users/mqudsi/received_events",
                "repos_url": "https://api.github.com/users/mqudsi/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mqudsi/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mqudsi/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mqudsi",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "What delay? 1.5 seconds is not unusual for starting nodejs, is it? ",
            "created_at": "2018-09-16T22:44:12Z",
            "html_url": "https://github.com/neovim/neovim/issues/9001#issuecomment-421846873",
            "id": 421846873,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9001",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTg0Njg3Mw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/421846873/reactions"
            },
            "updated_at": "2018-09-16T22:44:12Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/421846873",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "lol, very good question. That was actually a \"fast\" case, the last profile I ran hung for a little over 3 seconds there.\r\n\r\nIn all cases:\r\n\r\ntest.js:\r\n```js\r\nfunction main() {\r\n\tconsole.log(\"hello\");\r\n}\r\n```\r\n\r\n```bash\r\n~> bash -c 'time node ./test.js'\r\n\r\nreal    0m0.310s\r\nuser    0m0.297s\r\nsys     0m0.016s\r\n```\r\n\r\nnodejs is slow, but not _that_ slow. \r\n\r\n(The better question is why is this executing each time I exit neovim)",
            "created_at": "2018-09-16T23:46:43Z",
            "html_url": "https://github.com/neovim/neovim/issues/9001#issuecomment-421854736",
            "id": 421854736,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9001",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTg1NDczNg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/421854736/reactions"
            },
            "updated_at": "2018-09-16T23:46:43Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/421854736",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/606923?v=4",
                "events_url": "https://api.github.com/users/mqudsi/events{/privacy}",
                "followers_url": "https://api.github.com/users/mqudsi/followers",
                "following_url": "https://api.github.com/users/mqudsi/following{/other_user}",
                "gists_url": "https://api.github.com/users/mqudsi/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mqudsi",
                "id": 606923,
                "login": "mqudsi",
                "node_id": "MDQ6VXNlcjYwNjkyMw==",
                "organizations_url": "https://api.github.com/users/mqudsi/orgs",
                "received_events_url": "https://api.github.com/users/mqudsi/received_events",
                "repos_url": "https://api.github.com/users/mqudsi/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mqudsi/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mqudsi/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mqudsi",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "You can set `g:node_host_prog` to avoid it.\r\n\r\nI guess `runtime/autoload/provider/node.vim` needs improvement. I see that the ruby provider's `provider#ruby#Detect()` just returns a cached value, whereas the python provider's `provider#pythonx#Detect()` doesn't.\r\n\r\nQuick fix is probably to make the node script similar to the ruby script. Long-term fix is to redesign the rplugin architecture :)",
            "created_at": "2018-09-17T00:02:06Z",
            "html_url": "https://github.com/neovim/neovim/issues/9001#issuecomment-421856583",
            "id": 421856583,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9001",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTg1NjU4Mw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/421856583/reactions"
            },
            "updated_at": "2018-09-17T00:02:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/421856583",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Thanks. I'm presuming a plugin is directly responsible for this code being called each time I exit neovim, and that is not a side effect of simply having a node-based rplugin?",
            "created_at": "2018-09-17T00:05:49Z",
            "html_url": "https://github.com/neovim/neovim/issues/9001#issuecomment-421857015",
            "id": 421857015,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9001",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTg1NzAxNQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/421857015/reactions"
            },
            "updated_at": "2018-09-17T00:05:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/421857015",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/606923?v=4",
                "events_url": "https://api.github.com/users/mqudsi/events{/privacy}",
                "followers_url": "https://api.github.com/users/mqudsi/followers",
                "following_url": "https://api.github.com/users/mqudsi/following{/other_user}",
                "gists_url": "https://api.github.com/users/mqudsi/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mqudsi",
                "id": 606923,
                "login": "mqudsi",
                "node_id": "MDQ6VXNlcjYwNjkyMw==",
                "organizations_url": "https://api.github.com/users/mqudsi/orgs",
                "received_events_url": "https://api.github.com/users/mqudsi/received_events",
                "repos_url": "https://api.github.com/users/mqudsi/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mqudsi/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mqudsi/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mqudsi",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Hmm, even with that set to a hard-coded absolute path, `provider#Poll()` is taking a minimum of 0.5s on neovim exit.\r\n\r\n```\r\nFUNCTIONS SORTED ON TOTAL TIME\r\ncount  total (s)   self (s)  function\r\n    1   0.422439   0.000129  remote#define#CommandBootstrap()\r\n    1   0.421870   0.000506  remote#host#Require()\r\n    1   0.420236   0.000401  provider#node#Require()\r\n    1   0.419372             provider#Poll()\r\n```",
            "created_at": "2018-09-17T00:12:56Z",
            "html_url": "https://github.com/neovim/neovim/issues/9001#issuecomment-421857783",
            "id": 421857783,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9001",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTg1Nzc4Mw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/421857783/reactions"
            },
            "updated_at": "2018-09-17T00:12:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/421857783",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/606923?v=4",
                "events_url": "https://api.github.com/users/mqudsi/events{/privacy}",
                "followers_url": "https://api.github.com/users/mqudsi/followers",
                "following_url": "https://api.github.com/users/mqudsi/following{/other_user}",
                "gists_url": "https://api.github.com/users/mqudsi/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mqudsi",
                "id": 606923,
                "login": "mqudsi",
                "node_id": "MDQ6VXNlcjYwNjkyMw==",
                "organizations_url": "https://api.github.com/users/mqudsi/orgs",
                "received_events_url": "https://api.github.com/users/mqudsi/received_events",
                "repos_url": "https://api.github.com/users/mqudsi/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mqudsi/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mqudsi/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mqudsi",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "So part of the reason it's so slow with the autodetection of `g:node_host_prog` is because on this machine I have neovim installed via yarn and not npm, so it first tries to search the npm registry then the yarn one. \r\n\r\n```\r\nline 10: sourcing \"/usr/local/share/nvim/runtime/autoload/provider/node.vim\"\r\nExecuting command: \"'node' '-v'\"\r\n\r\n\r\nExecuting command: \"'fish' '-c' 'npm --loglevel silent root -g'\"\r\n\r\n\r\nExecuting command: \"'fish' '-c' 'yarn global dir'\"\r\n\r\n\r\nfinished sourcing /usr/local/share/nvim/runtime/autoload/provider/node.vim\r\n```\r\nI thought that spinning up a new fish instance for each of those commands (why?) is also part of the problem, but that does not seem to measurably contribute to the delay:\r\n\r\n```\r\nmqudsi@ZBook /m/c/U/m/r/neovim> hyperfine 'fish -c \"yarn global dir\"' 'yarn global dir'\r\nBenchmark #1: fish -c \"yarn global dir\"\r\n\r\n  Time (mean ± σ):     654.6 ms ±   6.7 ms    [User: 487.3 ms, System: 164.2 ms]\r\n\r\n  Range (min … max):   648.9 ms … 668.8 ms\r\n\r\nBenchmark #2: yarn global dir\r\n\r\n  Time (mean ± σ):     637.1 ms ±   4.5 ms    [User: 485.7 ms, System: 159.5 ms]\r\n\r\n  Range (min … max):   630.6 ms … 644.9 ms\r\n\r\nSummary\r\n\r\n'yarn global dir' ran\r\n    1.03x faster than 'fish -c \"yarn global dir\"'\r\n```\r\n",
            "created_at": "2018-09-17T01:56:25Z",
            "html_url": "https://github.com/neovim/neovim/issues/9001#issuecomment-421871944",
            "id": 421871944,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9001",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTg3MTk0NA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/421871944/reactions"
            },
            "updated_at": "2018-09-17T01:56:25Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/421871944",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/606923?v=4",
                "events_url": "https://api.github.com/users/mqudsi/events{/privacy}",
                "followers_url": "https://api.github.com/users/mqudsi/followers",
                "following_url": "https://api.github.com/users/mqudsi/following{/other_user}",
                "gists_url": "https://api.github.com/users/mqudsi/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mqudsi",
                "id": 606923,
                "login": "mqudsi",
                "node_id": "MDQ6VXNlcjYwNjkyMw==",
                "organizations_url": "https://api.github.com/users/mqudsi/orgs",
                "received_events_url": "https://api.github.com/users/mqudsi/received_events",
                "repos_url": "https://api.github.com/users/mqudsi/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mqudsi/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mqudsi/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mqudsi",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> spinning up a new fish instance for each of those commands (why?) \r\n\r\nIIRC a shell is needed because the npm script on Windows is a `.cmd` wrapper",
            "created_at": "2018-09-17T08:31:00Z",
            "html_url": "https://github.com/neovim/neovim/issues/9001#issuecomment-421926968",
            "id": 421926968,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9001",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTkyNjk2OA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/421926968/reactions"
            },
            "updated_at": "2018-09-17T08:31:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/421926968",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "You can make your fish start much faster by move your command to run only in interactive mode like:\r\n``` fish\r\nif status --is-interactive\r\n\t...\r\nend\r\n```\r\n\r\nThere's call to `rpcrequest` that makes `provider#Poll()` really slow, you can resolve it like: https://github.com/neovim/neovim/issues/5728#issuecomment-406475616\r\n\r\nTo get rid of all problems of remote plugin, the plugin could start a server itself and attach to neovim.\r\n\r\nIf you want to have all tsserver features available for typescript & javascript, consider use https://github.com/neoclide/coc-tsserver",
            "created_at": "2018-09-25T11:51:58Z",
            "html_url": "https://github.com/neovim/neovim/issues/9001#issuecomment-424312373",
            "id": 424312373,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9001",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDMxMjM3Mw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/424312373/reactions"
            },
            "updated_at": "2018-09-25T11:51:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/424312373",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/251450?v=4",
                "events_url": "https://api.github.com/users/chemzqm/events{/privacy}",
                "followers_url": "https://api.github.com/users/chemzqm/followers",
                "following_url": "https://api.github.com/users/chemzqm/following{/other_user}",
                "gists_url": "https://api.github.com/users/chemzqm/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/chemzqm",
                "id": 251450,
                "login": "chemzqm",
                "node_id": "MDQ6VXNlcjI1MTQ1MA==",
                "organizations_url": "https://api.github.com/users/chemzqm/orgs",
                "received_events_url": "https://api.github.com/users/chemzqm/received_events",
                "repos_url": "https://api.github.com/users/chemzqm/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/chemzqm/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/chemzqm/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/chemzqm",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@chemzqm I don't see how `status --is-interactive` could speed up (unconditionally) launching a command under a shell. Additionally, depending on whether the async job is configured such that neovim waits for it to end, that wouldn't help with a hang upon neovim exit (though it would certainly help on startup).\r\n\r\nThe problem here is that for some reason the neovim nodejs client is slow, and on top of that it is being needlessly invoked on neovim exit (for reasons as of yet undetermined).\r\n\r\nIf I get a chance, what I would do is create a no-op nodejs remote plugin for neovim and see if simply registering that with `:UpdateRemotePlugins` causes neovim to poll the nodejs client on exit; if it does, that would indicate there's a bug in the remote plugin logic in neovim itself.",
            "created_at": "2018-09-25T16:33:10Z",
            "html_url": "https://github.com/neovim/neovim/issues/9001#issuecomment-424413822",
            "id": 424413822,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9001",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDQxMzgyMg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/424413822/reactions"
            },
            "updated_at": "2018-09-25T16:33:10Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/424413822",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/606923?v=4",
                "events_url": "https://api.github.com/users/mqudsi/events{/privacy}",
                "followers_url": "https://api.github.com/users/mqudsi/followers",
                "following_url": "https://api.github.com/users/mqudsi/following{/other_user}",
                "gists_url": "https://api.github.com/users/mqudsi/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mqudsi",
                "id": 606923,
                "login": "mqudsi",
                "node_id": "MDQ6VXNlcjYwNjkyMw==",
                "organizations_url": "https://api.github.com/users/mqudsi/orgs",
                "received_events_url": "https://api.github.com/users/mqudsi/received_events",
                "repos_url": "https://api.github.com/users/mqudsi/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mqudsi/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mqudsi/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mqudsi",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@mqudsi in your `config.fish` make the commands to run only in interactive would make fish faster to just run command.\r\n\r\n> The problem here is that for some reason the neovim nodejs client is slow.\r\n\r\nIt's not slow, there's bug with plugin you're using.\r\n\r\n> that would indicate there's a bug in the remote plugin logic in neovim itself.\r\n\r\nCould be bug of plugin you're using, there's no reason to load a remote plugin unless you tell it to.\r\n\r\n     autocommand call dein#autoload#_on_func(expand('<afile>'))\r\n\r\nTry disable dein's on demand load to see if problem still exists, neovim's remote plugin already loaded on demand, so it's not necessary to have them load on demand again.",
            "created_at": "2018-09-25T21:41:43Z",
            "html_url": "https://github.com/neovim/neovim/issues/9001#issuecomment-424511427",
            "id": 424511427,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9001",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDUxMTQyNw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/424511427/reactions"
            },
            "updated_at": "2018-09-25T21:42:43Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/424511427",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/251450?v=4",
                "events_url": "https://api.github.com/users/chemzqm/events{/privacy}",
                "followers_url": "https://api.github.com/users/chemzqm/followers",
                "following_url": "https://api.github.com/users/chemzqm/following{/other_user}",
                "gists_url": "https://api.github.com/users/chemzqm/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/chemzqm",
                "id": 251450,
                "login": "chemzqm",
                "node_id": "MDQ6VXNlcjI1MTQ1MA==",
                "organizations_url": "https://api.github.com/users/chemzqm/orgs",
                "received_events_url": "https://api.github.com/users/chemzqm/received_events",
                "repos_url": "https://api.github.com/users/chemzqm/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/chemzqm/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/chemzqm/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/chemzqm",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@chemzqm There aren't any commands being run in config.fish, as you can see there isn't much of a delay there. (I also happen to be a core fish developer.)\r\n\r\n> It's not slow, there's bug with plugin you're using.\r\n\r\nExecuting both `yarn` and `npm` to get the binary directory *is* slow, but that's not neovim's fault. I want to split that into a job where both are run simultaneously and neovim runs with whichever returns a valid neovim nodejs client first.\r\n\r\nThanks for the dein hint, I'll have to dig into that more.",
            "created_at": "2018-09-26T02:36:35Z",
            "html_url": "https://github.com/neovim/neovim/issues/9001#issuecomment-424564888",
            "id": 424564888,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9001",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDU2NDg4OA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/424564888/reactions"
            },
            "updated_at": "2018-09-26T02:37:01Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/424564888",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/606923?v=4",
                "events_url": "https://api.github.com/users/mqudsi/events{/privacy}",
                "followers_url": "https://api.github.com/users/mqudsi/followers",
                "following_url": "https://api.github.com/users/mqudsi/following{/other_user}",
                "gists_url": "https://api.github.com/users/mqudsi/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mqudsi",
                "id": 606923,
                "login": "mqudsi",
                "node_id": "MDQ6VXNlcjYwNjkyMw==",
                "organizations_url": "https://api.github.com/users/mqudsi/orgs",
                "received_events_url": "https://api.github.com/users/mqudsi/received_events",
                "repos_url": "https://api.github.com/users/mqudsi/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mqudsi/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mqudsi/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mqudsi",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "https://github.com/neovim/node-client/issues/46 is still open. Can anyone fix this so that we can go back to using the wrappers? Alternative is to not support debugging on the node host via the node provider.",
            "created_at": "2018-09-26T05:48:42Z",
            "html_url": "https://github.com/neovim/neovim/issues/9001#issuecomment-424592730",
            "id": 424592730,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9001",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDU5MjczMA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/424592730/reactions"
            },
            "updated_at": "2018-09-26T05:48:42Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/424592730",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8740057?v=4",
                "events_url": "https://api.github.com/users/janlazo/events{/privacy}",
                "followers_url": "https://api.github.com/users/janlazo/followers",
                "following_url": "https://api.github.com/users/janlazo/following{/other_user}",
                "gists_url": "https://api.github.com/users/janlazo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/janlazo",
                "id": 8740057,
                "login": "janlazo",
                "node_id": "MDQ6VXNlcjg3NDAwNTc=",
                "organizations_url": "https://api.github.com/users/janlazo/orgs",
                "received_events_url": "https://api.github.com/users/janlazo/received_events",
                "repos_url": "https://api.github.com/users/janlazo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/janlazo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/janlazo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/janlazo",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I'm getting the following output when exiting nvim:\r\n\r\n```\r\nError detected while processing function 19:\r\nline    1:\r\nE716: Key not present in Dictionary: stdout, '')\r\nE116: Invalid arguments for function join\r\nE15: Invalid expression: join(self.stdout, '')\r\nline    2:\r\nE121: Undefined variable: bin_dir\r\nE15: Invalid expression: bin_dir . self.entry_point\r\nline    3:\r\nE121: Undefined variable: entry_point\r\nE116: Invalid arguments for function filereadable\r\nE15: Invalid expression: filereadable(entry_point) ? entry_point : ''\r\n```\r\n\r\nwhich I've traced to the changes to the node provider.\r\n\r\nedit: seems to be generated by nvim-typescript plugin doing something",
            "created_at": "2018-10-31T18:41:44Z",
            "html_url": "https://github.com/neovim/neovim/issues/9001#issuecomment-434802234",
            "id": 434802234,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9001",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDgwMjIzNA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/434802234/reactions"
            },
            "updated_at": "2018-10-31T18:43:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/434802234",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/672182?v=4",
                "events_url": "https://api.github.com/users/ezpuzz/events{/privacy}",
                "followers_url": "https://api.github.com/users/ezpuzz/followers",
                "following_url": "https://api.github.com/users/ezpuzz/following{/other_user}",
                "gists_url": "https://api.github.com/users/ezpuzz/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ezpuzz",
                "id": 672182,
                "login": "ezpuzz",
                "node_id": "MDQ6VXNlcjY3MjE4Mg==",
                "organizations_url": "https://api.github.com/users/ezpuzz/orgs",
                "received_events_url": "https://api.github.com/users/ezpuzz/received_events",
                "repos_url": "https://api.github.com/users/ezpuzz/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ezpuzz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ezpuzz/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ezpuzz",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@ezpuzz I pushed https://github.com/neovim/neovim/commit/b24209dcf5d9d4c14522a7da1a571a9e9520260f to avoid that error. What does `:checkhealth` report for nodejs?",
            "created_at": "2018-10-31T19:55:41Z",
            "html_url": "https://github.com/neovim/neovim/issues/9001#issuecomment-434826005",
            "id": 434826005,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9001",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDgyNjAwNQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/434826005/reactions"
            },
            "updated_at": "2018-10-31T19:55:41Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/434826005",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "@justinmk yeah that got rid of those errors.\r\n\r\n```\r\n## Node.js provider (optional)\r\n  - INFO: Node.js: v10.13.0\r\n  - INFO: Neovim node.js host: /Users/ezpuzz/.config/yarn/global//node_modules/neovim/bin/cli.js\r\n  - OK: Latest \"neovim\" npm/yarn package is installed: 4.2.1\r\n```",
            "created_at": "2018-10-31T20:39:08Z",
            "html_url": "https://github.com/neovim/neovim/issues/9001#issuecomment-434839501",
            "id": 434839501,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9001",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDgzOTUwMQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/434839501/reactions"
            },
            "updated_at": "2018-10-31T20:39:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/434839501",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/672182?v=4",
                "events_url": "https://api.github.com/users/ezpuzz/events{/privacy}",
                "followers_url": "https://api.github.com/users/ezpuzz/followers",
                "following_url": "https://api.github.com/users/ezpuzz/following{/other_user}",
                "gists_url": "https://api.github.com/users/ezpuzz/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ezpuzz",
                "id": 672182,
                "login": "ezpuzz",
                "node_id": "MDQ6VXNlcjY3MjE4Mg==",
                "organizations_url": "https://api.github.com/users/ezpuzz/orgs",
                "received_events_url": "https://api.github.com/users/ezpuzz/received_events",
                "repos_url": "https://api.github.com/users/ezpuzz/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ezpuzz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ezpuzz/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ezpuzz",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "The original patch in #9054 created an `stdout` object immediately when the handler was `new`d, so it was always legal to access `self.stdout`. @bfredl taught me about neovim job control's default stdout handler which functions much like \r\n\r\n```vim\r\nfunction! s:NodeHandler.on_stdout(job_id, data, event)\r\n    let self.data += a:data\r\nendfunction\r\n```\r\n\r\ndoes. Except I'm guessing if there's no output or the command didn't start, stdout is undefined rather than empty.\r\n\r\n@justinmk if that's indeed what was happening here, it would make job control a lot easier if `stdout` and `stderr` start off defined but empty as soon as `jobstart()` is called?",
            "created_at": "2018-10-31T22:29:38Z",
            "html_url": "https://github.com/neovim/neovim/issues/9001#issuecomment-434869741",
            "id": 434869741,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9001",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDg2OTc0MQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/434869741/reactions"
            },
            "updated_at": "2018-10-31T22:29:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/434869741",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/606923?v=4",
                "events_url": "https://api.github.com/users/mqudsi/events{/privacy}",
                "followers_url": "https://api.github.com/users/mqudsi/followers",
                "following_url": "https://api.github.com/users/mqudsi/following{/other_user}",
                "gists_url": "https://api.github.com/users/mqudsi/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mqudsi",
                "id": 606923,
                "login": "mqudsi",
                "node_id": "MDQ6VXNlcjYwNjkyMw==",
                "organizations_url": "https://api.github.com/users/mqudsi/orgs",
                "received_events_url": "https://api.github.com/users/mqudsi/received_events",
                "repos_url": "https://api.github.com/users/mqudsi/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mqudsi/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mqudsi/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mqudsi",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "https://github.com/neovim/node-client/pull/95 is merged so node provider can be simplified now.",
            "created_at": "2018-11-14T00:17:43Z",
            "html_url": "https://github.com/neovim/neovim/issues/9001#issuecomment-438489015",
            "id": 438489015,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9001",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQzODQ4OTAxNQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/438489015/reactions"
            },
            "updated_at": "2018-11-14T00:17:43Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/438489015",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8740057?v=4",
                "events_url": "https://api.github.com/users/janlazo/events{/privacy}",
                "followers_url": "https://api.github.com/users/janlazo/followers",
                "following_url": "https://api.github.com/users/janlazo/following{/other_user}",
                "gists_url": "https://api.github.com/users/janlazo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/janlazo",
                "id": 8740057,
                "login": "janlazo",
                "node_id": "MDQ6VXNlcjg3NDAwNTc=",
                "organizations_url": "https://api.github.com/users/janlazo/orgs",
                "received_events_url": "https://api.github.com/users/janlazo/received_events",
                "repos_url": "https://api.github.com/users/janlazo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/janlazo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/janlazo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/janlazo",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 22,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/9001/comments",
    "created_at": "2018-09-15T01:10:35Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/9001/events",
    "html_url": "https://github.com/neovim/neovim/issues/9001",
    "id": 360494061,
    "labels": [
        {
            "color": "FEF2C0",
            "default": false,
            "description": "performance, latency, cpu/memory usage",
            "id": 101930601,
            "name": "performance",
            "node_id": "MDU6TGFiZWwxMDE5MzA2MDE=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/performance"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": null,
            "id": 144672485,
            "name": "provider",
            "node_id": "MDU6TGFiZWwxNDQ2NzI0ODU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/provider"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "plugins as RPC coprocesses (node.js, python, etc)",
            "id": 652698463,
            "name": "remote-plugin",
            "node_id": "MDU6TGFiZWw2NTI2OTg0NjM=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/remote-plugin"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/9001/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 726,
        "created_at": "2014-05-10T20:43:04Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "Low priority items. We plan to work on this but don't have a target date.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/6",
        "id": 655037,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lNjU1MDM3",
        "number": 6,
        "open_issues": 630,
        "state": "open",
        "title": "backlog",
        "updated_at": "2025-07-07T03:51:31Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/6"
    },
    "node_id": "MDU6SXNzdWUzNjA0OTQwNjE=",
    "number": 9001,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/9001/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/9001/timeline",
    "title": "provider/node.vim hang on exit",
    "type": {
        "color": "red",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "An unexpected problem or behavior",
        "id": 597163,
        "is_enabled": true,
        "name": "Bug",
        "node_id": "IT_kwDOAGK_Pc4ACRyr",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-07-02T08:37:30Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/9001",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/606923?v=4",
        "events_url": "https://api.github.com/users/mqudsi/events{/privacy}",
        "followers_url": "https://api.github.com/users/mqudsi/followers",
        "following_url": "https://api.github.com/users/mqudsi/following{/other_user}",
        "gists_url": "https://api.github.com/users/mqudsi/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/mqudsi",
        "id": 606923,
        "login": "mqudsi",
        "node_id": "MDQ6VXNlcjYwNjkyMw==",
        "organizations_url": "https://api.github.com/users/mqudsi/orgs",
        "received_events_url": "https://api.github.com/users/mqudsi/received_events",
        "repos_url": "https://api.github.com/users/mqudsi/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/mqudsi/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mqudsi/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/mqudsi",
        "user_view_type": "public"
    }
}