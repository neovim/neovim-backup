{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nWhat: Nvim, especially on remote or used inside a terminal multiplexer, doesn't seamlessly communicate with the kitty terminal emulator. We should add support for kitty's preferred escape code so nvim can communicate seamlessly with kitty.\n\nProblem description and proposed implementation by the kitty developer are here:\nhttps://github.com/kovidgoyal/kitty/issues/8789\n\n### Expected behavior\n\nSee linked issue. We should get a one time prompt for clipboard access then store a hashed password somewhere in nvim state such that kitty knows it can trust nvim.",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "From https://sw.kovidgoyal.net/kitty/clipboard/\n\n> a more advanced protocol that supports:\n> \n> - Copy arbitrary data including images, rich text documents, etc.\n> - Allow terminals to ask the user for permission to access the clipboard and report permission denied\n> \n> The escape code is OSC 5522, an extension of OSC 52. The basic format of the escape code is:\n> \n> `<OSC>5522;metadata;payload<ST>`\n> Here, metadata is a colon separated list of key-value pairs and payload is base64 encoded data. `OSC` is `<ESC>[`. ST is the string terminator, `<ESC>\\`.\n\nCopying images sounds very interesting...",
            "created_at": "2025-07-09T01:14:47Z",
            "html_url": "https://github.com/neovim/neovim/issues/34848#issuecomment-3050726133",
            "id": 3050726133,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34848",
            "node_id": "IC_kwDOAPphoM611mL1",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3050726133/reactions"
            },
            "updated_at": "2025-07-09T01:14:47Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3050726133",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Hey,\nWould it be better to implement kitty clipboard support using direct escape sequences (like with the OSC 52 provider), or would using something like system('kitty +kitten clipboard') be better here?\n\nIâ€™m wondering if repeating the OSC 52 approach would offer better performance, or if relying on the +kitten helper is more better across environments.\n",
            "created_at": "2025-07-21T14:13:56Z",
            "html_url": "https://github.com/neovim/neovim/issues/34848#issuecomment-3096967457",
            "id": 3096967457,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34848",
            "node_id": "IC_kwDOAPphoM64l_kh",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3096967457/reactions"
            },
            "updated_at": "2025-07-21T18:56:41Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3096967457",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/22520440?v=4",
                "events_url": "https://api.github.com/users/dheerajd5/events{/privacy}",
                "followers_url": "https://api.github.com/users/dheerajd5/followers",
                "following_url": "https://api.github.com/users/dheerajd5/following{/other_user}",
                "gists_url": "https://api.github.com/users/dheerajd5/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dheerajd5",
                "id": 22520440,
                "login": "dheerajd5",
                "node_id": "MDQ6VXNlcjIyNTIwNDQw",
                "organizations_url": "https://api.github.com/users/dheerajd5/orgs",
                "received_events_url": "https://api.github.com/users/dheerajd5/received_events",
                "repos_url": "https://api.github.com/users/dheerajd5/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dheerajd5/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dheerajd5/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dheerajd5",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "We obviously are not going to rely on kitten.",
            "created_at": "2025-07-21T14:21:53Z",
            "html_url": "https://github.com/neovim/neovim/issues/34848#issuecomment-3096996693",
            "id": 3096996693,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34848",
            "node_id": "IC_kwDOAPphoM64mGtV",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3096996693/reactions"
            },
            "updated_at": "2025-07-21T14:21:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3096996693",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Nvim should create and store in its state a random password string and send it with every payload\nThe payload would look like:\n\n```<OSC>5522;type=<write|read>:name=bmVvdmlt:pw=<base64` encoded password sting>;<base64 encoded data><ST>```\n\nKitty will handle the rest. \n\nWe should be able to copy and tweak the [OSC52 implementation](https://github.com/neovim/neovim/blob/ea2d226df6f344451306274f3f99911d459fb9dd/runtime/lua/vim/ui/clipboard/osc52.lua#L9).\n\nWe should otherwise assume that kitty follows the OSC52 spec, plus the addition of a password and name.",
            "created_at": "2025-07-21T14:43:36Z",
            "html_url": "https://github.com/neovim/neovim/issues/34848#issuecomment-3097078336",
            "id": 3097078336,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34848",
            "node_id": "IC_kwDOAPphoM64mapA",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3097078336/reactions"
            },
            "updated_at": "2025-07-21T15:01:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3097078336",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/107648301?v=4",
                "events_url": "https://api.github.com/users/broderickdj/events{/privacy}",
                "followers_url": "https://api.github.com/users/broderickdj/followers",
                "following_url": "https://api.github.com/users/broderickdj/following{/other_user}",
                "gists_url": "https://api.github.com/users/broderickdj/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/broderickdj",
                "id": 107648301,
                "login": "broderickdj",
                "node_id": "U_kgDOBmqVLQ",
                "organizations_url": "https://api.github.com/users/broderickdj/orgs",
                "received_events_url": "https://api.github.com/users/broderickdj/received_events",
                "repos_url": "https://api.github.com/users/broderickdj/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/broderickdj/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/broderickdj/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/broderickdj",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/34848/comments",
    "created_at": "2025-07-08T19:10:59Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/34848/events",
    "html_url": "https://github.com/neovim/neovim/issues/34848",
    "id": 3213526670,
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "clipboard, paste",
            "id": 186192409,
            "name": "clipboard",
            "node_id": "MDU6TGFiZWwxODYxOTI0MDk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/clipboard"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 197254545,
            "name": "tui",
            "node_id": "MDU6TGFiZWwxOTcyNTQ1NDU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/tui"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/34848/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 286,
        "created_at": "2014-11-26T22:13:11Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "We don't plan to work on this, but will accept high quality contributions from someone who will own the feature and follow up on bug reports.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/9",
        "id": 881978,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/9/labels",
        "node_id": "MDk6TWlsZXN0b25lODgxOTc4",
        "number": 9,
        "open_issues": 343,
        "state": "open",
        "title": "needs-owner",
        "updated_at": "2025-07-21T07:38:58Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/9"
    },
    "node_id": "I_kwDOAPphoM6_ioaO",
    "number": 34848,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/34848/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/34848/timeline",
    "title": "TUI: OSC 5522, clipboard data types metadata",
    "type": {
        "color": "blue",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "A request, idea, or new functionality",
        "id": 597167,
        "is_enabled": true,
        "name": "Enhancement",
        "node_id": "IT_kwDOAGK_Pc4ACRyv",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-07-21T18:56:41Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/34848",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/107648301?v=4",
        "events_url": "https://api.github.com/users/broderickdj/events{/privacy}",
        "followers_url": "https://api.github.com/users/broderickdj/followers",
        "following_url": "https://api.github.com/users/broderickdj/following{/other_user}",
        "gists_url": "https://api.github.com/users/broderickdj/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/broderickdj",
        "id": 107648301,
        "login": "broderickdj",
        "node_id": "U_kgDOBmqVLQ",
        "organizations_url": "https://api.github.com/users/broderickdj/orgs",
        "received_events_url": "https://api.github.com/users/broderickdj/received_events",
        "repos_url": "https://api.github.com/users/broderickdj/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/broderickdj/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/broderickdj/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/broderickdj",
        "user_view_type": "public"
    }
}