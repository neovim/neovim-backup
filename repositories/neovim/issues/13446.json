{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "See https://github.com/neovim/neovim/pull/13417\r\n\r\nLooks like we don't have a `<count1>` for `<count>` like we have `v:count1` for `v:count`. The `count1` variable helps to check if a count was actually set or is just the default. The reasoning being when no count is provided and the default is used, `count1` will differ from `count` but when a count is provided, they will be the same.\r\n\r\nAnother option is to make `v:count` work for commands and not just keybinds. Though I'm concerned about backwards compatibility here.",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "I think you're looking for `:com! ... -count=1 ...`.  If no count is supplied, then `<count>` evaluates to 1, otherwise to whatever the user specified.",
            "created_at": "2020-12-04T19:05:47Z",
            "html_url": "https://github.com/neovim/neovim/issues/13446#issuecomment-738962463",
            "id": 738962463,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/13446",
            "node_id": "MDEyOklzc3VlQ29tbWVudDczODk2MjQ2Mw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/738962463/reactions"
            },
            "updated_at": "2020-12-04T19:06:28Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/738962463",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/112971?v=4",
                "events_url": "https://api.github.com/users/jamessan/events{/privacy}",
                "followers_url": "https://api.github.com/users/jamessan/followers",
                "following_url": "https://api.github.com/users/jamessan/following{/other_user}",
                "gists_url": "https://api.github.com/users/jamessan/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jamessan",
                "id": 112971,
                "login": "jamessan",
                "node_id": "MDQ6VXNlcjExMjk3MQ==",
                "organizations_url": "https://api.github.com/users/jamessan/orgs",
                "received_events_url": "https://api.github.com/users/jamessan/received_events",
                "repos_url": "https://api.github.com/users/jamessan/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jamessan/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jamessan/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jamessan",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "The problem is 1 is a valid section for Man. So e.g. if you set `b:man_default_sects = '3,1'` and then did `Man printf`, it'd still open `printf` in section 1 instead of section 3 because it'd think you provided an explicit section.",
            "created_at": "2020-12-04T19:10:23Z",
            "html_url": "https://github.com/neovim/neovim/issues/13446#issuecomment-738964550",
            "id": 738964550,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/13446",
            "node_id": "MDEyOklzc3VlQ29tbWVudDczODk2NDU1MA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/738964550/reactions"
            },
            "updated_at": "2020-12-04T19:12:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/738964550",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10180857?v=4",
                "events_url": "https://api.github.com/users/nhooyr/events{/privacy}",
                "followers_url": "https://api.github.com/users/nhooyr/followers",
                "following_url": "https://api.github.com/users/nhooyr/following{/other_user}",
                "gists_url": "https://api.github.com/users/nhooyr/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nhooyr",
                "id": 10180857,
                "login": "nhooyr",
                "node_id": "MDQ6VXNlcjEwMTgwODU3",
                "organizations_url": "https://api.github.com/users/nhooyr/orgs",
                "received_events_url": "https://api.github.com/users/nhooyr/received_events",
                "repos_url": "https://api.github.com/users/nhooyr/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nhooyr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nhooyr/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nhooyr",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "It's definitely a minor quirk and may not be worth adding another variable for.",
            "created_at": "2020-12-04T21:41:30Z",
            "html_url": "https://github.com/neovim/neovim/issues/13446#issuecomment-739036251",
            "id": 739036251,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/13446",
            "node_id": "MDEyOklzc3VlQ29tbWVudDczOTAzNjI1MQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/739036251/reactions"
            },
            "updated_at": "2020-12-04T21:41:30Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/739036251",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10180857?v=4",
                "events_url": "https://api.github.com/users/nhooyr/events{/privacy}",
                "followers_url": "https://api.github.com/users/nhooyr/followers",
                "following_url": "https://api.github.com/users/nhooyr/following{/other_user}",
                "gists_url": "https://api.github.com/users/nhooyr/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nhooyr",
                "id": 10180857,
                "login": "nhooyr",
                "node_id": "MDQ6VXNlcjEwMTgwODU3",
                "organizations_url": "https://api.github.com/users/nhooyr/orgs",
                "received_events_url": "https://api.github.com/users/nhooyr/received_events",
                "repos_url": "https://api.github.com/users/nhooyr/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nhooyr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nhooyr/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nhooyr",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "You referenced `v:count1`, whose only difference from `v:count` is that it defaults to 1.  There's no way to know for sure whether the user supplied a value with either `v:count`/`v:count1` or `<count>`.  At least with the latter, you can specify the default value, so you could default to a value that isn't semantically valid and then know whether to use it.",
            "created_at": "2020-12-04T21:58:29Z",
            "html_url": "https://github.com/neovim/neovim/issues/13446#issuecomment-739045169",
            "id": 739045169,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/13446",
            "node_id": "MDEyOklzc3VlQ29tbWVudDczOTA0NTE2OQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/739045169/reactions"
            },
            "updated_at": "2020-12-04T21:58:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/739045169",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/112971?v=4",
                "events_url": "https://api.github.com/users/jamessan/events{/privacy}",
                "followers_url": "https://api.github.com/users/jamessan/followers",
                "following_url": "https://api.github.com/users/jamessan/following{/other_user}",
                "gists_url": "https://api.github.com/users/jamessan/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jamessan",
                "id": 112971,
                "login": "jamessan",
                "node_id": "MDQ6VXNlcjExMjk3MQ==",
                "organizations_url": "https://api.github.com/users/jamessan/orgs",
                "received_events_url": "https://api.github.com/users/jamessan/received_events",
                "repos_url": "https://api.github.com/users/jamessan/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jamessan/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jamessan/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jamessan",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> There's no way to know for sure whether the user supplied a value with either v:count/v:count1 or <count>. \r\n\r\nThere is! The user supplied a value when they are both equal. If they are not equal, i.e count is 0 and count1 is 1, then the user did not supply a value.",
            "created_at": "2020-12-04T21:59:58Z",
            "html_url": "https://github.com/neovim/neovim/issues/13446#issuecomment-739045891",
            "id": 739045891,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/13446",
            "node_id": "MDEyOklzc3VlQ29tbWVudDczOTA0NTg5MQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/739045891/reactions"
            },
            "updated_at": "2020-12-04T21:59:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/739045891",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10180857?v=4",
                "events_url": "https://api.github.com/users/nhooyr/events{/privacy}",
                "followers_url": "https://api.github.com/users/nhooyr/followers",
                "following_url": "https://api.github.com/users/nhooyr/following{/other_user}",
                "gists_url": "https://api.github.com/users/nhooyr/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nhooyr",
                "id": 10180857,
                "login": "nhooyr",
                "node_id": "MDQ6VXNlcjEwMTgwODU3",
                "organizations_url": "https://api.github.com/users/nhooyr/orgs",
                "received_events_url": "https://api.github.com/users/nhooyr/received_events",
                "repos_url": "https://api.github.com/users/nhooyr/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nhooyr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nhooyr/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nhooyr",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Sorry, the above of course assumes the default count is 0.",
            "created_at": "2020-12-04T22:09:42Z",
            "html_url": "https://github.com/neovim/neovim/issues/13446#issuecomment-739050229",
            "id": 739050229,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/13446",
            "node_id": "MDEyOklzc3VlQ29tbWVudDczOTA1MDIyOQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/739050229/reactions"
            },
            "updated_at": "2020-12-04T22:09:42Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/739050229",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10180857?v=4",
                "events_url": "https://api.github.com/users/nhooyr/events{/privacy}",
                "followers_url": "https://api.github.com/users/nhooyr/followers",
                "following_url": "https://api.github.com/users/nhooyr/following{/other_user}",
                "gists_url": "https://api.github.com/users/nhooyr/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nhooyr",
                "id": 10180857,
                "login": "nhooyr",
                "node_id": "MDQ6VXNlcjEwMTgwODU3",
                "organizations_url": "https://api.github.com/users/nhooyr/orgs",
                "received_events_url": "https://api.github.com/users/nhooyr/received_events",
                "repos_url": "https://api.github.com/users/nhooyr/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nhooyr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nhooyr/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nhooyr",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Or any number not `1`.",
            "created_at": "2020-12-04T22:09:47Z",
            "html_url": "https://github.com/neovim/neovim/issues/13446#issuecomment-739050272",
            "id": 739050272,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/13446",
            "node_id": "MDEyOklzc3VlQ29tbWVudDczOTA1MDI3Mg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/739050272/reactions"
            },
            "updated_at": "2020-12-04T22:09:47Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/739050272",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10180857?v=4",
                "events_url": "https://api.github.com/users/nhooyr/events{/privacy}",
                "followers_url": "https://api.github.com/users/nhooyr/followers",
                "following_url": "https://api.github.com/users/nhooyr/following{/other_user}",
                "gists_url": "https://api.github.com/users/nhooyr/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nhooyr",
                "id": 10180857,
                "login": "nhooyr",
                "node_id": "MDQ6VXNlcjEwMTgwODU3",
                "organizations_url": "https://api.github.com/users/nhooyr/orgs",
                "received_events_url": "https://api.github.com/users/nhooyr/received_events",
                "repos_url": "https://api.github.com/users/nhooyr/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nhooyr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nhooyr/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nhooyr",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I think a nicer alternative would be to introduce/allow an invalid count value, e.g.:\r\n```\r\ncom! … -count=v:no_value …\r\n```\r\nwhich should evaluate to something different from any \"valid\" count… Or something to this effect, sorry I'm not familiar with ~~this part~~ most of the code.",
            "created_at": "2020-12-07T11:49:07Z",
            "html_url": "https://github.com/neovim/neovim/issues/13446#issuecomment-739868930",
            "id": 739868930,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/13446",
            "node_id": "MDEyOklzc3VlQ29tbWVudDczOTg2ODkzMA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/739868930/reactions"
            },
            "updated_at": "2020-12-07T11:49:07Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/739868930",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/73705427?v=4",
                "events_url": "https://api.github.com/users/shade-of-noon/events{/privacy}",
                "followers_url": "https://api.github.com/users/shade-of-noon/followers",
                "following_url": "https://api.github.com/users/shade-of-noon/following{/other_user}",
                "gists_url": "https://api.github.com/users/shade-of-noon/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shade-of-noon",
                "id": 73705427,
                "login": "shade-of-noon",
                "node_id": "MDQ6VXNlcjczNzA1NDI3",
                "organizations_url": "https://api.github.com/users/shade-of-noon/orgs",
                "received_events_url": "https://api.github.com/users/shade-of-noon/received_events",
                "repos_url": "https://api.github.com/users/shade-of-noon/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shade-of-noon/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shade-of-noon/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shade-of-noon",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Yes, that could be a better way to do it. Perhaps `-count=v:false`?",
            "created_at": "2020-12-07T17:47:19Z",
            "html_url": "https://github.com/neovim/neovim/issues/13446#issuecomment-740074493",
            "id": 740074493,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/13446",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc0MDA3NDQ5Mw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/740074493/reactions"
            },
            "updated_at": "2020-12-07T17:47:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/740074493",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10180857?v=4",
                "events_url": "https://api.github.com/users/nhooyr/events{/privacy}",
                "followers_url": "https://api.github.com/users/nhooyr/followers",
                "following_url": "https://api.github.com/users/nhooyr/following{/other_user}",
                "gists_url": "https://api.github.com/users/nhooyr/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nhooyr",
                "id": 10180857,
                "login": "nhooyr",
                "node_id": "MDQ6VXNlcjEwMTgwODU3",
                "organizations_url": "https://api.github.com/users/nhooyr/orgs",
                "received_events_url": "https://api.github.com/users/nhooyr/received_events",
                "repos_url": "https://api.github.com/users/nhooyr/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nhooyr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nhooyr/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nhooyr",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 9,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/13446/comments",
    "created_at": "2020-12-04T18:11:05Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/13446/events",
    "html_url": "https://github.com/neovim/neovim/issues/13446",
    "id": 757300606,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "feature request",
            "id": 77997476,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Ng==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/enhancement"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/13446/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU3NTczMDA2MDY=",
    "number": 13446,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/13446/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/13446/timeline",
    "title": "Add <count1> to properly check if a command count was set and isn't just the default",
    "updated_at": "2025-01-17T16:01:38Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/13446",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/10180857?v=4",
        "events_url": "https://api.github.com/users/nhooyr/events{/privacy}",
        "followers_url": "https://api.github.com/users/nhooyr/followers",
        "following_url": "https://api.github.com/users/nhooyr/following{/other_user}",
        "gists_url": "https://api.github.com/users/nhooyr/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/nhooyr",
        "id": 10180857,
        "login": "nhooyr",
        "node_id": "MDQ6VXNlcjEwMTgwODU3",
        "organizations_url": "https://api.github.com/users/nhooyr/orgs",
        "received_events_url": "https://api.github.com/users/nhooyr/received_events",
        "repos_url": "https://api.github.com/users/nhooyr/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/nhooyr/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/nhooyr/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/nhooyr",
        "user_view_type": "public"
    }
}