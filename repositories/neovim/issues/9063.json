{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "- `nvim --version`:  \r\n\r\n```\r\nNVIM v0.3.2-dev\r\nBuild type: RelWithDebInfo\r\nLua 5.1\r\nCompilation: /usr/bin/cc -g -O2 -fdebug-prefix-map=/build/neovim-1vOYWK/neovim-0.3.0~ubuntu1+git201809272035-64a8a8f-479a1d0=. -fstack-protector-strong -Wformat -Werror=format-security -Wconversion -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=1 -O2 -g -DMIN_LOG_LEVEL=3 -Og -g -Wall -Wextra -pedantic -Wno-unused-parameter -Wstrict-prototypes -std=gnu99 -Wimplicit-fallthrough -Wvla -fstack-protector-strong -fdiagnostics-color=auto -Wno-array-bounds -DINCLUDE_GENERATED_DECLARATIONS -D_GNU_SOURCE -DNVIM_MSGPACK_HAS_FLOAT32 -DNVIM_UNIBI_HAS_VAR_FROM -I/build/neovim-1vOYWK/neovim-0.3.0~ubuntu1+git201809272035-64a8a8f-479a1d0/build/config -I/build/neovim-1vOYWK/neovim-0.3.0~ubuntu1+git201809272035-64a8a8f-479a1d0/src -I/build/neovim-1vOYWK/neovim-0.3.0~ubuntu1+git201809272035-64a8a8f-479a1d0/.deps/usr/include -I/usr/include -I/build/neovim-1vOYWK/neovim-0.3.0~ubuntu1+git201809272035-64a8a8f-479a1d0/build/src/nvim/auto -I/build/neovim-1vOYWK/neovim-0.3.0~ubuntu1+git201809272035-64a8a8f-479a1d0/build/include\r\nCompiled by buildd@lgw01-amd64-018\r\n\r\nFeatures: +acl +iconv +jemalloc +tui\r\nSee \":help feature-compile\"\r\n\r\n   system vimrc file: \"$VIM/sysinit.vim\"\r\n  fall-back for $VIM: \"/usr/share/nvim\"\r\n\r\n```\r\n\r\n- Operating system/version:  `Ubuntu 18.04.1 LTS \\n \\l`\r\n- Terminal name/version: xfce4-terminal 0.8.7.4 (Xfce 4.12)\r\n- `$TERM`: screen-256color (within tmux)\r\n\r\n### Problem\r\n\r\nHello, sorry I don't think I can have a reproducible example, I don't know yet when the shada file is cleaned but it seems to be cleaned once in a while.\r\n\r\nMy shada settings are as follows : \r\n\r\n`shada='10000,<10000,s100,h,f1`\r\n\r\nFor some reason, once in a while (every 3 days maybe), it seems that my shada file is wiped.\r\n\r\nThe use case I have is that I use the `:oldfiles` command a lot to navigate to files that I have recently seen, however, the list keeps growing up to approximately 500 or so, and the next day, the list of oldfiles is back to something like 75.\r\n\r\nMaybe this is because I'm doing some mismanipulation (I sometimes run nvim as root, and also sometimes use nvim -u NONE), could that be one cause of the issue ?\r\n\r\nHow can you help me debug this issue ?\r\n\r\n\r\n",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "I can confirm. I also have `shada='1000` and similarly files keep disappearing and cannot be retrieved with `:oldfiles`",
            "created_at": "2018-09-28T10:45:22Z",
            "html_url": "https://github.com/neovim/neovim/issues/9063#issuecomment-425397609",
            "id": 425397609,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9063",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTM5NzYwOQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/425397609/reactions"
            },
            "updated_at": "2018-09-28T10:45:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/425397609",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/52182?v=4",
                "events_url": "https://api.github.com/users/kurkale6ka/events{/privacy}",
                "followers_url": "https://api.github.com/users/kurkale6ka/followers",
                "following_url": "https://api.github.com/users/kurkale6ka/following{/other_user}",
                "gists_url": "https://api.github.com/users/kurkale6ka/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kurkale6ka",
                "id": 52182,
                "login": "kurkale6ka",
                "node_id": "MDQ6VXNlcjUyMTgy",
                "organizations_url": "https://api.github.com/users/kurkale6ka/orgs",
                "received_events_url": "https://api.github.com/users/kurkale6ka/received_events",
                "repos_url": "https://api.github.com/users/kurkale6ka/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kurkale6ka/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kurkale6ka/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kurkale6ka",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Does this happen if you leave the `shada` option at its default values?",
            "created_at": "2018-09-30T16:13:57Z",
            "html_url": "https://github.com/neovim/neovim/issues/9063#issuecomment-425732000",
            "id": 425732000,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9063",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTczMjAwMA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/425732000/reactions"
            },
            "updated_at": "2018-09-30T16:13:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/425732000",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I have removed it from my .vimrc, I will let you know in a few days if I still have the issue.",
            "created_at": "2018-10-01T08:40:11Z",
            "html_url": "https://github.com/neovim/neovim/issues/9063#issuecomment-425830776",
            "id": 425830776,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9063",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTgzMDc3Ng==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/425830776/reactions"
            },
            "updated_at": "2018-10-01T08:40:11Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/425830776",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2071336?v=4",
                "events_url": "https://api.github.com/users/edi9999/events{/privacy}",
                "followers_url": "https://api.github.com/users/edi9999/followers",
                "following_url": "https://api.github.com/users/edi9999/following{/other_user}",
                "gists_url": "https://api.github.com/users/edi9999/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/edi9999",
                "id": 2071336,
                "login": "edi9999",
                "node_id": "MDQ6VXNlcjIwNzEzMzY=",
                "organizations_url": "https://api.github.com/users/edi9999/orgs",
                "received_events_url": "https://api.github.com/users/edi9999/received_events",
                "repos_url": "https://api.github.com/users/edi9999/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/edi9999/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/edi9999/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/edi9999",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I have just had this bug today (after removing anything related to shada in my .vimrc for 9 days)",
            "created_at": "2018-10-10T08:36:58Z",
            "html_url": "https://github.com/neovim/neovim/issues/9063#issuecomment-428486749",
            "id": 428486749,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9063",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQyODQ4Njc0OQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/428486749/reactions"
            },
            "updated_at": "2018-10-10T08:37:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/428486749",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2071336?v=4",
                "events_url": "https://api.github.com/users/edi9999/events{/privacy}",
                "followers_url": "https://api.github.com/users/edi9999/followers",
                "following_url": "https://api.github.com/users/edi9999/following{/other_user}",
                "gists_url": "https://api.github.com/users/edi9999/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/edi9999",
                "id": 2071336,
                "login": "edi9999",
                "node_id": "MDQ6VXNlcjIwNzEzMzY=",
                "organizations_url": "https://api.github.com/users/edi9999/orgs",
                "received_events_url": "https://api.github.com/users/edi9999/received_events",
                "repos_url": "https://api.github.com/users/edi9999/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/edi9999/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/edi9999/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/edi9999",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "The shada default value is : \r\n\r\n`  shada='100,<50,s10,h,f1`\r\n\r\nso it means that it will never remember more than 100 files I guess ?",
            "created_at": "2018-10-18T13:36:00Z",
            "html_url": "https://github.com/neovim/neovim/issues/9063#issuecomment-431010896",
            "id": 431010896,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9063",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTAxMDg5Ng==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/431010896/reactions"
            },
            "updated_at": "2018-10-18T13:36:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/431010896",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2071336?v=4",
                "events_url": "https://api.github.com/users/edi9999/events{/privacy}",
                "followers_url": "https://api.github.com/users/edi9999/followers",
                "following_url": "https://api.github.com/users/edi9999/following{/other_user}",
                "gists_url": "https://api.github.com/users/edi9999/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/edi9999",
                "id": 2071336,
                "login": "edi9999",
                "node_id": "MDQ6VXNlcjIwNzEzMzY=",
                "organizations_url": "https://api.github.com/users/edi9999/orgs",
                "received_events_url": "https://api.github.com/users/edi9999/received_events",
                "repos_url": "https://api.github.com/users/edi9999/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/edi9999/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/edi9999/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/edi9999",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I have found out Neovim 0.5.0 does not remove file marks from a shada file; deleting the marks has no effect and on reload the marks are back again.",
            "created_at": "2020-09-07T10:46:36Z",
            "html_url": "https://github.com/neovim/neovim/issues/9063#issuecomment-688243177",
            "id": 688243177,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9063",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY4ODI0MzE3Nw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/688243177/reactions"
            },
            "updated_at": "2023-07-17T00:33:09Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/688243177",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1917113?v=4",
                "events_url": "https://api.github.com/users/cpkio/events{/privacy}",
                "followers_url": "https://api.github.com/users/cpkio/followers",
                "following_url": "https://api.github.com/users/cpkio/following{/other_user}",
                "gists_url": "https://api.github.com/users/cpkio/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/cpkio",
                "id": 1917113,
                "login": "cpkio",
                "node_id": "MDQ6VXNlcjE5MTcxMTM=",
                "organizations_url": "https://api.github.com/users/cpkio/orgs",
                "received_events_url": "https://api.github.com/users/cpkio/received_events",
                "repos_url": "https://api.github.com/users/cpkio/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/cpkio/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/cpkio/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/cpkio",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 6,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/9063/comments",
    "created_at": "2018-09-28T09:38:58Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/9063/events",
    "html_url": "https://github.com/neovim/neovim/issues/9063",
    "id": 364814713,
    "labels": [
        {
            "color": "f9d0c4",
            "default": false,
            "description": "wrong behavior that was introduced in a previous commit (please bisect)",
            "id": 619474658,
            "name": "bug-regression",
            "node_id": "MDU6TGFiZWw2MTk0NzQ2NTg=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-regression"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "Nvim core functionality or code",
            "id": 858327504,
            "name": "core",
            "node_id": "MDU6TGFiZWw4NTgzMjc1MDQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/core"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "save/restore editor state: shada, context, ctx",
            "id": 4449264023,
            "name": "editor-state",
            "node_id": "LA_kwDOAPphoM8AAAABCTJhlw",
            "url": "https://api.github.com/repos/neovim/neovim/labels/editor-state"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/9063/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 686,
        "created_at": "2014-05-10T20:43:04Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "Low priority items. We plan to work on this but don't have a target date.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/6",
        "id": 655037,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lNjU1MDM3",
        "number": 6,
        "open_issues": 635,
        "state": "open",
        "title": "backlog",
        "updated_at": "2025-01-21T00:09:37Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/6"
    },
    "node_id": "MDU6SXNzdWUzNjQ4MTQ3MTM=",
    "number": 9063,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/9063/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/9063/timeline",
    "title": "shada (viminfo) forgets marks, oldfiles",
    "updated_at": "2025-01-19T11:51:25Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/9063",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/2071336?v=4",
        "events_url": "https://api.github.com/users/edi9999/events{/privacy}",
        "followers_url": "https://api.github.com/users/edi9999/followers",
        "following_url": "https://api.github.com/users/edi9999/following{/other_user}",
        "gists_url": "https://api.github.com/users/edi9999/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/edi9999",
        "id": 2071336,
        "login": "edi9999",
        "node_id": "MDQ6VXNlcjIwNzEzMzY=",
        "organizations_url": "https://api.github.com/users/edi9999/orgs",
        "received_events_url": "https://api.github.com/users/edi9999/received_events",
        "repos_url": "https://api.github.com/users/edi9999/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/edi9999/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/edi9999/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/edi9999",
        "user_view_type": "public"
    }
}