{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "\n## Steps to reproduce\n\nIt happened to me few time today. Haven't found a stable way to reproduce.\n```\n(gdb) bt\n#0  0x00007f103749890c in ?? () from /usr/lib/libc.so.6\n#1  0x00007f103743e3a0 in raise () from /usr/lib/libc.so.6\n#2  0x00007f103742557a in abort () from /usr/lib/libc.so.6\n#3  0x00007f1037426613 in ?? () from /usr/lib/libc.so.6\n#4  0x00007f10374a2d25 in ?? () from /usr/lib/libc.so.6\n#5  0x00007f10374a4d40 in ?? () from /usr/lib/libc.so.6\n#6  0x00007f10374a4f51 in ?? () from /usr/lib/libc.so.6\n#7  0x0000557a01c0066e in xfree (ptr=0x557a4012f220) at **/neovim/src/nvim/memory.c:159\n#8  0x0000557a01c01644 in free_block (block=0x557a4012f220) at **/neovim/src/nvim/memory.c:786\n#9  0x0000557a01b015b4 in rstream_close_cb (s=0x557a40131830, data=0x557a40131830) at **/neovim/src/nvim/event/rstream.c:241\n#10 0x0000557a01b02b45 in close_cb (handle=0x557a40131838) at **/neovim/src/nvim/event/stream.c:148\n#11 0x0000557a01e93c1d in uv_run ()\n#12 0x0000557a01afe312 in loop_close (loop=0x557a020544c0 <main_loop>, wait=true) at **/neovim/src/nvim/event/loop.c:160\n#13 0x0000557a01bc2e19 in event_teardown () at **/neovim/src/nvim/main.c:187\n#14 0x0000557a01bc3e9e in os_exit (r=0) at **/neovim/src/nvim/main.c:683\n#15 0x0000557a01bc435f in getout (exitval=0) at **/neovim/src/nvim/main.c:839\n#16 0x0000557a01b1d834 in ex_quit (eap=0x7fffe5be5c70) at **/neovim/src/nvim/ex_docmd.c:4880\n#17 0x0000557a01b1519c in execute_cmd0 (retv=0x7fffe5be54d4, eap=0x7fffe5be5c70, errormsg=0x7fffe5be54d8, preview=false) at **/neovim/src/nvim/ex_docmd.c:1762\n#18 0x0000557a01b157fa in execute_cmd (eap=0x7fffe5be5c70, cmdinfo=0x7fffe5be5db0, preview=false) at **/neovim/src/nvim/ex_docmd.c:1844\n#19 0x0000557a019ec752 in nvim_cmd (channel_id=9223372036854775809, cmd=0x7fffe5be5f50, opts=0x7fffe5be5f07, arena=0x7fffe5be5f30, err=0x7fffe5be5f10)\n    at **/neovim/src/nvim/api/command.c:736\n#20 0x0000557a01b93093 in nlua_api_nvim_cmd (lstate=0x7f1037807380) at **/neovim/build/src/nvim/auto/lua_api_c_bindings.generated.h:1781\n#21 0x0000557a01e41176 in lj_BC_FUNCC ()\n#22 0x0000557a01e2c551 in lua_pcall (L=0x7f1037807380, nargs=<optimized out>, nresults=0, errfunc=<optimized out>) at lj_api.c:1106\n#23 0x0000557a01bb29d0 in nlua_pcall (lstate=0x7f1037807380, nargs=0, nresults=0) at **/neovim/src/nvim/lua/executor.c:180\n#24 0x0000557a01bb64b4 in nlua_typval_exec (lcmd=0x557a41000320 \"u.misc.closewin()\", lcmd_len=17, name=0x557a01f0be9a \":lua\", args=0x0, argcount=0, special=false,\n    ret_tv=0x0) at **/neovim/src/nvim/lua/executor.c:1494\n#25 0x0000557a01bb6faa in ex_lua (eap=0x7fffe5be62a0) at **/neovim/src/nvim/lua/executor.c:1734\n#26 0x0000557a01b1519c in execute_cmd0 (retv=0x7fffe5be6258, eap=0x7fffe5be62a0, errormsg=0x7fffe5be6270, preview=false) at **/neovim/src/nvim/ex_docmd.c:1762\n#27 0x0000557a01b171fe in do_one_cmd (cmdlinep=0x7fffe5be64c0, flags=0, cstack=0x7fffe5be65d0, fgetline=0x557a01b5a204 <getcmdkeycmd>, cookie=0x0)\n    at **/neovim/src/nvim/ex_docmd.c:2392\n#28 0x0000557a01b127a7 in do_cmdline (cmdline=0x0, fgetline=0x557a01b5a204 <getcmdkeycmd>, cookie=0x0, flags=0) at **/neovim/src/nvim/ex_docmd.c:679\n#29 0x0000557a01c29312 in nv_colon (cap=0x7fffe5be6c40) at **/neovim/src/nvim/normal.c:3198\n#30 0x0000557a01c24b91 in normal_execute (state=0x7fffe5be6bd0, key=-26877) at **/neovim/src/nvim/normal.c:1254\n#31 0x0000557a01d0b25b in state_enter (s=0x7fffe5be6bd0) at **/neovim/src/nvim/state.c:100\n#32 0x0000557a01c22cc1 in normal_enter (cmdwin=false, noexmode=false) at **/neovim/src/nvim/normal.c:523\n#33 0x0000557a01bc3e39 in main (argc=6, argv=0x7fffe5be6fd8) at **/neovim/src/nvim/main.c:660\n```\n\n\n## System info\n\n- Nvim version (nvim -v): `v0.12.0-dev-2033 g83552847f3-dirty` neovim/neovim@83552847f3\n- Vim (not Nvim) behaves the same?: ?\n- Operating system/version: Linux 6.18.4-zen1-1-zen\n- Terminal name/version: kitty\n- $TERM environment variable: `xterm-kitty`\n- Installation: ?\n\n",
    "closed_at": "2026-01-14T15:11:57Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/91544758?v=4",
        "events_url": "https://api.github.com/users/phanen/events{/privacy}",
        "followers_url": "https://api.github.com/users/phanen/followers",
        "following_url": "https://api.github.com/users/phanen/following{/other_user}",
        "gists_url": "https://api.github.com/users/phanen/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/phanen",
        "id": 91544758,
        "login": "phanen",
        "node_id": "U_kgDOBXTctg",
        "organizations_url": "https://api.github.com/users/phanen/orgs",
        "received_events_url": "https://api.github.com/users/phanen/received_events",
        "repos_url": "https://api.github.com/users/phanen/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/phanen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/phanen/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/phanen",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "It's possible that this is caused by the stdio channel or socket channels. Can you provide a log file (`$NVIM_LOG_FILE`) from a Debug build? (RelWithDebInfo doesn't enable debug-level logging.)\n\nNote: when providing a log file it's better to also provide the stacktrace from the same crash, as pointer addresses may be different in different crashes.",
            "created_at": "2026-01-14T12:41:21Z",
            "html_url": "https://github.com/neovim/neovim/issues/37391#issuecomment-3749392064",
            "id": 3749392064,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37391",
            "node_id": "IC_kwDOAPphoM7fey7A",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3749392064/reactions"
            },
            "updated_at": "2026-01-14T13:11:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3749392064",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "[log.txt](https://github.com/user-attachments/files/24614625/log.txt)\n```\n\n(gdb) bt\n#0  0x00007f5aa789890c in ?? () from /usr/lib/libc.so.6\n#1  0x00007f5aa783e3a0 in raise () from /usr/lib/libc.so.6\n#2  0x00007f5aa782557a in abort () from /usr/lib/libc.so.6\n#3  0x00007f5aa7826613 in ?? () from /usr/lib/libc.so.6\n#4  0x00007f5aa78a2d25 in ?? () from /usr/lib/libc.so.6\n#5  0x00007f5aa78a4d40 in ?? () from /usr/lib/libc.so.6\n#6  0x00007f5aa78a4f51 in ?? () from /usr/lib/libc.so.6\n#7  0x00005595391c066e in xfree (ptr=0x55953af59220) at **/neovim/src/nvim/memory.c:159\n#8  0x00005595391c1644 in free_block (block=0x55953af59220) at **/neovim/src/nvim/memory.c:786\n#9  0x00005595390c15b4 in rstream_close_cb (s=0x55953af5b830, data=0x55953af5b830) at **/neovim/src/nvim/event/rstream.c:241\n#10 0x00005595390c2b45 in close_cb (handle=0x55953af5b838) at **/neovim/src/nvim/event/stream.c:148\n#11 0x0000559539453c1d in uv_run ()\n#12 0x00005595390be312 in loop_close (loop=0x5595396144c0 <main_loop>, wait=true) at **/neovim/src/nvim/event/loop.c:160\n#13 0x0000559539182e19 in event_teardown () at **/neovim/src/nvim/main.c:187\n#14 0x0000559539183e9e in os_exit (r=0) at **/neovim/src/nvim/main.c:683\n#15 0x000055953918435f in getout (exitval=0) at **/neovim/src/nvim/main.c:839\n#16 0x00005595390dd834 in ex_quit (eap=0x7ffca0bf39c0) at **/neovim/src/nvim/ex_docmd.c:4880\n#17 0x00005595390d519c in execute_cmd0 (retv=0x7ffca0bf3224, eap=0x7ffca0bf39c0, errormsg=0x7ffca0bf3228, preview=false) at **/neovim/src/nvim/ex_docmd.c:1762\n#18 0x00005595390d57fa in execute_cmd (eap=0x7ffca0bf39c0, cmdinfo=0x7ffca0bf3b00, preview=false) at **/neovim/src/nvim/ex_docmd.c:1844\n#19 0x0000559538fac752 in nvim_cmd (channel_id=9223372036854775809, cmd=0x7ffca0bf3ca0, opts=0x7ffca0bf3c57, arena=0x7ffca0bf3c80, err=0x7ffca0bf3c60)\n    at **/neovim/src/nvim/api/command.c:736\n#20 0x0000559539153093 in nlua_api_nvim_cmd (lstate=0x7f5aa7bcc380) at **/neovim/build/src/nvim/auto/lua_api_c_bindings.generated.h:1781\n#21 0x0000559539401176 in lj_BC_FUNCC ()\n#22 0x00005595393ec551 in lua_pcall (L=0x7f5aa7bcc380, nargs=<optimized out>, nresults=0, errfunc=<optimized out>) at lj_api.c:1106\n#23 0x00005595391729d0 in nlua_pcall (lstate=0x7f5aa7bcc380, nargs=0, nresults=0) at **/neovim/src/nvim/lua/executor.c:180\n#24 0x00005595391764b4 in nlua_typval_exec (lcmd=0x55953affda90 \"u.misc.closewin()\", lcmd_len=17, name=0x5595394cbe9a \":lua\", args=0x0, argcount=0, special=false, \n    ret_tv=0x0) at **/neovim/src/nvim/lua/executor.c:1494\n#25 0x0000559539176faa in ex_lua (eap=0x7ffca0bf3ff0) at **/neovim/src/nvim/lua/executor.c:1734\n#26 0x00005595390d519c in execute_cmd0 (retv=0x7ffca0bf3fa8, eap=0x7ffca0bf3ff0, errormsg=0x7ffca0bf3fc0, preview=false) at **/neovim/src/nvim/ex_docmd.c:1762\n#27 0x00005595390d71fe in do_one_cmd (cmdlinep=0x7ffca0bf4210, flags=0, cstack=0x7ffca0bf4320, fgetline=0x55953911a204 <getcmdkeycmd>, cookie=0x0)\n    at **/neovim/src/nvim/ex_docmd.c:2392\n#28 0x00005595390d27a7 in do_cmdline (cmdline=0x0, fgetline=0x55953911a204 <getcmdkeycmd>, cookie=0x0, flags=0) at **/neovim/src/nvim/ex_docmd.c:679\n#29 0x00005595391e9312 in nv_colon (cap=0x7ffca0bf4990) at **/neovim/src/nvim/normal.c:3198\n#30 0x00005595391e4b91 in normal_execute (state=0x7ffca0bf4920, key=-26877) at **/neovim/src/nvim/normal.c:1254\n#31 0x00005595392cb25b in state_enter (s=0x7ffca0bf4920) at **/neovim/src/nvim/state.c:100\n#32 0x00005595391e2cc1 in normal_enter (cmdwin=false, noexmode=false) at **/neovim/src/nvim/normal.c:523\n#33 0x0000559539183e39 in main (argc=6, argv=0x7ffca0bf4d28) at **/neovim/src/nvim/main.c:660\n```\n",
            "created_at": "2026-01-14T13:49:46Z",
            "html_url": "https://github.com/neovim/neovim/issues/37391#issuecomment-3749651495",
            "id": 3749651495,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37391",
            "node_id": "IC_kwDOAPphoM7ffyQn",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3749651495/reactions"
            },
            "updated_at": "2026-01-14T13:49:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3749651495",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/91544758?v=4",
                "events_url": "https://api.github.com/users/phanen/events{/privacy}",
                "followers_url": "https://api.github.com/users/phanen/followers",
                "following_url": "https://api.github.com/users/phanen/following{/other_user}",
                "gists_url": "https://api.github.com/users/phanen/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/phanen",
                "id": 91544758,
                "login": "phanen",
                "node_id": "U_kgDOBXTctg",
                "organizations_url": "https://api.github.com/users/phanen/orgs",
                "received_events_url": "https://api.github.com/users/phanen/received_events",
                "repos_url": "https://api.github.com/users/phanen/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/phanen/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/phanen/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/phanen",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "ok I found this seems related to something with `UV_THREADPOOL_SIZE`, I forgot to delete when play with it.\n```lua\ndo\n  vim.env.UV_THREADPOOL_SIZE = 8\n  vim.opt.rtp:append('~/lazy/gitsigns.nvim/')\n  require('gitsigns').setup()\n  return\nend\n```\n\nGo to a git repo, edit someting, then run twice `:Gitsigns stage_hunk`, `:wqa` trigger this.\n\n`VIMRUNTIME=runtime build/bin/nvim --clean runtime/lua/vim/lsp/buf.lua --cmd 'se rtp^=~/lazy/gitsigns.nvim/' --cmd 'lua require(\\'gitsigns\\').setup()' --cmd 'lua vim.env.UV_THREADPOOL_SIZE=8'`, type something, notice statusline display some weird thing.\n\nI think this is due to wrong config of `UV_THREADPOOL_SIZE`. It should be set outside nvim, maybe some init step is inconsistent in libuv.\n\ncannot reproduce if set env globally... this can be closed.",
            "created_at": "2026-01-14T14:24:30Z",
            "html_url": "https://github.com/neovim/neovim/issues/37391#issuecomment-3749803142",
            "id": 3749803142,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37391",
            "node_id": "IC_kwDOAPphoM7fgXSG",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3749803142/reactions"
            },
            "updated_at": "2026-01-14T15:11:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3749803142",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/91544758?v=4",
                "events_url": "https://api.github.com/users/phanen/events{/privacy}",
                "followers_url": "https://api.github.com/users/phanen/followers",
                "following_url": "https://api.github.com/users/phanen/following{/other_user}",
                "gists_url": "https://api.github.com/users/phanen/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/phanen",
                "id": 91544758,
                "login": "phanen",
                "node_id": "U_kgDOBXTctg",
                "organizations_url": "https://api.github.com/users/phanen/orgs",
                "received_events_url": "https://api.github.com/users/phanen/received_events",
                "repos_url": "https://api.github.com/users/phanen/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/phanen/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/phanen/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/phanen",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/37391/comments",
    "created_at": "2026-01-14T12:05:47Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/37391/events",
    "html_url": "https://github.com/neovim/neovim/issues/37391",
    "id": 3812925641,
    "issue_dependencies_summary": {
        "blocked_by": 0,
        "blocking": 0,
        "total_blocked_by": 0,
        "total_blocking": 0
    },
    "labels": [
        {
            "color": "FBCA04",
            "default": false,
            "description": "We need minimal steps to reproduce the issue",
            "id": 298863445,
            "name": "needs:repro",
            "node_id": "MDU6TGFiZWwyOTg4NjM0NDU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/needs:repro"
        },
        {
            "color": "0E8A16",
            "default": false,
            "description": "issue contains a stacktrace/ASAN log",
            "id": 435854079,
            "name": "has:backtrace",
            "node_id": "MDU6TGFiZWw0MzU4NTQwNzk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/has:backtrace"
        },
        {
            "color": "F9D0C4",
            "default": false,
            "description": "issue reporting a crash or segfault",
            "id": 435854234,
            "name": "bug-crash",
            "node_id": "MDU6TGFiZWw0MzU4NTQyMzQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-crash"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/37391/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM7jRKDJ",
    "number": 37391,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/37391/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/37391/timeline",
    "title": "sigabort on quit",
    "type": {
        "color": "red",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "An unexpected problem or behavior",
        "id": 597163,
        "is_enabled": true,
        "name": "Bug",
        "node_id": "IT_kwDOAGK_Pc4ACRyr",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2026-01-18T06:31:07Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/37391",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/91544758?v=4",
        "events_url": "https://api.github.com/users/phanen/events{/privacy}",
        "followers_url": "https://api.github.com/users/phanen/followers",
        "following_url": "https://api.github.com/users/phanen/following{/other_user}",
        "gists_url": "https://api.github.com/users/phanen/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/phanen",
        "id": 91544758,
        "login": "phanen",
        "node_id": "U_kgDOBXTctg",
        "organizations_url": "https://api.github.com/users/phanen/orgs",
        "received_events_url": "https://api.github.com/users/phanen/received_events",
        "repos_url": "https://api.github.com/users/phanen/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/phanen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/phanen/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/phanen",
        "user_view_type": "public"
    }
}