{
    "active_lock_reason": "resolved",
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "# Problem\n\nNetrw is a monolithic legacy plugin that just Does Too Much: it is responsible for\n* downloads (spell files)\n* network access (`:e ftp://foo.bar/baz`)\n* local directory access (`:e ~/`)\n* file manipulation\n\nWhile it is being actively maintained (again) with special attention to Neovim (which is very much appreciated, @saccarosium!), this architecture is simply not a good fit for Neovim's design principles and blocks us from making meaningful improvements. (In a nutshell, it is unacceptable that if you want only one of these things, you must opt in to all of them, and any replacement plugin must shoulder the whole load.)\n\n# Proposed solution\n\nBreak it up, Bell System-style. In rough order of priority and difficulty (with details subject to change and TBD in individual issues/PRs):\n\n0. Freeze `netrw` in its current form (as `pack/dist/opt` plugin) and stop enabling it by default (easy enough to opt in with a `packadd!` in your `init.lua`).\n1. Implement `vim.net.download()` as a simple wrapper around system `curl` that abstracts platform difference and reasonable flags, to be (later) used for downloading spell files, wasm parsers, test fixtures, bootstrapping plugin managers, ...\n2. Implement `vim.net.request()` (private at first) as a (much more complex) wrapper around system `curl` and hook it into `:e` (for protocols that the installed version of `curl` happens to support; no guarantees from our side).\n3. Implement a simple tree view (`vim.ui.tree`? also useful for plugins) and use it for `:e foo/` directory browsing. Only support opening files as buffers (possibly remotely, as a stretch goal). (Personally, I feel that modern fuzzy finders/pickers have replaced that functionality for filesystem navigation, so this could be kept minimal to make `:e foo/` just do _something_ useful.)\n4. File manipulation is probably out of scope and best left to plugins (which can make use of the above APIs).",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "Yes, this make sense.\n\nI was planing to make a lua branch for netrw as an upstream for neovim and divide it in smaller extensible parts since is becoming exponentially more difficult to use neovim's niceties from vimL. I was thinking having the directory browsing and local filesystem stuff as the base and then provide separate plugins and extension point to enhance the netrw interface (e.g. git integration, remote editing, etc). \n\nThe only thing I'll ask is to still merge upstream netrw patches sporadically for some time even if you want to disable netrw by default so I've the chance to fix old bugs and make the code a bit better before a complete freeze. But is up to you guys. \n\n> mplement a simple tree view (vim.ui.tree? also useful for plugins) and use it for :e foo/ directory browsing. Only support opening files as buffers (possibly remotely, as a stretch goal). (Personally, I feel that modern fuzzy finders/pickers have replaced that functionality for filesystem navigation, so this could be kept minimal to make :e foo/ just do something useful.)\nFile manipulation is probably out of scope and best left to plugins (which can make use of the above APIs).\n\nI think that having a file manager instead of a viewer is much better for UX. I get that the remote stuff is out of scope but local file management is really something that should be offered by default. Every code editor in existence has it and having to download a plugin to rename and delete files seems bad UX. Also adding `rename` and `delete` action on files shouldn't increase the code size and complexity by a lot.\n",
            "created_at": "2025-02-01T10:41:00Z",
            "html_url": "https://github.com/neovim/neovim/issues/32280#issuecomment-2628898638",
            "id": 2628898638,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/32280",
            "node_id": "IC_kwDOAPphoM6csc9O",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 5,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 5,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2628898638/reactions"
            },
            "updated_at": "2025-02-01T10:41:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2628898638",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/96259932?v=4",
                "events_url": "https://api.github.com/users/saccarosium/events{/privacy}",
                "followers_url": "https://api.github.com/users/saccarosium/followers",
                "following_url": "https://api.github.com/users/saccarosium/following{/other_user}",
                "gists_url": "https://api.github.com/users/saccarosium/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/saccarosium",
                "id": 96259932,
                "login": "saccarosium",
                "node_id": "U_kgDOBbzPXA",
                "organizations_url": "https://api.github.com/users/saccarosium/orgs",
                "received_events_url": "https://api.github.com/users/saccarosium/received_events",
                "repos_url": "https://api.github.com/users/saccarosium/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/saccarosium/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/saccarosium/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/saccarosium",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Yes, the main motivation for opening this issue is to give you a heads up so don't waste time on something that won't be merged. In particular, the plan is to write these from scratch, not refactor them out from netrw.\n\nSo while I'm not against merging bugfix PRs from you, we will no longer be syncing the full plugin with Vim. (This should make your job much easier, since you no longer need to support two code paths, in different languages to boot.)\n\nYour point on file managers is duly noted, but Neovim has a strong policy about this -- plugins are a _feature_; Neovim is the \"bespoke editor\", not the \"all batteries included (and you better _like_ these batteries) editor\". In any case, this is not a debate to be had here; that's the whole point of the modularization.",
            "created_at": "2025-02-01T10:49:34Z",
            "html_url": "https://github.com/neovim/neovim/issues/32280#issuecomment-2628901295",
            "id": 2628901295,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/32280",
            "node_id": "IC_kwDOAPphoM6csdmv",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2628901295/reactions"
            },
            "updated_at": "2025-02-01T10:49:34Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2628901295",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> So while I'm not against merging bugfix PRs from you, we will no longer be syncing the full plugin with Vim. (This should make your job much easier, since you no longer need to support two code paths, in different languages to boot.)\n\nGotcha! Make sense. For know I will maintain the neovim things I've added but I'll remove them when you guys go through with this.\n\nThank you for the heads up it was really appreciated <3.",
            "created_at": "2025-02-01T10:55:22Z",
            "html_url": "https://github.com/neovim/neovim/issues/32280#issuecomment-2628903212",
            "id": 2628903212,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/32280",
            "node_id": "IC_kwDOAPphoM6cseEs",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 6,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 6,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2628903212/reactions"
            },
            "updated_at": "2025-02-01T10:55:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2628903212",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/96259932?v=4",
                "events_url": "https://api.github.com/users/saccarosium/events{/privacy}",
                "followers_url": "https://api.github.com/users/saccarosium/followers",
                "following_url": "https://api.github.com/users/saccarosium/following{/other_user}",
                "gists_url": "https://api.github.com/users/saccarosium/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/saccarosium",
                "id": 96259932,
                "login": "saccarosium",
                "node_id": "U_kgDOBbzPXA",
                "organizations_url": "https://api.github.com/users/saccarosium/orgs",
                "received_events_url": "https://api.github.com/users/saccarosium/received_events",
                "repos_url": "https://api.github.com/users/saccarosium/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/saccarosium/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/saccarosium/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/saccarosium",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "(Note that this is only talking about the _bundled_ plugin; now that netrw is maintained as an independent plugin that people can install on their own, you can absolutely keep and improve Neovim support -- I am sure there are more than enough people who would be interested in this! Hopefully the APIs we add will be useful for you, too.)",
            "created_at": "2025-02-01T11:04:13Z",
            "html_url": "https://github.com/neovim/neovim/issues/32280#issuecomment-2628906117",
            "id": 2628906117,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/32280",
            "node_id": "IC_kwDOAPphoM6cseyF",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 4,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 4,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2628906117/reactions"
            },
            "updated_at": "2025-02-01T11:04:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2628906117",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> Every code editor in existence has it and having to download a plugin to rename and delete files seems bad UX.\n\nActually Helix (which some people praise as an OOTB alternative of Neovim) and Kate don't have it. [Helix's file explorer](https://github.com/helix-editor/helix/pull/11285) can only view directory in a picker UI, not manipulate it\n\nBut I still think it would be nice if Nvim provides some commands that rename and delete files (similar to [vim-eunuch](https://github.com/tpope/vim-eunuch)), so that it can be integrated with LSP spec like `workspace/(will|did)RenameFiles`,... Or maybe just extend `vim.lsp.util.rename()` for that (because currently that function doesn't do anything LSP-related)?",
            "created_at": "2025-02-07T10:32:47Z",
            "html_url": "https://github.com/neovim/neovim/issues/32280#issuecomment-2642540144",
            "id": 2642540144,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/32280",
            "node_id": "IC_kwDOAPphoM6dgfZw",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2642540144/reactions"
            },
            "updated_at": "2025-02-07T11:42:44Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2642540144",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/111893501?v=4",
                "events_url": "https://api.github.com/users/brianhuster/events{/privacy}",
                "followers_url": "https://api.github.com/users/brianhuster/followers",
                "following_url": "https://api.github.com/users/brianhuster/following{/other_user}",
                "gists_url": "https://api.github.com/users/brianhuster/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/brianhuster",
                "id": 111893501,
                "login": "brianhuster",
                "node_id": "U_kgDOBqtb_Q",
                "organizations_url": "https://api.github.com/users/brianhuster/orgs",
                "received_events_url": "https://api.github.com/users/brianhuster/received_events",
                "repos_url": "https://api.github.com/users/brianhuster/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/brianhuster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/brianhuster/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/brianhuster",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Reminder: This is a tracking issue and not meant for discussion of the individual aspects.",
            "created_at": "2025-02-07T10:37:23Z",
            "html_url": "https://github.com/neovim/neovim/issues/32280#issuecomment-2642549974",
            "id": 2642549974,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/32280",
            "node_id": "IC_kwDOAPphoM6dghzW",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2642549974/reactions"
            },
            "updated_at": "2025-02-07T10:37:23Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2642549974",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> would be nice if Nvim provides some commands that rename and delete files (similar to [vim-eunuch](https://github.com/tpope/vim-eunuch))\n\nAgreed. Should maybe be tracked as a separate issue though.",
            "created_at": "2025-02-07T11:43:06Z",
            "html_url": "https://github.com/neovim/neovim/issues/32280#issuecomment-2642701557",
            "id": 2642701557,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/32280",
            "node_id": "IC_kwDOAPphoM6dhGz1",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2642701557/reactions"
            },
            "updated_at": "2025-02-07T11:43:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2642701557",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 7,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/32280/comments",
    "created_at": "2025-02-01T10:16:29Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/32280/events",
    "html_url": "https://github.com/neovim/neovim/issues/32280",
    "id": 2825123447,
    "labels": [
        {
            "color": "C5DEF5",
            "default": false,
            "description": "changes that are not features or bugfixes",
            "id": 106949155,
            "name": "refactor",
            "node_id": "MDU6TGFiZWwxMDY5NDkxNTU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/refactor"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "funtime",
            "id": 120251370,
            "name": "runtime",
            "node_id": "MDU6TGFiZWwxMjAyNTEzNzA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/runtime"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "fuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuu",
            "id": 2745063166,
            "name": "netrw",
            "node_id": "MDU6TGFiZWwyNzQ1MDYzMTY2",
            "url": "https://api.github.com/repos/neovim/neovim/labels/netrw"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/32280/labels{/name}",
    "locked": true,
    "milestone": {
        "closed_at": null,
        "closed_issues": 693,
        "created_at": "2014-05-10T20:43:04Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "Low priority items. We plan to work on this but don't have a target date.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/6",
        "id": 655037,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lNjU1MDM3",
        "number": 6,
        "open_issues": 632,
        "state": "open",
        "title": "backlog",
        "updated_at": "2025-02-09T19:32:14Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/6"
    },
    "node_id": "I_kwDOAPphoM6oY_Z3",
    "number": 32280,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 6,
        "-1": 0,
        "confused": 0,
        "eyes": 4,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 10,
        "total_count": 20,
        "url": "https://api.github.com/repos/neovim/neovim/issues/32280/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 1
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/32280/timeline",
    "title": "Replace netrw with smaller Lua modules",
    "updated_at": "2025-02-07T11:43:07Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/32280",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
        "events_url": "https://api.github.com/users/clason/events{/privacy}",
        "followers_url": "https://api.github.com/users/clason/followers",
        "following_url": "https://api.github.com/users/clason/following{/other_user}",
        "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/clason",
        "id": 2361214,
        "login": "clason",
        "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
        "organizations_url": "https://api.github.com/users/clason/orgs",
        "received_events_url": "https://api.github.com/users/clason/received_events",
        "repos_url": "https://api.github.com/users/clason/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/clason",
        "user_view_type": "public"
    }
}