{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\n`vim.pack.add()` allows for downloading plugins over git. This is currently normal in the neovim plugin ecosystem, but there is no technical reason why this should be the case. Git is good at distributing source code in a way that can be easily version controlled, but it is not very good at downloading larger binary files which change over time, such as fonts, images and binary executables.\n\nFor reference, I maintain several msgpack based neovim plugins. Current git-based package managers require the user to download the source of these plugins and compile them on every update. This requires that users have, e.g., [a functional golang toolchain on their device for a plugin that has nothing to do with golang](https://github.com/4e554c4c/darkman.nvim/issues/1).\n\n### Expected behavior\n\n`vim.pack.add` can be modified to allow for other protocols, such as http.\n\nA possible api for this could be\n```lua\nvim.pack.add({\n  -- Install \"plugin1\" from a release zip\n  {\n    src = 'https://github.com/user/plugin1/releases/latest/download/release.zip',\n    protocol = 'http',\n  },\n})\n```\nThe `protocol` field could be inferred by the URL, but should default to `git`.\n\nThis cost would not be incredibly high, as neovim already supports scp, ftp and http protocols. Furthermore, like git, `http` provides many methods for checking whether a file needs to be re-download. Neovim could check the `etag` and `last-modified` http headers to determine whether a file needs to be re-downloaded on update. ",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Thanks for the suggestion!\n\n> This cost would not be incredibly high, as neovim already supports scp, ftp and http protocols. Furthermore, like git, `http` provides many methods for checking whether a file needs to be re-download. Neovim could check the `etag` and `last-modified` http headers to determine whether a file needs to be re-downloaded on update.\n\nI am afraid, my first instinct is that it *would* be pretty high. Right now all plugins are treated as Git repos which simplifies *a lot* of underlining code. This might change during #34765 (if it gets resolved), but the fact that this has to come with removing a big assumption about the plugins is a big reason it is somewhat postponed until all \"immediate\" issues are resolved.\n\nAlthough there is already a `vim.net.request` for downloading files/archives, which makes this significantly less hard.\n\n---\n\nIn general, I am not against adding support for this (and `spec.protocol` is a nice way to generalize this). **But** I'd wait until after 0.12 release and a bit more (for stress testing both `vim.pack` and `vim.net.request()`) before deciding if this is a good fit for `vim.pack`. In the end, the general idea behind `vim.pack` is to be a \"simple built-in plugin manager\" with a suggestion to use more feature rich plugin manager if it is not enough.\n\n",
            "created_at": "2025-10-07T13:32:47Z",
            "html_url": "https://github.com/neovim/neovim/issues/36066#issuecomment-3376919249",
            "id": 3376919249,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36066",
            "node_id": "IC_kwDOAPphoM7JR7LR",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 4,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 4,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3376919249/reactions"
            },
            "updated_at": "2025-10-07T13:33:25Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3376919249",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/24854248?v=4",
                "events_url": "https://api.github.com/users/echasnovski/events{/privacy}",
                "followers_url": "https://api.github.com/users/echasnovski/followers",
                "following_url": "https://api.github.com/users/echasnovski/following{/other_user}",
                "gists_url": "https://api.github.com/users/echasnovski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/echasnovski",
                "id": 24854248,
                "login": "echasnovski",
                "node_id": "MDQ6VXNlcjI0ODU0MjQ4",
                "organizations_url": "https://api.github.com/users/echasnovski/orgs",
                "received_events_url": "https://api.github.com/users/echasnovski/received_events",
                "repos_url": "https://api.github.com/users/echasnovski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/echasnovski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/echasnovski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/echasnovski",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> In the end, the general idea behind vim.pack is to be a \"simple built-in plugin manager\" with a suggestion to use more feature rich plugin manager if it is not enough.\n\nThat makes sense. Unfortunately no package manager is currently willing to do this (although I suppose I could write one myself).\n\nI was hoping that this could be added as part of https://github.com/neovim/packspec so that we could have a general way to specify plugins and dependencies. But I am unsure if this is still under development.\n\nI'm happy to wait until the API is a bit more stable to work on this design either way.",
            "created_at": "2025-10-07T14:18:26Z",
            "html_url": "https://github.com/neovim/neovim/issues/36066#issuecomment-3377118745",
            "id": 3377118745,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36066",
            "node_id": "IC_kwDOAPphoM7JSr4Z",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3377118745/reactions"
            },
            "updated_at": "2025-10-07T14:18:26Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3377118745",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/4743113?v=4",
                "events_url": "https://api.github.com/users/4e554c4c/events{/privacy}",
                "followers_url": "https://api.github.com/users/4e554c4c/followers",
                "following_url": "https://api.github.com/users/4e554c4c/following{/other_user}",
                "gists_url": "https://api.github.com/users/4e554c4c/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/4e554c4c",
                "id": 4743113,
                "login": "4e554c4c",
                "node_id": "MDQ6VXNlcjQ3NDMxMTM=",
                "organizations_url": "https://api.github.com/users/4e554c4c/orgs",
                "received_events_url": "https://api.github.com/users/4e554c4c/received_events",
                "repos_url": "https://api.github.com/users/4e554c4c/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/4e554c4c/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/4e554c4c/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/4e554c4c",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "https://github.com/neovim/packspec/blob/b89d02313a20a05b8e2aacc1b4c87d249938b005/README.md?plain=1#L68",
            "created_at": "2025-10-07T16:57:22Z",
            "html_url": "https://github.com/neovim/neovim/issues/36066#issuecomment-3377752766",
            "id": 3377752766,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36066",
            "node_id": "IC_kwDOAPphoM7JVGq-",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3377752766/reactions"
            },
            "updated_at": "2025-10-07T16:57:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3377752766",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/36066/comments",
    "created_at": "2025-10-07T10:39:35Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/36066/events",
    "html_url": "https://github.com/neovim/neovim/issues/36066",
    "id": 3490937668,
    "issue_dependencies_summary": {
        "blocked_by": 0,
        "blocking": 0,
        "total_blocked_by": 0,
        "total_blocking": 0
    },
    "labels": [
        {
            "color": "bfd4f2",
            "default": false,
            "description": "vim.pack, start/opt packages, 'packpath'",
            "id": 8889050758,
            "name": "packages",
            "node_id": "LA_kwDOAPphoM8AAAACEdQmhg",
            "url": "https://api.github.com/repos/neovim/neovim/labels/packages"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/36066/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM7QE3tE",
    "number": 36066,
    "parent_issue_url": "https://api.github.com/repos/neovim/neovim/issues/34763",
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/36066/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/36066/timeline",
    "title": "Allow HTTP downloads for `vim.pack`",
    "type": {
        "color": "blue",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "A request, idea, or new functionality",
        "id": 597167,
        "is_enabled": true,
        "name": "Enhancement",
        "node_id": "IT_kwDOAGK_Pc4ACRyv",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-10-07T16:57:22Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/36066",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/4743113?v=4",
        "events_url": "https://api.github.com/users/4e554c4c/events{/privacy}",
        "followers_url": "https://api.github.com/users/4e554c4c/followers",
        "following_url": "https://api.github.com/users/4e554c4c/following{/other_user}",
        "gists_url": "https://api.github.com/users/4e554c4c/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/4e554c4c",
        "id": 4743113,
        "login": "4e554c4c",
        "node_id": "MDQ6VXNlcjQ3NDMxMTM=",
        "organizations_url": "https://api.github.com/users/4e554c4c/orgs",
        "received_events_url": "https://api.github.com/users/4e554c4c/received_events",
        "repos_url": "https://api.github.com/users/4e554c4c/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/4e554c4c/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/4e554c4c/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/4e554c4c",
        "user_view_type": "public"
    }
}