{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nAttempting to run built in commands (or cmdlets in Powershell) results in an error, `ENOENT: no such file or directory (cmd): '<command>'`\n\nI can reproduce this error on my system using old powershell, powershell 7, and cmd.exe. \n\nI suspect that the issue is related to how `vim.fn.executable` checks if a command is executable. Per the help page, it looks for a file with the name of the command that has an executable file extension. However, for certain commands (like echo), this will not be present. \n\nA workaround is somewhat available. You can make very simple `.bat` files and place them in a place where `vim.fn.executable` looks which wrap the base command. However, if you are trying to run a more involved script, even simple parts of the Powershell language like `if` will fail without this workaround. You can use native vim methods, but the help docs specifically recommend you to use `vim.system`.\n\n### Steps to reproduce\n\n`nvim --clean`\n`:lua vim.system({'echo', 'hello'})`\n\n\n### Expected behavior\n\nCommand should execute successfully\n\n### Nvim version (nvim -v)\n\nNVIM v0.11.3\n\n### Vim (not Nvim) behaves the same?\n\nNative vim variants of the command do not have the issue\n\n### Operating system/version\n\nWindows 11\n\n### Terminal name/version\n\nalacritty 0.15.1\n\n### $TERM environment variable\n\nxterm-256color\n\n### Installation\n\nwinget",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "`vim.system` doesn't use shell by default, while `echo` is a shell command, so that is expected. If you want to use shell, you must use something like \n```lua\nvim.system({ 'pwsh', '-c', 'echo \"Hello\"' })\n```",
            "created_at": "2025-07-18T02:02:33Z",
            "html_url": "https://github.com/neovim/neovim/issues/34981#issuecomment-3086416465",
            "id": 3086416465,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34981",
            "node_id": "IC_kwDOAPphoM639vpR",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3086416465/reactions"
            },
            "updated_at": "2025-07-18T02:02:33Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3086416465",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/111893501?v=4",
                "events_url": "https://api.github.com/users/brianhuster/events{/privacy}",
                "followers_url": "https://api.github.com/users/brianhuster/followers",
                "following_url": "https://api.github.com/users/brianhuster/following{/other_user}",
                "gists_url": "https://api.github.com/users/brianhuster/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/brianhuster",
                "id": 111893501,
                "login": "brianhuster",
                "node_id": "U_kgDOBqtb_Q",
                "organizations_url": "https://api.github.com/users/brianhuster/orgs",
                "received_events_url": "https://api.github.com/users/brianhuster/received_events",
                "repos_url": "https://api.github.com/users/brianhuster/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/brianhuster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/brianhuster/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/brianhuster",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Ah, good to know. Though, perhaps there's some documentation improvements in order for the help page for `vim.system` in that case? ",
            "created_at": "2025-07-18T02:13:49Z",
            "html_url": "https://github.com/neovim/neovim/issues/34981#issuecomment-3086432729",
            "id": 3086432729,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34981",
            "node_id": "IC_kwDOAPphoM639znZ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3086432729/reactions"
            },
            "updated_at": "2025-07-18T02:13:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3086432729",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/75107188?v=4",
                "events_url": "https://api.github.com/users/shakesbeare/events{/privacy}",
                "followers_url": "https://api.github.com/users/shakesbeare/followers",
                "following_url": "https://api.github.com/users/shakesbeare/following{/other_user}",
                "gists_url": "https://api.github.com/users/shakesbeare/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shakesbeare",
                "id": 75107188,
                "login": "shakesbeare",
                "node_id": "MDQ6VXNlcjc1MTA3MTg4",
                "organizations_url": "https://api.github.com/users/shakesbeare/orgs",
                "received_events_url": "https://api.github.com/users/shakesbeare/received_events",
                "repos_url": "https://api.github.com/users/shakesbeare/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shakesbeare/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shakesbeare/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shakesbeare",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Native vim variants of the command do not have the issue\n\nIt does if you pass a list to `job_start()`.\n\n\n\n> documentation improvements\n\nI'll update the docs for vim.system to mention something similar to `:help jobstart()`.",
            "created_at": "2025-07-18T02:57:19Z",
            "html_url": "https://github.com/neovim/neovim/issues/34981#issuecomment-3086499684",
            "id": 3086499684,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34981",
            "node_id": "IC_kwDOAPphoM63-D9k",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3086499684/reactions"
            },
            "updated_at": "2025-07-18T02:57:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3086499684",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/34981/comments",
    "created_at": "2025-07-18T01:58:42Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/34981/events",
    "html_url": "https://github.com/neovim/neovim/issues/34981",
    "id": 3241575673,
    "labels": [
        {
            "color": "c5def5",
            "default": true,
            "description": "",
            "id": 84744038,
            "name": "documentation",
            "node_id": "MDU6TGFiZWw4NDc0NDAzOA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/documentation"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/34981/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM7BNoT5",
    "number": 34981,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/34981/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/34981/timeline",
    "title": "vim.system fails to execute built-in commands on Windows 11",
    "type": {
        "color": "yellow",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "A specific piece of work",
        "id": 597161,
        "is_enabled": true,
        "name": "Task",
        "node_id": "IT_kwDOAGK_Pc4ACRyp",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-07-18T02:57:28Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/34981",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/75107188?v=4",
        "events_url": "https://api.github.com/users/shakesbeare/events{/privacy}",
        "followers_url": "https://api.github.com/users/shakesbeare/followers",
        "following_url": "https://api.github.com/users/shakesbeare/following{/other_user}",
        "gists_url": "https://api.github.com/users/shakesbeare/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/shakesbeare",
        "id": 75107188,
        "login": "shakesbeare",
        "node_id": "MDQ6VXNlcjc1MTA3MTg4",
        "organizations_url": "https://api.github.com/users/shakesbeare/orgs",
        "received_events_url": "https://api.github.com/users/shakesbeare/received_events",
        "repos_url": "https://api.github.com/users/shakesbeare/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/shakesbeare/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/shakesbeare/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/shakesbeare",
        "user_view_type": "public"
    }
}