{
    "active_lock_reason": null,
    "assignee": {
        "avatar_url": "https://avatars.githubusercontent.com/u/886074?v=4",
        "events_url": "https://api.github.com/users/teto/events{/privacy}",
        "followers_url": "https://api.github.com/users/teto/followers",
        "following_url": "https://api.github.com/users/teto/following{/other_user}",
        "gists_url": "https://api.github.com/users/teto/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/teto",
        "id": 886074,
        "login": "teto",
        "node_id": "MDQ6VXNlcjg4NjA3NA==",
        "organizations_url": "https://api.github.com/users/teto/orgs",
        "received_events_url": "https://api.github.com/users/teto/received_events",
        "repos_url": "https://api.github.com/users/teto/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/teto/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/teto/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/teto",
        "user_view_type": "public"
    },
    "assignees": [
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/886074?v=4",
            "events_url": "https://api.github.com/users/teto/events{/privacy}",
            "followers_url": "https://api.github.com/users/teto/followers",
            "following_url": "https://api.github.com/users/teto/following{/other_user}",
            "gists_url": "https://api.github.com/users/teto/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/teto",
            "id": 886074,
            "login": "teto",
            "node_id": "MDQ6VXNlcjg4NjA3NA==",
            "organizations_url": "https://api.github.com/users/teto/orgs",
            "received_events_url": "https://api.github.com/users/teto/received_events",
            "repos_url": "https://api.github.com/users/teto/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/teto/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/teto/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/teto",
            "user_view_type": "public"
        }
    ],
    "author_association": "CONTRIBUTOR",
    "body": "### Problem\n\n```console\r\n❯ nix shell ./contrib\\#neovim-developer\r\nerror: builder for '/nix/store/bb9fjc6mc4cxs2lrp38rkgzg604z8fxf-neovim-unwrapped-9a2c980.drv' failed with exit code 2;\r\n       last 10 log lines:\r\n       >\r\n       > Direct leak of 23 byte(s) in 1 object(s) allocated from:\r\n       >     #0 0x555555afba5f  (/build/z66zzwbim1jnh59ski03bnma1g30y7z8-source/build/bin/nvim+0x5a7a5f) (BuildId: 0897c013cbcf7f8a3d74f7b5c8f9c6920a965343)\r\n       >     #1 0x7ffff7d797ca  (/nix/store/p4x3hr44ah240zascb7ygk4m5b6sbrnx-libuv-1.47.0/lib/libuv.so.1+0xd7ca) (BuildId: 775784dd15803baec31a5a676687ce49177f0fb9)\r\n       >\r\n       > SUMMARY: AddressSanitizer: 23 byte(s) leaked in 1 allocation(s).\r\n       > make[2]: *** [runtime/CMakeFiles/runtime.dir/build.make:77: runtime/doc/tags] Error 1\r\n       > make[2]: *** Deleting file 'runtime/doc/tags'\r\n       > make[1]: *** [CMakeFiles/Makefile2:2738: runtime/CMakeFiles/runtime.dir/all] Error 2\r\n       > make: *** [Makefile:156: all] Error 2\r\n       For full logs, run 'nix log /nix/store/bb9fjc6mc4cxs2lrp38rkgzg604z8fxf-neovim-unwrapped-9a2c980.drv'.\r\n```\r\n\r\n```\r\n❯  nix log /nix/store/cswm5fp1miargsyxba59wp0i3w8y0bzr-neovim-unwrapped-fbe40ca.drv | tail -n 50\r\nwarning: The interpretation of store paths arguments ending in `.drv` recently changed. If this command is now failing try again with '/nix/store/cswm5fp1miargsyxba59wp0i3w8y0bzr-neovim-unwrapped-fbe40ca.drv^*'\r\n[ 92%] Building C object src/nvim/CMakeFiles/nvim.dir/__/xdiff/xdiffi.c.o\r\n[ 92%] Building C object src/nvim/CMakeFiles/nvim.dir/__/xdiff/xemit.c.o\r\n[ 92%] Building C object src/nvim/CMakeFiles/nvim.dir/__/xdiff/xhistogram.c.o\r\n[ 92%] Building C object src/nvim/CMakeFiles/nvim.dir/__/xdiff/xpatience.c.o\r\n[ 92%] Building C object src/nvim/CMakeFiles/nvim.dir/__/xdiff/xprepare.c.o\r\n[ 92%] Building C object src/nvim/CMakeFiles/nvim.dir/__/xdiff/xutils.c.o\r\n[ 92%] Linking C executable ../../bin/nvim\r\nclang: warning: argument unused during compilation: '-Wa,--compress-debug-sections' [-Wunused-command-line-argument]\r\n[ 92%] Built target nvim\r\n[ 92%] Generating pack/dist/opt/matchit/doc/tags\r\n[ 92%] Generating doc/tags\r\n[ 92%] Generating syntax/vim/generated.vim\r\n[ 92%] Generating nvim.pot\r\n\r\n=================================================================\r\n==3678==ERROR: LeakSanitizer: detected memory leaks\r\n\r\nDirect leak of 23 byte(s) in 1 object(s) allocated from:\r\n    #0 0x555555afba5f  (/build/3c6bbg8snfy5frn4wizsmlvh42xy0if9-source/build/bin/nvim+0x5a7a5f) (BuildId: 35c252deba4e852f1be7e8b8840b181dad767784)\r\n    #1 0x7ffff7d797ca  (/nix/store/p4x3hr44ah240zascb7ygk4m5b6sbrnx-libuv-1.47.0/lib/libuv.so.1+0xd7ca) (BuildId: 775784dd15803baec31a5a676687ce49177f0fb9)\r\n\r\nSUMMARY: AddressSanitizer: 23 byte(s) leaked in 1 allocation(s).\r\nmake[2]: *** [runtime/CMakeFiles/runtime.dir/build.make:82: runtime/pack/dist/opt/matchit/doc/tags] Error 1\r\nmake[2]: *** Deleting file 'runtime/pack/dist/opt/matchit/doc/tags'\r\nmake[2]: *** Waiting for unfinished jobs....\r\n\"optwin.js\" \"optwin.js\" [New] 1294L, 57289B written\r\n=================================================================\r\n==3676==ERROR: LeakSanitizer: detected memory leaks\r\n\r\nDirect leak of 23 byte(s) in 1 object(s) allocated from:\r\n    #0 0x555555afba5f  (/build/3c6bbg8snfy5frn4wizsmlvh42xy0if9-source/build/bin/nvim+0x5a7a5f) (BuildId: 35c252deba4e852f1be7e8b8840b181dad767784)\r\n    #1 0x7ffff7d797ca  (/nix/store/p4x3hr44ah240zascb7ygk4m5b6sbrnx-libuv-1.47.0/lib/libuv.so.1+0xd7ca) (BuildId: 775784dd15803baec31a5a676687ce49177f0fb9)\r\n\r\nSUMMARY: AddressSanitizer: 23 byte(s) leaked in 1 allocation(s).\r\nmake[2]: *** [src/nvim/po/CMakeFiles/translations.dir/build.make:420: src/nvim/po/nvim.pot] Error 1\r\nmake[1]: *** [CMakeFiles/Makefile2:2628: src/nvim/po/CMakeFiles/translations.dir/all] Error 2\r\nmake[1]: *** Waiting for unfinished jobs....\r\n\r\n=================================================================\r\n==3683==ERROR: LeakSanitizer: detected memory leaks\r\n\r\nDirect leak of 23 byte(s) in 1 object(s) allocated from:\r\n    #0 0x555555afba5f  (/build/3c6bbg8snfy5frn4wizsmlvh42xy0if9-source/build/bin/nvim+0x5a7a5f) (BuildId: 35c252deba4e852f1be7e8b8840b181dad767784)\r\n    #1 0x7ffff7d797ca  (/nix/store/p4x3hr44ah240zascb7ygk4m5b6sbrnx-libuv-1.47.0/lib/libuv.so.1+0xd7ca) (BuildId: 775784dd15803baec31a5a676687ce49177f0fb9)\r\n\r\nSUMMARY: AddressSanitizer: 23 byte(s) leaked in 1 allocation(s).\r\nmake[2]: *** [runtime/CMakeFiles/runtime.dir/build.make:77: runtime/doc/tags] Error 1\r\nmake[2]: *** Deleting file 'runtime/doc/tags'\r\nmake[1]: *** [CMakeFiles/Makefile2:2738: runtime/CMakeFiles/runtime.dir/all] Error 2\r\nmake: *** [Makefile:156: all] Error 2\r\n\r\n\r\n\r\n```\n\n### Steps to reproduce\n\n1. git clone neovim master branch ( commit fbe40ca )\r\n2. cd in neovim directory\r\n3. run `nix shell ./contrib\\#neovim-developer`\n\n### Expected behavior\n\nTo enter the development shell provided by neovim flake\n\n### Neovim version (nvim -v)\n\n-\n\n### Vim (not Nvim) behaves the same?\n\n-\n\n### Operating system/version\n\n - system: `\"x86_64-linux\"`  - host os: `Linux 6.1.69, NixOS, 24.05 (Uakari), 24.05.20240102.bd645e8`  - multi-user?: `yes`  - sandbox: `yes`  - version: `nix-env (Nix) 2.18.1`  - channels(root): `\"nixos-23.05\"`  - nixpkgs: `/nix/store/m707dys0ykz12vnyfljx62dc6lv0hmx7-source`\n\n### Terminal name/version\n\nkitty 0.31.0 created by Kovid Goyal\n\n### $TERM environment variable\n\nxterm-kitty\n\n### Installation\n\nNIX",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "PR welcome. These files are in `contrib` because there's no official support from the project maintainers.",
            "created_at": "2024-01-08T14:47:40Z",
            "html_url": "https://github.com/neovim/neovim/issues/26952#issuecomment-1881152678",
            "id": 1881152678,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26952",
            "node_id": "IC_kwDOAPphoM5wIBym",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1881152678/reactions"
            },
            "updated_at": "2024-01-08T14:47:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1881152678",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "(If you can reproduce the memory leak with a default build, please open a dedicated issue for that.)",
            "created_at": "2024-01-08T14:48:40Z",
            "html_url": "https://github.com/neovim/neovim/issues/26952#issuecomment-1881154500",
            "id": 1881154500,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26952",
            "node_id": "IC_kwDOAPphoM5wICPE",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1881154500/reactions"
            },
            "updated_at": "2024-01-08T14:48:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1881154500",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "the ASAN clang looks unforgiving. I dont think I was ever able to run it without a fault. \r\nEither nix packaging throws something off (I doubt that) or that target is configured differently from our CI, maybe more agressively or not the exact same packages which creates bugs.\r\nI dont have the capacity to look at it right now but if you are motivated to compare the CI settings with the flake one, feel free to investigate.",
            "created_at": "2024-01-15T15:25:24Z",
            "html_url": "https://github.com/neovim/neovim/issues/26952#issuecomment-1892376563",
            "id": 1892376563,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26952",
            "node_id": "IC_kwDOAPphoM5wy1_z",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1892376563/reactions"
            },
            "updated_at": "2024-01-15T15:33:43Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1892376563",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/886074?v=4",
                "events_url": "https://api.github.com/users/teto/events{/privacy}",
                "followers_url": "https://api.github.com/users/teto/followers",
                "following_url": "https://api.github.com/users/teto/following{/other_user}",
                "gists_url": "https://api.github.com/users/teto/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/teto",
                "id": 886074,
                "login": "teto",
                "node_id": "MDQ6VXNlcjg4NjA3NA==",
                "organizations_url": "https://api.github.com/users/teto/orgs",
                "received_events_url": "https://api.github.com/users/teto/received_events",
                "repos_url": "https://api.github.com/users/teto/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/teto/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/teto/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/teto",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I think ASAN is always triggered if `NVIM_DEBUG_LOG` is set, which is by default set locally (but not on CI). I'd check that first and foremost.",
            "created_at": "2024-01-15T18:21:04Z",
            "html_url": "https://github.com/neovim/neovim/issues/26952#issuecomment-1892614376",
            "id": 1892614376,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26952",
            "node_id": "IC_kwDOAPphoM5wzwDo",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1892614376/reactions"
            },
            "updated_at": "2024-01-15T18:21:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1892614376",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
                "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
                "followers_url": "https://api.github.com/users/dundargoc/followers",
                "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
                "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dundargoc",
                "id": 33953936,
                "login": "dundargoc",
                "node_id": "MDQ6VXNlcjMzOTUzOTM2",
                "organizations_url": "https://api.github.com/users/dundargoc/orgs",
                "received_events_url": "https://api.github.com/users/dundargoc/received_events",
                "repos_url": "https://api.github.com/users/dundargoc/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dundargoc",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/26952/comments",
    "created_at": "2024-01-08T14:40:00Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/26952/events",
    "html_url": "https://github.com/neovim/neovim/issues/26952",
    "id": 2070596978,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "issues reporting wrong behavior",
            "id": 77997474,
            "name": "bug",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3NA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug"
        },
        {
            "color": "d4c5f9",
            "default": false,
            "description": "",
            "id": 4952459982,
            "name": "platform:nix",
            "node_id": "LA_kwDOAPphoM8AAAABJzCKzg",
            "url": "https://api.github.com/repos/neovim/neovim/labels/platform:nix"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/26952/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 260,
        "created_at": "2014-11-26T22:13:11Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "We don't plan to work on this, but will accept high quality contributions from someone who will own the feature and follow up on bug reports.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/9",
        "id": 881978,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/9/labels",
        "node_id": "MDk6TWlsZXN0b25lODgxOTc4",
        "number": 9,
        "open_issues": 297,
        "state": "open",
        "title": "needs-owner",
        "updated_at": "2025-01-20T17:56:23Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/9"
    },
    "node_id": "I_kwDOAPphoM57as1y",
    "number": 26952,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/26952/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/26952/timeline",
    "title": " nix shell neovim-developer fails with memory leak",
    "updated_at": "2025-01-19T11:29:55Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/26952",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/61395246?v=4",
        "events_url": "https://api.github.com/users/LamprosPitsillos/events{/privacy}",
        "followers_url": "https://api.github.com/users/LamprosPitsillos/followers",
        "following_url": "https://api.github.com/users/LamprosPitsillos/following{/other_user}",
        "gists_url": "https://api.github.com/users/LamprosPitsillos/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/LamprosPitsillos",
        "id": 61395246,
        "login": "LamprosPitsillos",
        "node_id": "MDQ6VXNlcjYxMzk1MjQ2",
        "organizations_url": "https://api.github.com/users/LamprosPitsillos/orgs",
        "received_events_url": "https://api.github.com/users/LamprosPitsillos/received_events",
        "repos_url": "https://api.github.com/users/LamprosPitsillos/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/LamprosPitsillos/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/LamprosPitsillos/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/LamprosPitsillos",
        "user_view_type": "public"
    }
}