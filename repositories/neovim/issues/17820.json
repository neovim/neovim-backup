{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "\r\n\r\n\r\nAlthough neovim ships a copy of curl such that it can be assumed to exist on all major platforms, this is still less nice to work with than it could be. For instance, differing locales can make it harder to parse curl output, and one has to convert everything to a curl command. Also, on Windows in particular, starting processes can be very slow, so if a plugin needs to download a lot of files, this can add up. \r\n\r\nIt would be much nicer to link to libcurl and provide a libuv/libcurl based asynchronous http client to lua plugins.\r\n\r\nI've seen discussion of this on #6580 but that discussion doesn't really address any of the troubles with trying to use the command line tool programmatically (and also requires every plugin to provide its own (buggy) wrapper or import one).",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Duplicate of https://github.com/neovim/neovim/pull/11531 (and I believe the concerns still apply).\r\n\r\nAlso, plugins don't need to roll their own if they don't want to and can just use [`plenary.curl`](https://github.com/nvim-lua/plenary.nvim/blob/master/lua/plenary/curl.lua).",
            "created_at": "2022-03-22T19:46:30Z",
            "html_url": "https://github.com/neovim/neovim/issues/17820#issuecomment-1075566869",
            "id": 1075566869,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/17820",
            "node_id": "IC_kwDOAPphoM5AG9kV",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1075566869/reactions"
            },
            "updated_at": "2022-03-22T19:47:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1075566869",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Ah yes, missed those ones in my 10 minutes of poking through the bug tracker. Thanks. I think that the responses to that thread trivialize the complexity of a correct http client though in suggesting someone write a pure lua one (\"in 15 lines\"!), especially with TLS and HTTP/2 now.\r\n\r\nThere's seemingly nothing available that's stable that isn't shelling out to curl or linking to some C library (and thus requiring a C toolchain for users among other implications). Neovim is in a good position to solve this itself, or to include some native luarocks library that does it for us. \r\n\r\nThe immediate omission that jumps out at me is that the plenary wrapper doesn't do progress reporting, which is quite easy to do with an http client in most languages. ",
            "created_at": "2022-03-22T20:00:09Z",
            "html_url": "https://github.com/neovim/neovim/issues/17820#issuecomment-1075583403",
            "id": 1075583403,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/17820",
            "node_id": "IC_kwDOAPphoM5AHBmr",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1075583403/reactions"
            },
            "updated_at": "2022-03-22T20:00:09Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1075583403",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6652840?v=4",
                "events_url": "https://api.github.com/users/lf-/events{/privacy}",
                "followers_url": "https://api.github.com/users/lf-/followers",
                "following_url": "https://api.github.com/users/lf-/following{/other_user}",
                "gists_url": "https://api.github.com/users/lf-/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lf-",
                "id": 6652840,
                "login": "lf-",
                "node_id": "MDQ6VXNlcjY2NTI4NDA=",
                "organizations_url": "https://api.github.com/users/lf-/orgs",
                "received_events_url": "https://api.github.com/users/lf-/received_events",
                "repos_url": "https://api.github.com/users/lf-/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lf-/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lf-/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lf-",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I have looked at all three of the linked lua http libraries in #12459 and all three are not practically usable in the neovim context.\r\n\r\nlua-http requires cqueues which is, per the lua-http readme, not on Windows; resty appears to be tightly coupled to the nginx event loop (cosocket; i hope I'm wrong though); and luasocket seems to require luasec, which is on luarocks and thus I think requires extra installation of stuff (also unclear if it's async). ",
            "created_at": "2022-03-22T20:10:30Z",
            "html_url": "https://github.com/neovim/neovim/issues/17820#issuecomment-1075591887",
            "id": 1075591887,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/17820",
            "node_id": "IC_kwDOAPphoM5AHDrP",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1075591887/reactions"
            },
            "updated_at": "2022-03-22T20:10:30Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1075591887",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6652840?v=4",
                "events_url": "https://api.github.com/users/lf-/events{/privacy}",
                "followers_url": "https://api.github.com/users/lf-/followers",
                "following_url": "https://api.github.com/users/lf-/following{/other_user}",
                "gists_url": "https://api.github.com/users/lf-/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lf-",
                "id": 6652840,
                "login": "lf-",
                "node_id": "MDQ6VXNlcjY2NTI4NDA=",
                "organizations_url": "https://api.github.com/users/lf-/orgs",
                "received_events_url": "https://api.github.com/users/lf-/received_events",
                "repos_url": "https://api.github.com/users/lf-/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lf-/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lf-/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lf-",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I've looked a little into the luvit network stack myself. the only missing binary dependency is a binding to TLS, probably was luasec as mentioned. But it is based on the luv libuv bindings so it is definitely async when needed.",
            "created_at": "2022-03-22T20:12:36Z",
            "html_url": "https://github.com/neovim/neovim/issues/17820#issuecomment-1075593584",
            "id": 1075593584,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/17820",
            "node_id": "IC_kwDOAPphoM5AHEFw",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1075593584/reactions"
            },
            "updated_at": "2022-03-22T20:12:36Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1075593584",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
                "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
                "followers_url": "https://api.github.com/users/bfredl/followers",
                "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
                "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bfredl",
                "id": 1363104,
                "login": "bfredl",
                "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
                "organizations_url": "https://api.github.com/users/bfredl/orgs",
                "received_events_url": "https://api.github.com/users/bfredl/received_events",
                "repos_url": "https://api.github.com/users/bfredl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bfredl",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/17820/comments",
    "created_at": "2022-03-22T19:43:19Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/17820/events",
    "html_url": "https://github.com/neovim/neovim/issues/17820",
    "id": 1177227401,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "feature request",
            "id": 77997476,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Ng==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/enhancement"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "stdlib",
            "id": 573222693,
            "name": "lua",
            "node_id": "MDU6TGFiZWw1NzMyMjI2OTM=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lua"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/17820/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 260,
        "created_at": "2014-11-26T22:13:11Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "We don't plan to work on this, but will accept high quality contributions from someone who will own the feature and follow up on bug reports.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/9",
        "id": 881978,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/9/labels",
        "node_id": "MDk6TWlsZXN0b25lODgxOTc4",
        "number": 9,
        "open_issues": 297,
        "state": "open",
        "title": "needs-owner",
        "updated_at": "2025-01-20T17:56:23Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/9"
    },
    "node_id": "I_kwDOAPphoM5GKxCJ",
    "number": 17820,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 1,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 1,
        "url": "https://api.github.com/repos/neovim/neovim/issues/17820/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/17820/timeline",
    "title": "http client for lua",
    "updated_at": "2025-01-17T15:59:12Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/17820",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/6652840?v=4",
        "events_url": "https://api.github.com/users/lf-/events{/privacy}",
        "followers_url": "https://api.github.com/users/lf-/followers",
        "following_url": "https://api.github.com/users/lf-/following{/other_user}",
        "gists_url": "https://api.github.com/users/lf-/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/lf-",
        "id": 6652840,
        "login": "lf-",
        "node_id": "MDQ6VXNlcjY2NTI4NDA=",
        "organizations_url": "https://api.github.com/users/lf-/orgs",
        "received_events_url": "https://api.github.com/users/lf-/received_events",
        "repos_url": "https://api.github.com/users/lf-/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/lf-/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lf-/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/lf-",
        "user_view_type": "public"
    }
}