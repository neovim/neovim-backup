{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "## Problem\n\n\"Press ENTER\" prompt is obnoxious. Most messages do not require explicit user confirmation. No, not even error messages.\n\nThe prevalence of \"Press ENTER\" is mostly an accident because of vim's reliance on stale tty state to show a message.\n\nRelated:\n\n- https://github.com/neovim/neovim/issues/1029\n- https://github.com/neovim/neovim/issues/10879\n\n\n## Expected behavior\n\n\n\n`:messages` should be querable via an API.\nAll messages emitted by Nvim should have metadata allowing Nvim (and plugins etc) to better decide:\n\n1. which messages genuinely need active user confirmation\n2. which messages can be shown passively (in the cmdline/message area)\n3. which messages need a pager\n4. which messages should be shown for a minimum of X seconds, fading away after some time\n\n### Message metadata\n\n- timestamp\n- log-level\n- result (needs pager -- or actual buffer/floating window)\n- error (needs message, and be sticky; user cannot silence)\n    - most errors don't need confirm. they can be \"sticky\" by showing them in the cmdline/message area (which may get overwritten by another message, then show `+3 errors` in 'showcmd')\n- confirm (invokes \"Press ENTER\" or something like it)\n- info (needs message, but user can decide how it happens)\n- progress (be sticky and replaceable)\n\n### Eliminate \"Press ENTER\" (for 99% of cases)\n\nWith the above, Nvim can do smart things like , instead of showing \"Press ENTER\", show `+3 messages` in the 'showcmd' area (e.g.) and the user can check them if they want (via a mapping like `g<` or `g>`).\n\n\"Press ENTER\" should be very rare except for actually dangerous situations.\n\"Editing a readonly file\" is not a dangerous situation.",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "I apologize for commenting here if not appropriate (if there is a gh issue or discussion that is more appropriate, please point me there as happy to take conversation there)... but I am curious to know where things stand with the `:messages api` (specifically avoiding the \"press Enter...\" annoyance when setting cmdheight=0). Thanks!",
            "created_at": "2024-11-11T15:39:40Z",
            "html_url": "https://github.com/neovim/neovim/issues/22478#issuecomment-2468468760",
            "id": 2468468760,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/22478",
            "node_id": "IC_kwDOAPphoM6TIdgY",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 2,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2468468760/reactions"
            },
            "updated_at": "2024-11-15T18:43:13Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2468468760",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/64155612?v=4",
                "events_url": "https://api.github.com/users/GitMurf/events{/privacy}",
                "followers_url": "https://api.github.com/users/GitMurf/followers",
                "following_url": "https://api.github.com/users/GitMurf/following{/other_user}",
                "gists_url": "https://api.github.com/users/GitMurf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/GitMurf",
                "id": 64155612,
                "login": "GitMurf",
                "node_id": "MDQ6VXNlcjY0MTU1NjEy",
                "organizations_url": "https://api.github.com/users/GitMurf/orgs",
                "received_events_url": "https://api.github.com/users/GitMurf/received_events",
                "repos_url": "https://api.github.com/users/GitMurf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/GitMurf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GitMurf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/GitMurf",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I ended up patching nvim to massively de-annoy it. The patch does three things:\n1. Disable the hit-enter popup completely.\n2. Disable timed delays globally.\n3. Always truncate messages so they don't clog the screen.\n\nNow I can finally work w/o interruptions, and so do you: https://github.com/voronind-com/nix/blob/8dc90acfaba507cb5f70426cf234d2b892c33d87/patch/nvim/PressEnter.patch\nI hope this won't get deleted as it is the only workaround as of now. Tested on 0.10.2.\n\nMaybe we could expose a Lua setting that would check for my return statements conditionally?",
            "created_at": "2024-11-16T00:48:30Z",
            "html_url": "https://github.com/neovim/neovim/issues/22478#issuecomment-2480239231",
            "id": 2480239231,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/22478",
            "node_id": "IC_kwDOAPphoM6T1XJ_",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 3,
                "-1": 0,
                "confused": 0,
                "eyes": 1,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 4,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2480239231/reactions"
            },
            "updated_at": "2024-11-16T01:19:39Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2480239231",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/22127600?v=4",
                "events_url": "https://api.github.com/users/voronind-com/events{/privacy}",
                "followers_url": "https://api.github.com/users/voronind-com/followers",
                "following_url": "https://api.github.com/users/voronind-com/following{/other_user}",
                "gists_url": "https://api.github.com/users/voronind-com/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/voronind-com",
                "id": 22127600,
                "login": "voronind-com",
                "node_id": "MDQ6VXNlcjIyMTI3NjAw",
                "organizations_url": "https://api.github.com/users/voronind-com/orgs",
                "received_events_url": "https://api.github.com/users/voronind-com/received_events",
                "repos_url": "https://api.github.com/users/voronind-com/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/voronind-com/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/voronind-com/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/voronind-com",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I have added `pressenter` option.\n\nhttps://github.com/vim/vim/pull/16068",
            "created_at": "2024-11-16T10:18:08Z",
            "html_url": "https://github.com/neovim/neovim/issues/22478#issuecomment-2480504817",
            "id": 2480504817,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/22478",
            "node_id": "IC_kwDOAPphoM6T2X_x",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2480504817/reactions"
            },
            "updated_at": "2025-05-03T19:26:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2480504817",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41495?v=4",
                "events_url": "https://api.github.com/users/Shougo/events{/privacy}",
                "followers_url": "https://api.github.com/users/Shougo/followers",
                "following_url": "https://api.github.com/users/Shougo/following{/other_user}",
                "gists_url": "https://api.github.com/users/Shougo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Shougo",
                "id": 41495,
                "login": "Shougo",
                "node_id": "MDQ6VXNlcjQxNDk1",
                "organizations_url": "https://api.github.com/users/Shougo/orgs",
                "received_events_url": "https://api.github.com/users/Shougo/received_events",
                "repos_url": "https://api.github.com/users/Shougo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Shougo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Shougo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Shougo",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/22478/comments",
    "created_at": "2023-03-02T15:51:56Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/22478/events",
    "html_url": "https://github.com/neovim/neovim/issues/22478",
    "id": 1607055330,
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "libnvim, Nvim RPC API",
            "id": 103819671,
            "name": "api",
            "node_id": "MDU6TGFiZWwxMDM4MTk2NzE=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/api"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 113026979,
            "name": "ui",
            "node_id": "MDU6TGFiZWwxMTMwMjY5Nzk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/ui"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "UI messages, log messages, errors, warnings, feedback",
            "id": 5637083595,
            "name": "messages",
            "node_id": "LA_kwDOAPphoM8AAAABT_8Ryw",
            "url": "https://api.github.com/repos/neovim/neovim/labels/messages"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/22478/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 726,
        "created_at": "2014-05-10T20:43:04Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "Low priority items. We plan to work on this but don't have a target date.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/6",
        "id": 655037,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lNjU1MDM3",
        "number": 6,
        "open_issues": 630,
        "state": "open",
        "title": "backlog",
        "updated_at": "2025-07-07T03:51:31Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/6"
    },
    "node_id": "I_kwDOAPphoM5fybfi",
    "number": 22478,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 57,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 15,
        "laugh": 0,
        "rocket": 0,
        "total_count": 72,
        "url": "https://api.github.com/repos/neovim/neovim/issues/22478/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/22478/timeline",
    "title": ":messages query API",
    "type": {
        "color": "blue",
        "created_at": "2024-01-25T10:10:19Z",
        "description": "A request, idea, or new functionality",
        "id": 597167,
        "is_enabled": true,
        "name": "Enhancement",
        "node_id": "IT_kwDOAGK_Pc4ACRyv",
        "updated_at": "2024-07-26T10:12:30Z"
    },
    "updated_at": "2025-07-02T08:59:59Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/22478",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
        "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
        "followers_url": "https://api.github.com/users/justinmk/followers",
        "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
        "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/justinmk",
        "id": 1359421,
        "login": "justinmk",
        "node_id": "MDQ6VXNlcjEzNTk0MjE=",
        "organizations_url": "https://api.github.com/users/justinmk/orgs",
        "received_events_url": "https://api.github.com/users/justinmk/received_events",
        "repos_url": "https://api.github.com/users/justinmk/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/justinmk",
        "user_view_type": "public"
    }
}