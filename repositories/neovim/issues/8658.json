{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "Since vimscript is single-threaded, there're cases we don't want to wait for the result but still need to be called when it's done or error is thrown.\r\n\r\nIs it possible to implement `rpcrequest_async` that could be used like this?\r\n\r\n```vim\r\nlet context = {}\r\ncall rpcrequest_async(channel, 'Callback', context, method, args... )\r\n\r\nfunc Callback(err, return_value) dict\r\n  let context = self\r\n  if a:err\r\n    throw err\r\n  endif\r\n  ...\r\nendfunc\r\n```\r\n",
    "closed_at": null,
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/4538941?v=4",
        "events_url": "https://api.github.com/users/roxma/events{/privacy}",
        "followers_url": "https://api.github.com/users/roxma/followers",
        "following_url": "https://api.github.com/users/roxma/following{/other_user}",
        "gists_url": "https://api.github.com/users/roxma/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/roxma",
        "id": 4538941,
        "login": "roxma",
        "node_id": "MDQ6VXNlcjQ1Mzg5NDE=",
        "organizations_url": "https://api.github.com/users/roxma/orgs",
        "received_events_url": "https://api.github.com/users/roxma/received_events",
        "repos_url": "https://api.github.com/users/roxma/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/roxma/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/roxma/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/roxma",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "While not fully the same, that's already how it all works for notifications, isn't it? You send a notification over a channel, let your plugin do it's stuff, and whenever it's done, it can call `Callback` via rpc.\r\n\r\nBut maybe I'm missing something :)",
            "created_at": "2018-06-29T06:44:37Z",
            "html_url": "https://github.com/neovim/neovim/issues/8658#issuecomment-401263450",
            "id": 401263450,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8658",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwMTI2MzQ1MA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/401263450/reactions"
            },
            "updated_at": "2018-06-29T06:44:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/401263450",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/4117685?v=4",
                "events_url": "https://api.github.com/users/KillTheMule/events{/privacy}",
                "followers_url": "https://api.github.com/users/KillTheMule/followers",
                "following_url": "https://api.github.com/users/KillTheMule/following{/other_user}",
                "gists_url": "https://api.github.com/users/KillTheMule/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/KillTheMule",
                "id": 4117685,
                "login": "KillTheMule",
                "node_id": "MDQ6VXNlcjQxMTc2ODU=",
                "organizations_url": "https://api.github.com/users/KillTheMule/orgs",
                "received_events_url": "https://api.github.com/users/KillTheMule/received_events",
                "repos_url": "https://api.github.com/users/KillTheMule/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/KillTheMule/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/KillTheMule/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/KillTheMule",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Yes, but with some caveats. \r\n\r\n- old clients will assume a rpc request gives excluvise access to nvim (it would still be good to be able to signal this in an unambious way)\r\n- we probably don't want to have several requests in flight from nvim to the same client, unless there is an interleaving request from the client to nvim. maybe this should be an error\r\n\r\n@KillTheMule This is true (event when client is nvim I think one could fake it with atomic_call/lua), the difference would be a shared mechanism to keep track of the callback, instead of each plugin reimplementing it.",
            "created_at": "2018-06-29T06:49:28Z",
            "html_url": "https://github.com/neovim/neovim/issues/8658#issuecomment-401264339",
            "id": 401264339,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8658",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwMTI2NDMzOQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/401264339/reactions"
            },
            "updated_at": "2018-06-29T07:48:34Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/401264339",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
                "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
                "followers_url": "https://api.github.com/users/bfredl/followers",
                "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
                "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bfredl",
                "id": 1363104,
                "login": "bfredl",
                "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
                "organizations_url": "https://api.github.com/users/bfredl/orgs",
                "received_events_url": "https://api.github.com/users/bfredl/received_events",
                "repos_url": "https://api.github.com/users/bfredl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bfredl",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@KillTheMule \r\n\r\n> that's already how it all works for notifications, isn't it?\r\n\r\nYes we could do that in a plugin.\r\n\r\nBut it's tedious if the plugin needs to handle exceptions and connection closed events. And keep track of the context needs global stat in each plugin implementing this feature too.\r\n\r\n@bfredl \r\n\r\n> old clients will assume a rpc request gives excluvise access to nvim (it would still be good to be able to signal this in an unambious way)\r\n\r\nSo the user of `rpcrequest_async` should be aware of this behavior. \r\n\r\n> we probably don't want to have several requests in flight from nvim to the same client, unless there is an interleaving request from the client to nvim. maybe this should be an error\r\n\r\nIMO this feature is useful for background computation only, which in practice should be implemented as sending vim's variables to the remote plugin as arguments, and then never asks for or call nvim variables/functions again before returning results.\r\n\r\nIt is also possible to be bitten by concurrent issue, when there is multiple notification sent to the same remote plugin, which uses nvim object in the handler. ",
            "created_at": "2018-06-29T07:11:31Z",
            "html_url": "https://github.com/neovim/neovim/issues/8658#issuecomment-401268659",
            "id": 401268659,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8658",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwMTI2ODY1OQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/401268659/reactions"
            },
            "updated_at": "2025-01-20T00:47:25Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/401268659",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/4538941?v=4",
                "events_url": "https://api.github.com/users/roxma/events{/privacy}",
                "followers_url": "https://api.github.com/users/roxma/followers",
                "following_url": "https://api.github.com/users/roxma/following{/other_user}",
                "gists_url": "https://api.github.com/users/roxma/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/roxma",
                "id": 4538941,
                "login": "roxma",
                "node_id": "MDQ6VXNlcjQ1Mzg5NDE=",
                "organizations_url": "https://api.github.com/users/roxma/orgs",
                "received_events_url": "https://api.github.com/users/roxma/received_events",
                "repos_url": "https://api.github.com/users/roxma/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/roxma/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/roxma/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/roxma",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I'm gonna close this issue for now, I have some planned features on my nvim plugins, but it is still vague. I'll reopen this issue when I have a more clear use case.\r\n\r\nGenerally speeking, however, it's still good practice to have callbacks for ui side programming, just like those in javascript.",
            "created_at": "2018-07-02T01:22:06Z",
            "html_url": "https://github.com/neovim/neovim/issues/8658#issuecomment-401648059",
            "id": 401648059,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8658",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwMTY0ODA1OQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/401648059/reactions"
            },
            "updated_at": "2025-01-05T01:29:33Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/401648059",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/4538941?v=4",
                "events_url": "https://api.github.com/users/roxma/events{/privacy}",
                "followers_url": "https://api.github.com/users/roxma/followers",
                "following_url": "https://api.github.com/users/roxma/following{/other_user}",
                "gists_url": "https://api.github.com/users/roxma/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/roxma",
                "id": 4538941,
                "login": "roxma",
                "node_id": "MDQ6VXNlcjQ1Mzg5NDE=",
                "organizations_url": "https://api.github.com/users/roxma/orgs",
                "received_events_url": "https://api.github.com/users/roxma/received_events",
                "repos_url": "https://api.github.com/users/roxma/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/roxma/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/roxma/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/roxma",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I'd prefer to keep this open, it's been requested before and is generally something we want to do.",
            "created_at": "2018-07-02T08:33:02Z",
            "html_url": "https://github.com/neovim/neovim/issues/8658#issuecomment-401711674",
            "id": 401711674,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/8658",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwMTcxMTY3NA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/401711674/reactions"
            },
            "updated_at": "2025-01-05T01:29:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/401711674",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 5,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/8658/comments",
    "created_at": "2018-06-29T06:27:04Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/8658/events",
    "html_url": "https://github.com/neovim/neovim/issues/8658",
    "id": 336878344,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "feature request",
            "id": 77997476,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Ng==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/enhancement"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "libnvim, Nvim RPC API",
            "id": 103819671,
            "name": "api",
            "node_id": "MDU6TGFiZWwxMDM4MTk2NzE=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/api"
        },
        {
            "color": "c7def8",
            "default": false,
            "description": "channels, RPC, msgpack",
            "id": 242522707,
            "name": "channels-rpc",
            "node_id": "MDU6TGFiZWwyNDI1MjI3MDc=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/channels-rpc"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "futures/promises, async/await, concurrency, task pipelines",
            "id": 5683343649,
            "name": "async",
            "node_id": "LA_kwDOAPphoM8AAAABUsDxIQ",
            "url": "https://api.github.com/repos/neovim/neovim/labels/async"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/8658/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 686,
        "created_at": "2014-05-10T20:43:04Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "Low priority items. We plan to work on this but don't have a target date.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/6",
        "id": 655037,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lNjU1MDM3",
        "number": 6,
        "open_issues": 635,
        "state": "open",
        "title": "backlog",
        "updated_at": "2025-01-21T00:09:37Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/6"
    },
    "node_id": "MDU6SXNzdWUzMzY4NzgzNDQ=",
    "number": 8658,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/8658/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/8658/timeline",
    "title": "API: async rpcrequest() (\"callback for RPC requests\")",
    "updated_at": "2025-01-20T00:47:57Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/8658",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/4538941?v=4",
        "events_url": "https://api.github.com/users/roxma/events{/privacy}",
        "followers_url": "https://api.github.com/users/roxma/followers",
        "following_url": "https://api.github.com/users/roxma/following{/other_user}",
        "gists_url": "https://api.github.com/users/roxma/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/roxma",
        "id": 4538941,
        "login": "roxma",
        "node_id": "MDQ6VXNlcjQ1Mzg5NDE=",
        "organizations_url": "https://api.github.com/users/roxma/orgs",
        "received_events_url": "https://api.github.com/users/roxma/received_events",
        "repos_url": "https://api.github.com/users/roxma/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/roxma/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/roxma/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/roxma",
        "user_view_type": "public"
    }
}