{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "### Problem\n\nNeovim's built-in formatter feature (`gw` and `gq` maps) incorrectly indent's markdown list items when some line starts with one of keyword like `if`, `for`, `while` (maybe more others). This happens only with enabled option 'smartindent'. For details see \"Steps to reproduce\".\n\n### Steps to reproduce\n\nCreate file `a.md` (markdown extension important) with content:\n```\n* buggy items:\n* aaaa aaa aa aaaa aaaa aaa aaaaaaa aa aaaa aaa aaaaaaa aaa aaaaaaaa aa aaaaa\n  if aaaaaaa aaaaaa aaa aaa aaaaaa aaa aaaa aaaaa aa aaaaaa aaaaa aaaaaaaaa\n  aaaa aaaaaaaa aaaaa aaaaaaa aaa aaaaaaa aaaaaaa aaaaa aaaa aaaaa aaaaaaa\n  aaaaaaaaaa aa aaaaaaaaaaaaaaaaaaaaaaa\n* aaaa aaa aa aaaa aaaa aaa aaaaaaa aa aaaa aaa aaaaaaa aaa aaaaaaaa aa aaaaa\n  for aaaaaaa aaaaaa aaa aaa aaaaaa aaa aaaa aaaaa aa aaaaaa aaaaa aaaaaaaaa\n  aaaa aaaaaaaa aaaaa aaaaaaa aaa aaaaaaa aaaaaaa aaaaa aaaa aaaaa aaaaaaa\n  aaaaaaaaaa aa aaaaaaaaaaaaaaaaaaaaaaa\n* aaaa aaa aa aaaa aaaa aaa aaaaaaa aa aaaa aaa aaaaaaa aaa aaaaaaaa aa aaaaa\n  while aaaaaaa aaaaaa aaa aaa aaaaaa aaa aaaa aaaaa aa aaaaaa aaaaa aaaaaaaaa\n  aaaa aaaaaaaa aaaaa aaaaaaa aaa aaaaaaa aaaaaaa aaaaa aaaa aaaaa aaaaaaa\n  aaaaaaaaaa aa aaaaaaaaaaaaaaaaaaaaaaa\n\n* example of good (ordinary) indent:\n* aaaa aaa aa aaaa aaaa aaa aaaaaaa aa aaaa aaa aaaaaaa aaa aaaaaaaa aa aaaaa\n  bb aaaaaaa aaaaaa aaa aaa aaaaaa aaa aaaa aaaaa aa aaaaaa aaaaa aaaaaaaaa\n  aaaa aaaaaaaa aaaaa aaaaaaa aaa aaaaaaa aaaaaaa aaaaa aaaa aaaaa aaaaaaa\n  aaaaaaaaaa aa aaaaaaaaaaaaaaaaaaaaaaa\n```\n\nRun nvim with 'smartindent' option set and format whole file:\n```\nnvim --clean a.md +set\\ smartindent\ngwG\n```\n\nAfter format you have such wrong indented items:\n```\n* buggy items:\n* aaaa aaa aa aaaa aaaa aaa aaaaaaa aa aaaa aaa aaaaaaa aaa aaaaaaaa aa aaaaa\n  if aaaaaaa aaaaaa aaa aaa aaaaaa aaa aaaa aaaaa aa aaaaaa aaaaa aaaaaaaaa\n      aaaa aaaaaaaa aaaaa aaaaaaa aaa aaaaaaa aaaaaaa aaaaa aaaa aaaaa aaaaaaa\n      aaaaaaaaaa aa aaaaaaaaaaaaaaaaaaaaaaa\n* aaaa aaa aa aaaa aaaa aaa aaaaaaa aa aaaa aaa aaaaaaa aaa aaaaaaaa aa aaaaa\n  for aaaaaaa aaaaaa aaa aaa aaaaaa aaa aaaa aaaaa aa aaaaaa aaaaa aaaaaaaaa\n      aaaa aaaaaaaa aaaaa aaaaaaa aaa aaaaaaa aaaaaaa aaaaa aaaa aaaaa aaaaaaa\n      aaaaaaaaaa aa aaaaaaaaaaaaaaaaaaaaaaa\n* aaaa aaa aa aaaa aaaa aaa aaaaaaa aa aaaa aaa aaaaaaa aaa aaaaaaaa aa aaaaa\n  while aaaaaaa aaaaaa aaa aaa aaaaaa aaa aaaa aaaaa aa aaaaaa aaaaa aaaaaaaaa\n      aaaa aaaaaaaa aaaaa aaaaaaa aaa aaaaaaa aaaaaaa aaaaa aaaa aaaaa aaaaaaa\n      aaaaaaaaaa aa aaaaaaaaaaaaaaaaaaaaaaa\n\n* example of good (ordinary) indent:\n* aaaa aaa aa aaaa aaaa aaa aaaaaaa aa aaaa aaa aaaaaaa aaa aaaaaaaa aa aaaaa\n  bb aaaaaaa aaaaaa aaa aaa aaaaaa aaa aaaa aaaaa aa aaaaaa aaaaa aaaaaaaaa\n  aaaa aaaaaaaa aaaaa aaaaaaa aaa aaaaaaa aaaaaaa aaaaa aaaa aaaaa aaaaaaa\n  aaaaaaaaaa aa aaaaaaaaaaaaaaaaaaaaaaa\n```\n\n### Expected behavior\n\nFormatted file should look like:\n```\n* buggy items:\n* aaaa aaa aa aaaa aaaa aaa aaaaaaa aa aaaa aaa aaaaaaa aaa aaaaaaaa aa aaaaa\n  if aaaaaaa aaaaaa aaa aaa aaaaaa aaa aaaa aaaaa aa aaaaaa aaaaa aaaaaaaaa\n  aaaa aaaaaaaa aaaaa aaaaaaa aaa aaaaaaa aaaaaaa aaaaa aaaa aaaaa aaaaaaa\n  aaaaaaaaaa aa aaaaaaaaaaaaaaaaaaaaaaa\n* aaaa aaa aa aaaa aaaa aaa aaaaaaa aa aaaa aaa aaaaaaa aaa aaaaaaaa aa aaaaa\n  for aaaaaaa aaaaaa aaa aaa aaaaaa aaa aaaa aaaaa aa aaaaaa aaaaa aaaaaaaaa\n  aaaa aaaaaaaa aaaaa aaaaaaa aaa aaaaaaa aaaaaaa aaaaa aaaa aaaaa aaaaaaa\n  aaaaaaaaaa aa aaaaaaaaaaaaaaaaaaaaaaa\n* aaaa aaa aa aaaa aaaa aaa aaaaaaa aa aaaa aaa aaaaaaa aaa aaaaaaaa aa aaaaa\n  while aaaaaaa aaaaaa aaa aaa aaaaaa aaa aaaa aaaaa aa aaaaaa aaaaa aaaaaaaaa\n  aaaa aaaaaaaa aaaaa aaaaaaa aaa aaaaaaa aaaaaaa aaaaa aaaa aaaaa aaaaaaa\n  aaaaaaaaaa aa aaaaaaaaaaaaaaaaaaaaaaa\n\n* example of good (ordinary) indent:\n* aaaa aaa aa aaaa aaaa aaa aaaaaaa aa aaaa aaa aaaaaaa aaa aaaaaaaa aa aaaaa\n  bb aaaaaaa aaaaaa aaa aaa aaaaaa aaa aaaa aaaaa aa aaaaaa aaaaa aaaaaaaaa\n  aaaa aaaaaaaa aaaaa aaaaaaa aaa aaaaaaa aaaaaaa aaaaa aaaa aaaaa aaaaaaa\n  aaaaaaaaaa aa aaaaaaaaaaaaaaaaaaaaaaa\n```\n\n### Nvim version (nvim -v)\n\nv0.10.3\n\n### Vim (not Nvim) behaves the same?\n\nyes, buggy too. vim 9.1\n\n### Operating system/version\n\narchlinux\n\n### Terminal name/version\n\nst 0.9.2\n\n### $TERM environment variable\n\nst-256color\n\n### Installation\n\narch pacman",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Workaround:\n```vim\nautocmd FileType markdown setlocal cinwords=\n```",
            "created_at": "2025-01-16T01:07:29Z",
            "html_url": "https://github.com/neovim/neovim/issues/32046#issuecomment-2594253897",
            "id": 2594253897,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/32046",
            "node_id": "IC_kwDOAPphoM6aoSxJ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2594253897/reactions"
            },
            "updated_at": "2025-01-16T01:07:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2594253897",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 1,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/32046/comments",
    "created_at": "2025-01-16T00:31:19Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/32046/events",
    "html_url": "https://github.com/neovim/neovim/issues/32046",
    "id": 2791339397,
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "funtime",
            "id": 120251370,
            "name": "runtime",
            "node_id": "MDU6TGFiZWwxMjAyNTEzNzA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/runtime"
        },
        {
            "color": "F9D0C4",
            "default": false,
            "description": "wrong behavior inherited from vim",
            "id": 154310492,
            "name": "bug-vim",
            "node_id": "MDU6TGFiZWwxNTQzMTA0OTI=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-vim"
        },
        {
            "color": "0E8A16",
            "default": false,
            "description": "issue is not fixed but can be circumvented until then",
            "id": 435850181,
            "name": "has:workaround",
            "node_id": "MDU6TGFiZWw0MzU4NTAxODE=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/has:workaround"
        },
        {
            "color": "FBCA04",
            "default": false,
            "description": "upstream issue that must be fixed in Vim first",
            "id": 2639399975,
            "name": "needs:vim-patch",
            "node_id": "MDU6TGFiZWwyNjM5Mzk5OTc1",
            "url": "https://api.github.com/repos/neovim/neovim/labels/needs:vim-patch"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/32046/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 260,
        "created_at": "2014-11-26T22:13:11Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "We don't plan to work on this, but will accept high quality contributions from someone who will own the feature and follow up on bug reports.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/9",
        "id": 881978,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/9/labels",
        "node_id": "MDk6TWlsZXN0b25lODgxOTc4",
        "number": 9,
        "open_issues": 297,
        "state": "open",
        "title": "needs-owner",
        "updated_at": "2025-01-20T17:56:23Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/9"
    },
    "node_id": "I_kwDOAPphoM6mYHWF",
    "number": 32046,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/32046/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/32046/timeline",
    "title": "bug: formatting markdown list items with some keywords breaks indentation",
    "updated_at": "2025-01-17T23:31:20Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/32046",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/49063932?v=4",
        "events_url": "https://api.github.com/users/UnkwUsr/events{/privacy}",
        "followers_url": "https://api.github.com/users/UnkwUsr/followers",
        "following_url": "https://api.github.com/users/UnkwUsr/following{/other_user}",
        "gists_url": "https://api.github.com/users/UnkwUsr/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/UnkwUsr",
        "id": 49063932,
        "login": "UnkwUsr",
        "node_id": "MDQ6VXNlcjQ5MDYzOTMy",
        "organizations_url": "https://api.github.com/users/UnkwUsr/orgs",
        "received_events_url": "https://api.github.com/users/UnkwUsr/received_events",
        "repos_url": "https://api.github.com/users/UnkwUsr/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/UnkwUsr/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/UnkwUsr/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/UnkwUsr",
        "user_view_type": "public"
    }
}