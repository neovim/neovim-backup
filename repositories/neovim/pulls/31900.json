{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/31900/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/31900/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/31900"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/31900"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/31900/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/5c92b40b4b173c7d85106689fef811e41994abb0"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 5811,
            "forks_count": 5811,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 1839,
            "open_issues_count": 1839,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2025-01-13T23:17:24Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 303311,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 85218,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2025-01-14T02:06:03Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 85218,
            "watchers_count": 85218,
            "web_commit_signoff_required": false
        },
        "sha": "6dd7fcaafdc5d80948e1c4b05b19584de16528d6",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim",
            "user_view_type": "public"
        }
    },
    "body": "**feat(api): add err field to nvim_echo() opts**\r\n\r\nProblem:  We want to deprecate `nvim_err_write(ln)()` but there is no\r\n          obvious replacement. Meanwhile we already have `nvim_echo()`\r\n          with an `opts` argument.\r\nSolution: Add `err` argument to `nvim_echo()` that directly maps to\r\n          `:echoerr`.\r\n\r\n**feat(api): deprecate nvim_out/err_write(ln)**\r\n\r\nResolve #31871",
    "closed_at": "2025-01-09T14:36:29Z",
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1905452781"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1905452781"
                }
            },
            "author_association": "MEMBER",
            "body": "Should we error when `chunks.size > 1` or `history == false` or just silently execute the documented behavior?",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-07T13:25:53Z",
            "diff_hunk": "@@ -790,7 +793,11 @@ void nvim_echo(Array chunks, Boolean history, Dict(echo_opts) *opts, Error *err)\n     verbose_enter();\n   }\n \n-  msg_multihl(hl_msg, history ? \"echomsg\" : \"echo\", history);\n+  if (opts->err) {\n+    emsg_multiline(chunks.items[0].data.array.items[0].data.string.data, true);",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1905452781",
            "id": 1905452781,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5xkubt",
            "original_commit_id": "3beaa279035e79815486862472d5270aa86242ed",
            "original_line": 795,
            "original_position": 16,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": null,
            "pull_request_review_id": 2534334246,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1905452781/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-07T13:25:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1905452781",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1907147944"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907147944"
                }
            },
            "author_association": "MEMBER",
            "body": "Why not print all chunks?",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-08T13:00:45Z",
            "diff_hunk": "@@ -790,7 +793,11 @@ void nvim_echo(Array chunks, Boolean history, Dict(echo_opts) *opts, Error *err)\n     verbose_enter();\n   }\n \n-  msg_multihl(hl_msg, history ? \"echomsg\" : \"echo\", history);\n+  if (opts->err) {\n+    emsg_multiline(chunks.items[0].data.array.items[0].data.string.data, true);",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1907147944",
            "id": 1907147944,
            "in_reply_to_id": 1905452781,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5xrMSo",
            "original_commit_id": "3beaa279035e79815486862472d5270aa86242ed",
            "original_line": 795,
            "original_position": 16,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": null,
            "pull_request_review_id": 2537086280,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907147944/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-08T13:00:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907147944",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1907150426"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907150426"
                }
            },
            "author_association": "MEMBER",
            "body": "is that the case even when \"echo\" is used on line 797?",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-08T13:02:45Z",
            "diff_hunk": "@@ -790,14 +791,18 @@ void nvim_echo(Array chunks, Boolean history, Dict(echo_opts) *opts, Error *err)\n     verbose_enter();\n   }\n \n-  msg_multihl(hl_msg, history ? \"echomsg\" : \"echo\", history);\n+  if (opts->err) {\n+    emsg_multiline(chunks.items[0].data.array.items[0].data.string.data, true);\n+  } else {\n+    msg_multihl(hl_msg, history ? \"echomsg\" : \"echo\", history);\n+  }\n \n   if (opts->verbose) {\n     verbose_leave();\n     verbose_stop();  // flush now\n   }\n \n-  if (history) {\n+  if (history && !opts->err) {\n     // history takes ownership",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1907150426",
            "id": 1907150426,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5xrM5a",
            "original_commit_id": "c39df09bbf1840b34137fd2e8bb5b6609fcb592a",
            "original_line": 801,
            "original_position": 37,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": null,
            "pull_request_review_id": 2537090395,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907150426/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-08T13:02:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907150426",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1907163381"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907163381"
                }
            },
            "author_association": "MEMBER",
            "body": "`nvim_echo` supports multiple chunks to give a different highlight to different chunks. For `opts->err` I think it makes sense to implicitly highlight with `ErrorMsg`. I suppose we could still support multiple chunks though, even if that doesn't serve any purpose for the caller to pass in multiple chunks?",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-08T13:13:09Z",
            "diff_hunk": "@@ -790,7 +793,11 @@ void nvim_echo(Array chunks, Boolean history, Dict(echo_opts) *opts, Error *err)\n     verbose_enter();\n   }\n \n-  msg_multihl(hl_msg, history ? \"echomsg\" : \"echo\", history);\n+  if (opts->err) {\n+    emsg_multiline(chunks.items[0].data.array.items[0].data.string.data, true);",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1907163381",
            "id": 1907163381,
            "in_reply_to_id": 1905452781,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5xrQD1",
            "original_commit_id": "3beaa279035e79815486862472d5270aa86242ed",
            "original_line": 795,
            "original_position": 16,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": null,
            "pull_request_review_id": 2537112874,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907163381/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-08T13:13:09Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907163381",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1907172598"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907172598"
                }
            },
            "author_association": "MEMBER",
            "body": "\"echo\" is used when `history == false`, so then hint in this comment doesn't apply either? Not sure what you mean, but yes when `history == false` `msg_multihl()` doesn't take ownership, and instead we free at the end of `nvim_echo()`.",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-08T13:20:12Z",
            "diff_hunk": "@@ -790,14 +791,18 @@ void nvim_echo(Array chunks, Boolean history, Dict(echo_opts) *opts, Error *err)\n     verbose_enter();\n   }\n \n-  msg_multihl(hl_msg, history ? \"echomsg\" : \"echo\", history);\n+  if (opts->err) {\n+    emsg_multiline(chunks.items[0].data.array.items[0].data.string.data, true);\n+  } else {\n+    msg_multihl(hl_msg, history ? \"echomsg\" : \"echo\", history);\n+  }\n \n   if (opts->verbose) {\n     verbose_leave();\n     verbose_stop();  // flush now\n   }\n \n-  if (history) {\n+  if (history && !opts->err) {\n     // history takes ownership",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1907172598",
            "id": 1907172598,
            "in_reply_to_id": 1907150426,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5xrST2",
            "original_commit_id": "c39df09bbf1840b34137fd2e8bb5b6609fcb592a",
            "original_line": 801,
            "original_position": 37,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": null,
            "pull_request_review_id": 2537128443,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907172598/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-08T13:20:12Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907172598",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1907176303"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907176303"
                }
            },
            "author_association": "MEMBER",
            "body": "`emsg_multiline` is the main achievement here, and defaulting to `ErrorMsg` is fine. But I don't think we need to go further than that. If people want to send chunks with random highlights, we might as well let them, and hopefully it simplifies the docs a bit.",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-08T13:23:06Z",
            "diff_hunk": "@@ -790,7 +793,11 @@ void nvim_echo(Array chunks, Boolean history, Dict(echo_opts) *opts, Error *err)\n     verbose_enter();\n   }\n \n-  msg_multihl(hl_msg, history ? \"echomsg\" : \"echo\", history);\n+  if (opts->err) {\n+    emsg_multiline(chunks.items[0].data.array.items[0].data.string.data, true);",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1907176303",
            "id": 1907176303,
            "in_reply_to_id": 1905452781,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5xrTNv",
            "original_commit_id": "3beaa279035e79815486862472d5270aa86242ed",
            "original_line": 795,
            "original_position": 16,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": null,
            "pull_request_review_id": 2537134839,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907176303/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-08T13:23:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907176303",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1907177646"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907177646"
                }
            },
            "author_association": "MEMBER",
            "body": "oh whoops i read that `&&` as `||` 🤦 ",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-08T13:24:10Z",
            "diff_hunk": "@@ -790,14 +791,18 @@ void nvim_echo(Array chunks, Boolean history, Dict(echo_opts) *opts, Error *err)\n     verbose_enter();\n   }\n \n-  msg_multihl(hl_msg, history ? \"echomsg\" : \"echo\", history);\n+  if (opts->err) {\n+    emsg_multiline(chunks.items[0].data.array.items[0].data.string.data, true);\n+  } else {\n+    msg_multihl(hl_msg, history ? \"echomsg\" : \"echo\", history);\n+  }\n \n   if (opts->verbose) {\n     verbose_leave();\n     verbose_stop();  // flush now\n   }\n \n-  if (history) {\n+  if (history && !opts->err) {\n     // history takes ownership",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1907177646",
            "id": 1907177646,
            "in_reply_to_id": 1907150426,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5xrTiu",
            "original_commit_id": "c39df09bbf1840b34137fd2e8bb5b6609fcb592a",
            "original_line": 801,
            "original_position": 37,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": null,
            "pull_request_review_id": 2537137303,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907177646/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-08T13:24:10Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907177646",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1907185332"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907185332"
                }
            },
            "author_association": "MEMBER",
            "body": "> If people want to send chunks with random highlights, we might as well let them\r\n\r\nWith the connotation that those highlight's aren't actually applied? Wouldn't it be better to error in that case?\r\n\r\nOr are you saying that `opts->err` with different highlight chunks _should_ apply those highlights? In that case I suppose we would need to add a `hl_id` argument to `emsg_multiline`.",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-08T13:29:46Z",
            "diff_hunk": "@@ -790,7 +793,11 @@ void nvim_echo(Array chunks, Boolean history, Dict(echo_opts) *opts, Error *err)\n     verbose_enter();\n   }\n \n-  msg_multihl(hl_msg, history ? \"echomsg\" : \"echo\", history);\n+  if (opts->err) {\n+    emsg_multiline(chunks.items[0].data.array.items[0].data.string.data, true);",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1907185332",
            "id": 1907185332,
            "in_reply_to_id": 1905452781,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5xrVa0",
            "original_commit_id": "3beaa279035e79815486862472d5270aa86242ed",
            "original_line": 795,
            "original_position": 16,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": null,
            "pull_request_review_id": 2537149948,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907185332/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-08T13:29:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907185332",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1907192766"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907192766"
                }
            },
            "author_association": "MEMBER",
            "body": "> In that case I suppose we would need to add a `hl_id` argument to `emsg_multiline`.\r\n\r\nOh, let's not bother with that. For now we'll just document that chunk highlights are ignored. Or we could throw an error.\r\n\r\nBut at least supporting multiple chunks seems harmless?",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-08T13:35:13Z",
            "diff_hunk": "@@ -790,7 +793,11 @@ void nvim_echo(Array chunks, Boolean history, Dict(echo_opts) *opts, Error *err)\n     verbose_enter();\n   }\n \n-  msg_multihl(hl_msg, history ? \"echomsg\" : \"echo\", history);\n+  if (opts->err) {\n+    emsg_multiline(chunks.items[0].data.array.items[0].data.string.data, true);",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1907192766",
            "id": 1907192766,
            "in_reply_to_id": 1905452781,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5xrXO-",
            "original_commit_id": "3beaa279035e79815486862472d5270aa86242ed",
            "original_line": 795,
            "original_position": 16,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": null,
            "pull_request_review_id": 2537162580,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907192766/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-08T13:35:13Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907192766",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1907201342"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907201342"
                }
            },
            "author_association": "MEMBER",
            "body": "Harmless yes, but also pointless. Indicating to me that an error might be more appropriate. Though supporting different highlight chunks even for `opts->err` does sound the least surprising/easiest to document to me. I don't think the change required would be too involved.",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-08T13:41:37Z",
            "diff_hunk": "@@ -790,7 +793,11 @@ void nvim_echo(Array chunks, Boolean history, Dict(echo_opts) *opts, Error *err)\n     verbose_enter();\n   }\n \n-  msg_multihl(hl_msg, history ? \"echomsg\" : \"echo\", history);\n+  if (opts->err) {\n+    emsg_multiline(chunks.items[0].data.array.items[0].data.string.data, true);",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1907201342",
            "id": 1907201342,
            "in_reply_to_id": 1905452781,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5xrZU-",
            "original_commit_id": "3beaa279035e79815486862472d5270aa86242ed",
            "original_line": 795,
            "original_position": 16,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": null,
            "pull_request_review_id": 2537177154,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907201342/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-08T13:41:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907201342",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1907258559"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907258559"
                }
            },
            "author_association": "MEMBER",
            "body": "> I don't think the change required would be too involved.\r\n\r\nSGTM",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-08T14:19:30Z",
            "diff_hunk": "@@ -790,7 +793,11 @@ void nvim_echo(Array chunks, Boolean history, Dict(echo_opts) *opts, Error *err)\n     verbose_enter();\n   }\n \n-  msg_multihl(hl_msg, history ? \"echomsg\" : \"echo\", history);\n+  if (opts->err) {\n+    emsg_multiline(chunks.items[0].data.array.items[0].data.string.data, true);",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1907258559",
            "id": 1907258559,
            "in_reply_to_id": 1905452781,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5xrnS_",
            "original_commit_id": "3beaa279035e79815486862472d5270aa86242ed",
            "original_line": 795,
            "original_position": 16,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": null,
            "pull_request_review_id": 2537276629,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907258559/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-08T14:19:30Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907258559",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1907399833"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907399833"
                }
            },
            "author_association": "MEMBER",
            "body": "`history` is a required arg so it's strange to ignore it. Is the `history is always true` behavior a limitation of the internals? If not, it seems better to just let the `history` arg decide this.",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-08T15:45:26Z",
            "diff_hunk": "@@ -662,28 +662,13 @@ nvim_echo({chunks}, {history}, {opts})                           *nvim_echo()*\n                    `hl_group` element can be omitted for no highlight.\n       • {history}  if true, add to |message-history|.\n       • {opts}     Optional parameters.\n+                   • err: Print an error message for which `history` is always\n+                     true and omitting `hl_group` uses |hl-ErrorMsg|.",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1907399833",
            "id": 1907399833,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5xsJyZ",
            "original_commit_id": "5fa640e89fd0cf7f38eeb561aa605bf86028d655",
            "original_line": 666,
            "original_position": 5,
            "original_start_line": null,
            "path": "runtime/doc/api.txt",
            "position": null,
            "pull_request_review_id": 2537519390,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907399833/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-08T15:45:26Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907399833",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1907407344"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907407344"
                }
            },
            "author_association": "MEMBER",
            "body": ">  Is the history is always true behavior a limitation of the internals\r\n\r\nYes, that limitation could be lifted by also passing along `history`; so I guess we should do that?",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-08T15:50:48Z",
            "diff_hunk": "@@ -662,28 +662,13 @@ nvim_echo({chunks}, {history}, {opts})                           *nvim_echo()*\n                    `hl_group` element can be omitted for no highlight.\n       • {history}  if true, add to |message-history|.\n       • {opts}     Optional parameters.\n+                   • err: Print an error message for which `history` is always\n+                     true and omitting `hl_group` uses |hl-ErrorMsg|.",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1907407344",
            "id": 1907407344,
            "in_reply_to_id": 1907399833,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5xsLnw",
            "original_commit_id": "5fa640e89fd0cf7f38eeb561aa605bf86028d655",
            "original_line": 666,
            "original_position": 5,
            "original_start_line": null,
            "path": "runtime/doc/api.txt",
            "position": null,
            "pull_request_review_id": 2537532347,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907407344/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-08T15:50:48Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907407344",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1907407592"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907407592"
                }
            },
            "author_association": "MEMBER",
            "body": "I guess this is \"echoerr\" instead of \"emsg\" because this is a \"user generated\" error, not an exception, etc.",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-08T15:50:57Z",
            "diff_hunk": "@@ -790,14 +790,14 @@ void nvim_echo(Array chunks, Boolean history, Dict(echo_opts) *opts, Error *err)\n     verbose_enter();\n   }\n \n-  msg_multihl(hl_msg, history ? \"echomsg\" : \"echo\", history);\n+  msg_multihl(hl_msg, opts->err ? \"echoerr\" : history ? \"echomsg\" : \"echo\", history, opts->err);",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1907407592",
            "id": 1907407592,
            "line": 793,
            "node_id": "PRRC_kwDOAPphoM5xsLro",
            "original_commit_id": "5fa640e89fd0cf7f38eeb561aa605bf86028d655",
            "original_line": 793,
            "original_position": 31,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": 31,
            "pull_request_review_id": 2537532751,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907407592/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-08T15:50:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907407592",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1907411843"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907411843"
                }
            },
            "author_association": "MEMBER",
            "body": "This makes me think the `kind` should be \"emsg\" ?",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-08T15:53:10Z",
            "diff_hunk": "@@ -302,9 +302,13 @@ void msg_multihl(HlMessage hl_msg, const char *kind, bool history)\n   msg_ext_set_kind(kind);\n   for (uint32_t i = 0; i < kv_size(hl_msg); i++) {\n     HlMessageChunk chunk = kv_A(hl_msg, i);\n-    msg_multiline(chunk.text, chunk.hl_id, true, false, &need_clear);\n+    if (err) {\n+      emsg_multiline(chunk.text.data, chunk.hl_id, true);",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1907411843",
            "id": 1907411843,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5xsMuD",
            "original_commit_id": "5fa640e89fd0cf7f38eeb561aa605bf86028d655",
            "original_line": 311,
            "original_position": 15,
            "original_start_line": null,
            "path": "src/nvim/message.c",
            "position": null,
            "pull_request_review_id": 2537540161,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907411843/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-08T15:53:10Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907411843",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1907413071"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907413071"
                }
            },
            "author_association": "MEMBER",
            "body": "is it easy to also check the `kind` or does that require more setup in the test?",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-08T15:54:03Z",
            "diff_hunk": "@@ -3680,6 +3680,18 @@ describe('API', function()\n       async_meths.nvim_echo({ { 'msg\\nmsg' }, { 'msg' } }, false, {})\n       eq('', exec_capture('messages'))\n     end)\n+\n+    it('can print error message', function()\n+      async_meths.nvim_echo({ { 'Error' }, { 'Message', 'Special' } }, false, { err = true })\n+      screen:expect([[\n+                                                |\n+        {1:~                                       }|*3\n+        {3:                                        }|\n+        {9:Error}                                   |\n+        {16:Message}                                 |\n+        {6:Press ENTER or type command to continue}^ |\n+      ]])",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1907413071",
            "id": 1907413071,
            "line": 3693,
            "node_id": "PRRC_kwDOAPphoM5xsNBP",
            "original_commit_id": "5fa640e89fd0cf7f38eeb561aa605bf86028d655",
            "original_line": 3693,
            "original_position": 14,
            "original_start_line": null,
            "path": "test/functional/api/vim_spec.lua",
            "position": 14,
            "pull_request_review_id": 2537542338,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907413071/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-08T15:54:03Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907413071",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1907413091"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907413091"
                }
            },
            "author_association": "MEMBER",
            "body": "I think so yes. Not sure how useful that distinction is, but since we already have the `echoerr` kind, using it here seems appropriate.",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-08T15:54:04Z",
            "diff_hunk": "@@ -790,14 +790,14 @@ void nvim_echo(Array chunks, Boolean history, Dict(echo_opts) *opts, Error *err)\n     verbose_enter();\n   }\n \n-  msg_multihl(hl_msg, history ? \"echomsg\" : \"echo\", history);\n+  msg_multihl(hl_msg, opts->err ? \"echoerr\" : history ? \"echomsg\" : \"echo\", history, opts->err);",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1907413091",
            "id": 1907413091,
            "in_reply_to_id": 1907407592,
            "line": 793,
            "node_id": "PRRC_kwDOAPphoM5xsNBj",
            "original_commit_id": "5fa640e89fd0cf7f38eeb561aa605bf86028d655",
            "original_line": 793,
            "original_position": 31,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": 31,
            "pull_request_review_id": 2537542367,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907413091/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-08T15:54:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907413091",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1907415467"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907415467"
                }
            },
            "author_association": "MEMBER",
            "body": "I don't see why not. Maybe it raises the question of \"why are we bothering to add `err` flag\"? I assume it still has a purpose :) Maybe this doc isn't fully communicating what its purpose is. \r\n\r\nI'm looking for a hint like \"it treats the message as {`throw`,`:echoerr`,...?}\"",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-08T15:55:43Z",
            "diff_hunk": "@@ -662,28 +662,13 @@ nvim_echo({chunks}, {history}, {opts})                           *nvim_echo()*\n                    `hl_group` element can be omitted for no highlight.\n       • {history}  if true, add to |message-history|.\n       • {opts}     Optional parameters.\n+                   • err: Print an error message for which `history` is always\n+                     true and omitting `hl_group` uses |hl-ErrorMsg|.",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1907415467",
            "id": 1907415467,
            "in_reply_to_id": 1907399833,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5xsNmr",
            "original_commit_id": "5fa640e89fd0cf7f38eeb561aa605bf86028d655",
            "original_line": 666,
            "original_position": 5,
            "original_start_line": null,
            "path": "runtime/doc/api.txt",
            "position": null,
            "pull_request_review_id": 2537546308,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907415467/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-08T15:56:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907415467",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1907415535"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907415535"
                }
            },
            "author_association": "MEMBER",
            "body": "IDK; see my comment above and `eval.c:7972` for the `:echoerr` behavior. We are trying to mirror that here.",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-08T15:55:46Z",
            "diff_hunk": "@@ -302,9 +302,13 @@ void msg_multihl(HlMessage hl_msg, const char *kind, bool history)\n   msg_ext_set_kind(kind);\n   for (uint32_t i = 0; i < kv_size(hl_msg); i++) {\n     HlMessageChunk chunk = kv_A(hl_msg, i);\n-    msg_multiline(chunk.text, chunk.hl_id, true, false, &need_clear);\n+    if (err) {\n+      emsg_multiline(chunk.text.data, chunk.hl_id, true);",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1907415535",
            "id": 1907415535,
            "in_reply_to_id": 1907411843,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5xsNnv",
            "original_commit_id": "5fa640e89fd0cf7f38eeb561aa605bf86028d655",
            "original_line": 311,
            "original_position": 15,
            "original_start_line": null,
            "path": "src/nvim/message.c",
            "position": null,
            "pull_request_review_id": 2537546418,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907415535/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-08T15:55:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907415535",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1907418791"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907418791"
                }
            },
            "author_association": "MEMBER",
            "body": "`echoerr` to me implies that it was produced by `:echoerr` (and perhaps also by this new `err` flag, assuming that this new `err` flag actually plumbs through the same codepaths as `:echoerr`)",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-08T15:57:53Z",
            "diff_hunk": "@@ -790,14 +790,14 @@ void nvim_echo(Array chunks, Boolean history, Dict(echo_opts) *opts, Error *err)\n     verbose_enter();\n   }\n \n-  msg_multihl(hl_msg, history ? \"echomsg\" : \"echo\", history);\n+  msg_multihl(hl_msg, opts->err ? \"echoerr\" : history ? \"echomsg\" : \"echo\", history, opts->err);",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1907418791",
            "id": 1907418791,
            "in_reply_to_id": 1907407592,
            "line": 793,
            "node_id": "PRRC_kwDOAPphoM5xsOan",
            "original_commit_id": "5fa640e89fd0cf7f38eeb561aa605bf86028d655",
            "original_line": 793,
            "original_position": 31,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": 31,
            "pull_request_review_id": 2537551531,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907418791/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-08T15:58:28Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907418791",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1907421074"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907421074"
                }
            },
            "author_association": "MEMBER",
            "body": "> Maybe it raises the question of \"why are we bothering to add err flag\"? I assume it still has a purpose\r\n\r\nYes, I wondered about that too. There is still some logic in `emsg_multiline` that applies to \"emitting a message as an error\". If nothing else, the message kind is appropriately conveyed to ext_messages. Not sure if all the other logic only applies to Vimscript. There is at least `emsg_not_now()` which presumably takes effect.",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-08T15:59:28Z",
            "diff_hunk": "@@ -662,28 +662,13 @@ nvim_echo({chunks}, {history}, {opts})                           *nvim_echo()*\n                    `hl_group` element can be omitted for no highlight.\n       • {history}  if true, add to |message-history|.\n       • {opts}     Optional parameters.\n+                   • err: Print an error message for which `history` is always\n+                     true and omitting `hl_group` uses |hl-ErrorMsg|.",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1907421074",
            "id": 1907421074,
            "in_reply_to_id": 1907399833,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5xsO-S",
            "original_commit_id": "5fa640e89fd0cf7f38eeb561aa605bf86028d655",
            "original_line": 666,
            "original_position": 5,
            "original_start_line": null,
            "path": "runtime/doc/api.txt",
            "position": null,
            "pull_request_review_id": 2537555506,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907421074/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-08T16:05:41Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907421074",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1907423360"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907423360"
                }
            },
            "author_association": "MEMBER",
            "body": "ok I see that :echoerr uses the same call, so \"echoerr\" seems like a reasonable `kind`: https://github.com/neovim/neovim/blob/17b46d01e29443452ae8b607017f8f5c585d3f0a/src/nvim/eval.c#L7968-L7972\r\n\r\n",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-08T16:01:05Z",
            "diff_hunk": "@@ -302,9 +302,13 @@ void msg_multihl(HlMessage hl_msg, const char *kind, bool history)\n   msg_ext_set_kind(kind);\n   for (uint32_t i = 0; i < kv_size(hl_msg); i++) {\n     HlMessageChunk chunk = kv_A(hl_msg, i);\n-    msg_multiline(chunk.text, chunk.hl_id, true, false, &need_clear);\n+    if (err) {\n+      emsg_multiline(chunk.text.data, chunk.hl_id, true);",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1907423360",
            "id": 1907423360,
            "in_reply_to_id": 1907411843,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5xsPiA",
            "original_commit_id": "5fa640e89fd0cf7f38eeb561aa605bf86028d655",
            "original_line": 311,
            "original_position": 15,
            "original_start_line": null,
            "path": "src/nvim/message.c",
            "position": null,
            "pull_request_review_id": 2537559474,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907423360/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-08T16:01:25Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907423360",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1907425434"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907425434"
                }
            },
            "author_association": "MEMBER",
            "body": "Sounds like it has a purpose then. The doc here could mention a hint like \"Treats the message like `:echoerr`.\"",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-08T16:02:34Z",
            "diff_hunk": "@@ -662,28 +662,13 @@ nvim_echo({chunks}, {history}, {opts})                           *nvim_echo()*\n                    `hl_group` element can be omitted for no highlight.\n       • {history}  if true, add to |message-history|.\n       • {opts}     Optional parameters.\n+                   • err: Print an error message for which `history` is always\n+                     true and omitting `hl_group` uses |hl-ErrorMsg|.",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1907425434",
            "id": 1907425434,
            "in_reply_to_id": 1907399833,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5xsQCa",
            "original_commit_id": "5fa640e89fd0cf7f38eeb561aa605bf86028d655",
            "original_line": 666,
            "original_position": 5,
            "original_start_line": null,
            "path": "runtime/doc/api.txt",
            "position": null,
            "pull_request_review_id": 2537562909,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907425434/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-08T16:03:23Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907425434",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1907428658"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907428658"
                }
            },
            "author_association": "MEMBER",
            "body": "> assuming that this new err flag actually plumbs through the same codepaths as :echoerr\r\n\r\nIt does. And to me the fact that non-`opts->err` invocations were already emitted with the `echo(msg)` kind, using `echoerr` for `opts->err` seems natural.",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-08T16:04:49Z",
            "diff_hunk": "@@ -790,14 +790,14 @@ void nvim_echo(Array chunks, Boolean history, Dict(echo_opts) *opts, Error *err)\n     verbose_enter();\n   }\n \n-  msg_multihl(hl_msg, history ? \"echomsg\" : \"echo\", history);\n+  msg_multihl(hl_msg, opts->err ? \"echoerr\" : history ? \"echomsg\" : \"echo\", history, opts->err);",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1907428658",
            "id": 1907428658,
            "in_reply_to_id": 1907407592,
            "line": 793,
            "node_id": "PRRC_kwDOAPphoM5xsQ0y",
            "original_commit_id": "5fa640e89fd0cf7f38eeb561aa605bf86028d655",
            "original_line": 793,
            "original_position": 31,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": 31,
            "pull_request_review_id": 2537568381,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907428658/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-08T16:05:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907428658",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1907945876"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907945876"
                }
            },
            "author_association": "MEMBER",
            "body": "Yeah it would, easier to add it to `messages_spec.lua`. Which I did, and that revealed some more work was needed to avoid emitting multiple messages (with unset `kind`/`history`) for a single multihl message (because `msg_keep()` logic interferes with that). ",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-08T22:44:21Z",
            "diff_hunk": "@@ -3680,6 +3680,18 @@ describe('API', function()\n       async_meths.nvim_echo({ { 'msg\\nmsg' }, { 'msg' } }, false, {})\n       eq('', exec_capture('messages'))\n     end)\n+\n+    it('can print error message', function()\n+      async_meths.nvim_echo({ { 'Error' }, { 'Message', 'Special' } }, false, { err = true })\n+      screen:expect([[\n+                                                |\n+        {1:~                                       }|*3\n+        {3:                                        }|\n+        {9:Error}                                   |\n+        {16:Message}                                 |\n+        {6:Press ENTER or type command to continue}^ |\n+      ]])",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1907945876",
            "id": 1907945876,
            "in_reply_to_id": 1907413071,
            "line": 3693,
            "node_id": "PRRC_kwDOAPphoM5xuPGU",
            "original_commit_id": "5fa640e89fd0cf7f38eeb561aa605bf86028d655",
            "original_line": 3693,
            "original_position": 14,
            "original_start_line": null,
            "path": "test/functional/api/vim_spec.lua",
            "position": 14,
            "pull_request_review_id": 2538423655,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 1,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907945876/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-08T22:44:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907945876",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31900#discussion_r1908004777"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31900"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1908004777"
                }
            },
            "author_association": "MEMBER",
            "body": "This is a bit questionable since this goes against the point of the `is_multihl` guards, but it currently resolves a failing test related to newline formatting. `msg_start()` emits ext_messages (which we don't want for a single multihl message), while also taking care of formatting the message grid. Once the message grid is removed I want to re-evaluate whether `msg_start/end()` are necessary at all. Currently it results unnecessary message chunk splitting in various places (also seen in https://github.com/neovim/neovim/issues/31901).",
            "commit_id": "5c92b40b4b173c7d85106689fef811e41994abb0",
            "created_at": "2025-01-09T00:12:15Z",
            "diff_hunk": "@@ -618,6 +633,9 @@ void msg_source(int hl_id)\n     msg_scroll = true;  // this will take more than one line\n     msg(p, hl_id);\n     xfree(p);\n+    if (is_multihl) {\n+      msg_start();  // avoided in msg_keep() but necessary here",
            "html_url": "https://github.com/neovim/neovim/pull/31900#discussion_r1908004777",
            "id": 1908004777,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5xudep",
            "original_commit_id": "7bd67837aa964c4975d733df1a64e87f4f175b47",
            "original_line": 637,
            "original_position": 79,
            "original_start_line": null,
            "path": "src/nvim/message.c",
            "position": null,
            "pull_request_review_id": 2538511860,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 1,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1908004777/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-09T00:12:15Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1908004777",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        }
    ],
    "comment_regular_data": [],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/31900/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/31900/commits",
    "created_at": "2025-01-07T13:24:23Z",
    "diff_url": "https://github.com/neovim/neovim/pull/31900.diff",
    "draft": false,
    "head": {
        "label": "luukvbaal:nvim_echo",
        "ref": "nvim_echo",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/luukvbaal/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/luukvbaal/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/luukvbaal/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/luukvbaal/neovim/branches{/branch}",
            "clone_url": "https://github.com/luukvbaal/neovim.git",
            "collaborators_url": "https://api.github.com/repos/luukvbaal/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/luukvbaal/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/luukvbaal/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/luukvbaal/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/luukvbaal/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/luukvbaal/neovim/contributors",
            "created_at": "2022-07-05T23:21:47Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/luukvbaal/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/luukvbaal/neovim/downloads",
            "events_url": "https://api.github.com/repos/luukvbaal/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/luukvbaal/neovim/forks",
            "full_name": "luukvbaal/neovim",
            "git_commits_url": "https://api.github.com/repos/luukvbaal/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/luukvbaal/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/luukvbaal/neovim/git/tags{/sha}",
            "git_url": "git://github.com/luukvbaal/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/luukvbaal/neovim/hooks",
            "html_url": "https://github.com/luukvbaal/neovim",
            "id": 510922471,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/luukvbaal/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/luukvbaal/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/luukvbaal/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/luukvbaal/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/luukvbaal/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/luukvbaal/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/luukvbaal/neovim/merges",
            "milestones_url": "https://api.github.com/repos/luukvbaal/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "R_kgDOHnQO5w",
            "notifications_url": "https://api.github.com/repos/luukvbaal/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/luukvbaal/neovim/pulls{/number}",
            "pushed_at": "2025-01-13T11:54:14Z",
            "releases_url": "https://api.github.com/repos/luukvbaal/neovim/releases{/id}",
            "size": 301226,
            "ssh_url": "git@github.com:luukvbaal/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/luukvbaal/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/luukvbaal/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/luukvbaal/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/luukvbaal/neovim/subscription",
            "svn_url": "https://github.com/luukvbaal/neovim",
            "tags_url": "https://api.github.com/repos/luukvbaal/neovim/tags",
            "teams_url": "https://api.github.com/repos/luukvbaal/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/luukvbaal/neovim/git/trees{/sha}",
            "updated_at": "2025-01-06T21:15:53Z",
            "url": "https://api.github.com/repos/luukvbaal/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "5c92b40b4b173c7d85106689fef811e41994abb0",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
            "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
            "followers_url": "https://api.github.com/users/luukvbaal/followers",
            "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
            "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/luukvbaal",
            "id": 31730729,
            "login": "luukvbaal",
            "node_id": "MDQ6VXNlcjMxNzMwNzI5",
            "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
            "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
            "repos_url": "https://api.github.com/users/luukvbaal/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/luukvbaal",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/31900",
    "id": 2263899193,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31900",
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "libnvim, Nvim RPC API",
            "id": 103819671,
            "name": "api",
            "node_id": "MDU6TGFiZWwxMDM4MTk2NzE=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/api"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "funtime",
            "id": 120251370,
            "name": "runtime",
            "node_id": "MDU6TGFiZWwxMjAyNTEzNzA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/runtime"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "stdlib",
            "id": 573222693,
            "name": "lua",
            "node_id": "MDU6TGFiZWw1NzMyMjI2OTM=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lua"
        }
    ],
    "locked": false,
    "merge_commit_sha": "5135a232199047e473e3941b0b5a738c77fbecb5",
    "merged_at": "2025-01-09T14:36:29Z",
    "milestone": null,
    "node_id": "PR_kwDOAPphoM6G8Fw5",
    "number": 31900,
    "patch_url": "https://github.com/neovim/neovim/pull/31900.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/31900/comments",
    "state": "closed",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/5c92b40b4b173c7d85106689fef811e41994abb0",
    "title": "feat(api): add err field to nvim_echo() opts",
    "updated_at": "2025-01-09T14:36:29Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/31900",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
        "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
        "followers_url": "https://api.github.com/users/luukvbaal/followers",
        "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
        "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/luukvbaal",
        "id": 31730729,
        "login": "luukvbaal",
        "node_id": "MDQ6VXNlcjMxNzMwNzI5",
        "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
        "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
        "repos_url": "https://api.github.com/users/luukvbaal/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/luukvbaal",
        "user_view_type": "public"
    }
}