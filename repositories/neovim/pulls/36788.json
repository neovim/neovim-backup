{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/36788/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/36788/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/36788"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/36788"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/36788/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/36788"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/7282299ef18911942db1312345ce813d2cd306e2"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 6464,
            "forks_count": 6464,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 2020,
            "open_issues_count": 2020,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2025-12-09T01:08:10Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 354992,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 94818,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2025-12-09T02:18:49Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 94818,
            "watchers_count": 94818,
            "web_commit_signoff_required": false
        },
        "sha": "310d01d8faa58da570a7f50c8e0bf2a9940a5139",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim",
            "user_view_type": "public"
        }
    },
    "body": "Fixes [the doubling diagnostics issue](https://github.com/neovim/neovim/pull/36458#issuecomment-3505422898) described in #36458. I decided it wasn't worth it to fully detach the client, and instead simply resetting diagnostics is enough.",
    "closed_at": "2025-12-04T17:39:16Z",
    "comment_data": [],
    "comment_regular_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "> Why is the existing diagnostic.reset triggered via `LspDetach` not working?\r\n\r\nThe reset works, it just happens too late. If there is a large time gap between calling `Client:stop()` and the server actually exiting, the diagnostics will not be removed until the server actually exits, not when `Client:stop()` is called. This causes diagnostics to be duplicated if another client is attached afterwards.\r\n\r\nI'd like to hear your thoughts though: do you think the client should be fully detached in `Client:stop()`, instead of just making this change for only diagnostics?\r\n\r\n> Should also have a test case\r\n\r\nIt definitely should. I didn't write one because the steps required to properly test it are hard. You need a language server that can both display diagnostics and fail to shutdown in a reasonable time. I haven't taken a very close look at the language servers used for testing, but I imagine it'll be hard to configure a server to fail to shutdown.",
            "created_at": "2025-12-02T16:58:06Z",
            "html_url": "https://github.com/neovim/neovim/pull/36788#issuecomment-3603058170",
            "id": 3603058170,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36788",
            "node_id": "IC_kwDOAPphoM7Wwk36",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3603058170/reactions"
            },
            "updated_at": "2025-12-02T16:58:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3603058170",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/51250849?v=4",
                "events_url": "https://api.github.com/users/superatomic/events{/privacy}",
                "followers_url": "https://api.github.com/users/superatomic/followers",
                "following_url": "https://api.github.com/users/superatomic/following{/other_user}",
                "gists_url": "https://api.github.com/users/superatomic/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/superatomic",
                "id": 51250849,
                "login": "superatomic",
                "node_id": "MDQ6VXNlcjUxMjUwODQ5",
                "organizations_url": "https://api.github.com/users/superatomic/orgs",
                "received_events_url": "https://api.github.com/users/superatomic/received_events",
                "repos_url": "https://api.github.com/users/superatomic/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/superatomic/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/superatomic/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/superatomic",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> The reset works, it just happens too late. If there is a large time gap between calling Client:stop() and the server actually exiting, the diagnostics will not be removed until the server actually exits, not when Client:stop() is called. This causes diagnostics to be duplicated if another client is attached afterwards.\r\n\r\nThis sounds like a workaround for issues elsewhere. We should imho have a restart that waits for the client to be gone before starting and attaching the new one. We shouldn't have to add a second way to reset diagnostics in addition to the existing mechanism. Either the existing mechanism can be replaced, or we need to ensure it works. And given that LspDetach is also used by plugins for cleanup I think it's the latter.\r\n\r\nWould be good to have some problem description from a user-facing behavior perspective. Because I'm starting to question the whole `:stop` and timeout changes and coupling with the exit timeout a bit.",
            "created_at": "2025-12-02T18:06:30Z",
            "html_url": "https://github.com/neovim/neovim/pull/36788#issuecomment-3603328705",
            "id": 3603328705,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36788",
            "node_id": "IC_kwDOAPphoM7Wxm7B",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3603328705/reactions"
            },
            "updated_at": "2025-12-02T18:08:01Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3603328705",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/38700?v=4",
                "events_url": "https://api.github.com/users/mfussenegger/events{/privacy}",
                "followers_url": "https://api.github.com/users/mfussenegger/followers",
                "following_url": "https://api.github.com/users/mfussenegger/following{/other_user}",
                "gists_url": "https://api.github.com/users/mfussenegger/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mfussenegger",
                "id": 38700,
                "login": "mfussenegger",
                "node_id": "MDQ6VXNlcjM4NzAw",
                "organizations_url": "https://api.github.com/users/mfussenegger/orgs",
                "received_events_url": "https://api.github.com/users/mfussenegger/received_events",
                "repos_url": "https://api.github.com/users/mfussenegger/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mfussenegger/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mfussenegger/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mfussenegger",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> This sounds like a workaround for issues elsewhere. We should imho have a restart that waits for the client to be gone before starting and attaching the new one.\r\n\r\nI agree the default behavior is not the best, but I don't think having the restart wait for the client to be gone is the best idea. Since the default is now being changed back to `false`, this could cause the client to never restart. I'd be in favor of going the other way, and having the client get detached immediately after it is instructed to terminate.",
            "created_at": "2025-12-02T20:52:33Z",
            "html_url": "https://github.com/neovim/neovim/pull/36788#issuecomment-3603915692",
            "id": 3603915692,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36788",
            "node_id": "IC_kwDOAPphoM7Wz2Os",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3603915692/reactions"
            },
            "updated_at": "2025-12-02T20:52:33Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3603915692",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/51250849?v=4",
                "events_url": "https://api.github.com/users/superatomic/events{/privacy}",
                "followers_url": "https://api.github.com/users/superatomic/followers",
                "following_url": "https://api.github.com/users/superatomic/following{/other_user}",
                "gists_url": "https://api.github.com/users/superatomic/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/superatomic",
                "id": 51250849,
                "login": "superatomic",
                "node_id": "MDQ6VXNlcjUxMjUwODQ5",
                "organizations_url": "https://api.github.com/users/superatomic/orgs",
                "received_events_url": "https://api.github.com/users/superatomic/received_events",
                "repos_url": "https://api.github.com/users/superatomic/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/superatomic/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/superatomic/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/superatomic",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> I agree the default behavior is not the best, but I don't think having the restart wait for the client to be gone is the best idea.\r\n\r\nYou've to consider that there are servers which use the filesystem to store an index of the analyzed code base. If you start a new server which uses the same index location as the initial client/server that's currently shutting down you can run into issues: If the server implementation is good it has some sort of locking and it will likely wait and block until the lock is released. This in the end would have the same effect as neovim waiting for the shutdown. But if it didn't implement a lock you'll have two processes attempting to write to the same files - leading to a corrupted index. So worst case is that you'll end up with a non-functional lsp client.\r\n\r\nCan you give some background on your motivation for these changes? It sounds like you're using a server that behaves badly in regards to shutting down/restarting. What server are you using? Why is it freezing? \r\n\r\n",
            "created_at": "2025-12-03T14:31:50Z",
            "html_url": "https://github.com/neovim/neovim/pull/36788#issuecomment-3607149607",
            "id": 3607149607,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36788",
            "node_id": "IC_kwDOAPphoM7XALwn",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3607149607/reactions"
            },
            "updated_at": "2025-12-03T14:31:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3607149607",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/38700?v=4",
                "events_url": "https://api.github.com/users/mfussenegger/events{/privacy}",
                "followers_url": "https://api.github.com/users/mfussenegger/followers",
                "following_url": "https://api.github.com/users/mfussenegger/following{/other_user}",
                "gists_url": "https://api.github.com/users/mfussenegger/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mfussenegger",
                "id": 38700,
                "login": "mfussenegger",
                "node_id": "MDQ6VXNlcjM4NzAw",
                "organizations_url": "https://api.github.com/users/mfussenegger/orgs",
                "received_events_url": "https://api.github.com/users/mfussenegger/received_events",
                "repos_url": "https://api.github.com/users/mfussenegger/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mfussenegger/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mfussenegger/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mfussenegger",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> You've to consider that there are servers which use the filesystem to store an index of the analyzed code base. If you start a new server which uses the same index location as the initial client/server that's currently shutting down you can run into issues: If the server implementation is good it has some sort of locking and it will likely wait and block until the lock is released. This in the end would have the same effect as neovim waiting for the shutdown. But if it didn't implement a lock you'll have two processes attempting to write to the same files - leading to a corrupted index. So worst case is that you'll end up with a non-functional lsp client.\r\n\r\nThat's fair. Sounds like we should do that then, and not start a new server until the old one fully exits.\r\n\r\n> Can you give some background on your motivation for these changes? It sounds like you're using a server that behaves badly in regards to shutting down/restarting. What server are you using? Why is it freezing?\r\n\r\nI noticed this problem with my custom modification of `python-language-server` which I hacked to never terminate, which I used for testing in #36458.",
            "created_at": "2025-12-03T17:34:32Z",
            "html_url": "https://github.com/neovim/neovim/pull/36788#issuecomment-3608006137",
            "id": 3608006137,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36788",
            "node_id": "IC_kwDOAPphoM7XDc35",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3608006137/reactions"
            },
            "updated_at": "2025-12-03T17:34:32Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3608006137",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/51250849?v=4",
                "events_url": "https://api.github.com/users/superatomic/events{/privacy}",
                "followers_url": "https://api.github.com/users/superatomic/followers",
                "following_url": "https://api.github.com/users/superatomic/following{/other_user}",
                "gists_url": "https://api.github.com/users/superatomic/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/superatomic",
                "id": 51250849,
                "login": "superatomic",
                "node_id": "MDQ6VXNlcjUxMjUwODQ5",
                "organizations_url": "https://api.github.com/users/superatomic/orgs",
                "received_events_url": "https://api.github.com/users/superatomic/received_events",
                "repos_url": "https://api.github.com/users/superatomic/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/superatomic/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/superatomic/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/superatomic",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Closing, as it seems the better fix to this bug would be to delay the new client from connecting.\r\n\r\n> We should imho have a restart that waits for the client to be gone before starting and attaching the new one.\r\n\r\nShould I submit a PR to add this behavior to `vim.lsp.enable()`?",
            "created_at": "2025-12-04T17:39:16Z",
            "html_url": "https://github.com/neovim/neovim/pull/36788#issuecomment-3613485640",
            "id": 3613485640,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36788",
            "node_id": "IC_kwDOAPphoM7XYWpI",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3613485640/reactions"
            },
            "updated_at": "2025-12-04T17:39:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3613485640",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/51250849?v=4",
                "events_url": "https://api.github.com/users/superatomic/events{/privacy}",
                "followers_url": "https://api.github.com/users/superatomic/followers",
                "following_url": "https://api.github.com/users/superatomic/following{/other_user}",
                "gists_url": "https://api.github.com/users/superatomic/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/superatomic",
                "id": 51250849,
                "login": "superatomic",
                "node_id": "MDQ6VXNlcjUxMjUwODQ5",
                "organizations_url": "https://api.github.com/users/superatomic/orgs",
                "received_events_url": "https://api.github.com/users/superatomic/received_events",
                "repos_url": "https://api.github.com/users/superatomic/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/superatomic/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/superatomic/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/superatomic",
                "user_view_type": "public"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/36788/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/36788/commits",
    "created_at": "2025-12-01T23:22:43Z",
    "diff_url": "https://github.com/neovim/neovim/pull/36788.diff",
    "draft": false,
    "head": {
        "label": "superatomic:remove-diagnostics-on-client-stop",
        "ref": "remove-diagnostics-on-client-stop",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/superatomic/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/superatomic/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/superatomic/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/superatomic/neovim/branches{/branch}",
            "clone_url": "https://github.com/superatomic/neovim.git",
            "collaborators_url": "https://api.github.com/repos/superatomic/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/superatomic/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/superatomic/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/superatomic/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/superatomic/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/superatomic/neovim/contributors",
            "created_at": "2025-11-04T00:14:36Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/superatomic/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/superatomic/neovim/downloads",
            "events_url": "https://api.github.com/repos/superatomic/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/superatomic/neovim/forks",
            "full_name": "superatomic/neovim",
            "git_commits_url": "https://api.github.com/repos/superatomic/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/superatomic/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/superatomic/neovim/git/tags{/sha}",
            "git_url": "git://github.com/superatomic/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/superatomic/neovim/hooks",
            "html_url": "https://github.com/superatomic/neovim",
            "id": 1089144502,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/superatomic/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/superatomic/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/superatomic/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/superatomic/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/superatomic/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/superatomic/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/superatomic/neovim/merges",
            "milestones_url": "https://api.github.com/repos/superatomic/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "R_kgDOQOsGtg",
            "notifications_url": "https://api.github.com/repos/superatomic/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/51250849?v=4",
                "events_url": "https://api.github.com/users/superatomic/events{/privacy}",
                "followers_url": "https://api.github.com/users/superatomic/followers",
                "following_url": "https://api.github.com/users/superatomic/following{/other_user}",
                "gists_url": "https://api.github.com/users/superatomic/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/superatomic",
                "id": 51250849,
                "login": "superatomic",
                "node_id": "MDQ6VXNlcjUxMjUwODQ5",
                "organizations_url": "https://api.github.com/users/superatomic/orgs",
                "received_events_url": "https://api.github.com/users/superatomic/received_events",
                "repos_url": "https://api.github.com/users/superatomic/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/superatomic/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/superatomic/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/superatomic",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/superatomic/neovim/pulls{/number}",
            "pushed_at": "2025-12-06T22:44:41Z",
            "releases_url": "https://api.github.com/repos/superatomic/neovim/releases{/id}",
            "size": 353695,
            "ssh_url": "git@github.com:superatomic/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/superatomic/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/superatomic/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/superatomic/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/superatomic/neovim/subscription",
            "svn_url": "https://github.com/superatomic/neovim",
            "tags_url": "https://api.github.com/repos/superatomic/neovim/tags",
            "teams_url": "https://api.github.com/repos/superatomic/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/superatomic/neovim/git/trees{/sha}",
            "updated_at": "2025-12-05T07:24:01Z",
            "url": "https://api.github.com/repos/superatomic/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "7282299ef18911942db1312345ce813d2cd306e2",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/51250849?v=4",
            "events_url": "https://api.github.com/users/superatomic/events{/privacy}",
            "followers_url": "https://api.github.com/users/superatomic/followers",
            "following_url": "https://api.github.com/users/superatomic/following{/other_user}",
            "gists_url": "https://api.github.com/users/superatomic/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/superatomic",
            "id": 51250849,
            "login": "superatomic",
            "node_id": "MDQ6VXNlcjUxMjUwODQ5",
            "organizations_url": "https://api.github.com/users/superatomic/orgs",
            "received_events_url": "https://api.github.com/users/superatomic/received_events",
            "repos_url": "https://api.github.com/users/superatomic/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/superatomic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/superatomic/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/superatomic",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/36788",
    "id": 3061302020,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36788",
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": null,
            "id": 662566370,
            "name": "lsp",
            "node_id": "MDU6TGFiZWw2NjI1NjYzNzA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lsp"
        }
    ],
    "locked": false,
    "merge_commit_sha": "e4c40b29294dec7736b466cf4880ab476b4f5e90",
    "merged_at": null,
    "milestone": null,
    "node_id": "PR_kwDOAPphoM62d8ME",
    "number": 36788,
    "patch_url": "https://github.com/neovim/neovim/pull/36788.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/36788/comments",
    "state": "closed",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/7282299ef18911942db1312345ce813d2cd306e2",
    "title": "fix(lsp): reset diagnostics during `Client:stop()`",
    "updated_at": "2025-12-04T18:05:07Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/36788",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/51250849?v=4",
        "events_url": "https://api.github.com/users/superatomic/events{/privacy}",
        "followers_url": "https://api.github.com/users/superatomic/followers",
        "following_url": "https://api.github.com/users/superatomic/following{/other_user}",
        "gists_url": "https://api.github.com/users/superatomic/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/superatomic",
        "id": 51250849,
        "login": "superatomic",
        "node_id": "MDQ6VXNlcjUxMjUwODQ5",
        "organizations_url": "https://api.github.com/users/superatomic/orgs",
        "received_events_url": "https://api.github.com/users/superatomic/received_events",
        "repos_url": "https://api.github.com/users/superatomic/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/superatomic/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/superatomic/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/superatomic",
        "user_view_type": "public"
    }
}