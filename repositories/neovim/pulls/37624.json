{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/37624/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/37624/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/37624"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/37624"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/37624/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/97bf25353c85df2180320c15d2fb7f2f3f51a8de"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 6574,
            "forks_count": 6574,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 2065,
            "open_issues_count": 2065,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2026-02-10T04:03:36Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 369214,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 96334,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2026-02-10T02:38:41Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 96334,
            "watchers_count": 96334,
            "web_commit_signoff_required": false
        },
        "sha": "ddd1bf757fab3615301053acab5cc85508340844",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim",
            "user_view_type": "public"
        }
    },
    "body": "Problem:\r\ncursor is hard to see when it's behind a floating window\r\n\r\nSolution:\r\nuse underline cursor to indicate the cursor is covered by floats\r\n\r\nFix #35923 \r\n",
    "closed_at": "2026-02-04T15:09:51Z",
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2754001159"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2754001159"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\nbool win_behind_float(win_T *wp)\r\n  FUNC_ATTR_NONNULL_ALL FUNC_ATTR_WARN_UNUSED_RESULT\r\n{\r\n```\r\n\r\nI suppose it's fine, but `wp` is already not NULL in the only place it's called.",
            "commit_id": "d599e4026db709f72cead6bf3f5cc9399f1e2255",
            "created_at": "2026-02-02T12:02:05Z",
            "diff_hunk": "@@ -471,3 +471,31 @@ win_T *win_float_create_preview(bool enter, bool new_buf)\n   }\n   return wp;\n }\n+\n+bool win_behind_float(win_T *wp)\n+{\n+  if (!wp) {\n+    return false;\n+  }",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2754001159",
            "id": 2754001159,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6kJrkH",
            "original_commit_id": "d599e4026db709f72cead6bf3f5cc9399f1e2255",
            "original_line": 479,
            "original_position": 9,
            "original_start_line": 475,
            "path": "src/nvim/winfloat.c",
            "position": 1,
            "pull_request_review_id": 3738987191,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2754001159/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-02T12:18:13Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2754001159",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2758298467"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2758298467"
                }
            },
            "author_association": "MEMBER",
            "body": "Hmm, I'm not totally sure (and I don't have a repro for this), but until `ui_ext_win_position` is called (via `win_ui_flush`), maybe it's possible for a hidden float's grid to still be in `layers`? If that happens, the cursor may be considered unobscured despite being behind another non-hidden float that's behind the hidden float.\r\n\r\nMight want to move cursor visibility handling until after the `win_ui_flush`es below this stuff?\r\nThat should also mean the check for `w_config.hide` can be removed.",
            "commit_id": "fdd6702d799e704a4afae6a75b810b01307b8efc",
            "created_at": "2026-02-03T10:13:15Z",
            "diff_hunk": "@@ -543,10 +538,32 @@ void ui_flush(void)\n \n   static bool was_busy = false;\n \n-  if (!(State & MODE_CMDLINE) && curwin->w_floating && curwin->w_config.hide) {\n-    if (!was_busy) {\n-      ui_call_busy_start();\n-      was_busy = true;\n+  if (!(State & MODE_CMDLINE)) {\n+    if (curwin->w_floating && curwin->w_config.hide) {\n+      if (!was_busy) {\n+        ui_call_busy_start();\n+        was_busy = true;\n+      }\n+    } else {\n+      if (was_busy) {\n+        ui_call_busy_stop();\n+        was_busy = false;\n+      }\n+\n+      int crow = curwin->w_winrow + curwin->w_wrow;\n+      int ccol = curwin->w_wincol + curwin->w_wcol;\n+      ScreenGrid *top_grid = ui_comp_get_grid_at_coord(crow, ccol);\n+      win_T *wp = (top_grid && top_grid != &curwin->w_grid_alloc && top_grid != &default_grid)\n+                  ? get_win_by_grid_handle(top_grid->handle) : NULL;\n+\n+      int cur_z = curwin->w_floating ? curwin->w_config.zindex : 0;\n+      bool cursor_obscured = wp && wp->w_floating && !wp->w_config.hide\n+                             && wp->w_config.zindex > cur_z;",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2758298467",
            "id": 2758298467,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6kaEtj",
            "original_commit_id": "fdd6702d799e704a4afae6a75b810b01307b8efc",
            "original_line": 561,
            "original_position": 53,
            "original_start_line": 560,
            "path": "src/nvim/ui.c",
            "position": 1,
            "pull_request_review_id": 3744360311,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2758298467/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-03T10:52:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2758298467",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2758457545"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2758457545"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n      int crow = curwin->w_winrow + curwin->w_winrow_off + curwin->w_wrow;\r\n      int ccol = curwin->w_wincol + curwin->w_wincol_off\r\n                 + (curwin->w_p_rl ? curwin->w_view_width - curwin->w_wcol - 1\r\n                                   : curwin->w_wcol);\r\n```\r\n\r\nMaybe there's a better way, but this needs to at least consider `w_win{row,col}_off`, otherwise borders aren't accounted for. Plus `'rightleft'`. Add these tests:\r\n\r\n```lua\r\nvim.api.nvim_open_win(0, true, {relative = \"editor\", width = 5, height = 5, row = 8, col = 9, border = \"single\", zindex = 1})\r\nvim.api.nvim_open_win(0, false, {relative = \"editor\", width = 10, height = 10, row = 0, col = 0, zindex = 2})\r\n-- Cursor should be unobscured here.\r\n\r\nvim.api.nvim_win_set_config(0, {relative = \"editor\", row = 9, col = 8})\r\n-- Cursor should also be unobscured here.\r\n\r\nvim.api.nvim_win_set_config(0, {relative = \"editor\", row = 8, col = 8})\r\nvim.o.rightleft = true\r\n-- Cursor should also be unobscured here.\r\n\r\nvim.o.virtualedit = \"all\"\r\nvim.fn.setpos(\".\", {0, 1, 1, 4})\r\n-- Cursor should be *obscured* here.\r\n```",
            "commit_id": "fdd6702d799e704a4afae6a75b810b01307b8efc",
            "created_at": "2026-02-03T10:49:02Z",
            "diff_hunk": "@@ -543,10 +538,32 @@ void ui_flush(void)\n \n   static bool was_busy = false;\n \n-  if (!(State & MODE_CMDLINE) && curwin->w_floating && curwin->w_config.hide) {\n-    if (!was_busy) {\n-      ui_call_busy_start();\n-      was_busy = true;\n+  if (!(State & MODE_CMDLINE)) {\n+    if (curwin->w_floating && curwin->w_config.hide) {\n+      if (!was_busy) {\n+        ui_call_busy_start();\n+        was_busy = true;\n+      }\n+    } else {\n+      if (was_busy) {\n+        ui_call_busy_stop();\n+        was_busy = false;\n+      }\n+\n+      int crow = curwin->w_winrow + curwin->w_wrow;\n+      int ccol = curwin->w_wincol + curwin->w_wcol;",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2758457545",
            "id": 2758457545,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6karjJ",
            "original_commit_id": "fdd6702d799e704a4afae6a75b810b01307b8efc",
            "original_line": 554,
            "original_position": 46,
            "original_start_line": 553,
            "path": "src/nvim/ui.c",
            "position": 1,
            "pull_request_review_id": 3744360311,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2758457545/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-03T11:01:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2758457545",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2758821812"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2758821812"
                }
            },
            "author_association": "MEMBER",
            "body": "cool updated.",
            "commit_id": "fdd6702d799e704a4afae6a75b810b01307b8efc",
            "created_at": "2026-02-03T12:26:09Z",
            "diff_hunk": "@@ -543,10 +538,32 @@ void ui_flush(void)\n \n   static bool was_busy = false;\n \n-  if (!(State & MODE_CMDLINE) && curwin->w_floating && curwin->w_config.hide) {\n-    if (!was_busy) {\n-      ui_call_busy_start();\n-      was_busy = true;\n+  if (!(State & MODE_CMDLINE)) {\n+    if (curwin->w_floating && curwin->w_config.hide) {\n+      if (!was_busy) {\n+        ui_call_busy_start();\n+        was_busy = true;\n+      }\n+    } else {\n+      if (was_busy) {\n+        ui_call_busy_stop();\n+        was_busy = false;\n+      }\n+\n+      int crow = curwin->w_winrow + curwin->w_wrow;\n+      int ccol = curwin->w_wincol + curwin->w_wcol;",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2758821812",
            "id": 2758821812,
            "in_reply_to_id": 2758457545,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6kcEe0",
            "original_commit_id": "fdd6702d799e704a4afae6a75b810b01307b8efc",
            "original_line": 554,
            "original_position": 46,
            "original_start_line": 553,
            "path": "src/nvim/ui.c",
            "position": 1,
            "pull_request_review_id": 3744971228,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2758821812/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-03T12:26:09Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2758821812",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2759022316"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759022316"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n```\r\n\r\nWhy was this added? This fails [my prior example](https://github.com/neovim/neovim/pull/37624#discussion_r2758457545) and should have failed CI if it's including it.",
            "commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "created_at": "2026-02-03T13:13:39Z",
            "diff_hunk": "@@ -571,6 +566,27 @@ void ui_flush(void)\n     // by nvim core, not the compositor)\n     win_ui_flush(false);\n   }\n+\n+  if (ui_comp_should_draw() && !(State & MODE_CMDLINE)) {\n+    int crow = curwin->w_winrow + curwin->w_winrow_off + curwin->w_wrow;\n+    int ccol = curwin->w_wincol + curwin->w_wincol_off +\n+               (curwin->w_p_rl ? curwin->w_view_width - curwin->w_wcol - 1 : curwin->w_wcol);\n+    if (curwin->w_cursor.coladd > 0) {\n+      ccol += curwin->w_cursor.coladd;\n+    }",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2759022316",
            "id": 2759022316,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6kc1bs",
            "original_commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "original_line": 576,
            "original_position": 36,
            "original_start_line": 574,
            "path": "src/nvim/ui.c",
            "position": 1,
            "pull_request_review_id": 3745195604,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759022316/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-03T13:22:14Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759022316",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2759645623"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759645623"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\n  // Show \"empty box\" cursor if behind a floatwin.\n  if (ui_comp_should_draw() && !(State & MODE_CMDLINE)) {\n```",
            "commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "created_at": "2026-02-03T15:26:29Z",
            "diff_hunk": "@@ -571,6 +566,27 @@ void ui_flush(void)\n     // by nvim core, not the compositor)\n     win_ui_flush(false);\n   }\n+\n+  if (ui_comp_should_draw() && !(State & MODE_CMDLINE)) {",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2759645623",
            "id": 2759645623,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6kfNm3",
            "original_commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "original_line": 570,
            "original_position": 30,
            "original_start_line": null,
            "path": "src/nvim/ui.c",
            "position": 1,
            "pull_request_review_id": 3745938893,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759645623/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-03T15:26:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759645623",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2759669228"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759669228"
                }
            },
            "author_association": "MEMBER",
            "body": "should this logic live in a new function like `ui_cursor_is_behind_floatwin`, just below `ui_cursor_shape`",
            "commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "created_at": "2026-02-03T15:31:51Z",
            "diff_hunk": "@@ -571,6 +566,27 @@ void ui_flush(void)\n     // by nvim core, not the compositor)\n     win_ui_flush(false);\n   }\n+\n+  if (ui_comp_should_draw() && !(State & MODE_CMDLINE)) {\n+    int crow = curwin->w_winrow + curwin->w_winrow_off + curwin->w_wrow;\n+    int ccol = curwin->w_wincol + curwin->w_wincol_off +\n+               (curwin->w_p_rl ? curwin->w_view_width - curwin->w_wcol - 1 : curwin->w_wcol);\n+    if (curwin->w_cursor.coladd > 0) {\n+      ccol += curwin->w_cursor.coladd;\n+    }\n+    ScreenGrid *top_grid = ui_comp_get_grid_at_coord(crow, ccol);\n+    win_T *wp = (top_grid && top_grid != &curwin->w_grid_alloc\n+                 && top_grid != &default_grid) ? get_win_by_grid_handle(top_grid->handle) : NULL;\n+    int cur_z = curwin->w_floating ? curwin->w_config.zindex : 0;\n+    bool cursor_obscured = wp && wp->w_floating && wp->w_config.zindex > cur_z;\n+\n+    int new_idx = cursor_obscured ? SHAPE_IDX_R : cursor_get_mode_idx();\n+    if (ui_mode_idx != new_idx) {\n+      ui_mode_idx = new_idx;\n+      pending_mode_update = true;\n+    }",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2759669228",
            "id": 2759669228,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6kfTXs",
            "original_commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "original_line": 587,
            "original_position": 47,
            "original_start_line": 577,
            "path": "src/nvim/ui.c",
            "position": 1,
            "pull_request_review_id": 3745966221,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759669228/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-03T15:33:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759669228",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2759674883"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759674883"
                }
            },
            "author_association": "MEMBER",
            "body": "why does it check !MODE_CMDLINE ? is that because `curwin` cursor may be behind a floatwin, while the cmdline cursor is not?",
            "commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "created_at": "2026-02-03T15:33:12Z",
            "diff_hunk": "@@ -571,6 +566,27 @@ void ui_flush(void)\n     // by nvim core, not the compositor)\n     win_ui_flush(false);\n   }\n+\n+  if (ui_comp_should_draw() && !(State & MODE_CMDLINE)) {",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2759674883",
            "id": 2759674883,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6kfUwD",
            "original_commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "original_line": 570,
            "original_position": 30,
            "original_start_line": null,
            "path": "src/nvim/ui.c",
            "position": 1,
            "pull_request_review_id": 3745972581,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759674883/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-03T15:33:12Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759674883",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2759681937"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759681937"
                }
            },
            "author_association": "MEMBER",
            "body": "seems like there are no asserts for `multigrid=true`, so perhaps just skip (early return) the test if `multigrid` is true? or alternatively, assert what we expect for multigrid case.",
            "commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "created_at": "2026-02-03T15:34:48Z",
            "diff_hunk": "@@ -11251,6 +11251,79 @@ describe('float window', function()\n       eq('Vim(set):E474: Invalid argument: winborder=+,-,+,|,+,-,+,', pcall_err(command, [[set winborder=+,-,+,\\|,+,-,+,]]))\n       eq('Vim(set):E474: Invalid argument: winborder=custom', pcall_err(command, 'set winborder=custom'))\n     end)\n+\n+    it('cursor shape when the cursor is covered by a floating window', function()\n+      local normal_win = api.nvim_get_current_win()\n+      api.nvim_buf_set_lines(0, 0, -1, true, { 'one', 'two' })\n+      api.nvim_win_set_cursor(0, { 2, 2 })\n+      local buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, 0, true, { 'the only line' })\n+      local win = api.nvim_open_win(buf, false, { relative = 'editor', row = 0, col = 0, height = 2, width = 20 })\n+      if not multigrid then\n+        screen:expect { mode = 'replace' }",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2759681937",
            "id": 2759681937,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6kfWeR",
            "original_commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "original_line": 11263,
            "original_position": 13,
            "original_start_line": 11262,
            "path": "test/functional/ui/float_spec.lua",
            "position": 1,
            "pull_request_review_id": 3745980424,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759681937/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-03T15:35:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759681937",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2759725014"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759725014"
                }
            },
            "author_association": "MEMBER",
            "body": "Yup, cursor's drawn in the command-line at that point, not inside `curwin`.\r\n\r\nThere's a similar check above for unhiding the cursor if `curwin` is hidden but we're in the command-line. (this used to live there before I suggested moving it after `win_ui_flush`)",
            "commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "created_at": "2026-02-03T15:44:39Z",
            "diff_hunk": "@@ -571,6 +566,27 @@ void ui_flush(void)\n     // by nvim core, not the compositor)\n     win_ui_flush(false);\n   }\n+\n+  if (ui_comp_should_draw() && !(State & MODE_CMDLINE)) {",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2759725014",
            "id": 2759725014,
            "in_reply_to_id": 2759674883,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6kfg_W",
            "original_commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "original_line": 570,
            "original_position": 30,
            "original_start_line": null,
            "path": "src/nvim/ui.c",
            "position": 1,
            "pull_request_review_id": 3746031913,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759725014/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-03T15:44:39Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759725014",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2759738123"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759738123"
                }
            },
            "author_association": "MEMBER",
            "body": "I think multigrid tests for this would be a good idea.",
            "commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "created_at": "2026-02-03T15:47:35Z",
            "diff_hunk": "@@ -11251,6 +11251,79 @@ describe('float window', function()\n       eq('Vim(set):E474: Invalid argument: winborder=+,-,+,|,+,-,+,', pcall_err(command, [[set winborder=+,-,+,\\|,+,-,+,]]))\n       eq('Vim(set):E474: Invalid argument: winborder=custom', pcall_err(command, 'set winborder=custom'))\n     end)\n+\n+    it('cursor shape when the cursor is covered by a floating window', function()\n+      local normal_win = api.nvim_get_current_win()\n+      api.nvim_buf_set_lines(0, 0, -1, true, { 'one', 'two' })\n+      api.nvim_win_set_cursor(0, { 2, 2 })\n+      local buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, 0, true, { 'the only line' })\n+      local win = api.nvim_open_win(buf, false, { relative = 'editor', row = 0, col = 0, height = 2, width = 20 })\n+      if not multigrid then\n+        screen:expect { mode = 'replace' }",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2759738123",
            "id": 2759738123,
            "in_reply_to_id": 2759681937,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6kfkML",
            "original_commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "original_line": 11263,
            "original_position": 13,
            "original_start_line": 11262,
            "path": "test/functional/ui/float_spec.lua",
            "position": 1,
            "pull_request_review_id": 3746048081,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759738123/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-03T15:47:36Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759738123",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2762078303"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2762078303"
                }
            },
            "author_association": "MEMBER",
            "body": "oh right `w_wcol` already includes the virtual edit offset",
            "commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "created_at": "2026-02-04T04:06:40Z",
            "diff_hunk": "@@ -571,6 +566,27 @@ void ui_flush(void)\n     // by nvim core, not the compositor)\n     win_ui_flush(false);\n   }\n+\n+  if (ui_comp_should_draw() && !(State & MODE_CMDLINE)) {\n+    int crow = curwin->w_winrow + curwin->w_winrow_off + curwin->w_wrow;\n+    int ccol = curwin->w_wincol + curwin->w_wincol_off +\n+               (curwin->w_p_rl ? curwin->w_view_width - curwin->w_wcol - 1 : curwin->w_wcol);\n+    if (curwin->w_cursor.coladd > 0) {\n+      ccol += curwin->w_cursor.coladd;\n+    }",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2762078303",
            "id": 2762078303,
            "in_reply_to_id": 2759022316,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6kofhf",
            "original_commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "original_line": 576,
            "original_position": 36,
            "original_start_line": 574,
            "path": "src/nvim/ui.c",
            "position": 1,
            "pull_request_review_id": 3748834049,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2762078303/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-04T04:06:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2762078303",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2762796769"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2762796769"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\n    it('cursor shape when the cursor is covered by a floating window', function()\n```",
            "commit_id": "5b53f2beeb702edd71602b60f181e6cecd3eb765",
            "created_at": "2026-02-04T08:29:52Z",
            "diff_hunk": "@@ -11251,6 +11251,346 @@ describe('float window', function()\n       eq('Vim(set):E474: Invalid argument: winborder=+,-,+,|,+,-,+,', pcall_err(command, [[set winborder=+,-,+,\\|,+,-,+,]]))\n       eq('Vim(set):E474: Invalid argument: winborder=custom', pcall_err(command, 'set winborder=custom'))\n     end)\n+\n+    it('cursor shape when the cursor is covered by a floating window #test', function()",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2762796769",
            "id": 2762796769,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6krO7h",
            "original_commit_id": "5b53f2beeb702edd71602b60f181e6cecd3eb765",
            "original_line": 11255,
            "original_position": 5,
            "original_start_line": null,
            "path": "test/functional/ui/float_spec.lua",
            "position": 1,
            "pull_request_review_id": 3749660574,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2762796769/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-04T08:29:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2762796769",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2762812621"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2762812621"
                }
            },
            "author_association": "MEMBER",
            "body": "Your tests still pass when re-adding the incorrect code. It should be failing in that case like my example.",
            "commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "created_at": "2026-02-04T08:34:22Z",
            "diff_hunk": "@@ -571,6 +566,27 @@ void ui_flush(void)\n     // by nvim core, not the compositor)\n     win_ui_flush(false);\n   }\n+\n+  if (ui_comp_should_draw() && !(State & MODE_CMDLINE)) {\n+    int crow = curwin->w_winrow + curwin->w_winrow_off + curwin->w_wrow;\n+    int ccol = curwin->w_wincol + curwin->w_wincol_off +\n+               (curwin->w_p_rl ? curwin->w_view_width - curwin->w_wcol - 1 : curwin->w_wcol);\n+    if (curwin->w_cursor.coladd > 0) {\n+      ccol += curwin->w_cursor.coladd;\n+    }",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2762812621",
            "id": 2762812621,
            "in_reply_to_id": 2759022316,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6krSzN",
            "original_commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "original_line": 576,
            "original_position": 36,
            "original_start_line": 574,
            "path": "src/nvim/ui.c",
            "position": 1,
            "pull_request_review_id": 3749677092,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2762812621/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-04T08:34:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2762812621",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2762836421"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2762836421"
                }
            },
            "author_association": "MEMBER",
            "body": "emm when ui_flush() is called, curwin->w_cursor.coladd is already 0 ",
            "commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "created_at": "2026-02-04T08:41:12Z",
            "diff_hunk": "@@ -571,6 +566,27 @@ void ui_flush(void)\n     // by nvim core, not the compositor)\n     win_ui_flush(false);\n   }\n+\n+  if (ui_comp_should_draw() && !(State & MODE_CMDLINE)) {\n+    int crow = curwin->w_winrow + curwin->w_winrow_off + curwin->w_wrow;\n+    int ccol = curwin->w_wincol + curwin->w_wincol_off +\n+               (curwin->w_p_rl ? curwin->w_view_width - curwin->w_wcol - 1 : curwin->w_wcol);\n+    if (curwin->w_cursor.coladd > 0) {\n+      ccol += curwin->w_cursor.coladd;\n+    }",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2762836421",
            "id": 2762836421,
            "in_reply_to_id": 2759022316,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6krYnF",
            "original_commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "original_line": 576,
            "original_position": 36,
            "original_start_line": 574,
            "path": "src/nvim/ui.c",
            "position": 1,
            "pull_request_review_id": 3749702912,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2762836421/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-04T08:41:12Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2762836421",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2762895487"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2762895487"
                }
            },
            "author_association": "MEMBER",
            "body": "That's because the cursor is not past the end of the line in your test. It needs to be in a virtual column for `coladd` to be used. :grin: \r\n\r\nI'd recommend faithfully porting over my examples into the test; the positions/sizes I used were deliberate. (Importantly the cursor was in the one cell overlapped by the other float while `'rightleft'` was still set)",
            "commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "created_at": "2026-02-04T08:56:04Z",
            "diff_hunk": "@@ -571,6 +566,27 @@ void ui_flush(void)\n     // by nvim core, not the compositor)\n     win_ui_flush(false);\n   }\n+\n+  if (ui_comp_should_draw() && !(State & MODE_CMDLINE)) {\n+    int crow = curwin->w_winrow + curwin->w_winrow_off + curwin->w_wrow;\n+    int ccol = curwin->w_wincol + curwin->w_wincol_off +\n+               (curwin->w_p_rl ? curwin->w_view_width - curwin->w_wcol - 1 : curwin->w_wcol);\n+    if (curwin->w_cursor.coladd > 0) {\n+      ccol += curwin->w_cursor.coladd;\n+    }",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2762895487",
            "id": 2762895487,
            "in_reply_to_id": 2759022316,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6krnB_",
            "original_commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "original_line": 576,
            "original_position": 36,
            "original_start_line": 574,
            "path": "src/nvim/ui.c",
            "position": 1,
            "pull_request_review_id": 3749778371,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2762895487/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-04T09:01:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2762895487",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2762987372"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2762987372"
                }
            },
            "author_association": "MEMBER",
            "body": "Resolved now the case will failed when use before code. after remove  it will pass.",
            "commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "created_at": "2026-02-04T09:16:38Z",
            "diff_hunk": "@@ -571,6 +566,27 @@ void ui_flush(void)\n     // by nvim core, not the compositor)\n     win_ui_flush(false);\n   }\n+\n+  if (ui_comp_should_draw() && !(State & MODE_CMDLINE)) {\n+    int crow = curwin->w_winrow + curwin->w_winrow_off + curwin->w_wrow;\n+    int ccol = curwin->w_wincol + curwin->w_wincol_off +\n+               (curwin->w_p_rl ? curwin->w_view_width - curwin->w_wcol - 1 : curwin->w_wcol);\n+    if (curwin->w_cursor.coladd > 0) {\n+      ccol += curwin->w_cursor.coladd;\n+    }",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2762987372",
            "id": 2762987372,
            "in_reply_to_id": 2759022316,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6kr9ds",
            "original_commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "original_line": 576,
            "original_position": 36,
            "original_start_line": 574,
            "path": "src/nvim/ui.c",
            "position": 1,
            "pull_request_review_id": 3749893827,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2762987372/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-04T09:16:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2762987372",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2763034174"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763034174"
                }
            },
            "author_association": "MEMBER",
            "body": "Thanks, looks correct now. :+1:",
            "commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "created_at": "2026-02-04T09:28:08Z",
            "diff_hunk": "@@ -571,6 +566,27 @@ void ui_flush(void)\n     // by nvim core, not the compositor)\n     win_ui_flush(false);\n   }\n+\n+  if (ui_comp_should_draw() && !(State & MODE_CMDLINE)) {\n+    int crow = curwin->w_winrow + curwin->w_winrow_off + curwin->w_wrow;\n+    int ccol = curwin->w_wincol + curwin->w_wincol_off +\n+               (curwin->w_p_rl ? curwin->w_view_width - curwin->w_wcol - 1 : curwin->w_wcol);\n+    if (curwin->w_cursor.coladd > 0) {\n+      ccol += curwin->w_cursor.coladd;\n+    }",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2763034174",
            "id": 2763034174,
            "in_reply_to_id": 2759022316,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6ksI4-",
            "original_commit_id": "6c240354c718024f9e3d0f7ca675723bb637e914",
            "original_line": 576,
            "original_position": 36,
            "original_start_line": 574,
            "path": "src/nvim/ui.c",
            "position": 1,
            "pull_request_review_id": 3749946586,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763034174/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-04T09:28:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763034174",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2763073814"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763073814"
                }
            },
            "author_association": "MEMBER",
            "body": "Because the full screen state isn't being asserted, this passes immediately with the old (incorrect) state before the redraw happens (because the expected cursor `mode` is the same as the previous `expect`). You can observe this with `screen:redraw_debug()`.\r\n\r\nMight be a good idea to instead assert the new screen state in these cases:\r\n\r\n```\r\nwarning: Screen test succeeded immediately. Try to avoid this unless the\r\npurpose of the test really requires it.\r\nIf necessary, silence this warning with 'unchanged' argument of screen:expect.\r\nstack traceback:\r\n        test/functional/ui/screen.lua:912: in function '_wait'\r\n        test/functional/ui/screen.lua:537: in function 'expect'\r\n        test/functional/ui/float_spec.lua:11429: in function <test/functional/ui/float_spec.lua:11255>\r\n\r\n\r\nwarning: Screen test succeeded immediately. Try to avoid this unless the\r\npurpose of the test really requires it.\r\nIf necessary, silence this warning with 'unchanged' argument of screen:expect.\r\nstack traceback:\r\n        test/functional/ui/screen.lua:912: in function '_wait'\r\n        test/functional/ui/screen.lua:537: in function 'expect'\r\n        test/functional/ui/float_spec.lua:11486: in function <test/functional/ui/float_spec.lua:11255>\r\n\r\n\r\nwarning: Screen test succeeded immediately. Try to avoid this unless the\r\npurpose of the test really requires it.\r\nIf necessary, silence this warning with 'unchanged' argument of screen:expect.\r\nstack traceback:\r\n        test/functional/ui/screen.lua:912: in function '_wait'\r\n        test/functional/ui/screen.lua:537: in function 'expect'\r\n        test/functional/ui/float_spec.lua:11522: in function <test/functional/ui/float_spec.lua:11255>\r\n\r\n\r\nwarning: Screen test succeeded immediately. Try to avoid this unless the\r\npurpose of the test really requires it.\r\nThere are intermediate states between the two identical expects.\r\nUse screen:snapshot_util() or screen:redraw_debug() to find them, and add them\r\nto the test if they make sense.\r\n\r\nstack traceback:\r\n        test/functional/ui/screen.lua:912: in function '_wait'\r\n        test/functional/ui/screen.lua:537: in function 'expect'\r\n        test/functional/ui/float_spec.lua:11560: in function <test/functional/ui/float_spec.lua:11255>\r\n```",
            "commit_id": "c46fd0258d5aa1f9f1c00c4609b12317d20ae2c6",
            "created_at": "2026-02-04T09:36:23Z",
            "diff_hunk": "@@ -11251,6 +11251,352 @@ describe('float window', function()\n       eq('Vim(set):E474: Invalid argument: winborder=+,-,+,|,+,-,+,', pcall_err(command, [[set winborder=+,-,+,\\|,+,-,+,]]))\n       eq('Vim(set):E474: Invalid argument: winborder=custom', pcall_err(command, 'set winborder=custom'))\n     end)\n+\n+    it('cursor shape when the cursor is covered by a floating window', function()\n+      local normal_win = api.nvim_get_current_win()\n+      api.nvim_buf_set_lines(0, 0, -1, true, { 'one', 'two' })\n+      api.nvim_win_set_cursor(0, { 2, 2 })\n+      local buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, 0, true, { 'the only line' })\n+      local win = api.nvim_open_win(buf, false, { relative = 'editor', row = 0, col = 0, height = 2, width = 20 })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            tw^o                                     |\n+            {0:~                                       }|*4\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'replace' }\n+      end\n+      api.nvim_buf_set_lines(0, 0, -1, true, { 'one', 'two', 'three' })\n+      feed('<Down>')\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            th^ree                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }\n+      end\n+      -- Cursor shape on a lower z-index floating window\n+      buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, 0, true, { 'highest' })\n+      local high_win = api.nvim_open_win(buf, false, { relative = 'editor', row = 0, col = 0, height = 2, width = 7, zindex = 150 })\n+      api.nvim_set_current_win(win)\n+      api.nvim_win_set_cursor(win, { 2, 1 })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            three                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:^                    }|\n+          ## grid 5\n+            {1:highest}|\n+            {1:       }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [5] = { 1002, 'NW', 1, 0, 0, true, 150, 2, 0, 0 },\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'replace' }\n+      end\n+\n+      api.nvim_set_current_win(high_win)\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            three                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ## grid 5\n+            {1:^highest}|\n+            {1:       }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [5] = { 1002, 'NW', 1, 0, 0, true, 150, 2, 0, 0 },\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }\n+      end\n+\n+      buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, 0, true, { 'another' })\n+      api.nvim_open_win(buf, true, { relative = 'editor', row = 0, col = 0, height = 2, width = 7, zindex = 160 })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            three                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ## grid 5\n+            {1:highest}|\n+            {1:       }|\n+          ## grid 6\n+            {1:^another}|\n+            {1:       }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+            [5] = { 1002, 'NW', 1, 0, 0, true, 150, 2, 0, 0 },\n+            [6] = { 1003, 'NW', 1, 0, 0, true, 160, 3, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2763073814",
            "id": 2763073814,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6ksSkW",
            "original_commit_id": "c46fd0258d5aa1f9f1c00c4609b12317d20ae2c6",
            "original_line": 11429,
            "original_position": 179,
            "original_start_line": null,
            "path": "test/functional/ui/float_spec.lua",
            "position": 1,
            "pull_request_review_id": 3749994428,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763073814/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-04T09:45:32Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763073814",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2763076609"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763076609"
                }
            },
            "author_association": "MEMBER",
            "body": "ditto",
            "commit_id": "c46fd0258d5aa1f9f1c00c4609b12317d20ae2c6",
            "created_at": "2026-02-04T09:37:04Z",
            "diff_hunk": "@@ -11251,6 +11251,352 @@ describe('float window', function()\n       eq('Vim(set):E474: Invalid argument: winborder=+,-,+,|,+,-,+,', pcall_err(command, [[set winborder=+,-,+,\\|,+,-,+,]]))\n       eq('Vim(set):E474: Invalid argument: winborder=custom', pcall_err(command, 'set winborder=custom'))\n     end)\n+\n+    it('cursor shape when the cursor is covered by a floating window', function()\n+      local normal_win = api.nvim_get_current_win()\n+      api.nvim_buf_set_lines(0, 0, -1, true, { 'one', 'two' })\n+      api.nvim_win_set_cursor(0, { 2, 2 })\n+      local buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, 0, true, { 'the only line' })\n+      local win = api.nvim_open_win(buf, false, { relative = 'editor', row = 0, col = 0, height = 2, width = 20 })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            tw^o                                     |\n+            {0:~                                       }|*4\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'replace' }\n+      end\n+      api.nvim_buf_set_lines(0, 0, -1, true, { 'one', 'two', 'three' })\n+      feed('<Down>')\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            th^ree                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }\n+      end\n+      -- Cursor shape on a lower z-index floating window\n+      buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, 0, true, { 'highest' })\n+      local high_win = api.nvim_open_win(buf, false, { relative = 'editor', row = 0, col = 0, height = 2, width = 7, zindex = 150 })\n+      api.nvim_set_current_win(win)\n+      api.nvim_win_set_cursor(win, { 2, 1 })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            three                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:^                    }|\n+          ## grid 5\n+            {1:highest}|\n+            {1:       }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [5] = { 1002, 'NW', 1, 0, 0, true, 150, 2, 0, 0 },\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'replace' }\n+      end\n+\n+      api.nvim_set_current_win(high_win)\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            three                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ## grid 5\n+            {1:^highest}|\n+            {1:       }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [5] = { 1002, 'NW', 1, 0, 0, true, 150, 2, 0, 0 },\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }\n+      end\n+\n+      buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, 0, true, { 'another' })\n+      api.nvim_open_win(buf, true, { relative = 'editor', row = 0, col = 0, height = 2, width = 7, zindex = 160 })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            three                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ## grid 5\n+            {1:highest}|\n+            {1:       }|\n+          ## grid 6\n+            {1:^another}|\n+            {1:       }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+            [5] = { 1002, 'NW', 1, 0, 0, true, 150, 2, 0, 0 },\n+            [6] = { 1003, 'NW', 1, 0, 0, true, 160, 3, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }\n+      end\n+      api.nvim_set_current_win(normal_win)\n+      command('only')\n+      screen:try_resize(50, 20)\n+      buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, -1, true, { 'x' })\n+      local float_win = api.nvim_open_win(buf, true, {\n+        relative = 'editor',\n+        width = 5,\n+        height = 5,\n+        row = 8,\n+        col = 9,\n+        border = 'single',\n+        zindex = 1,\n+      })\n+      local buf2 = api.nvim_create_buf(false, false)\n+      api.nvim_open_win(buf2, false, {\n+        relative = 'editor',\n+        width = 10,\n+        height = 10,\n+        row = 0,\n+        col = 0,\n+        zindex = 2,\n+      })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:--------------------------------------------------]|*19\n+            [3:--------------------------------------------------]|\n+          ## grid 2\n+            one                                               |\n+            two                                               |\n+            three                                             |\n+            {0:~                                                 }|*16\n+          ## grid 3\n+                                                              |\n+          ## grid 7\n+            {5:}|\n+            {5:}{1:^x    }{5:}|\n+            {5:}{2:~    }{5:}|*4\n+            {5:}|\n+          ## grid 8\n+            {1:          }|\n+            {2:~         }|*9\n+          ]],\n+          win_pos = {\n+            [2] = { height = 19, startcol = 0, startrow = 0, width = 50, win = 1000 },\n+          },\n+          float_pos = {\n+            [7] = { 1004, 'NW', 1, 8, 9, true, 1, 1, 8, 9 },\n+            [8] = { 1005, 'NW', 1, 0, 0, true, 2, 2, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2763076609",
            "id": 2763076609,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6ksTQB",
            "original_commit_id": "c46fd0258d5aa1f9f1c00c4609b12317d20ae2c6",
            "original_line": 11486,
            "original_position": 236,
            "original_start_line": null,
            "path": "test/functional/ui/float_spec.lua",
            "position": 1,
            "pull_request_review_id": 3749994428,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763076609/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-04T09:37:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763076609",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2763077690"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763077690"
                }
            },
            "author_association": "MEMBER",
            "body": "ditto",
            "commit_id": "c46fd0258d5aa1f9f1c00c4609b12317d20ae2c6",
            "created_at": "2026-02-04T09:37:19Z",
            "diff_hunk": "@@ -11251,6 +11251,352 @@ describe('float window', function()\n       eq('Vim(set):E474: Invalid argument: winborder=+,-,+,|,+,-,+,', pcall_err(command, [[set winborder=+,-,+,\\|,+,-,+,]]))\n       eq('Vim(set):E474: Invalid argument: winborder=custom', pcall_err(command, 'set winborder=custom'))\n     end)\n+\n+    it('cursor shape when the cursor is covered by a floating window', function()\n+      local normal_win = api.nvim_get_current_win()\n+      api.nvim_buf_set_lines(0, 0, -1, true, { 'one', 'two' })\n+      api.nvim_win_set_cursor(0, { 2, 2 })\n+      local buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, 0, true, { 'the only line' })\n+      local win = api.nvim_open_win(buf, false, { relative = 'editor', row = 0, col = 0, height = 2, width = 20 })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            tw^o                                     |\n+            {0:~                                       }|*4\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'replace' }\n+      end\n+      api.nvim_buf_set_lines(0, 0, -1, true, { 'one', 'two', 'three' })\n+      feed('<Down>')\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            th^ree                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }\n+      end\n+      -- Cursor shape on a lower z-index floating window\n+      buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, 0, true, { 'highest' })\n+      local high_win = api.nvim_open_win(buf, false, { relative = 'editor', row = 0, col = 0, height = 2, width = 7, zindex = 150 })\n+      api.nvim_set_current_win(win)\n+      api.nvim_win_set_cursor(win, { 2, 1 })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            three                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:^                    }|\n+          ## grid 5\n+            {1:highest}|\n+            {1:       }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [5] = { 1002, 'NW', 1, 0, 0, true, 150, 2, 0, 0 },\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'replace' }\n+      end\n+\n+      api.nvim_set_current_win(high_win)\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            three                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ## grid 5\n+            {1:^highest}|\n+            {1:       }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [5] = { 1002, 'NW', 1, 0, 0, true, 150, 2, 0, 0 },\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }\n+      end\n+\n+      buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, 0, true, { 'another' })\n+      api.nvim_open_win(buf, true, { relative = 'editor', row = 0, col = 0, height = 2, width = 7, zindex = 160 })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            three                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ## grid 5\n+            {1:highest}|\n+            {1:       }|\n+          ## grid 6\n+            {1:^another}|\n+            {1:       }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+            [5] = { 1002, 'NW', 1, 0, 0, true, 150, 2, 0, 0 },\n+            [6] = { 1003, 'NW', 1, 0, 0, true, 160, 3, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }\n+      end\n+      api.nvim_set_current_win(normal_win)\n+      command('only')\n+      screen:try_resize(50, 20)\n+      buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, -1, true, { 'x' })\n+      local float_win = api.nvim_open_win(buf, true, {\n+        relative = 'editor',\n+        width = 5,\n+        height = 5,\n+        row = 8,\n+        col = 9,\n+        border = 'single',\n+        zindex = 1,\n+      })\n+      local buf2 = api.nvim_create_buf(false, false)\n+      api.nvim_open_win(buf2, false, {\n+        relative = 'editor',\n+        width = 10,\n+        height = 10,\n+        row = 0,\n+        col = 0,\n+        zindex = 2,\n+      })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:--------------------------------------------------]|*19\n+            [3:--------------------------------------------------]|\n+          ## grid 2\n+            one                                               |\n+            two                                               |\n+            three                                             |\n+            {0:~                                                 }|*16\n+          ## grid 3\n+                                                              |\n+          ## grid 7\n+            {5:}|\n+            {5:}{1:^x    }{5:}|\n+            {5:}{2:~    }{5:}|*4\n+            {5:}|\n+          ## grid 8\n+            {1:          }|\n+            {2:~         }|*9\n+          ]],\n+          win_pos = {\n+            [2] = { height = 19, startcol = 0, startrow = 0, width = 50, win = 1000 },\n+          },\n+          float_pos = {\n+            [7] = { 1004, 'NW', 1, 8, 9, true, 1, 1, 8, 9 },\n+            [8] = { 1005, 'NW', 1, 0, 0, true, 2, 2, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }\n+      end\n+      -- Move window\n+      api.nvim_win_set_config(float_win, { relative = 'editor', row = 9, col = 8 })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:--------------------------------------------------]|*19\n+            [3:--------------------------------------------------]|\n+          ## grid 2\n+            one                                               |\n+            two                                               |\n+            three                                             |\n+            {0:~                                                 }|*16\n+          ## grid 3\n+                                                              |\n+          ## grid 7\n+            {5:}|\n+            {5:}{1:^x    }{5:}|\n+            {5:}{2:~    }{5:}|*4\n+            {5:}|\n+          ## grid 8\n+            {1:          }|\n+            {2:~         }|*9\n+          ]],\n+          win_pos = {\n+            [2] = { height = 19, startcol = 0, startrow = 0, width = 50, win = 1000 },\n+          },\n+          float_pos = {\n+            [7] = { 1004, 'NW', 1, 9, 8, true, 1, 1, 9, 8 },\n+            [8] = { 1005, 'NW', 1, 0, 0, true, 2, 2, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2763077690",
            "id": 2763077690,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6ksTg6",
            "original_commit_id": "c46fd0258d5aa1f9f1c00c4609b12317d20ae2c6",
            "original_line": 11522,
            "original_position": 272,
            "original_start_line": null,
            "path": "test/functional/ui/float_spec.lua",
            "position": 1,
            "pull_request_review_id": 3749994428,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763077690/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-04T09:37:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763077690",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2763078491"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763078491"
                }
            },
            "author_association": "MEMBER",
            "body": "ditto",
            "commit_id": "c46fd0258d5aa1f9f1c00c4609b12317d20ae2c6",
            "created_at": "2026-02-04T09:37:31Z",
            "diff_hunk": "@@ -11251,6 +11251,352 @@ describe('float window', function()\n       eq('Vim(set):E474: Invalid argument: winborder=+,-,+,|,+,-,+,', pcall_err(command, [[set winborder=+,-,+,\\|,+,-,+,]]))\n       eq('Vim(set):E474: Invalid argument: winborder=custom', pcall_err(command, 'set winborder=custom'))\n     end)\n+\n+    it('cursor shape when the cursor is covered by a floating window', function()\n+      local normal_win = api.nvim_get_current_win()\n+      api.nvim_buf_set_lines(0, 0, -1, true, { 'one', 'two' })\n+      api.nvim_win_set_cursor(0, { 2, 2 })\n+      local buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, 0, true, { 'the only line' })\n+      local win = api.nvim_open_win(buf, false, { relative = 'editor', row = 0, col = 0, height = 2, width = 20 })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            tw^o                                     |\n+            {0:~                                       }|*4\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'replace' }\n+      end\n+      api.nvim_buf_set_lines(0, 0, -1, true, { 'one', 'two', 'three' })\n+      feed('<Down>')\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            th^ree                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }\n+      end\n+      -- Cursor shape on a lower z-index floating window\n+      buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, 0, true, { 'highest' })\n+      local high_win = api.nvim_open_win(buf, false, { relative = 'editor', row = 0, col = 0, height = 2, width = 7, zindex = 150 })\n+      api.nvim_set_current_win(win)\n+      api.nvim_win_set_cursor(win, { 2, 1 })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            three                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:^                    }|\n+          ## grid 5\n+            {1:highest}|\n+            {1:       }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [5] = { 1002, 'NW', 1, 0, 0, true, 150, 2, 0, 0 },\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'replace' }\n+      end\n+\n+      api.nvim_set_current_win(high_win)\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            three                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ## grid 5\n+            {1:^highest}|\n+            {1:       }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [5] = { 1002, 'NW', 1, 0, 0, true, 150, 2, 0, 0 },\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }\n+      end\n+\n+      buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, 0, true, { 'another' })\n+      api.nvim_open_win(buf, true, { relative = 'editor', row = 0, col = 0, height = 2, width = 7, zindex = 160 })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            three                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ## grid 5\n+            {1:highest}|\n+            {1:       }|\n+          ## grid 6\n+            {1:^another}|\n+            {1:       }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+            [5] = { 1002, 'NW', 1, 0, 0, true, 150, 2, 0, 0 },\n+            [6] = { 1003, 'NW', 1, 0, 0, true, 160, 3, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }\n+      end\n+      api.nvim_set_current_win(normal_win)\n+      command('only')\n+      screen:try_resize(50, 20)\n+      buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, -1, true, { 'x' })\n+      local float_win = api.nvim_open_win(buf, true, {\n+        relative = 'editor',\n+        width = 5,\n+        height = 5,\n+        row = 8,\n+        col = 9,\n+        border = 'single',\n+        zindex = 1,\n+      })\n+      local buf2 = api.nvim_create_buf(false, false)\n+      api.nvim_open_win(buf2, false, {\n+        relative = 'editor',\n+        width = 10,\n+        height = 10,\n+        row = 0,\n+        col = 0,\n+        zindex = 2,\n+      })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:--------------------------------------------------]|*19\n+            [3:--------------------------------------------------]|\n+          ## grid 2\n+            one                                               |\n+            two                                               |\n+            three                                             |\n+            {0:~                                                 }|*16\n+          ## grid 3\n+                                                              |\n+          ## grid 7\n+            {5:}|\n+            {5:}{1:^x    }{5:}|\n+            {5:}{2:~    }{5:}|*4\n+            {5:}|\n+          ## grid 8\n+            {1:          }|\n+            {2:~         }|*9\n+          ]],\n+          win_pos = {\n+            [2] = { height = 19, startcol = 0, startrow = 0, width = 50, win = 1000 },\n+          },\n+          float_pos = {\n+            [7] = { 1004, 'NW', 1, 8, 9, true, 1, 1, 8, 9 },\n+            [8] = { 1005, 'NW', 1, 0, 0, true, 2, 2, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }\n+      end\n+      -- Move window\n+      api.nvim_win_set_config(float_win, { relative = 'editor', row = 9, col = 8 })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:--------------------------------------------------]|*19\n+            [3:--------------------------------------------------]|\n+          ## grid 2\n+            one                                               |\n+            two                                               |\n+            three                                             |\n+            {0:~                                                 }|*16\n+          ## grid 3\n+                                                              |\n+          ## grid 7\n+            {5:}|\n+            {5:}{1:^x    }{5:}|\n+            {5:}{2:~    }{5:}|*4\n+            {5:}|\n+          ## grid 8\n+            {1:          }|\n+            {2:~         }|*9\n+          ]],\n+          win_pos = {\n+            [2] = { height = 19, startcol = 0, startrow = 0, width = 50, win = 1000 },\n+          },\n+          float_pos = {\n+            [7] = { 1004, 'NW', 1, 9, 8, true, 1, 1, 9, 8 },\n+            [8] = { 1005, 'NW', 1, 0, 0, true, 2, 2, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }\n+      end\n+\n+      -- rightleft\n+      api.nvim_win_set_config(float_win, { relative = 'editor', row = 8, col = 8 })\n+      command('set rightleft')\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:--------------------------------------------------]|*19\n+            [3:--------------------------------------------------]|\n+          ## grid 2\n+            one                                               |\n+            two                                               |\n+            three                                             |\n+            {0:~                                                 }|*16\n+          ## grid 3\n+                                                              |\n+          ## grid 7\n+            {5:}|\n+            {5:}{1:    ^x}{5:}|\n+            {5:}{2:    ~}{5:}|*4\n+            {5:}|\n+          ## grid 8\n+            {1:          }|\n+            {2:~         }|*9\n+          ]],\n+          win_pos = {\n+            [2] = { height = 19, startcol = 0, startrow = 0, width = 50, win = 1000 },\n+          },\n+          float_pos = {\n+            [7] = { 1004, 'NW', 1, 8, 8, true, 1, 1, 8, 8 },\n+            [8] = { 1005, 'NW', 1, 0, 0, true, 2, 2, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2763078491",
            "id": 2763078491,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6ksTtb",
            "original_commit_id": "c46fd0258d5aa1f9f1c00c4609b12317d20ae2c6",
            "original_line": 11560,
            "original_position": 310,
            "original_start_line": null,
            "path": "test/functional/ui/float_spec.lua",
            "position": 1,
            "pull_request_review_id": 3749994428,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763078491/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-04T09:37:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763078491",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2763217290"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763217290"
                }
            },
            "author_association": "MEMBER",
            "body": "Yes, I took a shortcut here. Because this file is too long, I thought this would avoid increasing its length. I might try splitting the `float_spec` later.",
            "commit_id": "c46fd0258d5aa1f9f1c00c4609b12317d20ae2c6",
            "created_at": "2026-02-04T10:10:29Z",
            "diff_hunk": "@@ -11251,6 +11251,352 @@ describe('float window', function()\n       eq('Vim(set):E474: Invalid argument: winborder=+,-,+,|,+,-,+,', pcall_err(command, [[set winborder=+,-,+,\\|,+,-,+,]]))\n       eq('Vim(set):E474: Invalid argument: winborder=custom', pcall_err(command, 'set winborder=custom'))\n     end)\n+\n+    it('cursor shape when the cursor is covered by a floating window', function()\n+      local normal_win = api.nvim_get_current_win()\n+      api.nvim_buf_set_lines(0, 0, -1, true, { 'one', 'two' })\n+      api.nvim_win_set_cursor(0, { 2, 2 })\n+      local buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, 0, true, { 'the only line' })\n+      local win = api.nvim_open_win(buf, false, { relative = 'editor', row = 0, col = 0, height = 2, width = 20 })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            tw^o                                     |\n+            {0:~                                       }|*4\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'replace' }\n+      end\n+      api.nvim_buf_set_lines(0, 0, -1, true, { 'one', 'two', 'three' })\n+      feed('<Down>')\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            th^ree                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }\n+      end\n+      -- Cursor shape on a lower z-index floating window\n+      buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, 0, true, { 'highest' })\n+      local high_win = api.nvim_open_win(buf, false, { relative = 'editor', row = 0, col = 0, height = 2, width = 7, zindex = 150 })\n+      api.nvim_set_current_win(win)\n+      api.nvim_win_set_cursor(win, { 2, 1 })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            three                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:^                    }|\n+          ## grid 5\n+            {1:highest}|\n+            {1:       }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [5] = { 1002, 'NW', 1, 0, 0, true, 150, 2, 0, 0 },\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'replace' }\n+      end\n+\n+      api.nvim_set_current_win(high_win)\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            three                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ## grid 5\n+            {1:^highest}|\n+            {1:       }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [5] = { 1002, 'NW', 1, 0, 0, true, 150, 2, 0, 0 },\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }\n+      end\n+\n+      buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, 0, true, { 'another' })\n+      api.nvim_open_win(buf, true, { relative = 'editor', row = 0, col = 0, height = 2, width = 7, zindex = 160 })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            three                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ## grid 5\n+            {1:highest}|\n+            {1:       }|\n+          ## grid 6\n+            {1:^another}|\n+            {1:       }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+            [5] = { 1002, 'NW', 1, 0, 0, true, 150, 2, 0, 0 },\n+            [6] = { 1003, 'NW', 1, 0, 0, true, 160, 3, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2763217290",
            "id": 2763217290,
            "in_reply_to_id": 2763073814,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6ks1mK",
            "original_commit_id": "c46fd0258d5aa1f9f1c00c4609b12317d20ae2c6",
            "original_line": 11429,
            "original_position": 179,
            "original_start_line": null,
            "path": "test/functional/ui/float_spec.lua",
            "position": 1,
            "pull_request_review_id": 3750154424,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763217290/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-04T10:10:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763217290",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2763231102"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763231102"
                }
            },
            "author_association": "MEMBER",
            "body": "That's understandable. If you'd like, I suppose you could omit the `grid` from the `expect`s where the expected `mode` differs from the previous `expect` to save a few lines. :+1:",
            "commit_id": "c46fd0258d5aa1f9f1c00c4609b12317d20ae2c6",
            "created_at": "2026-02-04T10:13:19Z",
            "diff_hunk": "@@ -11251,6 +11251,352 @@ describe('float window', function()\n       eq('Vim(set):E474: Invalid argument: winborder=+,-,+,|,+,-,+,', pcall_err(command, [[set winborder=+,-,+,\\|,+,-,+,]]))\n       eq('Vim(set):E474: Invalid argument: winborder=custom', pcall_err(command, 'set winborder=custom'))\n     end)\n+\n+    it('cursor shape when the cursor is covered by a floating window', function()\n+      local normal_win = api.nvim_get_current_win()\n+      api.nvim_buf_set_lines(0, 0, -1, true, { 'one', 'two' })\n+      api.nvim_win_set_cursor(0, { 2, 2 })\n+      local buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, 0, true, { 'the only line' })\n+      local win = api.nvim_open_win(buf, false, { relative = 'editor', row = 0, col = 0, height = 2, width = 20 })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            tw^o                                     |\n+            {0:~                                       }|*4\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'replace' }\n+      end\n+      api.nvim_buf_set_lines(0, 0, -1, true, { 'one', 'two', 'three' })\n+      feed('<Down>')\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            th^ree                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }\n+      end\n+      -- Cursor shape on a lower z-index floating window\n+      buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, 0, true, { 'highest' })\n+      local high_win = api.nvim_open_win(buf, false, { relative = 'editor', row = 0, col = 0, height = 2, width = 7, zindex = 150 })\n+      api.nvim_set_current_win(win)\n+      api.nvim_win_set_cursor(win, { 2, 1 })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            three                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:^                    }|\n+          ## grid 5\n+            {1:highest}|\n+            {1:       }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [5] = { 1002, 'NW', 1, 0, 0, true, 150, 2, 0, 0 },\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'replace' }\n+      end\n+\n+      api.nvim_set_current_win(high_win)\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            three                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ## grid 5\n+            {1:^highest}|\n+            {1:       }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [5] = { 1002, 'NW', 1, 0, 0, true, 150, 2, 0, 0 },\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }\n+      end\n+\n+      buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, 0, true, { 'another' })\n+      api.nvim_open_win(buf, true, { relative = 'editor', row = 0, col = 0, height = 2, width = 7, zindex = 160 })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            three                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ## grid 5\n+            {1:highest}|\n+            {1:       }|\n+          ## grid 6\n+            {1:^another}|\n+            {1:       }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+            [5] = { 1002, 'NW', 1, 0, 0, true, 150, 2, 0, 0 },\n+            [6] = { 1003, 'NW', 1, 0, 0, true, 160, 3, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2763231102",
            "id": 2763231102,
            "in_reply_to_id": 2763073814,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6ks49-",
            "original_commit_id": "c46fd0258d5aa1f9f1c00c4609b12317d20ae2c6",
            "original_line": 11429,
            "original_position": 179,
            "original_start_line": null,
            "path": "test/functional/ui/float_spec.lua",
            "position": 1,
            "pull_request_review_id": 3750170061,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763231102/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-04T10:13:20Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763231102",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2763296775"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763296775"
                }
            },
            "author_association": "MEMBER",
            "body": "great nice tips",
            "commit_id": "c46fd0258d5aa1f9f1c00c4609b12317d20ae2c6",
            "created_at": "2026-02-04T10:29:02Z",
            "diff_hunk": "@@ -11251,6 +11251,352 @@ describe('float window', function()\n       eq('Vim(set):E474: Invalid argument: winborder=+,-,+,|,+,-,+,', pcall_err(command, [[set winborder=+,-,+,\\|,+,-,+,]]))\n       eq('Vim(set):E474: Invalid argument: winborder=custom', pcall_err(command, 'set winborder=custom'))\n     end)\n+\n+    it('cursor shape when the cursor is covered by a floating window', function()\n+      local normal_win = api.nvim_get_current_win()\n+      api.nvim_buf_set_lines(0, 0, -1, true, { 'one', 'two' })\n+      api.nvim_win_set_cursor(0, { 2, 2 })\n+      local buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, 0, true, { 'the only line' })\n+      local win = api.nvim_open_win(buf, false, { relative = 'editor', row = 0, col = 0, height = 2, width = 20 })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            tw^o                                     |\n+            {0:~                                       }|*4\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'replace' }\n+      end\n+      api.nvim_buf_set_lines(0, 0, -1, true, { 'one', 'two', 'three' })\n+      feed('<Down>')\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            th^ree                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }\n+      end\n+      -- Cursor shape on a lower z-index floating window\n+      buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, 0, true, { 'highest' })\n+      local high_win = api.nvim_open_win(buf, false, { relative = 'editor', row = 0, col = 0, height = 2, width = 7, zindex = 150 })\n+      api.nvim_set_current_win(win)\n+      api.nvim_win_set_cursor(win, { 2, 1 })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            three                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:^                    }|\n+          ## grid 5\n+            {1:highest}|\n+            {1:       }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [5] = { 1002, 'NW', 1, 0, 0, true, 150, 2, 0, 0 },\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'replace' }\n+      end\n+\n+      api.nvim_set_current_win(high_win)\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            three                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ## grid 5\n+            {1:^highest}|\n+            {1:       }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [5] = { 1002, 'NW', 1, 0, 0, true, 150, 2, 0, 0 },\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }\n+      end\n+\n+      buf = api.nvim_create_buf(false, false)\n+      api.nvim_buf_set_lines(buf, 0, 0, true, { 'another' })\n+      api.nvim_open_win(buf, true, { relative = 'editor', row = 0, col = 0, height = 2, width = 7, zindex = 160 })\n+      if multigrid then\n+        screen:expect({\n+          grid = [[\n+          ## grid 1\n+            [2:----------------------------------------]|*6\n+            [3:----------------------------------------]|\n+          ## grid 2\n+            one                                     |\n+            two                                     |\n+            three                                   |\n+            {0:~                                       }|*3\n+          ## grid 3\n+                                                    |\n+          ## grid 4\n+            {1:the only line       }|\n+            {1:                    }|\n+          ## grid 5\n+            {1:highest}|\n+            {1:       }|\n+          ## grid 6\n+            {1:^another}|\n+            {1:       }|\n+          ]],\n+          win_pos = {\n+            [2] = { height = 6, startcol = 0, startrow = 0, width = 40, win = 1000 },\n+          },\n+          float_pos = {\n+            [4] = { 1001, 'NW', 1, 0, 0, true, 50, 1, 0, 0 },\n+            [5] = { 1002, 'NW', 1, 0, 0, true, 150, 2, 0, 0 },\n+            [6] = { 1003, 'NW', 1, 0, 0, true, 160, 3, 0, 0 },\n+          },\n+          mode = 'normal',\n+        })\n+      else\n+        screen:expect { mode = 'normal' }",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2763296775",
            "id": 2763296775,
            "in_reply_to_id": 2763073814,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6ktJAH",
            "original_commit_id": "c46fd0258d5aa1f9f1c00c4609b12317d20ae2c6",
            "original_line": 11429,
            "original_position": 179,
            "original_start_line": null,
            "path": "test/functional/ui/float_spec.lua",
            "position": 1,
            "pull_request_review_id": 3750243226,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763296775/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-04T10:29:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763296775",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2763325422"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763325422"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\n    it('cursor shape when the cursor is covered by a floating window', function()\n```",
            "commit_id": "e34891d92f78e4f0e8993a91be5941dcb8ca5a2a",
            "created_at": "2026-02-04T10:35:59Z",
            "diff_hunk": "@@ -11251,6 +11251,417 @@ describe('float window', function()\n       eq('Vim(set):E474: Invalid argument: winborder=+,-,+,|,+,-,+,', pcall_err(command, [[set winborder=+,-,+,\\|,+,-,+,]]))\n       eq('Vim(set):E474: Invalid argument: winborder=custom', pcall_err(command, 'set winborder=custom'))\n     end)\n+\n+    it('cursor shape when the cursor is covered by a floating window #test', function()",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2763325422",
            "id": 2763325422,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6ktP_u",
            "original_commit_id": "e34891d92f78e4f0e8993a91be5941dcb8ca5a2a",
            "original_line": 11255,
            "original_position": 5,
            "original_start_line": null,
            "path": "test/functional/ui/float_spec.lua",
            "position": 1,
            "pull_request_review_id": 3750275093,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763325422/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-04T10:36:30Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763325422",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2763336864"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763336864"
                }
            },
            "author_association": "MEMBER",
            "body": " TEST_FILTER should support multiple words ",
            "commit_id": "e34891d92f78e4f0e8993a91be5941dcb8ca5a2a",
            "created_at": "2026-02-04T10:38:59Z",
            "diff_hunk": "@@ -11251,6 +11251,417 @@ describe('float window', function()\n       eq('Vim(set):E474: Invalid argument: winborder=+,-,+,|,+,-,+,', pcall_err(command, [[set winborder=+,-,+,\\|,+,-,+,]]))\n       eq('Vim(set):E474: Invalid argument: winborder=custom', pcall_err(command, 'set winborder=custom'))\n     end)\n+\n+    it('cursor shape when the cursor is covered by a floating window #test', function()",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2763336864",
            "id": 2763336864,
            "in_reply_to_id": 2763325422,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6ktSyg",
            "original_commit_id": "e34891d92f78e4f0e8993a91be5941dcb8ca5a2a",
            "original_line": 11255,
            "original_position": 5,
            "original_start_line": null,
            "path": "test/functional/ui/float_spec.lua",
            "position": 1,
            "pull_request_review_id": 3750287456,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 1,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763336864/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-04T10:38:59Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763336864",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2763373868"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763373868"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\n  return wp && curwin != wp;\n```\n\nNo idea if this suggestion is correct, but as they're layered by zindex already (with `curwin` always being above if zindices are equal), maybe this'll work?",
            "commit_id": "4e804a9ef5f71317d71f2ebc0ba285777b830d72",
            "created_at": "2026-02-04T10:48:16Z",
            "diff_hunk": "@@ -674,6 +680,26 @@ void ui_cursor_shape(void)\n   conceal_check_cursor_line();\n }\n \n+/// Check if the cursor is behind a floating window (only in compositor mode).\n+/// @return true if cursor is obscured by a float with higher zindex\n+static bool ui_cursor_is_behind_floatwin(void)\n+{\n+  if (!ui_comp_should_draw()) {\n+    return false;\n+  }\n+\n+  int crow = curwin->w_winrow + curwin->w_winrow_off + curwin->w_wrow;\n+  int ccol = curwin->w_wincol + curwin->w_wincol_off\n+             + (curwin->w_p_rl ? curwin->w_view_width - curwin->w_wcol - 1 : curwin->w_wcol);\n+\n+  ScreenGrid *top_grid = ui_comp_get_grid_at_coord(crow, ccol);\n+  win_T *wp = (top_grid && top_grid != &curwin->w_grid_alloc && top_grid != &default_grid)\n+              ? get_win_by_grid_handle(top_grid->handle) : NULL;\n+\n+  int cur_z = curwin->w_floating ? curwin->w_config.zindex : 0;\n+  return wp && wp->w_floating && wp->w_config.zindex > cur_z;",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2763373868",
            "id": 2763373868,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6ktb0s",
            "original_commit_id": "4e804a9ef5f71317d71f2ebc0ba285777b830d72",
            "original_line": 700,
            "original_position": 64,
            "original_start_line": 699,
            "path": "src/nvim/ui.c",
            "position": 1,
            "pull_request_review_id": 3750332157,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763373868/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-04T10:48:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763373868",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2763412576"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763412576"
                }
            },
            "author_association": "MEMBER",
            "body": "Correct. The layer has already been layered. This behavior was extracted from the previous window traversal process, no need when we use grid layer.",
            "commit_id": "4e804a9ef5f71317d71f2ebc0ba285777b830d72",
            "created_at": "2026-02-04T10:58:33Z",
            "diff_hunk": "@@ -674,6 +680,26 @@ void ui_cursor_shape(void)\n   conceal_check_cursor_line();\n }\n \n+/// Check if the cursor is behind a floating window (only in compositor mode).\n+/// @return true if cursor is obscured by a float with higher zindex\n+static bool ui_cursor_is_behind_floatwin(void)\n+{\n+  if (!ui_comp_should_draw()) {\n+    return false;\n+  }\n+\n+  int crow = curwin->w_winrow + curwin->w_winrow_off + curwin->w_wrow;\n+  int ccol = curwin->w_wincol + curwin->w_wincol_off\n+             + (curwin->w_p_rl ? curwin->w_view_width - curwin->w_wcol - 1 : curwin->w_wcol);\n+\n+  ScreenGrid *top_grid = ui_comp_get_grid_at_coord(crow, ccol);\n+  win_T *wp = (top_grid && top_grid != &curwin->w_grid_alloc && top_grid != &default_grid)\n+              ? get_win_by_grid_handle(top_grid->handle) : NULL;\n+\n+  int cur_z = curwin->w_floating ? curwin->w_config.zindex : 0;\n+  return wp && wp->w_floating && wp->w_config.zindex > cur_z;",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2763412576",
            "id": 2763412576,
            "in_reply_to_id": 2763373868,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6ktlRg",
            "original_commit_id": "4e804a9ef5f71317d71f2ebc0ba285777b830d72",
            "original_line": 700,
            "original_position": 64,
            "original_start_line": 699,
            "path": "src/nvim/ui.c",
            "position": 1,
            "pull_request_review_id": 3750374320,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 1,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763412576/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-04T10:58:34Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763412576",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2763466824"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763466824"
                }
            },
            "author_association": "MEMBER",
            "body": "Nice! Also looks like the `top_grid != &curwin->w_grid_alloc` check can be removed too. (Handled by `curwin != wp`)",
            "commit_id": "4e804a9ef5f71317d71f2ebc0ba285777b830d72",
            "created_at": "2026-02-04T11:12:22Z",
            "diff_hunk": "@@ -674,6 +680,26 @@ void ui_cursor_shape(void)\n   conceal_check_cursor_line();\n }\n \n+/// Check if the cursor is behind a floating window (only in compositor mode).\n+/// @return true if cursor is obscured by a float with higher zindex\n+static bool ui_cursor_is_behind_floatwin(void)\n+{\n+  if (!ui_comp_should_draw()) {\n+    return false;\n+  }\n+\n+  int crow = curwin->w_winrow + curwin->w_winrow_off + curwin->w_wrow;\n+  int ccol = curwin->w_wincol + curwin->w_wincol_off\n+             + (curwin->w_p_rl ? curwin->w_view_width - curwin->w_wcol - 1 : curwin->w_wcol);\n+\n+  ScreenGrid *top_grid = ui_comp_get_grid_at_coord(crow, ccol);\n+  win_T *wp = (top_grid && top_grid != &curwin->w_grid_alloc && top_grid != &default_grid)\n+              ? get_win_by_grid_handle(top_grid->handle) : NULL;\n+\n+  int cur_z = curwin->w_floating ? curwin->w_config.zindex : 0;\n+  return wp && wp->w_floating && wp->w_config.zindex > cur_z;",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2763466824",
            "id": 2763466824,
            "in_reply_to_id": 2763373868,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6ktyhI",
            "original_commit_id": "4e804a9ef5f71317d71f2ebc0ba285777b830d72",
            "original_line": 700,
            "original_position": 64,
            "original_start_line": 699,
            "path": "src/nvim/ui.c",
            "position": 1,
            "pull_request_review_id": 3750440915,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763466824/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-04T11:13:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763466824",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2763498069"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763498069"
                }
            },
            "author_association": "MEMBER",
            "body": "ye if `top_grid` is neither the current window's grid nor the default grid, then it means the cursor is being obscured by another window.",
            "commit_id": "4e804a9ef5f71317d71f2ebc0ba285777b830d72",
            "created_at": "2026-02-04T11:19:48Z",
            "diff_hunk": "@@ -674,6 +680,26 @@ void ui_cursor_shape(void)\n   conceal_check_cursor_line();\n }\n \n+/// Check if the cursor is behind a floating window (only in compositor mode).\n+/// @return true if cursor is obscured by a float with higher zindex\n+static bool ui_cursor_is_behind_floatwin(void)\n+{\n+  if (!ui_comp_should_draw()) {\n+    return false;\n+  }\n+\n+  int crow = curwin->w_winrow + curwin->w_winrow_off + curwin->w_wrow;\n+  int ccol = curwin->w_wincol + curwin->w_wincol_off\n+             + (curwin->w_p_rl ? curwin->w_view_width - curwin->w_wcol - 1 : curwin->w_wcol);\n+\n+  ScreenGrid *top_grid = ui_comp_get_grid_at_coord(crow, ccol);\n+  win_T *wp = (top_grid && top_grid != &curwin->w_grid_alloc && top_grid != &default_grid)\n+              ? get_win_by_grid_handle(top_grid->handle) : NULL;\n+\n+  int cur_z = curwin->w_floating ? curwin->w_config.zindex : 0;\n+  return wp && wp->w_floating && wp->w_config.zindex > cur_z;",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2763498069",
            "id": 2763498069,
            "in_reply_to_id": 2763373868,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6kt6JV",
            "original_commit_id": "4e804a9ef5f71317d71f2ebc0ba285777b830d72",
            "original_line": 700,
            "original_position": 64,
            "original_start_line": 699,
            "path": "src/nvim/ui.c",
            "position": 1,
            "pull_request_review_id": 3750476206,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763498069/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-04T11:19:48Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763498069",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2763510703"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763510703"
                }
            },
            "author_association": "MEMBER",
            "body": "Nice. Your change looks even better! :rocket:",
            "commit_id": "4e804a9ef5f71317d71f2ebc0ba285777b830d72",
            "created_at": "2026-02-04T11:23:20Z",
            "diff_hunk": "@@ -674,6 +680,26 @@ void ui_cursor_shape(void)\n   conceal_check_cursor_line();\n }\n \n+/// Check if the cursor is behind a floating window (only in compositor mode).\n+/// @return true if cursor is obscured by a float with higher zindex\n+static bool ui_cursor_is_behind_floatwin(void)\n+{\n+  if (!ui_comp_should_draw()) {\n+    return false;\n+  }\n+\n+  int crow = curwin->w_winrow + curwin->w_winrow_off + curwin->w_wrow;\n+  int ccol = curwin->w_wincol + curwin->w_wincol_off\n+             + (curwin->w_p_rl ? curwin->w_view_width - curwin->w_wcol - 1 : curwin->w_wcol);\n+\n+  ScreenGrid *top_grid = ui_comp_get_grid_at_coord(crow, ccol);\n+  win_T *wp = (top_grid && top_grid != &curwin->w_grid_alloc && top_grid != &default_grid)\n+              ? get_win_by_grid_handle(top_grid->handle) : NULL;\n+\n+  int cur_z = curwin->w_floating ? curwin->w_config.zindex : 0;\n+  return wp && wp->w_floating && wp->w_config.zindex > cur_z;",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2763510703",
            "id": 2763510703,
            "in_reply_to_id": 2763373868,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6kt9Ov",
            "original_commit_id": "4e804a9ef5f71317d71f2ebc0ba285777b830d72",
            "original_line": 700,
            "original_position": 64,
            "original_start_line": 699,
            "path": "src/nvim/ui.c",
            "position": 1,
            "pull_request_review_id": 3750489480,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763510703/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-04T11:29:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763510703",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2763540236"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763540236"
                }
            },
            "author_association": "MEMBER",
            "body": "Ah, you can also skip the `NULL` check on `top_grid` too. `ui_comp_get_grid_at_coord` never returns a `NULL` grid.\r\n\r\nI think that's everything now. :grin: ",
            "commit_id": "4e804a9ef5f71317d71f2ebc0ba285777b830d72",
            "created_at": "2026-02-04T11:31:19Z",
            "diff_hunk": "@@ -674,6 +680,26 @@ void ui_cursor_shape(void)\n   conceal_check_cursor_line();\n }\n \n+/// Check if the cursor is behind a floating window (only in compositor mode).\n+/// @return true if cursor is obscured by a float with higher zindex\n+static bool ui_cursor_is_behind_floatwin(void)\n+{\n+  if (!ui_comp_should_draw()) {\n+    return false;\n+  }\n+\n+  int crow = curwin->w_winrow + curwin->w_winrow_off + curwin->w_wrow;\n+  int ccol = curwin->w_wincol + curwin->w_wincol_off\n+             + (curwin->w_p_rl ? curwin->w_view_width - curwin->w_wcol - 1 : curwin->w_wcol);\n+\n+  ScreenGrid *top_grid = ui_comp_get_grid_at_coord(crow, ccol);\n+  win_T *wp = (top_grid && top_grid != &curwin->w_grid_alloc && top_grid != &default_grid)\n+              ? get_win_by_grid_handle(top_grid->handle) : NULL;\n+\n+  int cur_z = curwin->w_floating ? curwin->w_config.zindex : 0;\n+  return wp && wp->w_floating && wp->w_config.zindex > cur_z;",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2763540236",
            "id": 2763540236,
            "in_reply_to_id": 2763373868,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6kuEcM",
            "original_commit_id": "4e804a9ef5f71317d71f2ebc0ba285777b830d72",
            "original_line": 700,
            "original_position": 64,
            "original_start_line": 699,
            "path": "src/nvim/ui.c",
            "position": 1,
            "pull_request_review_id": 3750522659,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763540236/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-04T11:31:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763540236",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2763548069"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763548069"
                }
            },
            "author_association": "MEMBER",
            "body": "protective behavior has become a habit when see a pointer ",
            "commit_id": "4e804a9ef5f71317d71f2ebc0ba285777b830d72",
            "created_at": "2026-02-04T11:33:22Z",
            "diff_hunk": "@@ -674,6 +680,26 @@ void ui_cursor_shape(void)\n   conceal_check_cursor_line();\n }\n \n+/// Check if the cursor is behind a floating window (only in compositor mode).\n+/// @return true if cursor is obscured by a float with higher zindex\n+static bool ui_cursor_is_behind_floatwin(void)\n+{\n+  if (!ui_comp_should_draw()) {\n+    return false;\n+  }\n+\n+  int crow = curwin->w_winrow + curwin->w_winrow_off + curwin->w_wrow;\n+  int ccol = curwin->w_wincol + curwin->w_wincol_off\n+             + (curwin->w_p_rl ? curwin->w_view_width - curwin->w_wcol - 1 : curwin->w_wcol);\n+\n+  ScreenGrid *top_grid = ui_comp_get_grid_at_coord(crow, ccol);\n+  win_T *wp = (top_grid && top_grid != &curwin->w_grid_alloc && top_grid != &default_grid)\n+              ? get_win_by_grid_handle(top_grid->handle) : NULL;\n+\n+  int cur_z = curwin->w_floating ? curwin->w_config.zindex : 0;\n+  return wp && wp->w_floating && wp->w_config.zindex > cur_z;",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2763548069",
            "id": 2763548069,
            "in_reply_to_id": 2763373868,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6kuGWl",
            "original_commit_id": "4e804a9ef5f71317d71f2ebc0ba285777b830d72",
            "original_line": 700,
            "original_position": 64,
            "original_start_line": 699,
            "path": "src/nvim/ui.c",
            "position": 1,
            "pull_request_review_id": 3750532057,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 1,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763548069/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-04T11:33:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763548069",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37624#discussion_r2763565988"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37624"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763565988"
                }
            },
            "author_association": "MEMBER",
            "body": "Hah, would be nice if more functions had `FUNC_ATTR_NONNULL_RET` I suppose.",
            "commit_id": "4e804a9ef5f71317d71f2ebc0ba285777b830d72",
            "created_at": "2026-02-04T11:38:11Z",
            "diff_hunk": "@@ -674,6 +680,26 @@ void ui_cursor_shape(void)\n   conceal_check_cursor_line();\n }\n \n+/// Check if the cursor is behind a floating window (only in compositor mode).\n+/// @return true if cursor is obscured by a float with higher zindex\n+static bool ui_cursor_is_behind_floatwin(void)\n+{\n+  if (!ui_comp_should_draw()) {\n+    return false;\n+  }\n+\n+  int crow = curwin->w_winrow + curwin->w_winrow_off + curwin->w_wrow;\n+  int ccol = curwin->w_wincol + curwin->w_wincol_off\n+             + (curwin->w_p_rl ? curwin->w_view_width - curwin->w_wcol - 1 : curwin->w_wcol);\n+\n+  ScreenGrid *top_grid = ui_comp_get_grid_at_coord(crow, ccol);\n+  win_T *wp = (top_grid && top_grid != &curwin->w_grid_alloc && top_grid != &default_grid)\n+              ? get_win_by_grid_handle(top_grid->handle) : NULL;\n+\n+  int cur_z = curwin->w_floating ? curwin->w_config.zindex : 0;\n+  return wp && wp->w_floating && wp->w_config.zindex > cur_z;",
            "html_url": "https://github.com/neovim/neovim/pull/37624#discussion_r2763565988",
            "id": 2763565988,
            "in_reply_to_id": 2763373868,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6kuKuk",
            "original_commit_id": "4e804a9ef5f71317d71f2ebc0ba285777b830d72",
            "original_line": 700,
            "original_position": 64,
            "original_start_line": 699,
            "path": "src/nvim/ui.c",
            "position": 1,
            "pull_request_review_id": 3750552386,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 1,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763565988/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-04T11:38:11Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2763565988",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar",
                "user_view_type": "public"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "This seems like a good compromise because the Replace mode looks as before.",
            "created_at": "2026-02-02T09:02:43Z",
            "html_url": "https://github.com/neovim/neovim/pull/37624#issuecomment-3833852122",
            "id": 3833852122,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37624",
            "node_id": "IC_kwDOAPphoM7kg_Da",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3833852122/reactions"
            },
            "updated_at": "2026-02-02T09:02:43Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3833852122",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11404453?v=4",
                "events_url": "https://api.github.com/users/przepompownia/events{/privacy}",
                "followers_url": "https://api.github.com/users/przepompownia/followers",
                "following_url": "https://api.github.com/users/przepompownia/following{/other_user}",
                "gists_url": "https://api.github.com/users/przepompownia/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/przepompownia",
                "id": 11404453,
                "login": "przepompownia",
                "node_id": "MDQ6VXNlcjExNDA0NDUz",
                "organizations_url": "https://api.github.com/users/przepompownia/orgs",
                "received_events_url": "https://api.github.com/users/przepompownia/received_events",
                "repos_url": "https://api.github.com/users/przepompownia/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/przepompownia/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/przepompownia/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/przepompownia",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I've made a small update. It should be working now. I remember there are some functions for comparing floating z-indexes in `ui_compositor`. I'll check it again tomorrow and update the tests.",
            "created_at": "2026-02-02T12:26:35Z",
            "html_url": "https://github.com/neovim/neovim/pull/37624#issuecomment-3834825236",
            "id": 3834825236,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37624",
            "node_id": "IC_kwDOAPphoM7kksoU",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 2,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3834825236/reactions"
            },
            "updated_at": "2026-02-02T12:26:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3834825236",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "reconsidered it... should only work in compositor mode. use ui_comp_get_grid_at_coord() to detect if cursor is behind a float should enough. skips entirely in multigrid mode.",
            "created_at": "2026-02-03T06:06:41Z",
            "html_url": "https://github.com/neovim/neovim/pull/37624#issuecomment-3839260704",
            "id": 3839260704,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37624",
            "node_id": "IC_kwDOAPphoM7k1ngg",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3839260704/reactions"
            },
            "updated_at": "2026-02-03T06:06:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3839260704",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I don't have any more comments, so I think this is fine. :+1:\r\nAs before, could use a review from someone who knows more about grid stuff. (I'm a grid newbie)\r\n\r\nE.g: as you said earlier this is skipped for multigrid (via `ui_comp_should_draw`); I suppose that's because UIs may draw grids in any position they'd like?",
            "created_at": "2026-02-04T10:20:50Z",
            "html_url": "https://github.com/neovim/neovim/pull/37624#issuecomment-3846561338",
            "id": 3846561338,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37624",
            "node_id": "IC_kwDOAPphoM7lRd46",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3846561338/reactions"
            },
            "updated_at": "2026-02-04T10:20:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3846561338",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Thanks so much for the thorough review     in multigrid mode the UI client positions grids independently, so floats don't truly obscure content the same way they do in TUI mode ",
            "created_at": "2026-02-04T10:35:19Z",
            "html_url": "https://github.com/neovim/neovim/pull/37624#issuecomment-3846633691",
            "id": 3846633691,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37624",
            "node_id": "IC_kwDOAPphoM7lRvjb",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3846633691/reactions"
            },
            "updated_at": "2026-02-04T10:35:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3846633691",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "One related thing, probably to implement in a separate PR.\r\n\r\nSometimes we have created non-focusable decorational windows on top of the current non-float window and rather don't want to obscure the cursor (apparently by a new win_config option). \r\n\r\n<img width=\"858\" height=\"325\" alt=\"image\" src=\"https://github.com/user-attachments/assets/75d7019c-4eed-4c09-b2ba-a88c03df19d1\" />\r\n\r\n",
            "created_at": "2026-02-04T11:05:51Z",
            "html_url": "https://github.com/neovim/neovim/pull/37624#issuecomment-3846784011",
            "id": 3846784011,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37624",
            "node_id": "IC_kwDOAPphoM7lSUQL",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3846784011/reactions"
            },
            "updated_at": "2026-02-04T11:05:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3846784011",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11404453?v=4",
                "events_url": "https://api.github.com/users/przepompownia/events{/privacy}",
                "followers_url": "https://api.github.com/users/przepompownia/followers",
                "following_url": "https://api.github.com/users/przepompownia/following{/other_user}",
                "gists_url": "https://api.github.com/users/przepompownia/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/przepompownia",
                "id": 11404453,
                "login": "przepompownia",
                "node_id": "MDQ6VXNlcjExNDA0NDUz",
                "organizations_url": "https://api.github.com/users/przepompownia/orgs",
                "received_events_url": "https://api.github.com/users/przepompownia/received_events",
                "repos_url": "https://api.github.com/users/przepompownia/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/przepompownia/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/przepompownia/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/przepompownia",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "It seems there's more blank space on the left. Wouldn't it be better to utilize the space on the left instead of overlapping the main window ? A better effect here would be something like moving to the left and becoming bold, and then reverting to the original state when  moves away?",
            "created_at": "2026-02-04T11:11:39Z",
            "html_url": "https://github.com/neovim/neovim/pull/37624#issuecomment-3846817717",
            "id": 3846817717,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37624",
            "node_id": "IC_kwDOAPphoM7lSce1",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3846817717/reactions"
            },
            "updated_at": "2026-02-04T11:12:59Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3846817717",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Will add a news.txt item for this.",
            "created_at": "2026-02-04T14:59:52Z",
            "html_url": "https://github.com/neovim/neovim/pull/37624#issuecomment-3847962303",
            "id": 3847962303,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37624",
            "node_id": "IC_kwDOAPphoM7lWz6_",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3847962303/reactions"
            },
            "updated_at": "2026-02-04T14:59:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3847962303",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Thank you all for working on this change!",
            "created_at": "2026-02-04T15:34:34Z",
            "html_url": "https://github.com/neovim/neovim/pull/37624#issuecomment-3848154091",
            "id": 3848154091,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37624",
            "node_id": "IC_kwDOAPphoM7lXivr",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3848154091/reactions"
            },
            "updated_at": "2026-02-04T15:34:34Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3848154091",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11404453?v=4",
                "events_url": "https://api.github.com/users/przepompownia/events{/privacy}",
                "followers_url": "https://api.github.com/users/przepompownia/followers",
                "following_url": "https://api.github.com/users/przepompownia/following{/other_user}",
                "gists_url": "https://api.github.com/users/przepompownia/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/przepompownia",
                "id": 11404453,
                "login": "przepompownia",
                "node_id": "MDQ6VXNlcjExNDA0NDUz",
                "organizations_url": "https://api.github.com/users/przepompownia/orgs",
                "received_events_url": "https://api.github.com/users/przepompownia/received_events",
                "repos_url": "https://api.github.com/users/przepompownia/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/przepompownia/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/przepompownia/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/przepompownia",
                "user_view_type": "public"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/37624/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/37624/commits",
    "created_at": "2026-01-30T06:45:17Z",
    "diff_url": "https://github.com/neovim/neovim/pull/37624.diff",
    "draft": false,
    "head": {
        "label": "glepnir:35923",
        "ref": "35923",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/glepnir/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/glepnir/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/glepnir/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/glepnir/neovim/branches{/branch}",
            "clone_url": "https://github.com/glepnir/neovim.git",
            "collaborators_url": "https://api.github.com/repos/glepnir/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/glepnir/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/glepnir/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/glepnir/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/glepnir/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/glepnir/neovim/contributors",
            "created_at": "2022-07-17T05:15:58Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/glepnir/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/glepnir/neovim/downloads",
            "events_url": "https://api.github.com/repos/glepnir/neovim/events",
            "fork": true,
            "forks": 1,
            "forks_count": 1,
            "forks_url": "https://api.github.com/repos/glepnir/neovim/forks",
            "full_name": "glepnir/neovim",
            "git_commits_url": "https://api.github.com/repos/glepnir/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/glepnir/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/glepnir/neovim/git/tags{/sha}",
            "git_url": "git://github.com/glepnir/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/glepnir/neovim/hooks",
            "html_url": "https://github.com/glepnir/neovim",
            "id": 514752985,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/glepnir/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/glepnir/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/glepnir/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/glepnir/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/glepnir/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/glepnir/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/glepnir/neovim/merges",
            "milestones_url": "https://api.github.com/repos/glepnir/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "R_kgDOHq6B2Q",
            "notifications_url": "https://api.github.com/repos/glepnir/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/glepnir/neovim/pulls{/number}",
            "pushed_at": "2026-02-10T04:05:10Z",
            "releases_url": "https://api.github.com/repos/glepnir/neovim/releases{/id}",
            "size": 360246,
            "ssh_url": "git@github.com:glepnir/neovim.git",
            "stargazers_count": 2,
            "stargazers_url": "https://api.github.com/repos/glepnir/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/glepnir/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/glepnir/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/glepnir/neovim/subscription",
            "svn_url": "https://github.com/glepnir/neovim",
            "tags_url": "https://api.github.com/repos/glepnir/neovim/tags",
            "teams_url": "https://api.github.com/repos/glepnir/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/glepnir/neovim/git/trees{/sha}",
            "updated_at": "2026-02-09T03:28:21Z",
            "url": "https://api.github.com/repos/glepnir/neovim",
            "visibility": "public",
            "watchers": 2,
            "watchers_count": 2,
            "web_commit_signoff_required": false
        },
        "sha": "97bf25353c85df2180320c15d2fb7f2f3f51a8de",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
            "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
            "followers_url": "https://api.github.com/users/glepnir/followers",
            "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
            "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/glepnir",
            "id": 41671631,
            "login": "glepnir",
            "node_id": "MDQ6VXNlcjQxNjcxNjMx",
            "organizations_url": "https://api.github.com/users/glepnir/orgs",
            "received_events_url": "https://api.github.com/users/glepnir/received_events",
            "repos_url": "https://api.github.com/users/glepnir/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/glepnir",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/37624",
    "id": 3226584789,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37624",
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 113026979,
            "name": "ui",
            "node_id": "MDU6TGFiZWwxMTMwMjY5Nzk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/ui"
        }
    ],
    "locked": false,
    "merge_commit_sha": "a2b92a5efbb4159d15311f015bb270f80de42e3a",
    "merged_at": "2026-02-04T15:09:51Z",
    "milestone": null,
    "node_id": "PR_kwDOAPphoM7AUcbV",
    "number": 37624,
    "patch_url": "https://github.com/neovim/neovim/pull/37624.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/37624/comments",
    "state": "closed",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/97bf25353c85df2180320c15d2fb7f2f3f51a8de",
    "title": "fix(ui): change cursor when behind floating window",
    "updated_at": "2026-02-05T03:22:00Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/37624",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
        "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
        "followers_url": "https://api.github.com/users/glepnir/followers",
        "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
        "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/glepnir",
        "id": 41671631,
        "login": "glepnir",
        "node_id": "MDQ6VXNlcjQxNjcxNjMx",
        "organizations_url": "https://api.github.com/users/glepnir/orgs",
        "received_events_url": "https://api.github.com/users/glepnir/received_events",
        "repos_url": "https://api.github.com/users/glepnir/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/glepnir",
        "user_view_type": "public"
    }
}