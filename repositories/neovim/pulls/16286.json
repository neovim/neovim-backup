{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/16286/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/16286/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/16286"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/16286"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/16286/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/16286"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/300d562cd5680ba08a68e94dffcba2461a133fc5"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 6150,
            "forks_count": 6150,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 1963,
            "open_issues_count": 1963,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2025-06-30T23:58:06Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 330464,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 90708,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2025-07-01T02:27:30Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 90708,
            "watchers_count": 90708,
            "web_commit_signoff_required": false
        },
        "sha": "87a053f126c79f5eeb1654e35beb31d9fe733163",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim",
            "user_view_type": "public"
        }
    },
    "body": "How do I generate documentation for `lsp.util.split_lines` and `lsp.util.split_lines_iter`?",
    "closed_at": "2023-12-22T11:48:27Z",
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/16286#discussion_r747618944"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/16286"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/747618944"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Should the lines be normalized here, in vim.lsp.diagnostic, or handled by vim.diagnostic according to LSP rules?",
            "commit_id": "300d562cd5680ba08a68e94dffcba2461a133fc5",
            "created_at": "2021-11-11T15:54:56Z",
            "diff_hunk": "@@ -102,9 +102,10 @@ local function diagnostic_lsp_to_vim(diagnostics, bufnr, client_id)\n       end_lnum = _end.line,\n       end_col = line_byte_from_position(buf_lines, _end.line, _end.character, offset_encoding),\n       severity = severity_lsp_to_vim(diagnostic.severity),\n-      message = diagnostic.message,\n+      message = table.concat(vim.lsp.util.split_lines(diagnostic.message), '\\n'),",
            "html_url": "https://github.com/neovim/neovim/pull/16286#discussion_r747618944",
            "id": 747618944,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM4sj8KA",
            "original_commit_id": "14923f7ce479cd93cddba258261f1e97240b70f0",
            "original_line": 105,
            "original_position": 5,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/diagnostic.lua",
            "position": null,
            "pull_request_review_id": 803956301,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/16286",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/747618944/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2021-11-11T15:54:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/747618944",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15367354?v=4",
                "events_url": "https://api.github.com/users/dmitmel/events{/privacy}",
                "followers_url": "https://api.github.com/users/dmitmel/followers",
                "following_url": "https://api.github.com/users/dmitmel/following{/other_user}",
                "gists_url": "https://api.github.com/users/dmitmel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dmitmel",
                "id": 15367354,
                "login": "dmitmel",
                "node_id": "MDQ6VXNlcjE1MzY3MzU0",
                "organizations_url": "https://api.github.com/users/dmitmel/orgs",
                "received_events_url": "https://api.github.com/users/dmitmel/received_events",
                "repos_url": "https://api.github.com/users/dmitmel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dmitmel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dmitmel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dmitmel",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/16286#discussion_r747629380"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/16286"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/747629380"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "This is just the diagnostic message displayed, I don't think we need to split and concatenate here? Is the server actually returning anything other than `\\n`?",
            "commit_id": "300d562cd5680ba08a68e94dffcba2461a133fc5",
            "created_at": "2021-11-11T16:07:46Z",
            "diff_hunk": "@@ -102,9 +102,10 @@ local function diagnostic_lsp_to_vim(diagnostics, bufnr, client_id)\n       end_lnum = _end.line,\n       end_col = line_byte_from_position(buf_lines, _end.line, _end.character, offset_encoding),\n       severity = severity_lsp_to_vim(diagnostic.severity),\n-      message = diagnostic.message,\n+      message = table.concat(vim.lsp.util.split_lines(diagnostic.message), '\\n'),",
            "html_url": "https://github.com/neovim/neovim/pull/16286#discussion_r747629380",
            "id": 747629380,
            "in_reply_to_id": 747618944,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM4sj-tE",
            "original_commit_id": "14923f7ce479cd93cddba258261f1e97240b70f0",
            "original_line": 105,
            "original_position": 5,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/diagnostic.lua",
            "position": null,
            "pull_request_review_id": 803970370,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/16286",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/747629380/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2021-11-11T16:07:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/747629380",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/13316262?v=4",
                "events_url": "https://api.github.com/users/mjlbach/events{/privacy}",
                "followers_url": "https://api.github.com/users/mjlbach/followers",
                "following_url": "https://api.github.com/users/mjlbach/following{/other_user}",
                "gists_url": "https://api.github.com/users/mjlbach/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mjlbach",
                "id": 13316262,
                "login": "mjlbach",
                "node_id": "MDQ6VXNlcjEzMzE2MjYy",
                "organizations_url": "https://api.github.com/users/mjlbach/orgs",
                "received_events_url": "https://api.github.com/users/mjlbach/received_events",
                "repos_url": "https://api.github.com/users/mjlbach/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mjlbach/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mjlbach/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mjlbach",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/16286#discussion_r747630231"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/16286"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/747630231"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "in what scenario do we need the fallback?",
            "commit_id": "300d562cd5680ba08a68e94dffcba2461a133fc5",
            "created_at": "2021-11-11T16:08:52Z",
            "diff_hunk": "@@ -115,6 +115,13 @@ local format_line_ending = {\n   [\"mac\"] = '\\r',\n }\n \n+---@private\n+---@param bufnr (number)\n+---@returns (string)\n+local function buf_get_line_ending(bufnr)\n+  return format_line_ending[nvim_buf_get_option(bufnr, 'fileformat')] or '\\n'",
            "html_url": "https://github.com/neovim/neovim/pull/16286#discussion_r747630231",
            "id": 747630231,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM4sj-6X",
            "original_commit_id": "14923f7ce479cd93cddba258261f1e97240b70f0",
            "original_line": 122,
            "original_position": 8,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": null,
            "pull_request_review_id": 803971479,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/16286",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/747630231/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2021-11-11T16:08:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/747630231",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/13316262?v=4",
                "events_url": "https://api.github.com/users/mjlbach/events{/privacy}",
                "followers_url": "https://api.github.com/users/mjlbach/followers",
                "following_url": "https://api.github.com/users/mjlbach/following{/other_user}",
                "gists_url": "https://api.github.com/users/mjlbach/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mjlbach",
                "id": 13316262,
                "login": "mjlbach",
                "node_id": "MDQ6VXNlcjEzMzE2MjYy",
                "organizations_url": "https://api.github.com/users/mjlbach/orgs",
                "received_events_url": "https://api.github.com/users/mjlbach/received_events",
                "repos_url": "https://api.github.com/users/mjlbach/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mjlbach/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mjlbach/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mjlbach",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/16286#discussion_r747630877"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/16286"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/747630877"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "This seems out of scope of this PR?",
            "commit_id": "300d562cd5680ba08a68e94dffcba2461a133fc5",
            "created_at": "2021-11-11T16:09:38Z",
            "diff_hunk": "@@ -132,7 +133,7 @@ local function diagnostic_vim_to_lsp(diagnostics)\n         },\n       },\n       severity = severity_vim_to_lsp(diagnostic.severity),\n-      message = diagnostic.message,\n+      message = (diagnostic.user_data and diagnostic.user_data.lsp_original_message) or diagnostic.message,",
            "html_url": "https://github.com/neovim/neovim/pull/16286#discussion_r747630877",
            "id": 747630877,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM4sj_Ed",
            "original_commit_id": "14923f7ce479cd93cddba258261f1e97240b70f0",
            "original_line": 136,
            "original_position": 17,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/diagnostic.lua",
            "position": null,
            "pull_request_review_id": 803972360,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/16286",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/747630877/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2021-11-11T16:12:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/747630877",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/13316262?v=4",
                "events_url": "https://api.github.com/users/mjlbach/events{/privacy}",
                "followers_url": "https://api.github.com/users/mjlbach/followers",
                "following_url": "https://api.github.com/users/mjlbach/following{/other_user}",
                "gists_url": "https://api.github.com/users/mjlbach/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mjlbach",
                "id": 13316262,
                "login": "mjlbach",
                "node_id": "MDQ6VXNlcjEzMzE2MjYy",
                "organizations_url": "https://api.github.com/users/mjlbach/orgs",
                "received_events_url": "https://api.github.com/users/mjlbach/received_events",
                "repos_url": "https://api.github.com/users/mjlbach/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mjlbach/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mjlbach/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mjlbach",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/16286#discussion_r747632151"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/16286"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/747632151"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Given we don't internally handle `\\r` according to the specification, I'm not sure this is correct",
            "commit_id": "300d562cd5680ba08a68e94dffcba2461a133fc5",
            "created_at": "2021-11-11T16:11:16Z",
            "diff_hunk": "@@ -85,9 +85,95 @@ local function get_border_size(opts)\n   return { height = height, width = width }\n end\n \n----@private\n-local function split_lines(value)\n-  return split(value, '\\n', true)\n+--- Splits the given text into lines according to LSP's definition of text\n+--- lines. Quoting the specification: \"To ensure that both client and server\n+--- split the string into the same line representation the protocol specifies\n+--- the following end-of-line sequences: '\\n', '\\r\\n' and '\\r'.\"\n+---\n+---@see |vim.lsp.util.split_lines_iter()|\n+---@see https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocuments\n+function M.split_lines(text, opts)",
            "html_url": "https://github.com/neovim/neovim/pull/16286#discussion_r747632151",
            "id": 747632151,
            "line": 95,
            "node_id": "PRRC_kwDOAPphoM4sj_YX",
            "original_commit_id": "14923f7ce479cd93cddba258261f1e97240b70f0",
            "original_line": 95,
            "original_position": 14,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/util.lua",
            "position": 14,
            "pull_request_review_id": 803972360,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/16286",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/747632151/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2021-11-11T16:12:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/747632151",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/13316262?v=4",
                "events_url": "https://api.github.com/users/mjlbach/events{/privacy}",
                "followers_url": "https://api.github.com/users/mjlbach/followers",
                "following_url": "https://api.github.com/users/mjlbach/following{/other_user}",
                "gists_url": "https://api.github.com/users/mjlbach/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mjlbach",
                "id": 13316262,
                "login": "mjlbach",
                "node_id": "MDQ6VXNlcjEzMzE2MjYy",
                "organizations_url": "https://api.github.com/users/mjlbach/orgs",
                "received_events_url": "https://api.github.com/users/mjlbach/received_events",
                "repos_url": "https://api.github.com/users/mjlbach/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mjlbach/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mjlbach/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mjlbach",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/16286#discussion_r747703199"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/16286"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/747703199"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "> This is just the diagnostic message displayed, I don't think we need to split and concatenate here?\r\n\r\nhttps://github.com/neovim/neovim/blob/9d6a475cedf93a03214ca9c9bd0673a763994d78/runtime/lua/vim/diagnostic.lua#L1230\r\n\r\n> Is the server actually returning anything other than `\\n`?\r\n\r\nUnclear, the specification doesn't state anything concrete either",
            "commit_id": "300d562cd5680ba08a68e94dffcba2461a133fc5",
            "created_at": "2021-11-11T17:50:07Z",
            "diff_hunk": "@@ -102,9 +102,10 @@ local function diagnostic_lsp_to_vim(diagnostics, bufnr, client_id)\n       end_lnum = _end.line,\n       end_col = line_byte_from_position(buf_lines, _end.line, _end.character, offset_encoding),\n       severity = severity_lsp_to_vim(diagnostic.severity),\n-      message = diagnostic.message,\n+      message = table.concat(vim.lsp.util.split_lines(diagnostic.message), '\\n'),",
            "html_url": "https://github.com/neovim/neovim/pull/16286#discussion_r747703199",
            "id": 747703199,
            "in_reply_to_id": 747618944,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM4skQuf",
            "original_commit_id": "14923f7ce479cd93cddba258261f1e97240b70f0",
            "original_line": 105,
            "original_position": 5,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/diagnostic.lua",
            "position": null,
            "pull_request_review_id": 804068501,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/16286",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/747703199/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2021-11-11T17:50:07Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/747703199",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15367354?v=4",
                "events_url": "https://api.github.com/users/dmitmel/events{/privacy}",
                "followers_url": "https://api.github.com/users/dmitmel/followers",
                "following_url": "https://api.github.com/users/dmitmel/following{/other_user}",
                "gists_url": "https://api.github.com/users/dmitmel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dmitmel",
                "id": 15367354,
                "login": "dmitmel",
                "node_id": "MDQ6VXNlcjE1MzY3MzU0",
                "organizations_url": "https://api.github.com/users/dmitmel/orgs",
                "received_events_url": "https://api.github.com/users/dmitmel/received_events",
                "repos_url": "https://api.github.com/users/dmitmel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dmitmel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dmitmel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dmitmel",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/16286#discussion_r747704249"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/16286"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/747704249"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "It is simply written defensively, AFAIK it is impossible to set fileformat to an invalid value",
            "commit_id": "300d562cd5680ba08a68e94dffcba2461a133fc5",
            "created_at": "2021-11-11T17:51:39Z",
            "diff_hunk": "@@ -115,6 +115,13 @@ local format_line_ending = {\n   [\"mac\"] = '\\r',\n }\n \n+---@private\n+---@param bufnr (number)\n+---@returns (string)\n+local function buf_get_line_ending(bufnr)\n+  return format_line_ending[nvim_buf_get_option(bufnr, 'fileformat')] or '\\n'",
            "html_url": "https://github.com/neovim/neovim/pull/16286#discussion_r747704249",
            "id": 747704249,
            "in_reply_to_id": 747630231,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM4skQ-5",
            "original_commit_id": "14923f7ce479cd93cddba258261f1e97240b70f0",
            "original_line": 122,
            "original_position": 8,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": null,
            "pull_request_review_id": 804069826,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/16286",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/747704249/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2021-11-11T17:51:39Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/747704249",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15367354?v=4",
                "events_url": "https://api.github.com/users/dmitmel/events{/privacy}",
                "followers_url": "https://api.github.com/users/dmitmel/followers",
                "following_url": "https://api.github.com/users/dmitmel/following{/other_user}",
                "gists_url": "https://api.github.com/users/dmitmel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dmitmel",
                "id": 15367354,
                "login": "dmitmel",
                "node_id": "MDQ6VXNlcjE1MzY3MzU0",
                "organizations_url": "https://api.github.com/users/dmitmel/orgs",
                "received_events_url": "https://api.github.com/users/dmitmel/received_events",
                "repos_url": "https://api.github.com/users/dmitmel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dmitmel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dmitmel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dmitmel",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/16286#discussion_r747705118"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/16286"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/747705118"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Related to https://github.com/neovim/neovim/pull/16286/files/14923f7ce479cd93cddba258261f1e97240b70f0#diff-2c5241b87ba4cc10dd6d1822a2cfa718b1ea523bb9781da4f92585aff7f6b01f, otherwise vim.lsp.diagnostic.get and friends won't return the same diagnostics that were passed in. This is a hack though.",
            "commit_id": "300d562cd5680ba08a68e94dffcba2461a133fc5",
            "created_at": "2021-11-11T17:52:59Z",
            "diff_hunk": "@@ -132,7 +133,7 @@ local function diagnostic_vim_to_lsp(diagnostics)\n         },\n       },\n       severity = severity_vim_to_lsp(diagnostic.severity),\n-      message = diagnostic.message,\n+      message = (diagnostic.user_data and diagnostic.user_data.lsp_original_message) or diagnostic.message,",
            "html_url": "https://github.com/neovim/neovim/pull/16286#discussion_r747705118",
            "id": 747705118,
            "in_reply_to_id": 747630877,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM4skRMe",
            "original_commit_id": "14923f7ce479cd93cddba258261f1e97240b70f0",
            "original_line": 136,
            "original_position": 17,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/diagnostic.lua",
            "position": null,
            "pull_request_review_id": 804070912,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/16286",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/747705118/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2021-11-11T17:52:59Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/747705118",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15367354?v=4",
                "events_url": "https://api.github.com/users/dmitmel/events{/privacy}",
                "followers_url": "https://api.github.com/users/dmitmel/followers",
                "following_url": "https://api.github.com/users/dmitmel/following{/other_user}",
                "gists_url": "https://api.github.com/users/dmitmel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dmitmel",
                "id": 15367354,
                "login": "dmitmel",
                "node_id": "MDQ6VXNlcjE1MzY3MzU0",
                "organizations_url": "https://api.github.com/users/dmitmel/orgs",
                "received_events_url": "https://api.github.com/users/dmitmel/received_events",
                "repos_url": "https://api.github.com/users/dmitmel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dmitmel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dmitmel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dmitmel",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/16286#discussion_r747705417"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/16286"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/747705417"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Are you talking about the function or the usages of it?",
            "commit_id": "300d562cd5680ba08a68e94dffcba2461a133fc5",
            "created_at": "2021-11-11T17:53:30Z",
            "diff_hunk": "@@ -85,9 +85,95 @@ local function get_border_size(opts)\n   return { height = height, width = width }\n end\n \n----@private\n-local function split_lines(value)\n-  return split(value, '\\n', true)\n+--- Splits the given text into lines according to LSP's definition of text\n+--- lines. Quoting the specification: \"To ensure that both client and server\n+--- split the string into the same line representation the protocol specifies\n+--- the following end-of-line sequences: '\\n', '\\r\\n' and '\\r'.\"\n+---\n+---@see |vim.lsp.util.split_lines_iter()|\n+---@see https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocuments\n+function M.split_lines(text, opts)",
            "html_url": "https://github.com/neovim/neovim/pull/16286#discussion_r747705417",
            "id": 747705417,
            "in_reply_to_id": 747632151,
            "line": 95,
            "node_id": "PRRC_kwDOAPphoM4skRRJ",
            "original_commit_id": "14923f7ce479cd93cddba258261f1e97240b70f0",
            "original_line": 95,
            "original_position": 14,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/util.lua",
            "position": 14,
            "pull_request_review_id": 804071325,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/16286",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/747705417/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2021-11-11T17:53:30Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/747705417",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15367354?v=4",
                "events_url": "https://api.github.com/users/dmitmel/events{/privacy}",
                "followers_url": "https://api.github.com/users/dmitmel/followers",
                "following_url": "https://api.github.com/users/dmitmel/following{/other_user}",
                "gists_url": "https://api.github.com/users/dmitmel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dmitmel",
                "id": 15367354,
                "login": "dmitmel",
                "node_id": "MDQ6VXNlcjE1MzY3MzU0",
                "organizations_url": "https://api.github.com/users/dmitmel/orgs",
                "received_events_url": "https://api.github.com/users/dmitmel/received_events",
                "repos_url": "https://api.github.com/users/dmitmel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dmitmel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dmitmel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dmitmel",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/16286#discussion_r748742669"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/16286"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/748742669"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "I'm talking about we shouldn't be splitting lines on \\r before sending to the server",
            "commit_id": "300d562cd5680ba08a68e94dffcba2461a133fc5",
            "created_at": "2021-11-13T16:59:11Z",
            "diff_hunk": "@@ -85,9 +85,95 @@ local function get_border_size(opts)\n   return { height = height, width = width }\n end\n \n----@private\n-local function split_lines(value)\n-  return split(value, '\\n', true)\n+--- Splits the given text into lines according to LSP's definition of text\n+--- lines. Quoting the specification: \"To ensure that both client and server\n+--- split the string into the same line representation the protocol specifies\n+--- the following end-of-line sequences: '\\n', '\\r\\n' and '\\r'.\"\n+---\n+---@see |vim.lsp.util.split_lines_iter()|\n+---@see https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocuments\n+function M.split_lines(text, opts)",
            "html_url": "https://github.com/neovim/neovim/pull/16286#discussion_r748742669",
            "id": 748742669,
            "in_reply_to_id": 747632151,
            "line": 95,
            "node_id": "PRRC_kwDOAPphoM4soOgN",
            "original_commit_id": "14923f7ce479cd93cddba258261f1e97240b70f0",
            "original_line": 95,
            "original_position": 14,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/util.lua",
            "position": 14,
            "pull_request_review_id": 805385209,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/16286",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/748742669/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2021-11-13T16:59:11Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/748742669",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/13316262?v=4",
                "events_url": "https://api.github.com/users/mjlbach/events{/privacy}",
                "followers_url": "https://api.github.com/users/mjlbach/followers",
                "following_url": "https://api.github.com/users/mjlbach/following{/other_user}",
                "gists_url": "https://api.github.com/users/mjlbach/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mjlbach",
                "id": 13316262,
                "login": "mjlbach",
                "node_id": "MDQ6VXNlcjEzMzE2MjYy",
                "organizations_url": "https://api.github.com/users/mjlbach/orgs",
                "received_events_url": "https://api.github.com/users/mjlbach/received_events",
                "repos_url": "https://api.github.com/users/mjlbach/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mjlbach/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mjlbach/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mjlbach",
                "user_view_type": "public"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "@mjlbach Alright, I give up. I'll undo the changes to usages of `lsp.util.split_lines`, but let's at least move the function itself to a different PR. Don't you need something like that in order to handle in-line `\\r`s?",
            "created_at": "2021-11-13T13:42:29Z",
            "html_url": "https://github.com/neovim/neovim/pull/16286#issuecomment-968070788",
            "id": 968070788,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/16286",
            "node_id": "IC_kwDOAPphoM45s5aE",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/968070788/reactions"
            },
            "updated_at": "2021-11-13T14:01:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/968070788",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15367354?v=4",
                "events_url": "https://api.github.com/users/dmitmel/events{/privacy}",
                "followers_url": "https://api.github.com/users/dmitmel/followers",
                "following_url": "https://api.github.com/users/dmitmel/following{/other_user}",
                "gists_url": "https://api.github.com/users/dmitmel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dmitmel",
                "id": 15367354,
                "login": "dmitmel",
                "node_id": "MDQ6VXNlcjE1MzY3MzU0",
                "organizations_url": "https://api.github.com/users/dmitmel/orgs",
                "received_events_url": "https://api.github.com/users/dmitmel/received_events",
                "repos_url": "https://api.github.com/users/dmitmel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dmitmel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dmitmel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dmitmel",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Do any Language Servers return CRLF newlines in textEdits? Asking for whether `vim.split(text_edit.newText, '\\n', true)` should use fileformat-dependent newline too.",
            "created_at": "2021-11-13T13:49:59Z",
            "html_url": "https://github.com/neovim/neovim/pull/16286#issuecomment-968071790",
            "id": 968071790,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/16286",
            "node_id": "IC_kwDOAPphoM45s5pu",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/968071790/reactions"
            },
            "updated_at": "2021-11-13T13:58:36Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/968071790",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15367354?v=4",
                "events_url": "https://api.github.com/users/dmitmel/events{/privacy}",
                "followers_url": "https://api.github.com/users/dmitmel/followers",
                "following_url": "https://api.github.com/users/dmitmel/following{/other_user}",
                "gists_url": "https://api.github.com/users/dmitmel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dmitmel",
                "id": 15367354,
                "login": "dmitmel",
                "node_id": "MDQ6VXNlcjE1MzY3MzU0",
                "organizations_url": "https://api.github.com/users/dmitmel/orgs",
                "received_events_url": "https://api.github.com/users/dmitmel/received_events",
                "repos_url": "https://api.github.com/users/dmitmel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dmitmel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dmitmel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dmitmel",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> but let's at least move the function itself to a different PR. Don't you need something like that in order to handle in-line `\\r`s?\r\n\r\nNevermind, you can just `nvim_buf_get_lines` and split each line on \\r. The only place where I imagine this function could be useful is for `lsp.util.get_lines` (and a similar one in `lsp.diagnostic` which can be refactored to use `lsp.util.get_lines`), which can't do fileformat detection. Please tell me if you need `split_lines` - if not, I am pulling it out.",
            "created_at": "2021-11-13T14:07:08Z",
            "html_url": "https://github.com/neovim/neovim/pull/16286#issuecomment-968074130",
            "id": 968074130,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/16286",
            "node_id": "IC_kwDOAPphoM45s6OS",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/968074130/reactions"
            },
            "updated_at": "2021-11-13T14:07:15Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/968074130",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15367354?v=4",
                "events_url": "https://api.github.com/users/dmitmel/events{/privacy}",
                "followers_url": "https://api.github.com/users/dmitmel/followers",
                "following_url": "https://api.github.com/users/dmitmel/following{/other_user}",
                "gists_url": "https://api.github.com/users/dmitmel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dmitmel",
                "id": 15367354,
                "login": "dmitmel",
                "node_id": "MDQ6VXNlcjE1MzY3MzU0",
                "organizations_url": "https://api.github.com/users/dmitmel/orgs",
                "received_events_url": "https://api.github.com/users/dmitmel/received_events",
                "repos_url": "https://api.github.com/users/dmitmel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dmitmel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dmitmel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dmitmel",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@mjlbach What do we do with this PR? (Ref: https://github.com/neovim/neovim/pull/16277#issuecomment-968097978)",
            "created_at": "2021-11-13T16:52:58Z",
            "html_url": "https://github.com/neovim/neovim/pull/16286#issuecomment-968099119",
            "id": 968099119,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/16286",
            "node_id": "IC_kwDOAPphoM45tAUv",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/968099119/reactions"
            },
            "updated_at": "2021-11-13T16:52:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/968099119",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15367354?v=4",
                "events_url": "https://api.github.com/users/dmitmel/events{/privacy}",
                "followers_url": "https://api.github.com/users/dmitmel/followers",
                "following_url": "https://api.github.com/users/dmitmel/following{/other_user}",
                "gists_url": "https://api.github.com/users/dmitmel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dmitmel",
                "id": 15367354,
                "login": "dmitmel",
                "node_id": "MDQ6VXNlcjE1MzY3MzU0",
                "organizations_url": "https://api.github.com/users/dmitmel/orgs",
                "received_events_url": "https://api.github.com/users/dmitmel/received_events",
                "repos_url": "https://api.github.com/users/dmitmel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dmitmel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dmitmel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dmitmel",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "WDYM what do we do? I need to think about some of the thing's bjorn said about our endline handling, a lot of my internal justification for maintaining the line ending when communicating with the language server is undermined by the fact we save the buffer to disk as utf-8",
            "created_at": "2021-11-13T16:54:14Z",
            "html_url": "https://github.com/neovim/neovim/pull/16286#issuecomment-968099297",
            "id": 968099297,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/16286",
            "node_id": "IC_kwDOAPphoM45tAXh",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/968099297/reactions"
            },
            "updated_at": "2021-11-13T16:54:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/968099297",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/13316262?v=4",
                "events_url": "https://api.github.com/users/mjlbach/events{/privacy}",
                "followers_url": "https://api.github.com/users/mjlbach/followers",
                "following_url": "https://api.github.com/users/mjlbach/following{/other_user}",
                "gists_url": "https://api.github.com/users/mjlbach/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mjlbach",
                "id": 13316262,
                "login": "mjlbach",
                "node_id": "MDQ6VXNlcjEzMzE2MjYy",
                "organizations_url": "https://api.github.com/users/mjlbach/orgs",
                "received_events_url": "https://api.github.com/users/mjlbach/received_events",
                "repos_url": "https://api.github.com/users/mjlbach/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mjlbach/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mjlbach/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mjlbach",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Well, I mean, should I make it a PR with just a fix for #16231 and move split_lines to a different PR, or keep both in this PR, or something else? I have undone the changes to usage of split_lines because I couldn't find a server which reports back CR or CRLF line endings on hover, signature help, diagnostics or something of that matter, i.e. unrelated to file content tracking.",
            "created_at": "2021-11-13T16:57:42Z",
            "html_url": "https://github.com/neovim/neovim/pull/16286#issuecomment-968099727",
            "id": 968099727,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/16286",
            "node_id": "IC_kwDOAPphoM45tAeP",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/968099727/reactions"
            },
            "updated_at": "2021-11-13T16:57:42Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/968099727",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15367354?v=4",
                "events_url": "https://api.github.com/users/dmitmel/events{/privacy}",
                "followers_url": "https://api.github.com/users/dmitmel/followers",
                "following_url": "https://api.github.com/users/dmitmel/following{/other_user}",
                "gists_url": "https://api.github.com/users/dmitmel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dmitmel",
                "id": 15367354,
                "login": "dmitmel",
                "node_id": "MDQ6VXNlcjE1MzY3MzU0",
                "organizations_url": "https://api.github.com/users/dmitmel/orgs",
                "received_events_url": "https://api.github.com/users/dmitmel/received_events",
                "repos_url": "https://api.github.com/users/dmitmel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dmitmel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dmitmel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dmitmel",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Moved the `buf_get_full_text` fix to #16334",
            "created_at": "2021-11-20T12:28:24Z",
            "html_url": "https://github.com/neovim/neovim/pull/16286#issuecomment-974642981",
            "id": 974642981,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/16286",
            "node_id": "IC_kwDOAPphoM46F98l",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/974642981/reactions"
            },
            "updated_at": "2021-11-20T12:28:24Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/974642981",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15367354?v=4",
                "events_url": "https://api.github.com/users/dmitmel/events{/privacy}",
                "followers_url": "https://api.github.com/users/dmitmel/followers",
                "following_url": "https://api.github.com/users/dmitmel/following{/other_user}",
                "gists_url": "https://api.github.com/users/dmitmel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dmitmel",
                "id": 15367354,
                "login": "dmitmel",
                "node_id": "MDQ6VXNlcjE1MzY3MzU0",
                "organizations_url": "https://api.github.com/users/dmitmel/orgs",
                "received_events_url": "https://api.github.com/users/dmitmel/received_events",
                "repos_url": "https://api.github.com/users/dmitmel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dmitmel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dmitmel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dmitmel",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Closing this because it conflicts with https://github.com/neovim/neovim/issues/25272 and the functions added aren't used by other lsp components",
            "created_at": "2023-12-22T11:48:27Z",
            "html_url": "https://github.com/neovim/neovim/pull/16286#issuecomment-1867593756",
            "id": 1867593756,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/16286",
            "node_id": "IC_kwDOAPphoM5vUTgc",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1867593756/reactions"
            },
            "updated_at": "2023-12-22T11:48:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1867593756",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/38700?v=4",
                "events_url": "https://api.github.com/users/mfussenegger/events{/privacy}",
                "followers_url": "https://api.github.com/users/mfussenegger/followers",
                "following_url": "https://api.github.com/users/mfussenegger/following{/other_user}",
                "gists_url": "https://api.github.com/users/mfussenegger/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mfussenegger",
                "id": 38700,
                "login": "mfussenegger",
                "node_id": "MDQ6VXNlcjM4NzAw",
                "organizations_url": "https://api.github.com/users/mfussenegger/orgs",
                "received_events_url": "https://api.github.com/users/mfussenegger/received_events",
                "repos_url": "https://api.github.com/users/mfussenegger/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mfussenegger/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mfussenegger/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mfussenegger",
                "user_view_type": "public"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/16286/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/16286/commits",
    "created_at": "2021-11-11T14:42:30Z",
    "diff_url": "https://github.com/neovim/neovim/pull/16286.diff",
    "draft": false,
    "head": {
        "label": "dmitmel:lsp-split-lines",
        "ref": "lsp-split-lines",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/dmitmel/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/dmitmel/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/dmitmel/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/dmitmel/neovim/branches{/branch}",
            "clone_url": "https://github.com/dmitmel/neovim.git",
            "collaborators_url": "https://api.github.com/repos/dmitmel/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/dmitmel/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/dmitmel/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/dmitmel/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/dmitmel/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/dmitmel/neovim/contributors",
            "created_at": "2021-11-10T12:46:35Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/dmitmel/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": true,
            "downloads_url": "https://api.github.com/repos/dmitmel/neovim/downloads",
            "events_url": "https://api.github.com/repos/dmitmel/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/dmitmel/neovim/forks",
            "full_name": "dmitmel/neovim",
            "git_commits_url": "https://api.github.com/repos/dmitmel/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/dmitmel/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/dmitmel/neovim/git/tags{/sha}",
            "git_url": "git://github.com/dmitmel/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/dmitmel/neovim/hooks",
            "html_url": "https://github.com/dmitmel/neovim",
            "id": 426619279,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/dmitmel/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/dmitmel/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/dmitmel/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/dmitmel/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/dmitmel/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/dmitmel/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/dmitmel/neovim/merges",
            "milestones_url": "https://api.github.com/repos/dmitmel/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "R_kgDOGW2xjw",
            "notifications_url": "https://api.github.com/repos/dmitmel/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15367354?v=4",
                "events_url": "https://api.github.com/users/dmitmel/events{/privacy}",
                "followers_url": "https://api.github.com/users/dmitmel/followers",
                "following_url": "https://api.github.com/users/dmitmel/following{/other_user}",
                "gists_url": "https://api.github.com/users/dmitmel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dmitmel",
                "id": 15367354,
                "login": "dmitmel",
                "node_id": "MDQ6VXNlcjE1MzY3MzU0",
                "organizations_url": "https://api.github.com/users/dmitmel/orgs",
                "received_events_url": "https://api.github.com/users/dmitmel/received_events",
                "repos_url": "https://api.github.com/users/dmitmel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dmitmel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dmitmel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dmitmel",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/dmitmel/neovim/pulls{/number}",
            "pushed_at": "2025-06-24T15:10:02Z",
            "releases_url": "https://api.github.com/repos/dmitmel/neovim/releases{/id}",
            "size": 327279,
            "ssh_url": "git@github.com:dmitmel/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/dmitmel/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/dmitmel/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/dmitmel/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/dmitmel/neovim/subscription",
            "svn_url": "https://github.com/dmitmel/neovim",
            "tags_url": "https://api.github.com/repos/dmitmel/neovim/tags",
            "teams_url": "https://api.github.com/repos/dmitmel/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/dmitmel/neovim/git/trees{/sha}",
            "updated_at": "2025-06-24T15:11:12Z",
            "url": "https://api.github.com/repos/dmitmel/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "300d562cd5680ba08a68e94dffcba2461a133fc5",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/15367354?v=4",
            "events_url": "https://api.github.com/users/dmitmel/events{/privacy}",
            "followers_url": "https://api.github.com/users/dmitmel/followers",
            "following_url": "https://api.github.com/users/dmitmel/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmitmel/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/dmitmel",
            "id": 15367354,
            "login": "dmitmel",
            "node_id": "MDQ6VXNlcjE1MzY3MzU0",
            "organizations_url": "https://api.github.com/users/dmitmel/orgs",
            "received_events_url": "https://api.github.com/users/dmitmel/received_events",
            "repos_url": "https://api.github.com/users/dmitmel/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/dmitmel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmitmel/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/dmitmel",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/16286",
    "id": 778637479,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/16286",
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": null,
            "id": 662566370,
            "name": "lsp",
            "node_id": "MDU6TGFiZWw2NjI1NjYzNzA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lsp"
        }
    ],
    "locked": false,
    "merge_commit_sha": "cbd0291f72ecf8bf170181595538a237b02b6965",
    "merged_at": null,
    "milestone": null,
    "node_id": "PR_kwDOAPphoM4uaRCn",
    "number": 16286,
    "patch_url": "https://github.com/neovim/neovim/pull/16286.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/16286/comments",
    "state": "closed",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/300d562cd5680ba08a68e94dffcba2461a133fc5",
    "title": "feat(lsp): add lsp.util.split_lines and lsp.util.split_lines_iter",
    "updated_at": "2025-06-24T15:06:03Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/16286",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/15367354?v=4",
        "events_url": "https://api.github.com/users/dmitmel/events{/privacy}",
        "followers_url": "https://api.github.com/users/dmitmel/followers",
        "following_url": "https://api.github.com/users/dmitmel/following{/other_user}",
        "gists_url": "https://api.github.com/users/dmitmel/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/dmitmel",
        "id": 15367354,
        "login": "dmitmel",
        "node_id": "MDQ6VXNlcjE1MzY3MzU0",
        "organizations_url": "https://api.github.com/users/dmitmel/orgs",
        "received_events_url": "https://api.github.com/users/dmitmel/received_events",
        "repos_url": "https://api.github.com/users/dmitmel/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/dmitmel/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/dmitmel/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/dmitmel",
        "user_view_type": "public"
    }
}