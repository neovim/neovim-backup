{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/26799/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/26799/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/26799"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/26799"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/26799/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/26799"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/914de44cf157d89f53fe263580bc6d31bbe1bd67"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 5259,
            "forks_count": 5259,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 1730,
            "open_issues_count": 1730,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2024-02-20T01:37:56Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 253965,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 74120,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2024-02-20T01:31:12Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 74120,
            "watchers_count": 74120,
            "web_commit_signoff_required": false
        },
        "sha": "a376d979bda103fa9998d05c3cc4ba56d3c3cece",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim"
        }
    },
    "body": "Problem: We are missing the option for Vim's `previewpopup`.\r\n\r\nSolution: Implement the `previewpopup` option. However, our floating window is different from Vim's, so some available keys in the `previewpopup`  differ from Vim.\r\n\r\nFix #9920 ",
    "closed_at": null,
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26799#discussion_r1438468271"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26799"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1438468271"
                }
            },
            "author_association": "MEMBER",
            "body": "parameter in here is wired. it's better make w_float_is_info to be receive flag. then use flag here. can refactor on https://github.com/neovim/neovim/pull/26739 .",
            "commit_id": "914de44cf157d89f53fe263580bc6d31bbe1bd67",
            "created_at": "2023-12-30T04:15:57Z",
            "diff_hunk": "@@ -291,12 +296,138 @@ bool win_float_valid(const win_T *win)\n   return false;\n }\n \n-win_T *win_float_find_preview(void)\n+static void parse_title(FloatConfig *fconfig, BorderTextType bt, char *str, size_t len)\n+{\n+  Error err = ERROR_INIT;\n+  if (bt == kBorderTextTitle) {\n+    fconfig->title = true;\n+  } else {\n+    fconfig->footer = true;\n+  }\n+  Object obj = OBJECT_INIT;\n+  obj.type = kObjectTypeString;\n+  char *data = xmemdupz(str, len);\n+  obj.data.string.data = xstrdup(data);\n+  obj.data.string.size = strlen(data);\n+  parse_bordertext(obj, bt, fconfig, &err);\n+  api_free_object(obj);\n+  xfree(data);\n+}\n+\n+static void parse_title_pos(FloatConfig *fconfig, BorderTextType bt, char *s, size_t len)\n+{\n+  int start = bt == kBorderTextTitle ? 10 : 11;\n+  Error err = ERROR_INIT;\n+  String str = {\n+    .data = xmemdupz(s + start, len),\n+    .size = len + 1,\n+  };\n+  parse_bordertext_pos(str, bt, fconfig, &err);\n+  api_free_string(str);\n+}\n+\n+/// used for parse completepopup and previewpopup options\n+int parse_float_option(FloatConfig *fconfig, int *border_adj, bool preview)\n+{\n+  char *p = p_pvp;\n+  Error err = ERROR_INIT;\n+\n+  for (; *p != NUL; p += (*p == ',' ? 1 : 0)) {\n+    char *e, *dig;\n+    char *s = p;\n+\n+    e = vim_strchr(p, ':');\n+    if (e == NULL || e[1] == NUL) {\n+      return FAIL;\n+    }\n+\n+    p = vim_strchr(e, ',');\n+    if (p == NULL) {\n+      p = e + strlen(e);\n+    }\n+    dig = e + 1;\n+\n+    if (strncmp(s, \"border:\", 7) == 0) {\n+      if ((s + 7)[0] != 'd' && (s + 7)[0] != 's' && (s + 7)[0] != 'r') {\n+        return FAIL;\n+      }\n+      Object style = OBJECT_INIT;\n+      size_t len = p ? (size_t)(p - s - 7) : (size_t)(s - 7);\n+      char *data = xmemdupz(s + 7, len);\n+      style.type = kObjectTypeString;\n+      style.data.string.data = xstrdup(data);\n+      style.data.string.size = strlen(data);\n+      parse_border_style(style, fconfig, &err);\n+      int border_attr = syn_name2attr(\"FloatBorder\");\n+      for (int i = 0; i < 8; i++) {\n+        fconfig->border_attr[i] = fconfig->border_hl_ids[i]\n+                                  ? hl_get_ui_attr(0, HLF_BORDER, fconfig->border_hl_ids[i], false)\n+                                  : border_attr;\n+        if (i < 4 && fconfig->border_chars[2 * i + 1][0]) {\n+          border_adj[i] = 1;\n+        }\n+      }\n+      api_free_object(style);\n+      xfree(data);\n+    } else if (strncmp(s, \"title:\", 6) == 0) {\n+      size_t len = p ? (size_t)(p - s - 6) : (size_t)(s - 6);\n+      parse_title(fconfig, kBorderTextTitle, s + 6, len);\n+    } else if (strncmp(s, \"title_pos:\", 10) == 0) {\n+      size_t len = p ? (size_t)(p - s - 10) : (size_t)(s - 10);\n+      parse_title_pos(fconfig, kBorderTextTitle, s, len);\n+    } else if (strncmp(s, \"footer:\", 7) == 0) {\n+      size_t len = p ? (size_t)(p - s - 7) : (size_t)(s - 7);\n+      parse_title(fconfig, kBorderTextFooter, s + 7, len);\n+    } else if (strncmp(s, \"footer_pos:\", 11) == 0) {\n+      size_t len = p ? (size_t)(p - s - 11) : (size_t)(s - 11);\n+      parse_title_pos(fconfig, kBorderTextFooter, s, len);\n+    } else if (preview && strncmp(s, \"height:\", 7) == 0) {\n+      fconfig->height = getdigits_int(&dig, false, 0);\n+    } else if (preview && strncmp(s, \"width:\", 6) == 0) {\n+      fconfig->width = getdigits_int(&dig, false, 0);\n+    } else if (preview && strncmp(s, \"style:\", 6) == 0) {\n+      if ((s + 6)[0] != 'm') {\n+        return FAIL;\n+      }\n+      fconfig->style = kWinStyleMinimal;\n+    } else {\n+      return FAIL;\n+    }\n+  }\n+\n+  return OK;\n+}\n+\n+win_T *win_float_find_preview(bool find_info)",
            "html_url": "https://github.com/neovim/neovim/pull/26799#discussion_r1438468271",
            "id": 1438468271,
            "line": 423,
            "node_id": "PRRC_kwDOAPphoM5VvUiv",
            "original_commit_id": "1f272c83afac10bcfe4bd7c964149390daeab0b1",
            "original_line": 423,
            "original_position": 138,
            "original_start_line": null,
            "path": "src/nvim/winfloat.c",
            "position": 156,
            "pull_request_review_id": 1799279315,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26799",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 1,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1438468271/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-30T04:21:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1438468271",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26799#discussion_r1486176280"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26799"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486176280"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n        When not empty a floating window is used for commands that would open\r\n        a preview window.  See |preview-popup|.\r\n        Not used for the insert completion info, add \"popup\" to\r\n        'completeopt' for that.\r\n```",
            "commit_id": "914de44cf157d89f53fe263580bc6d31bbe1bd67",
            "created_at": "2024-02-12T13:24:27Z",
            "diff_hunk": "@@ -6025,6 +6025,24 @@ return {\n       type = 'number',\n       varname = 'p_pvh',\n     },\n+    {\n+      abbreviation = 'pvp',\n+      cb = 'did_set_previewpopup',\n+      expand_cb = 'expand_set_popupoption',\n+      defaults = { if_true = '' },\n+      desc = [=[\n+        When not empty a floating window is used for commands that would open a\n+        preview window.  See preview-popup.\n+        Not used for the insert completion info, add \"popup\" to\n+        'completeopt' for that.",
            "html_url": "https://github.com/neovim/neovim/pull/26799#discussion_r1486176280",
            "id": 1486176280,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5YlUAY",
            "original_commit_id": "01bfab43f8827a41ce0af682f7871c526d07fb39",
            "original_line": 6037,
            "original_position": 13,
            "original_start_line": 6034,
            "path": "src/nvim/options.lua",
            "position": null,
            "pull_request_review_id": 1875229295,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26799",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486176280/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2024-02-12T15:40:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486176280",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26799#discussion_r1486179676"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26799"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486179676"
                }
            },
            "author_association": "MEMBER",
            "body": "To match Vim's `P_COMMA|P_NODUP|P_COLON`, this'd be:\r\n\r\n```lua\r\ndeny_duplicates = true,\r\nlist = 'commacolon',  -- though maybe \"onecommacolon\" is better...\r\n```\r\n\r\nThis has implications like removing duplicates when using `:set+=`.",
            "commit_id": "914de44cf157d89f53fe263580bc6d31bbe1bd67",
            "created_at": "2024-02-12T13:27:34Z",
            "diff_hunk": "@@ -6025,6 +6025,24 @@ return {\n       type = 'number',\n       varname = 'p_pvh',\n     },\n+    {\n+      abbreviation = 'pvp',\n+      cb = 'did_set_previewpopup',\n+      expand_cb = 'expand_set_popupoption',\n+      defaults = { if_true = '' },\n+      desc = [=[\n+        When not empty a floating window is used for commands that would open a\n+        preview window.  See preview-popup.\n+        Not used for the insert completion info, add \"popup\" to\n+        'completeopt' for that.\n+      ]=],\n+      full_name = 'previewpopup',\n+      list = 'onecomma',",
            "html_url": "https://github.com/neovim/neovim/pull/26799#discussion_r1486179676",
            "id": 1486179676,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5YlU1c",
            "original_commit_id": "01bfab43f8827a41ce0af682f7871c526d07fb39",
            "original_line": 6040,
            "original_position": 16,
            "original_start_line": null,
            "path": "src/nvim/options.lua",
            "position": null,
            "pull_request_review_id": 1875229295,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26799",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486179676/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-02-12T15:40:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486179676",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26799#discussion_r1486181453"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26799"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486181453"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n      short_desc = N_('options for preview floating window'),\r\n```\r\n\r\nOr you could consider basing it on Vim's optwin.vim description:\r\n```lua\r\n      short_desc = N_('use a floating window for preview'),\r\n```",
            "commit_id": "914de44cf157d89f53fe263580bc6d31bbe1bd67",
            "created_at": "2024-02-12T13:29:07Z",
            "diff_hunk": "@@ -6025,6 +6025,24 @@ return {\n       type = 'number',\n       varname = 'p_pvh',\n     },\n+    {\n+      abbreviation = 'pvp',\n+      cb = 'did_set_previewpopup',\n+      expand_cb = 'expand_set_popupoption',\n+      defaults = { if_true = '' },\n+      desc = [=[\n+        When not empty a floating window is used for commands that would open a\n+        preview window.  See preview-popup.\n+        Not used for the insert completion info, add \"popup\" to\n+        'completeopt' for that.\n+      ]=],\n+      full_name = 'previewpopup',\n+      list = 'onecomma',\n+      scope = { 'global' },\n+      short_desc = N_('option for preview floating window'),",
            "html_url": "https://github.com/neovim/neovim/pull/26799#discussion_r1486181453",
            "id": 1486181453,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5YlVRN",
            "original_commit_id": "01bfab43f8827a41ce0af682f7871c526d07fb39",
            "original_line": 6042,
            "original_position": 18,
            "original_start_line": null,
            "path": "src/nvim/options.lua",
            "position": null,
            "pull_request_review_id": 1875229295,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26799",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486181453/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-02-12T15:40:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486181453",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26799#discussion_r1486197463"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26799"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486197463"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\nstatic char *(p_popup_option_values[]) = { \"height:\", \"width:\", \"border:\", \"title:\", \"title_pos:\",\r\n                                           \"footer:\", \"footer_pos:\", NULL };\r\n```",
            "commit_id": "914de44cf157d89f53fe263580bc6d31bbe1bd67",
            "created_at": "2024-02-12T13:42:33Z",
            "diff_hunk": "@@ -142,6 +143,12 @@ static char *(p_rdb_values[]) = { \"compositor\", \"nothrottle\", \"invalid\", \"nodelt\n                                   \"flush\", NULL };\n static char *(p_sloc_values[]) = { \"last\", \"statusline\", \"tabline\", NULL };\n \n+// Note: Keep this in sync with parse_float_option()\n+static char *(p_popup_option_values[]) = { \"height:\", \"width:\", \"border:\", \"title:\", \"title_pos\",\n+                                           \"footer\", \"footer_pos\", NULL };",
            "html_url": "https://github.com/neovim/neovim/pull/26799#discussion_r1486197463",
            "id": 1486197463,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5YlZLX",
            "original_commit_id": "01bfab43f8827a41ce0af682f7871c526d07fb39",
            "original_line": 148,
            "original_position": 14,
            "original_start_line": 147,
            "path": "src/nvim/optionstr.c",
            "position": null,
            "pull_request_review_id": 1875229295,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26799",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486197463/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2024-02-12T15:40:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486197463",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26799#discussion_r1486215065"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26799"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486215065"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n  fconfig.anchor = 0;  // NW\r\n```\r\nnit",
            "commit_id": "914de44cf157d89f53fe263580bc6d31bbe1bd67",
            "created_at": "2024-02-12T13:55:22Z",
            "diff_hunk": "@@ -297,12 +303,210 @@ bool win_float_valid(const win_T *win)\n   return false;\n }\n \n-win_T *win_float_find_preview(void)\n+/// Parses the 'title' or 'footer' text and stores it in WinConfig.\n+///\n+/// @param fconfig Configuration storage.\n+/// @param dup_val Value text to parse.\n+/// @param len Length of the text.\n+/// @param err Pointer to the Error structure for error handling.\n+///\n+/// @return true if parsing is successful, otherwise false.\n+static bool parse_opt_title(WinConfig *config, char *dup_val, size_t len, Error *err)\n+{\n+  if (len == 6) {\n+    config->title = true;\n+  } else {\n+    config->footer = true;\n+  }\n+  Object obj = CSTR_TO_OBJ(dup_val);\n+  // 6 mean title otherwise is footer\n+  parse_bordertext(obj, (len == 6 ? kBorderTextTitle : kBorderTextFooter), config, err);\n+  api_free_object(obj);\n+  return !ERROR_SET(err);\n+}\n+\n+/// Parses 'title' or 'footer' text from a specified position and updates WinConfig.\n+///\n+/// @param fconfig Configuration storage.\n+/// @param dup_val value text to parse.\n+/// @param len Length of the text.\n+/// @param err Pointer to the Error structure for error handling.\n+///\n+/// @return true if parsing is successful, otherwise false.\n+static bool parse_opt_title_pos(WinConfig *config, char *dup_val, size_t len, Error *err)\n+{\n+  String str = cstr_as_string(dup_val);\n+  // 10 mean title_pos otherwise is footer_pos\n+  parse_bordertext_pos(str, (len == 10 ? kBorderTextTitle : kBorderTextFooter), config, err);\n+  api_free_string(str);\n+  return !ERROR_SET(err);\n+}\n+\n+/// Parses the 'border' style configuration and updates WinConfig.\n+///\n+/// @param fconfig Configuration storage.\n+/// @param dup_val Value text to parse.\n+/// @param len Length of the text.\n+/// @param err Pointer to the Error structure for error handling.\n+///\n+/// @return true if parsing is successful, otherwise false.\n+static bool parse_opt_border(WinConfig *config, char *dup_val, size_t len, Error *err)\n+{\n+  Object style = CSTR_AS_OBJ(dup_val);\n+  parse_border_style(style, config, err);\n+  api_free_object(style);\n+  if (ERROR_SET(err)) {\n+    return false;\n+  }\n+  int border_attr = syn_name2attr(\"FloatBorder\");\n+  for (int i = 0; i < 8; i++) {\n+    config->border_attr[i] = config->border_hl_ids[i]\n+                             ? hl_get_ui_attr(0, HLF_BORDER, config->border_hl_ids[i], false)\n+                             : border_attr;\n+  }\n+  return true;\n+}\n+\n+/// Parses numeric keys for 'height' and 'width' options and updates WinConfig.\n+///\n+/// @param fconfig Configuration storage.\n+/// @param dig Digits representing the numeric value.\n+/// @param len Length of the digits.\n+/// @param err Pointer to the Error structure for error handling.\n+///\n+/// @return true if parsing is successful, otherwise false.\n+static bool parse_opt_dig_key(WinConfig *config, char *dig, size_t len, Error *err)\n+{\n+  int val = getdigits_int(&dig, false, 0);\n+  if (len == 6) {\n+    config->width = val;\n+  } else {\n+    config->height = val;\n+  }\n+  return true;\n+}\n+\n+/// Parses options for configuring floating windows for completion popups or preview popups.\n+/// Supports setting border style, title, title position, footer, footer position, height, and width.\n+/// Only processes height and width options if `preview` is true.\n+///\n+/// @param fconfig The floating window configuration to modify.\n+/// @param preview Indicates if the configuration is for a preview popup.\n+///\n+/// @return True if options are successfully parsed, otherwise false.\n+bool parse_float_option(WinConfig *config)\n+{\n+  char *p = p_pvp;\n+  Error err = ERROR_INIT;\n+\n+  struct {\n+    char *key;\n+    bool (*parser_func)(WinConfig *, char *, size_t, Error *);\n+  } parsers[] = {\n+    { \"border:\", parse_opt_border },\n+    { \"title:\", parse_opt_title },\n+    { \"footer:\", parse_opt_title },\n+    { \"title_pos:\", parse_opt_title_pos },\n+    { \"footer_pos:\", parse_opt_title_pos },\n+    { \"height:\", parse_opt_dig_key },\n+    { \"width:\", parse_opt_dig_key },\n+    { NULL, NULL },\n+  };\n+\n+  for (; *p != NUL; p += (*p == ',' ? 1 : 0)) {\n+    char *s = p;\n+\n+    char *e = strchr(p, ':');\n+    if (e == NULL || e[1] == NUL) {\n+      return false;\n+    }\n+\n+    p = strchr(e, ',');\n+    if (p == NULL) {\n+      p = e + strlen(e);\n+    }\n+\n+    bool parsed = false;\n+    for (size_t i = 0; parsers[i].key; i++) {\n+      size_t len = strlen(parsers[i].key);\n+      if (strncmp(s, parsers[i].key, len) == 0) {\n+        // when is width or height use e + 1\n+        char *val = s[0] == 'w' || s[0] == 'h' ? e + 1 : NULL;\n+        if (!val) {\n+          val = xmemdupz(s + len, (p ? (size_t)(p - s) - len : (size_t)(s - len)));\n+          if (!val) {\n+            return false;\n+          }\n+        }\n+        if (!parsers[i].parser_func(config, val, len, &err)) {\n+          return false;\n+        }\n+        parsed = true;\n+        break;\n+      }\n+    }\n+\n+    if (!parsed) {\n+      return false;\n+    }\n+  }\n+\n+  return true;\n+}\n+\n+/// Searches for a floating window matching given criteria.\n+///\n+/// @param find_info Search for info window if true, else preview window.\n+///\n+/// @return A pointer to the a floating window structure.\n+win_T *win_float_find_preview(bool find_info)\n {\n   for (win_T *wp = lastwin; wp && wp->w_floating; wp = wp->w_prev) {\n-    if (wp->w_float_is_info) {\n+    if ((find_info ? wp->w_float_is_info : wp->w_p_pvw)) {\n       return wp;\n     }\n   }\n   return NULL;\n }\n+\n+/// Creates a new floating window configured for preview or complete popup use.\n+/// This function initializes a floating window configuration with default settings,\n+/// adjusts its position, and sets it relative to the current window. It then creates\n+/// the floating window, marks it for preview use, and returns a pointer to the\n+/// window structure.\n+///\n+/// @return A pointer to the newly created floating window structure.\n+win_T *win_float_create(void)\n+{\n+  WinConfig fconfig = WIN_CONFIG_INIT;\n+  fconfig.row = 1;\n+  fconfig.col = 1;\n+  fconfig.relative = kFloatRelativeWindow;\n+  fconfig.focusable = false;\n+  fconfig.window = (Window)curwin->handle;\n+  // NW\n+  fconfig.anchor = 0;",
            "html_url": "https://github.com/neovim/neovim/pull/26799#discussion_r1486215065",
            "id": 1486215065,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5YldeZ",
            "original_commit_id": "01bfab43f8827a41ce0af682f7871c526d07fb39",
            "original_line": 488,
            "original_position": 221,
            "original_start_line": 487,
            "path": "src/nvim/winfloat.c",
            "position": null,
            "pull_request_review_id": 1875229295,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26799",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486215065/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2024-02-12T15:40:07Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486215065",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26799#discussion_r1486232558"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26799"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486232558"
                }
            },
            "author_association": "MEMBER",
            "body": "Looks like this skips the epilogue at the end of the function that resets `&scrollbind` and such (which `win_float_create` also doesn't seem to do)",
            "commit_id": "914de44cf157d89f53fe263580bc6d31bbe1bd67",
            "created_at": "2024-02-12T14:07:16Z",
            "diff_hunk": "@@ -4545,12 +4546,26 @@ void free_old_sub(void)\n /// @param undo_sync  sync undo when leaving the window\n ///\n /// @return           true when it was created.\n-bool prepare_tagpreview(bool undo_sync)\n+bool prepare_tagpreview(bool undo_sync, bool use_float)\n {\n   if (curwin->w_p_pvw) {\n     return false;\n   }\n \n+  if (use_float) {\n+    win_T *wp = win_float_find_preview(false);\n+    if (wp) {\n+      win_enter(wp, undo_sync);\n+      return false;\n+    }\n+    wp = win_float_create();\n+    if (!wp) {\n+      return false;\n+    }\n+    win_enter(wp, undo_sync);\n+    return true;",
            "html_url": "https://github.com/neovim/neovim/pull/26799#discussion_r1486232558",
            "id": 1486232558,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Ylhvu",
            "original_commit_id": "01bfab43f8827a41ce0af682f7871c526d07fb39",
            "original_line": 4566,
            "original_position": 30,
            "original_start_line": 4561,
            "path": "src/nvim/ex_cmds.c",
            "position": null,
            "pull_request_review_id": 1875229295,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26799",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486232558/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2024-02-12T15:40:07Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486232558",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26799#discussion_r1486270594"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26799"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486270594"
                }
            },
            "author_association": "MEMBER",
            "body": "I'd continue calling it a floating window and maybe reword a few things too, something like:\r\n\r\n```suggestion\r\nAlternatively, a floating window can be used by setting the 'previewpopup'\r\noption.  When set, it overrules the 'previewwindow' and 'previewheight'\r\nsettings.  The option is a comma-separated list of values:\r\n`border`, `height`, `width`, `title`, `title_pos`, `footer`, `footer_pos`.\r\nSee |nvim_open_win()| for details.\r\nNote that `border` only supports string values.\r\n```",
            "commit_id": "914de44cf157d89f53fe263580bc6d31bbe1bd67",
            "created_at": "2024-02-12T14:35:22Z",
            "diff_hunk": "@@ -924,6 +924,26 @@ set in the preview window to be able to recognize it.  The 'winfixheight'\n option is set to have it keep the same height when opening/closing other\n windows.\n \n+                                                *preview-popup*\n+Alternatively, a popup window can be used by setting the 'previewpopup'\n+option.  When set, it overrules the 'previewwindow' and 'previewheight'\n+settings.  The option is a comma-separated list of values:\n+  `border`, `height`, `width`, `title`, `title_pos`, `footer`, `footer_pos`.\n+  see |nvim_open_win()|\n+\n+Note border only support string values.",
            "html_url": "https://github.com/neovim/neovim/pull/26799#discussion_r1486270594",
            "id": 1486270594,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5YlrCC",
            "original_commit_id": "01bfab43f8827a41ce0af682f7871c526d07fb39",
            "original_line": 934,
            "original_position": 11,
            "original_start_line": 928,
            "path": "runtime/doc/windows.txt",
            "position": null,
            "pull_request_review_id": 1875229295,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26799",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486270594/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2024-02-12T15:40:07Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486270594",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26799#discussion_r1486276350"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26799"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486276350"
                }
            },
            "author_association": "MEMBER",
            "body": "Nit, but above this, the line `bool use_float = strstr(p_cot, \"popup\") != NULL ? true : false;` doesn't need the ternary.",
            "commit_id": "914de44cf157d89f53fe263580bc6d31bbe1bd67",
            "created_at": "2024-02-12T14:39:29Z",
            "diff_hunk": "@@ -772,7 +772,7 @@ win_T *pum_set_info(int pum_idx, char *info)\n   block_autocmds();\n   RedrawingDisabled++;\n   no_u_sync++;\n-  win_T *wp = win_float_find_preview();\n+  win_T *wp = win_float_find_preview(true);",
            "html_url": "https://github.com/neovim/neovim/pull/26799#discussion_r1486276350",
            "id": 1486276350,
            "line": 775,
            "node_id": "PRRC_kwDOAPphoM5Ylsb-",
            "original_commit_id": "01bfab43f8827a41ce0af682f7871c526d07fb39",
            "original_line": 775,
            "original_position": 5,
            "original_start_line": null,
            "path": "src/nvim/popupmenu.c",
            "position": 5,
            "pull_request_review_id": 1875229295,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26799",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486276350/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-02-12T15:40:07Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486276350",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26799#discussion_r1486352045"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26799"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486352045"
                }
            },
            "author_association": "MEMBER",
            "body": "This isn't true for Nvim (it's from [v8.1.1813](https://github.com/vim/vim/commit/2debf1c16b93f8693a785f675320d9e949c96a97)), but maybe this swapexists behaviour should be ported given that the popup is `focusable = false`.\r\n\r\nThis all said, maybe Nvim preview popups (well, floats) should allow focusing anyway, as we're not bound to the same limitations as Vim's popups in regards to editing.",
            "commit_id": "914de44cf157d89f53fe263580bc6d31bbe1bd67",
            "created_at": "2024-02-12T15:32:46Z",
            "diff_hunk": "@@ -924,6 +924,26 @@ set in the preview window to be able to recognize it.  The 'winfixheight'\n option is set to have it keep the same height when opening/closing other\n windows.\n \n+                                                *preview-popup*\n+Alternatively, a popup window can be used by setting the 'previewpopup'\n+option.  When set, it overrules the 'previewwindow' and 'previewheight'\n+settings.  The option is a comma-separated list of values:\n+  `border`, `height`, `width`, `title`, `title_pos`, `footer`, `footer_pos`.\n+  see |nvim_open_win()|\n+\n+Note border only support string values.\n+Example: >vim\n+        :set previewpopup=border:double,height:10,width:60\n+\n+A few peculiarities:\n+- If the file is in a buffer already, it will be re-used.  This will allow for\n+  editing the file while it's visible in the popup window.\n+- No ATTENTION dialog will be used, since you can't edit the file in the popup\n+  window.  However, if you later open the same buffer in a normal window, you\n+  may not notice it's edited elsewhere.  And when then using \":edit\" to\n+  trigger the ATTENTION and responding \"A\" for Abort, the preview window will\n+  become empty.",
            "html_url": "https://github.com/neovim/neovim/pull/26799#discussion_r1486352045",
            "id": 1486352045,
            "line": 945,
            "node_id": "PRRC_kwDOAPphoM5Yl-6t",
            "original_commit_id": "01bfab43f8827a41ce0af682f7871c526d07fb39",
            "original_line": 945,
            "original_position": 22,
            "original_start_line": 941,
            "path": "runtime/doc/windows.txt",
            "position": 22,
            "pull_request_review_id": 1875229295,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26799",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486352045/reactions"
            },
            "side": "RIGHT",
            "start_line": 941,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2024-02-12T15:53:54Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1486352045",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "MEMBER",
            "body": "ready for review",
            "created_at": "2024-02-05T07:04:49Z",
            "html_url": "https://github.com/neovim/neovim/pull/26799#issuecomment-1926346819",
            "id": 1926346819,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26799",
            "node_id": "IC_kwDOAPphoM5y0bhD",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 3,
                "total_count": 3,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1926346819/reactions"
            },
            "updated_at": "2024-02-05T07:04:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1926346819",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "can someone get in ?",
            "created_at": "2024-02-07T06:57:13Z",
            "html_url": "https://github.com/neovim/neovim/pull/26799#issuecomment-1931400713",
            "id": 1931400713,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26799",
            "node_id": "IC_kwDOAPphoM5zHtYJ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 1,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1931400713/reactions"
            },
            "updated_at": "2024-02-07T06:57:13Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1931400713",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> From a usability standpoint, Vim's preview popups feel much better to use, as their sizes scale to fit the content, even when it changes (the width and height for its previewpopup is a minimum value, not an exact).\r\n\r\nOh i think i know how to do it . and something not correct now.",
            "created_at": "2024-02-13T06:17:20Z",
            "html_url": "https://github.com/neovim/neovim/pull/26799#issuecomment-1940490331",
            "id": 1940490331,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26799",
            "node_id": "IC_kwDOAPphoM5zqYhb",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1940490331/reactions"
            },
            "updated_at": "2024-02-13T13:09:31Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1940490331",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/26799/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/26799/commits",
    "created_at": "2023-12-30T04:13:44Z",
    "diff_url": "https://github.com/neovim/neovim/pull/26799.diff",
    "draft": false,
    "head": {
        "label": "glepnir:previewpopup",
        "ref": "previewpopup",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/glepnir/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/glepnir/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/glepnir/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/glepnir/neovim/branches{/branch}",
            "clone_url": "https://github.com/glepnir/neovim.git",
            "collaborators_url": "https://api.github.com/repos/glepnir/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/glepnir/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/glepnir/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/glepnir/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/glepnir/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/glepnir/neovim/contributors",
            "created_at": "2022-07-17T05:15:58Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/glepnir/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/glepnir/neovim/downloads",
            "events_url": "https://api.github.com/repos/glepnir/neovim/events",
            "fork": true,
            "forks": 1,
            "forks_count": 1,
            "forks_url": "https://api.github.com/repos/glepnir/neovim/forks",
            "full_name": "glepnir/neovim",
            "git_commits_url": "https://api.github.com/repos/glepnir/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/glepnir/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/glepnir/neovim/git/tags{/sha}",
            "git_url": "git://github.com/glepnir/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/glepnir/neovim/hooks",
            "html_url": "https://github.com/glepnir/neovim",
            "id": 514752985,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/glepnir/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/glepnir/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/glepnir/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/glepnir/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/glepnir/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/glepnir/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/glepnir/neovim/merges",
            "milestones_url": "https://api.github.com/repos/glepnir/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "R_kgDOHq6B2Q",
            "notifications_url": "https://api.github.com/repos/glepnir/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/glepnir/neovim/pulls{/number}",
            "pushed_at": "2024-02-19T13:50:37Z",
            "releases_url": "https://api.github.com/repos/glepnir/neovim/releases{/id}",
            "size": 250004,
            "ssh_url": "git@github.com:glepnir/neovim.git",
            "stargazers_count": 2,
            "stargazers_url": "https://api.github.com/repos/glepnir/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/glepnir/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/glepnir/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/glepnir/neovim/subscription",
            "svn_url": "https://github.com/glepnir/neovim",
            "tags_url": "https://api.github.com/repos/glepnir/neovim/tags",
            "teams_url": "https://api.github.com/repos/glepnir/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/glepnir/neovim/git/trees{/sha}",
            "updated_at": "2024-01-02T10:35:44Z",
            "url": "https://api.github.com/repos/glepnir/neovim",
            "visibility": "public",
            "watchers": 2,
            "watchers_count": 2,
            "web_commit_signoff_required": false
        },
        "sha": "914de44cf157d89f53fe263580bc6d31bbe1bd67",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
            "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
            "followers_url": "https://api.github.com/users/glepnir/followers",
            "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
            "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/glepnir",
            "id": 41671631,
            "login": "glepnir",
            "node_id": "MDQ6VXNlcjQxNjcxNjMx",
            "organizations_url": "https://api.github.com/users/glepnir/orgs",
            "received_events_url": "https://api.github.com/users/glepnir/received_events",
            "repos_url": "https://api.github.com/users/glepnir/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/glepnir"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/26799",
    "id": 1660314339,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26799",
    "labels": [
        {
            "color": "C5DEF5",
            "default": false,
            "description": "floating windows",
            "id": 3234818716,
            "name": "float",
            "node_id": "MDU6TGFiZWwzMjM0ODE4NzE2",
            "url": "https://api.github.com/repos/neovim/neovim/labels/float"
        }
    ],
    "locked": false,
    "merge_commit_sha": "478c48627f2c5e40aec2457b480aa49d46822295",
    "merged_at": null,
    "milestone": null,
    "node_id": "PR_kwDOAPphoM5i9mLj",
    "number": 26799,
    "patch_url": "https://github.com/neovim/neovim/pull/26799.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/26799/comments",
    "state": "open",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/914de44cf157d89f53fe263580bc6d31bbe1bd67",
    "title": "feat(float): add previewpopup option like vim",
    "updated_at": "2024-02-14T11:35:48Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/26799",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
        "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
        "followers_url": "https://api.github.com/users/glepnir/followers",
        "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
        "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/glepnir",
        "id": 41671631,
        "login": "glepnir",
        "node_id": "MDQ6VXNlcjQxNjcxNjMx",
        "organizations_url": "https://api.github.com/users/glepnir/orgs",
        "received_events_url": "https://api.github.com/users/glepnir/received_events",
        "repos_url": "https://api.github.com/users/glepnir/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/glepnir"
    }
}