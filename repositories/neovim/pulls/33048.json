{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/33048/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/33048/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/33048"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/33048"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/33048/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/33048"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/f8a41d403989ff7566e422ecd954df4b48d5870e"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 6319,
            "forks_count": 6319,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 1996,
            "open_issues_count": 1996,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2025-09-16T01:58:34Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 342721,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 92776,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2025-09-16T02:14:35Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 92776,
            "watchers_count": 92776,
            "web_commit_signoff_required": false
        },
        "sha": "974a3aa2c4c34f97ce015466a7dfc5fd727fccc2",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim",
            "user_view_type": "public"
        }
    },
    "body": "Problem:\r\nDefault spellfile location rtp[0]/spell/ is inconsistent and does not conform to the XDG base spec.\r\n\r\nSolution:\r\nDefault to `stdpath(\"data\") .. \"/spell/\"` if 'spellfile' is unset.\r\n\r\nCloses: #32958.",
    "closed_at": "2025-04-04T12:21:57Z",
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/33048#discussion_r2011908006"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/33048"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2011908006"
                }
            },
            "author_association": "MEMBER",
            "body": "would need to free `buf` before reassigning it here. But instead of doing that, change this to:\r\n\r\n```suggestion\r\n  char *buf = aspath? xmalloc(MAXPATHL) : get_xdg_home(kXDGDataHome);\r\n```",
            "commit_id": "f8a41d403989ff7566e422ecd954df4b48d5870e",
            "created_at": "2025-03-25T11:38:45Z",
            "diff_hunk": "@@ -5569,48 +5570,39 @@ static void init_spellfile(void)\n       lstart = lend + 1;\n     }\n   }\n+  \n+  // If the spelllang points to a .spl file, use that path directly.\n+  if (aspath) {\n+    xmemcpyz(buf, curbuf->b_s.b_p_spl, (size_t)(lstart - curbuf->b_s.b_p_spl - 1));\n+  } else {\n+    buf = get_xdg_home(kXDGDataHome);\n+  }",
            "html_url": "https://github.com/neovim/neovim/pull/33048#discussion_r2011908006",
            "id": 2011908006,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5360em",
            "original_commit_id": "7e2082fca5d54628e9ae168ec7374a2c9dd0de2d",
            "original_line": 5600,
            "original_position": 18,
            "original_start_line": 5575,
            "path": "src/nvim/spellfile.c",
            "position": 1,
            "pull_request_review_id": 2713402554,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/33048",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2011908006/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2025-03-25T11:38:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2011908006",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/33048#discussion_r2019868954"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/33048"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2019868954"
                }
            },
            "author_association": "MEMBER",
            "body": "instead of this, just call clear() with `env`:\r\n\r\n    clear{ env = { ... } }\r\n\r\nthen you don't need to save/restore `old_xdg_data`.",
            "commit_id": "f8a41d403989ff7566e422ecd954df4b48d5870e",
            "created_at": "2025-03-29T17:17:12Z",
            "diff_hunk": "@@ -11,15 +11,18 @@ local write_file = t.write_file\n local mkdir = t.mkdir\n \n local testdir = 'Xtest-functional-spell-spellfile.d'\n+local old_xdg_data = os.getenv('XDG_DATA_HOME')\n \n describe('spellfile', function()\n   before_each(function()\n     clear()\n+    fn.setenv('XDG_DATA_HOME', old_xdg_data)",
            "html_url": "https://github.com/neovim/neovim/pull/33048#discussion_r2019868954",
            "id": 2019868954,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM54ZMEa",
            "original_commit_id": "fe7d07d25647fe56f43033ebbb5550def197fc72",
            "original_line": 19,
            "original_position": 9,
            "original_start_line": null,
            "path": "test/functional/core/spellfile_spec.lua",
            "position": 1,
            "pull_request_review_id": 2727505709,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/33048",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2019868954/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-03-29T17:17:13Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2019868954",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/33048#discussion_r2021617816"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/33048"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2021617816"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Perfect, thank you!",
            "commit_id": "f8a41d403989ff7566e422ecd954df4b48d5870e",
            "created_at": "2025-03-31T19:03:10Z",
            "diff_hunk": "@@ -11,15 +11,18 @@ local write_file = t.write_file\n local mkdir = t.mkdir\n \n local testdir = 'Xtest-functional-spell-spellfile.d'\n+local old_xdg_data = os.getenv('XDG_DATA_HOME')\n \n describe('spellfile', function()\n   before_each(function()\n     clear()\n+    fn.setenv('XDG_DATA_HOME', old_xdg_data)",
            "html_url": "https://github.com/neovim/neovim/pull/33048#discussion_r2021617816",
            "id": 2021617816,
            "in_reply_to_id": 2019868954,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM54f3CY",
            "original_commit_id": "fe7d07d25647fe56f43033ebbb5550def197fc72",
            "original_line": 19,
            "original_position": 9,
            "original_start_line": null,
            "path": "test/functional/core/spellfile_spec.lua",
            "position": 1,
            "pull_request_review_id": 2730262022,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/33048",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2021617816/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-03-31T19:03:10Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2021617816",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
                "events_url": "https://api.github.com/users/yochem/events{/privacy}",
                "followers_url": "https://api.github.com/users/yochem/followers",
                "following_url": "https://api.github.com/users/yochem/following{/other_user}",
                "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/yochem",
                "id": 23235841,
                "login": "yochem",
                "node_id": "MDQ6VXNlcjIzMjM1ODQx",
                "organizations_url": "https://api.github.com/users/yochem/orgs",
                "received_events_url": "https://api.github.com/users/yochem/received_events",
                "repos_url": "https://api.github.com/users/yochem/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/yochem",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/33048#discussion_r2024737293"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/33048"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2024737293"
                }
            },
            "author_association": "MEMBER",
            "body": "Also mention in vim_diff.txt\r\n\r\n```suggestion\r\n• |spellfile| location defaults to `stdpath('data')..\"/spell/\"` instead of the\r\n```",
            "commit_id": "f8a41d403989ff7566e422ecd954df4b48d5870e",
            "created_at": "2025-04-02T12:36:56Z",
            "diff_hunk": "@@ -172,7 +172,8 @@ CHANGED FEATURES                                                 *news-changed*\n \n These existing features changed their behavior.\n \n-• todo\n+• |spellfile| uses `stdpath('data')/spell` as default location instead of the",
            "html_url": "https://github.com/neovim/neovim/pull/33048#discussion_r2024737293",
            "id": 2024737293,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM54rwoN",
            "original_commit_id": "8949427949d86273a5abdb6460535cc6c3446431",
            "original_line": 175,
            "original_position": 5,
            "original_start_line": null,
            "path": "runtime/doc/news.txt",
            "position": 1,
            "pull_request_review_id": 2736116298,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/33048",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2024737293/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-04-02T12:42:48Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2024737293",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/33048#discussion_r2024740931"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/33048"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2024740931"
                }
            },
            "author_association": "MEMBER",
            "body": "asan\r\n\r\n```\r\n= ==13704==ERROR: LeakSanitizer: detected memory leaks\r\n= \r\n= Direct leak of 4096 byte(s) in 1 object(s) allocated from:\r\n=     #0 0x564ea818dd93 in malloc (/home/runner/work/neovim/neovim/build/bin/nvim+0xd03d93) (BuildId: 839761a9c2c58f0050a91741c7578dac1ff5726f)\r\n=     #1 0x564ea8de5e24 in try_malloc /home/runner/work/neovim/neovim/src/nvim/memory.c:98:15\r\n=     #2 0x564ea8de6014 in xmalloc /home/runner/work/neovim/neovim/src/nvim/memory.c:132:15\r\n=     #3 0x564ea9385cf8 in init_spellfile /home/runner/work/neovim/neovim/src/nvim/spellfile.c:5571:15\r\n=     #4 0x564ea9383d39 in spell_add_word /home/runner/work/neovim/neovim/src/nvim/spellfile.c:5419:7\r\n```",
            "commit_id": "f8a41d403989ff7566e422ecd954df4b48d5870e",
            "created_at": "2025-04-02T12:38:53Z",
            "diff_hunk": "@@ -5570,49 +5568,45 @@ static void init_spellfile(void)\n     }\n   }\n \n-  // Loop over all entries in 'runtimepath'.  Use the first one where we\n-  // are allowed to write.\n-  char *rtp = p_rtp;\n-  while (*rtp != NUL) {\n-    if (aspath) {\n-      // Use directory of an entry with path, e.g., for\n-      // \"/dir/lg.utf-8.spl\" use \"/dir\".\n-      xmemcpyz(buf, curbuf->b_s.b_p_spl, (size_t)(lstart - curbuf->b_s.b_p_spl - 1));\n-    } else {\n-      // Copy the path from 'runtimepath' to buf[].\n-      copy_option_part(&rtp, buf, MAXPATHL, \",\");\n-    }\n-    if (os_file_is_writable(buf) == 2) {\n-      // Use the first language name from 'spelllang' and the\n-      // encoding used in the first loaded .spl file.\n-      if (aspath) {\n-        xmemcpyz(buf, curbuf->b_s.b_p_spl, (size_t)(lend - curbuf->b_s.b_p_spl));\n-      } else {\n-        // Create the \"spell\" directory if it doesn't exist yet.\n-        l = (int)strlen(buf);\n-        vim_snprintf(buf + l, MAXPATHL - (size_t)l, \"/spell\");\n-        if (os_file_is_writable(buf) != 2) {\n-          os_mkdir(buf, 0755);\n-        }\n+  char *buf = xmalloc(MAXPATHL);",
            "html_url": "https://github.com/neovim/neovim/pull/33048#discussion_r2024740931",
            "id": 2024740931,
            "line": 5574,
            "node_id": "PRRC_kwDOAPphoM54rxhD",
            "original_commit_id": "8949427949d86273a5abdb6460535cc6c3446431",
            "original_line": 5571,
            "original_position": 53,
            "original_start_line": null,
            "path": "src/nvim/spellfile.c",
            "position": 58,
            "pull_request_review_id": 2736124009,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/33048",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2024740931/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-04-02T12:38:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2024740931",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/33048#discussion_r2024743251"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/33048"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2024743251"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n  describe('default location', function ()\r\n```",
            "commit_id": "f8a41d403989ff7566e422ecd954df4b48d5870e",
            "created_at": "2025-04-02T12:40:06Z",
            "diff_hunk": "@@ -117,4 +117,27 @@ describe('spellfile', function()\n     local fname = fn.fnamemodify(testdir .. '/spell/spell.add', ':p')\n     api.nvim_set_option_value('spellfile', fname, {})\n   end)\n+\n+  describe('default', function ()",
            "html_url": "https://github.com/neovim/neovim/pull/33048#discussion_r2024743251",
            "id": 2024743251,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM54ryFT",
            "original_commit_id": "8949427949d86273a5abdb6460535cc6c3446431",
            "original_line": 121,
            "original_position": 14,
            "original_start_line": null,
            "path": "test/functional/core/spellfile_spec.lua",
            "position": 1,
            "pull_request_review_id": 2736128673,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/33048",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2024743251/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-04-02T12:40:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2024743251",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/33048#discussion_r2024751817"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/33048"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2024751817"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n\tWhen a word is added while this option is empty Nvim will use\r\n\t(and auto-create) `stdpath('data')/spell/`. For the file name ...\r\n```",
            "commit_id": "f8a41d403989ff7566e422ecd954df4b48d5870e",
            "created_at": "2025-04-02T12:45:03Z",
            "diff_hunk": "@@ -5755,11 +5755,10 @@ A jump table for the options with a short description can be found at |Q_op|.\n \tIt may also be a comma-separated list of names.  A count before the\n \t|zg| and |zw| commands can be used to access each.  This allows using\n \ta personal word list file and a project word list file.\n-\tWhen a word is added while this option is empty Vim will set it for\n-\tyou: Using the first directory in 'runtimepath' that is writable.  If\n-\tthere is no \"spell\" directory yet it will be created.  For the file\n-\tname the first language name that appears in 'spelllang' is used,\n-\tignoring the region.\n+\tWhen a word is added while this option is empty Nvim will use\n+\t`stdpath('data')/spell`.  If there is no \"spell\" directory yet it will",
            "html_url": "https://github.com/neovim/neovim/pull/33048#discussion_r2024751817",
            "id": 2024751817,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM54r0LJ",
            "original_commit_id": "8949427949d86273a5abdb6460535cc6c3446431",
            "original_line": 5759,
            "original_position": 10,
            "original_start_line": 5758,
            "path": "runtime/doc/options.txt",
            "position": 1,
            "pull_request_review_id": 2736144753,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/33048",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2024751817/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2025-04-02T12:45:03Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2024751817",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/33048#discussion_r2025040746"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/33048"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2025040746"
                }
            },
            "author_association": "MEMBER",
            "body": "I think chmod 444 isn't possible on Windows. Instead, to make this test work on windows, try overwriting `.../xdg_data` with a file instead of a directory. That should hopefully \"fail\" correctly.\r\n\r\nIf that doesn't work, then use `t.is_os('win')` to `return` from this test (don't use `skip()` because it's not possible to ever \"fix\" this).",
            "commit_id": "f8a41d403989ff7566e422ecd954df4b48d5870e",
            "created_at": "2025-04-02T15:05:47Z",
            "diff_hunk": "@@ -117,4 +117,26 @@ describe('spellfile', function()\n     local fname = fn.fnamemodify(testdir .. '/spell/spell.add', ':p')\n     api.nvim_set_option_value('spellfile', fname, {})\n   end)\n+\n+  describe('default location', function()\n+    it(\"is stdpath('data')/spell/en.utf-8.add\", function()\n+      n.command('set spell')\n+      n.insert('abc')\n+      n.feed('zg')\n+      eq(testdir .. '/xdg_data/nvim/spell/en.utf-8.add', api.nvim_get_option_value('spellfile', {}))\n+    end)\n+\n+    it(\"is not set if stdpath('data') is not writable\", function()\n+      n.command('set spell')\n+      vim.uv.fs_mkdir(testdir .. '/xdg_data', 444)",
            "html_url": "https://github.com/neovim/neovim/pull/33048#discussion_r2025040746",
            "id": 2025040746,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM54s6tq",
            "original_commit_id": "33d03fc86fa083609765cca1ae80576a118f38ac",
            "original_line": 131,
            "original_position": 24,
            "original_start_line": null,
            "path": "test/functional/core/spellfile_spec.lua",
            "position": 1,
            "pull_request_review_id": 2736637573,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/33048",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2025040746/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-04-02T15:05:48Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2025040746",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/33048#discussion_r2028668785"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/33048"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2028668785"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n- 'spellfile' defaults to `stdpath(\"data\")..\"/spell/\"`\r\n```",
            "commit_id": "f8a41d403989ff7566e422ecd954df4b48d5870e",
            "created_at": "2025-04-04T11:53:11Z",
            "diff_hunk": "@@ -79,6 +79,7 @@ Defaults                                            *defaults* *nvim-defaults*\n - 'showcmd' is enabled\n - 'sidescroll' defaults to 1\n - 'smarttab' is enabled\n+- 'spellfile' defaults to `stdpath(\"data\")..\"/spell/\"",
            "html_url": "https://github.com/neovim/neovim/pull/33048#discussion_r2028668785",
            "id": 2028668785,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM546wdx",
            "original_commit_id": "6c5ce0375e4bb6c8263446d6b3f5902e885938d2",
            "original_line": 82,
            "original_position": 4,
            "original_start_line": null,
            "path": "runtime/doc/vim_diff.txt",
            "position": 1,
            "pull_request_review_id": 2742734781,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/33048",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2028668785/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-04-04T11:53:12Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2028668785",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "asan seems to be fixed, but I can't reproduce the Windows error as I don't have a Windows machine on hand. It looks like `vim.uv.fs_mkdir(testdir .. '/xdg_data', 444)` doesn't create a non-writable directory on Windows.\r\n\r\nAll other checks are fixed. Ready to be squashed and merged I think!",
            "created_at": "2025-04-02T14:11:34Z",
            "html_url": "https://github.com/neovim/neovim/pull/33048#issuecomment-2772696587",
            "id": 2772696587,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33048",
            "node_id": "IC_kwDOAPphoM6lQ_4L",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2772696587/reactions"
            },
            "updated_at": "2025-04-02T14:12:10Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2772696587",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
                "events_url": "https://api.github.com/users/yochem/events{/privacy}",
                "followers_url": "https://api.github.com/users/yochem/followers",
                "following_url": "https://api.github.com/users/yochem/following{/other_user}",
                "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/yochem",
                "id": 23235841,
                "login": "yochem",
                "node_id": "MDQ6VXNlcjIzMjM1ODQx",
                "organizations_url": "https://api.github.com/users/yochem/orgs",
                "received_events_url": "https://api.github.com/users/yochem/received_events",
                "repos_url": "https://api.github.com/users/yochem/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/yochem",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I still can't get the Windows test to work. I tried the following:\r\n\r\n```\r\neq(\r\n  vim.fs.normalize(fn.stdpath('data') .. '/spell/en.utf-8.add'),\r\n  vim.fs.normalize(api.nvim_get_option_value('spellfile', {}))\r\n)\r\n```\r\n\r\nBut that still gives the following error in the test runner:\r\n\r\n```\r\n(string) 'Xtest-functional-spell-spellfile.d\\xdg_data\\nvim-data/spell/en.utf-8.add'\r\nExpected:\r\n(string) 'Xtest-functional-spell-spellfile.d/xdg_data/nvim/spell/en.utf-8.add'\r\n```\r\n\r\nEventhough the docs on `vim.fs.normalize` mention:\r\n\r\n> On Windows, backslash (\\\\) characters are converted to forward slashes (/).\r\n\r\nIs this a bug in `vim.fs.normalize`? Or am I missing something? Otherwise I can just skip() it and fix it later.",
            "created_at": "2025-04-03T13:29:04Z",
            "html_url": "https://github.com/neovim/neovim/pull/33048#issuecomment-2775796665",
            "id": 2775796665,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33048",
            "node_id": "IC_kwDOAPphoM6lc0u5",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2775796665/reactions"
            },
            "updated_at": "2025-04-03T13:30:01Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2775796665",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
                "events_url": "https://api.github.com/users/yochem/events{/privacy}",
                "followers_url": "https://api.github.com/users/yochem/followers",
                "following_url": "https://api.github.com/users/yochem/following{/other_user}",
                "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/yochem",
                "id": 23235841,
                "login": "yochem",
                "node_id": "MDQ6VXNlcjIzMjM1ODQx",
                "organizations_url": "https://api.github.com/users/yochem/orgs",
                "received_events_url": "https://api.github.com/users/yochem/received_events",
                "repos_url": "https://api.github.com/users/yochem/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/yochem",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Eventhough the docs on `vim.fs.normalize` mention:\r\n> \r\n> > On Windows, backslash (\\) characters are converted to forward slashes (/).\r\n\r\nThat does seem unexpected, and may be a bug, though we certainly have tests for it...\r\n\r\nNote also that `nvim-data/` is the special stdpath('data') path on Windows.",
            "created_at": "2025-04-03T14:14:40Z",
            "html_url": "https://github.com/neovim/neovim/pull/33048#issuecomment-2775938144",
            "id": 2775938144,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33048",
            "node_id": "IC_kwDOAPphoM6ldXRg",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2775938144/reactions"
            },
            "updated_at": "2025-04-03T14:14:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2775938144",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> Note also that nvim-data/ is the special stdpath('data') path on Windows.\r\n\r\nThat difference also seems quite weird. C code for getting the data path uses `get_xdg_home(kXDGDataHome);`. Lua code uses `n.fn.stdpath('data')`. Is there a difference between the two?\r\n\r\n~For the slashes, I'll try testutil's `fix_slashes` which I just accidentally found.~ `testutil.fix_slashes` seems to work!\r\n\r\n",
            "created_at": "2025-04-03T14:21:18Z",
            "html_url": "https://github.com/neovim/neovim/pull/33048#issuecomment-2775958704",
            "id": 2775958704,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33048",
            "node_id": "IC_kwDOAPphoM6ldcSw",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2775958704/reactions"
            },
            "updated_at": "2025-04-03T14:39:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2775958704",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
                "events_url": "https://api.github.com/users/yochem/events{/privacy}",
                "followers_url": "https://api.github.com/users/yochem/followers",
                "following_url": "https://api.github.com/users/yochem/following{/other_user}",
                "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/yochem",
                "id": 23235841,
                "login": "yochem",
                "node_id": "MDQ6VXNlcjIzMjM1ODQx",
                "organizations_url": "https://api.github.com/users/yochem/orgs",
                "received_events_url": "https://api.github.com/users/yochem/received_events",
                "repos_url": "https://api.github.com/users/yochem/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/yochem",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "The Windows tests pass now. There are two (new) failing checks on macos and ubuntu, but I don't think they have anything to do with the changes introduced in this PR.",
            "created_at": "2025-04-04T11:45:31Z",
            "html_url": "https://github.com/neovim/neovim/pull/33048#issuecomment-2778457803",
            "id": 2778457803,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33048",
            "node_id": "IC_kwDOAPphoM6lm-bL",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 1,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2778457803/reactions"
            },
            "updated_at": "2025-04-04T11:45:31Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2778457803",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
                "events_url": "https://api.github.com/users/yochem/events{/privacy}",
                "followers_url": "https://api.github.com/users/yochem/followers",
                "following_url": "https://api.github.com/users/yochem/following{/other_user}",
                "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/yochem",
                "id": 23235841,
                "login": "yochem",
                "node_id": "MDQ6VXNlcjIzMjM1ODQx",
                "organizations_url": "https://api.github.com/users/yochem/orgs",
                "received_events_url": "https://api.github.com/users/yochem/received_events",
                "repos_url": "https://api.github.com/users/yochem/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/yochem",
                "user_view_type": "public"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/33048/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/33048/commits",
    "created_at": "2025-03-24T21:15:29Z",
    "diff_url": "https://github.com/neovim/neovim/pull/33048.diff",
    "draft": false,
    "head": {
        "label": "yochem:spellfile-xdg-data",
        "ref": "spellfile-xdg-data",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/yochem/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/yochem/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/yochem/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/yochem/neovim/branches{/branch}",
            "clone_url": "https://github.com/yochem/neovim.git",
            "collaborators_url": "https://api.github.com/repos/yochem/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/yochem/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/yochem/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/yochem/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/yochem/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/yochem/neovim/contributors",
            "created_at": "2023-03-13T14:39:08Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/yochem/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/yochem/neovim/downloads",
            "events_url": "https://api.github.com/repos/yochem/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/yochem/neovim/forks",
            "full_name": "yochem/neovim",
            "git_commits_url": "https://api.github.com/repos/yochem/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/yochem/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/yochem/neovim/git/tags{/sha}",
            "git_url": "git://github.com/yochem/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/yochem/neovim/hooks",
            "html_url": "https://github.com/yochem/neovim",
            "id": 613421928,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/yochem/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/yochem/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/yochem/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/yochem/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/yochem/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/yochem/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/yochem/neovim/merges",
            "milestones_url": "https://api.github.com/repos/yochem/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "R_kgDOJJATaA",
            "notifications_url": "https://api.github.com/repos/yochem/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
                "events_url": "https://api.github.com/users/yochem/events{/privacy}",
                "followers_url": "https://api.github.com/users/yochem/followers",
                "following_url": "https://api.github.com/users/yochem/following{/other_user}",
                "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/yochem",
                "id": 23235841,
                "login": "yochem",
                "node_id": "MDQ6VXNlcjIzMjM1ODQx",
                "organizations_url": "https://api.github.com/users/yochem/orgs",
                "received_events_url": "https://api.github.com/users/yochem/received_events",
                "repos_url": "https://api.github.com/users/yochem/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/yochem",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/yochem/neovim/pulls{/number}",
            "pushed_at": "2025-09-15T23:12:11Z",
            "releases_url": "https://api.github.com/repos/yochem/neovim/releases{/id}",
            "size": 335477,
            "ssh_url": "git@github.com:yochem/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/yochem/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/yochem/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/yochem/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/yochem/neovim/subscription",
            "svn_url": "https://github.com/yochem/neovim",
            "tags_url": "https://api.github.com/repos/yochem/neovim/tags",
            "teams_url": "https://api.github.com/repos/yochem/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/yochem/neovim/git/trees{/sha}",
            "updated_at": "2025-09-01T20:45:02Z",
            "url": "https://api.github.com/repos/yochem/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "f8a41d403989ff7566e422ecd954df4b48d5870e",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
            "events_url": "https://api.github.com/users/yochem/events{/privacy}",
            "followers_url": "https://api.github.com/users/yochem/followers",
            "following_url": "https://api.github.com/users/yochem/following{/other_user}",
            "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/yochem",
            "id": 23235841,
            "login": "yochem",
            "node_id": "MDQ6VXNlcjIzMjM1ODQx",
            "organizations_url": "https://api.github.com/users/yochem/orgs",
            "received_events_url": "https://api.github.com/users/yochem/received_events",
            "repos_url": "https://api.github.com/users/yochem/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/yochem",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/33048",
    "id": 2414834588,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/33048",
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "spellcheck",
            "id": 1953742452,
            "name": "spell",
            "node_id": "MDU6TGFiZWwxOTUzNzQyNDUy",
            "url": "https://api.github.com/repos/neovim/neovim/labels/spell"
        }
    ],
    "locked": false,
    "merge_commit_sha": "b10cb0296ae299e4f97335c201ccbf8da753b2a6",
    "merged_at": "2025-04-04T12:21:57Z",
    "milestone": null,
    "node_id": "PR_kwDOAPphoM6P73Oc",
    "number": 33048,
    "patch_url": "https://github.com/neovim/neovim/pull/33048.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/33048/comments",
    "state": "closed",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/f8a41d403989ff7566e422ecd954df4b48d5870e",
    "title": "feat(defaults): store spellfile in stdpath('data')",
    "updated_at": "2025-09-15T16:03:32Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/33048",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
        "events_url": "https://api.github.com/users/yochem/events{/privacy}",
        "followers_url": "https://api.github.com/users/yochem/followers",
        "following_url": "https://api.github.com/users/yochem/following{/other_user}",
        "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/yochem",
        "id": 23235841,
        "login": "yochem",
        "node_id": "MDQ6VXNlcjIzMjM1ODQx",
        "organizations_url": "https://api.github.com/users/yochem/orgs",
        "received_events_url": "https://api.github.com/users/yochem/received_events",
        "repos_url": "https://api.github.com/users/yochem/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/yochem",
        "user_view_type": "public"
    }
}