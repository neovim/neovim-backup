{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/36115/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/36115/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/36115"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/36115"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/36115/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/36115"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/edd43c61da81536d7818d5030f36dcde126bf8ef"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 6358,
            "forks_count": 6358,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 2001,
            "open_issues_count": 2001,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2025-10-14T02:23:27Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 347842,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 93440,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2025-10-14T02:23:32Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 93440,
            "watchers_count": 93440,
            "web_commit_signoff_required": false
        },
        "sha": "c6113da5a9992881eddf98c985e6da888db76bc6",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim",
            "user_view_type": "public"
        }
    },
    "body": "Closes #36083. Addresses these problems:\r\n\r\n1. Currently extmarks are drawn for the full buffer which may slow down opening\r\n   the helpfile. This PR only sets them for the current viewport using the\r\n    `on_win` decoration provider.\r\n2. The url is set for every tag/link without sanity check. This PR now checks\r\n   if the tag is defined in a help file in $VIMRUNTIME.\r\n3. TODO: url extmarks not cleared with `b:undo_ftplugin`. How to unset/remove/delete a decoration provider?\r\n",
    "closed_at": "2025-10-12T22:08:18Z",
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/36115#discussion_r2419704735"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/36115"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2419704735"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Is it performance-wise better to check if the extmark has been set (this is what runtime/lua/vim/treesitter/highlighter.lua does) or to just clear them first?",
            "commit_id": "e5faa8e78b6e64ab73165fcc71dccb2343140953",
            "created_at": "2025-10-10T11:55:20Z",
            "diff_hunk": "@@ -129,21 +129,40 @@ do\n   ]]\n   )\n \n-  for _, match, _ in query:iter_matches(root, 0, 0, -1) do\n-    for id, nodes in pairs(match) do\n-      if query.captures[id] == 'helplink' then\n-        for _, node in ipairs(nodes) do\n-          local start_line, start_col, end_line, end_col = node:range()\n-          local tag = vim.treesitter.get_node_text(node, 0)\n-          vim.api.nvim_buf_set_extmark(0, ns, start_line, start_col, {\n-            end_line = end_line,\n-            end_col = end_col,\n-            url = base .. vim.uri_encode(tag),\n-          })\n+  local function is_nvim_tag(tag)\n+    local tagsfile = vim.fs.joinpath(vim.env.VIMRUNTIME, 'doc', 'tags')\n+    local candidates = vim.fn.taglist('^' .. tag .. '$', tagsfile)\n+    if #candidates == 0 then return false end\n+    return vim.fs.relpath(vim.env.VIMRUNTIME, candidates[1].filename) ~= nil\n+  end\n+\n+  local helpbuf = vim.api.nvim_get_current_buf()\n+  vim.api.nvim_set_decoration_provider(url_ns, {\n+    on_win = function (_, _, buf, topline, botline)\n+      if buf ~= helpbuf then\n+        return\n+      end\n+      for _, match, _ in query:iter_matches(root, 0, topline, botline) do\n+        for id, nodes in pairs(match) do\n+          if query.captures[id] == 'helplink' then\n+            for _, node in ipairs(nodes) do\n+              local sl, sc, el, ec = node:range()\n+              if #vim.api.nvim_buf_get_extmarks(buf, url_ns, { sl, sc }, { el, ec }, {}) == 0 then",
            "html_url": "https://github.com/neovim/neovim/pull/36115#discussion_r2419704735",
            "id": 2419704735,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6QOcOf",
            "original_commit_id": "e5faa8e78b6e64ab73165fcc71dccb2343140953",
            "original_line": 150,
            "original_position": 43,
            "original_start_line": null,
            "path": "runtime/ftplugin/help.lua",
            "position": 1,
            "pull_request_review_id": 3322923046,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/36115",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2419704735/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-10-10T11:55:20Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2419704735",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
                "events_url": "https://api.github.com/users/yochem/events{/privacy}",
                "followers_url": "https://api.github.com/users/yochem/followers",
                "following_url": "https://api.github.com/users/yochem/following{/other_user}",
                "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/yochem",
                "id": 23235841,
                "login": "yochem",
                "node_id": "MDQ6VXNlcjIzMjM1ODQx",
                "organizations_url": "https://api.github.com/users/yochem/orgs",
                "received_events_url": "https://api.github.com/users/yochem/received_events",
                "repos_url": "https://api.github.com/users/yochem/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/yochem",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/36115#discussion_r2420571434"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/36115"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2420571434"
                }
            },
            "author_association": "MEMBER",
            "body": "unlikely to matter. which one leads to simpler, more reliable code?",
            "commit_id": "e5faa8e78b6e64ab73165fcc71dccb2343140953",
            "created_at": "2025-10-10T14:36:24Z",
            "diff_hunk": "@@ -129,21 +129,40 @@ do\n   ]]\n   )\n \n-  for _, match, _ in query:iter_matches(root, 0, 0, -1) do\n-    for id, nodes in pairs(match) do\n-      if query.captures[id] == 'helplink' then\n-        for _, node in ipairs(nodes) do\n-          local start_line, start_col, end_line, end_col = node:range()\n-          local tag = vim.treesitter.get_node_text(node, 0)\n-          vim.api.nvim_buf_set_extmark(0, ns, start_line, start_col, {\n-            end_line = end_line,\n-            end_col = end_col,\n-            url = base .. vim.uri_encode(tag),\n-          })\n+  local function is_nvim_tag(tag)\n+    local tagsfile = vim.fs.joinpath(vim.env.VIMRUNTIME, 'doc', 'tags')\n+    local candidates = vim.fn.taglist('^' .. tag .. '$', tagsfile)\n+    if #candidates == 0 then return false end\n+    return vim.fs.relpath(vim.env.VIMRUNTIME, candidates[1].filename) ~= nil\n+  end\n+\n+  local helpbuf = vim.api.nvim_get_current_buf()\n+  vim.api.nvim_set_decoration_provider(url_ns, {\n+    on_win = function (_, _, buf, topline, botline)\n+      if buf ~= helpbuf then\n+        return\n+      end\n+      for _, match, _ in query:iter_matches(root, 0, topline, botline) do\n+        for id, nodes in pairs(match) do\n+          if query.captures[id] == 'helplink' then\n+            for _, node in ipairs(nodes) do\n+              local sl, sc, el, ec = node:range()\n+              if #vim.api.nvim_buf_get_extmarks(buf, url_ns, { sl, sc }, { el, ec }, {}) == 0 then",
            "html_url": "https://github.com/neovim/neovim/pull/36115#discussion_r2420571434",
            "id": 2420571434,
            "in_reply_to_id": 2419704735,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6QRv0q",
            "original_commit_id": "e5faa8e78b6e64ab73165fcc71dccb2343140953",
            "original_line": 150,
            "original_position": 43,
            "original_start_line": null,
            "path": "runtime/ftplugin/help.lua",
            "position": 1,
            "pull_request_review_id": 3323978695,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/36115",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2420571434/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-10-10T14:36:24Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2420571434",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/36115#discussion_r2420765709"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/36115"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2420765709"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Clearing definitely. Simply Looping over TS captures already requires quite some nesting (would love a simple wrapper builtin for this). \n",
            "commit_id": "e5faa8e78b6e64ab73165fcc71dccb2343140953",
            "created_at": "2025-10-10T15:12:57Z",
            "diff_hunk": "@@ -129,21 +129,40 @@ do\n   ]]\n   )\n \n-  for _, match, _ in query:iter_matches(root, 0, 0, -1) do\n-    for id, nodes in pairs(match) do\n-      if query.captures[id] == 'helplink' then\n-        for _, node in ipairs(nodes) do\n-          local start_line, start_col, end_line, end_col = node:range()\n-          local tag = vim.treesitter.get_node_text(node, 0)\n-          vim.api.nvim_buf_set_extmark(0, ns, start_line, start_col, {\n-            end_line = end_line,\n-            end_col = end_col,\n-            url = base .. vim.uri_encode(tag),\n-          })\n+  local function is_nvim_tag(tag)\n+    local tagsfile = vim.fs.joinpath(vim.env.VIMRUNTIME, 'doc', 'tags')\n+    local candidates = vim.fn.taglist('^' .. tag .. '$', tagsfile)\n+    if #candidates == 0 then return false end\n+    return vim.fs.relpath(vim.env.VIMRUNTIME, candidates[1].filename) ~= nil\n+  end\n+\n+  local helpbuf = vim.api.nvim_get_current_buf()\n+  vim.api.nvim_set_decoration_provider(url_ns, {\n+    on_win = function (_, _, buf, topline, botline)\n+      if buf ~= helpbuf then\n+        return\n+      end\n+      for _, match, _ in query:iter_matches(root, 0, topline, botline) do\n+        for id, nodes in pairs(match) do\n+          if query.captures[id] == 'helplink' then\n+            for _, node in ipairs(nodes) do\n+              local sl, sc, el, ec = node:range()\n+              if #vim.api.nvim_buf_get_extmarks(buf, url_ns, { sl, sc }, { el, ec }, {}) == 0 then",
            "html_url": "https://github.com/neovim/neovim/pull/36115#discussion_r2420765709",
            "id": 2420765709,
            "in_reply_to_id": 2419704735,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6QSfQN",
            "original_commit_id": "e5faa8e78b6e64ab73165fcc71dccb2343140953",
            "original_line": 150,
            "original_position": 43,
            "original_start_line": null,
            "path": "runtime/ftplugin/help.lua",
            "position": 1,
            "pull_request_review_id": 3324200696,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/36115",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2420765709/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-10-10T15:12:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2420765709",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
                "events_url": "https://api.github.com/users/yochem/events{/privacy}",
                "followers_url": "https://api.github.com/users/yochem/followers",
                "following_url": "https://api.github.com/users/yochem/following{/other_user}",
                "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/yochem",
                "id": 23235841,
                "login": "yochem",
                "node_id": "MDQ6VXNlcjIzMjM1ODQx",
                "organizations_url": "https://api.github.com/users/yochem/orgs",
                "received_events_url": "https://api.github.com/users/yochem/received_events",
                "repos_url": "https://api.github.com/users/yochem/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/yochem",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/36115#discussion_r2422841562"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/36115"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2422841562"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Opted for `vim.api.nvim_buf_clear_namespace()`.",
            "commit_id": "e5faa8e78b6e64ab73165fcc71dccb2343140953",
            "created_at": "2025-10-11T13:25:58Z",
            "diff_hunk": "@@ -129,21 +129,40 @@ do\n   ]]\n   )\n \n-  for _, match, _ in query:iter_matches(root, 0, 0, -1) do\n-    for id, nodes in pairs(match) do\n-      if query.captures[id] == 'helplink' then\n-        for _, node in ipairs(nodes) do\n-          local start_line, start_col, end_line, end_col = node:range()\n-          local tag = vim.treesitter.get_node_text(node, 0)\n-          vim.api.nvim_buf_set_extmark(0, ns, start_line, start_col, {\n-            end_line = end_line,\n-            end_col = end_col,\n-            url = base .. vim.uri_encode(tag),\n-          })\n+  local function is_nvim_tag(tag)\n+    local tagsfile = vim.fs.joinpath(vim.env.VIMRUNTIME, 'doc', 'tags')\n+    local candidates = vim.fn.taglist('^' .. tag .. '$', tagsfile)\n+    if #candidates == 0 then return false end\n+    return vim.fs.relpath(vim.env.VIMRUNTIME, candidates[1].filename) ~= nil\n+  end\n+\n+  local helpbuf = vim.api.nvim_get_current_buf()\n+  vim.api.nvim_set_decoration_provider(url_ns, {\n+    on_win = function (_, _, buf, topline, botline)\n+      if buf ~= helpbuf then\n+        return\n+      end\n+      for _, match, _ in query:iter_matches(root, 0, topline, botline) do\n+        for id, nodes in pairs(match) do\n+          if query.captures[id] == 'helplink' then\n+            for _, node in ipairs(nodes) do\n+              local sl, sc, el, ec = node:range()\n+              if #vim.api.nvim_buf_get_extmarks(buf, url_ns, { sl, sc }, { el, ec }, {}) == 0 then",
            "html_url": "https://github.com/neovim/neovim/pull/36115#discussion_r2422841562",
            "id": 2422841562,
            "in_reply_to_id": 2419704735,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6QaaDa",
            "original_commit_id": "e5faa8e78b6e64ab73165fcc71dccb2343140953",
            "original_line": 150,
            "original_position": 43,
            "original_start_line": null,
            "path": "runtime/ftplugin/help.lua",
            "position": 1,
            "pull_request_review_id": 3327170230,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/36115",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2422841562/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-10-11T13:25:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2422841562",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
                "events_url": "https://api.github.com/users/yochem/events{/privacy}",
                "followers_url": "https://api.github.com/users/yochem/followers",
                "following_url": "https://api.github.com/users/yochem/following{/other_user}",
                "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/yochem",
                "id": 23235841,
                "login": "yochem",
                "node_id": "MDQ6VXNlcjIzMjM1ODQx",
                "organizations_url": "https://api.github.com/users/yochem/orgs",
                "received_events_url": "https://api.github.com/users/yochem/received_events",
                "repos_url": "https://api.github.com/users/yochem/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/yochem",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/36115#discussion_r2424674560"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/36115"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2424674560"
                }
            },
            "author_association": "MEMBER",
            "body": "nice to see relpath() getting discovered/used :) but isn't it redundant since `taglist(...,tagsfile)` implicitly checks that already?",
            "commit_id": "a94060ef513e75744dc5871feb47e7102c0968c8",
            "created_at": "2025-10-12T17:42:36Z",
            "diff_hunk": "@@ -129,21 +129,41 @@ do\n   ]]\n   )\n \n-  for _, match, _ in query:iter_matches(root, 0, 0, -1) do\n-    for id, nodes in pairs(match) do\n-      if query.captures[id] == 'helplink' then\n-        for _, node in ipairs(nodes) do\n-          local start_line, start_col, end_line, end_col = node:range()\n-          local tag = vim.treesitter.get_node_text(node, 0)\n-          vim.api.nvim_buf_set_extmark(0, ns, start_line, start_col, {\n-            end_line = end_line,\n-            end_col = end_col,\n-            url = base .. vim.uri_encode(tag),\n-          })\n-        end\n-      end\n+  local function is_nvim_tag(tag)\n+    local tagsfile = vim.fs.joinpath(vim.env.VIMRUNTIME, 'doc', 'tags')\n+    local candidates = vim.fn.taglist('^' .. tag .. '$', tagsfile)\n+    if #candidates == 0 then\n+      return false\n     end\n+    return vim.fs.relpath(vim.env.VIMRUNTIME, candidates[1].filename) ~= nil",
            "html_url": "https://github.com/neovim/neovim/pull/36115#discussion_r2424674560",
            "id": 2424674560,
            "line": 138,
            "node_id": "PRRC_kwDOAPphoM6QhZkA",
            "original_commit_id": "a94060ef513e75744dc5871feb47e7102c0968c8",
            "original_line": 138,
            "original_position": 33,
            "original_start_line": null,
            "path": "runtime/ftplugin/help.lua",
            "position": 1,
            "pull_request_review_id": 3329249512,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/36115",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2424674560/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-10-12T17:42:36Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2424674560",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/36115#discussion_r2424775752"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/36115"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2424775752"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "I noticed that if you run `:helptags ALL` with plugins already in the RTP their tags are also included in the VIMRUNTIME/doc/tags file. \n\nBig fan of the vim.fs module :) to me, having a good and mature file system and (text) file interface seems like a must for a text editor",
            "commit_id": "a94060ef513e75744dc5871feb47e7102c0968c8",
            "created_at": "2025-10-12T19:02:13Z",
            "diff_hunk": "@@ -129,21 +129,41 @@ do\n   ]]\n   )\n \n-  for _, match, _ in query:iter_matches(root, 0, 0, -1) do\n-    for id, nodes in pairs(match) do\n-      if query.captures[id] == 'helplink' then\n-        for _, node in ipairs(nodes) do\n-          local start_line, start_col, end_line, end_col = node:range()\n-          local tag = vim.treesitter.get_node_text(node, 0)\n-          vim.api.nvim_buf_set_extmark(0, ns, start_line, start_col, {\n-            end_line = end_line,\n-            end_col = end_col,\n-            url = base .. vim.uri_encode(tag),\n-          })\n-        end\n-      end\n+  local function is_nvim_tag(tag)\n+    local tagsfile = vim.fs.joinpath(vim.env.VIMRUNTIME, 'doc', 'tags')\n+    local candidates = vim.fn.taglist('^' .. tag .. '$', tagsfile)\n+    if #candidates == 0 then\n+      return false\n     end\n+    return vim.fs.relpath(vim.env.VIMRUNTIME, candidates[1].filename) ~= nil",
            "html_url": "https://github.com/neovim/neovim/pull/36115#discussion_r2424775752",
            "id": 2424775752,
            "in_reply_to_id": 2424674560,
            "line": 138,
            "node_id": "PRRC_kwDOAPphoM6QhyRI",
            "original_commit_id": "a94060ef513e75744dc5871feb47e7102c0968c8",
            "original_line": 138,
            "original_position": 33,
            "original_start_line": null,
            "path": "runtime/ftplugin/help.lua",
            "position": 1,
            "pull_request_review_id": 3329363889,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/36115",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2424775752/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-10-12T19:02:13Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2424775752",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
                "events_url": "https://api.github.com/users/yochem/events{/privacy}",
                "followers_url": "https://api.github.com/users/yochem/followers",
                "following_url": "https://api.github.com/users/yochem/following{/other_user}",
                "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/yochem",
                "id": 23235841,
                "login": "yochem",
                "node_id": "MDQ6VXNlcjIzMjM1ODQx",
                "organizations_url": "https://api.github.com/users/yochem/orgs",
                "received_events_url": "https://api.github.com/users/yochem/received_events",
                "repos_url": "https://api.github.com/users/yochem/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/yochem",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/36115#discussion_r2424901305"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/36115"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2424901305"
                }
            },
            "author_association": "MEMBER",
            "body": "?",
            "commit_id": "776e5f2b5d0b5ed9fa6c8ab2865ffd947dfbe857",
            "created_at": "2025-10-12T21:11:00Z",
            "diff_hunk": "@@ -0,0 +1,4 @@\n+|'filetype'|",
            "html_url": "https://github.com/neovim/neovim/pull/36115#discussion_r2424901305",
            "id": 2424901305,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6QiQ65",
            "original_commit_id": "776e5f2b5d0b5ed9fa6c8ab2865ffd947dfbe857",
            "original_line": 1,
            "original_position": 1,
            "original_start_line": null,
            "path": "test.txt",
            "position": 1,
            "pull_request_review_id": 3329548550,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/36115",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2424901305/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-10-12T21:11:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2424901305",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/36115#discussion_r2424910413"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/36115"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2424910413"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Oops sorry, probably did a `git add .`. I't removed now.",
            "commit_id": "776e5f2b5d0b5ed9fa6c8ab2865ffd947dfbe857",
            "created_at": "2025-10-12T21:18:29Z",
            "diff_hunk": "@@ -0,0 +1,4 @@\n+|'filetype'|",
            "html_url": "https://github.com/neovim/neovim/pull/36115#discussion_r2424910413",
            "id": 2424910413,
            "in_reply_to_id": 2424901305,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6QiTJN",
            "original_commit_id": "776e5f2b5d0b5ed9fa6c8ab2865ffd947dfbe857",
            "original_line": 1,
            "original_position": 1,
            "original_start_line": null,
            "path": "test.txt",
            "position": 1,
            "pull_request_review_id": 3329562099,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/36115",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2424910413/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-10-12T21:18:30Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2424910413",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
                "events_url": "https://api.github.com/users/yochem/events{/privacy}",
                "followers_url": "https://api.github.com/users/yochem/followers",
                "following_url": "https://api.github.com/users/yochem/following{/other_user}",
                "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/yochem",
                "id": 23235841,
                "login": "yochem",
                "node_id": "MDQ6VXNlcjIzMjM1ODQx",
                "organizations_url": "https://api.github.com/users/yochem/orgs",
                "received_events_url": "https://api.github.com/users/yochem/received_events",
                "repos_url": "https://api.github.com/users/yochem/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/yochem",
                "user_view_type": "public"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "MEMBER",
            "body": "> 3\\. How to unset/remove/delete a decoration provider?\r\n\r\ngood question, maybe by clearing its namespace? `nvim_set_decoration_provider` is a very low-level mechanism. and it's \"global\". Doing a scan of the tags file (`is_nvim_tag`) in a decor handler doesn't sound great.\r\n\r\nThe old code was more obvious, so even if it's not viewport-local let's stick with the old approach. ",
            "created_at": "2025-10-11T16:09:32Z",
            "html_url": "https://github.com/neovim/neovim/pull/36115#issuecomment-3393457984",
            "id": 3393457984,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36115",
            "node_id": "IC_kwDOAPphoM7KRA9A",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3393457984/reactions"
            },
            "updated_at": "2025-10-11T16:09:32Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3393457984",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Another, possibly simpler approach to \"viewport-only\" is a `WinScrolled` autocmd. I'll check if that's a clean approach. Otherwise we keep it like the original approach. ",
            "created_at": "2025-10-12T00:20:53Z",
            "html_url": "https://github.com/neovim/neovim/pull/36115#issuecomment-3393762254",
            "id": 3393762254,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36115",
            "node_id": "IC_kwDOAPphoM7KSLPO",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3393762254/reactions"
            },
            "updated_at": "2025-10-12T00:21:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3393762254",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
                "events_url": "https://api.github.com/users/yochem/events{/privacy}",
                "followers_url": "https://api.github.com/users/yochem/followers",
                "following_url": "https://api.github.com/users/yochem/following{/other_user}",
                "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/yochem",
                "id": 23235841,
                "login": "yochem",
                "node_id": "MDQ6VXNlcjIzMjM1ODQx",
                "organizations_url": "https://api.github.com/users/yochem/orgs",
                "received_events_url": "https://api.github.com/users/yochem/received_events",
                "repos_url": "https://api.github.com/users/yochem/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/yochem",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I've changed the decoration provider approach to a (rough version of) a WinScrolled autocmd approach. Let me know if you prefer that over the original, full-buffer approach. Otherwise I'll revert the changes.",
            "created_at": "2025-10-12T15:25:43Z",
            "html_url": "https://github.com/neovim/neovim/pull/36115#issuecomment-3394681468",
            "id": 3394681468,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36115",
            "node_id": "IC_kwDOAPphoM7KVrp8",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3394681468/reactions"
            },
            "updated_at": "2025-10-12T15:25:43Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3394681468",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
                "events_url": "https://api.github.com/users/yochem/events{/privacy}",
                "followers_url": "https://api.github.com/users/yochem/followers",
                "following_url": "https://api.github.com/users/yochem/following{/other_user}",
                "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/yochem",
                "id": 23235841,
                "login": "yochem",
                "node_id": "MDQ6VXNlcjIzMjM1ODQx",
                "organizations_url": "https://api.github.com/users/yochem/orgs",
                "received_events_url": "https://api.github.com/users/yochem/received_events",
                "repos_url": "https://api.github.com/users/yochem/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/yochem",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "let's start with just the full-buffer approach. if we see a perf issue then we can reconsider the WinScrolled approach.",
            "created_at": "2025-10-12T17:48:30Z",
            "html_url": "https://github.com/neovim/neovim/pull/36115#issuecomment-3395066017",
            "id": 3395066017,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36115",
            "node_id": "IC_kwDOAPphoM7KXJih",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3395066017/reactions"
            },
            "updated_at": "2025-10-12T17:48:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3395066017",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "This seems to make `:help` very slow. `:h :set` takes several seconds on a Release build.",
            "created_at": "2025-10-13T06:55:25Z",
            "html_url": "https://github.com/neovim/neovim/pull/36115#issuecomment-3396095454",
            "id": 3396095454,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36115",
            "node_id": "IC_kwDOAPphoM7KbE3e",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3396095454/reactions"
            },
            "updated_at": "2025-10-13T06:55:25Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3396095454",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Thanks for reporting @zeertzjq. I can think of these approaches to improve performance:\n\n1. Build Lua table of tags in $VIMRUNTIME once instead of taglist\n2. Earlier mentioned per-viewport applying\n\nLess correct, but simpler (and as fast as before) option would be to only set url extmarks for docs in $VIMRUNTIME. \n\nAnother one is to improve `vim.fn.taglist` performance (Lua interface?). But that's probably out of scope. ",
            "created_at": "2025-10-13T07:04:04Z",
            "html_url": "https://github.com/neovim/neovim/pull/36115#issuecomment-3396118341",
            "id": 3396118341,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36115",
            "node_id": "IC_kwDOAPphoM7KbKdF",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3396118341/reactions"
            },
            "updated_at": "2025-10-13T07:04:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3396118341",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
                "events_url": "https://api.github.com/users/yochem/events{/privacy}",
                "followers_url": "https://api.github.com/users/yochem/followers",
                "following_url": "https://api.github.com/users/yochem/following{/other_user}",
                "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/yochem",
                "id": 23235841,
                "login": "yochem",
                "node_id": "MDQ6VXNlcjIzMjM1ODQx",
                "organizations_url": "https://api.github.com/users/yochem/orgs",
                "received_events_url": "https://api.github.com/users/yochem/received_events",
                "repos_url": "https://api.github.com/users/yochem/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/yochem",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Less correct, but simpler (and as fast as before) option would be to only set url extmarks for docs in $VIMRUNTIME.\r\n\r\nLet's start with that. \r\n\r\nBuilding a dict also would be fine and should be small, but it really should be handled by `taglist()` or similar.",
            "created_at": "2025-10-13T15:29:43Z",
            "html_url": "https://github.com/neovim/neovim/pull/36115#issuecomment-3397997523",
            "id": 3397997523,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36115",
            "node_id": "IC_kwDOAPphoM7KiVPT",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3397997523/reactions"
            },
            "updated_at": "2025-10-13T15:29:43Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3397997523",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "#36165 ",
            "created_at": "2025-10-13T16:34:25Z",
            "html_url": "https://github.com/neovim/neovim/pull/36115#issuecomment-3398228329",
            "id": 3398228329,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36115",
            "node_id": "IC_kwDOAPphoM7KjNlp",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3398228329/reactions"
            },
            "updated_at": "2025-10-13T16:34:25Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3398228329",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
                "events_url": "https://api.github.com/users/yochem/events{/privacy}",
                "followers_url": "https://api.github.com/users/yochem/followers",
                "following_url": "https://api.github.com/users/yochem/following{/other_user}",
                "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/yochem",
                "id": 23235841,
                "login": "yochem",
                "node_id": "MDQ6VXNlcjIzMjM1ODQx",
                "organizations_url": "https://api.github.com/users/yochem/orgs",
                "received_events_url": "https://api.github.com/users/yochem/received_events",
                "repos_url": "https://api.github.com/users/yochem/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/yochem",
                "user_view_type": "public"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/36115/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/36115/commits",
    "created_at": "2025-10-10T11:52:42Z",
    "diff_url": "https://github.com/neovim/neovim/pull/36115.diff",
    "draft": false,
    "head": {
        "label": "yochem:help-url-sanity-check",
        "ref": "help-url-sanity-check",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/yochem/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/yochem/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/yochem/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/yochem/neovim/branches{/branch}",
            "clone_url": "https://github.com/yochem/neovim.git",
            "collaborators_url": "https://api.github.com/repos/yochem/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/yochem/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/yochem/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/yochem/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/yochem/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/yochem/neovim/contributors",
            "created_at": "2023-03-13T14:39:08Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/yochem/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/yochem/neovim/downloads",
            "events_url": "https://api.github.com/repos/yochem/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/yochem/neovim/forks",
            "full_name": "yochem/neovim",
            "git_commits_url": "https://api.github.com/repos/yochem/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/yochem/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/yochem/neovim/git/tags{/sha}",
            "git_url": "git://github.com/yochem/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/yochem/neovim/hooks",
            "html_url": "https://github.com/yochem/neovim",
            "id": 613421928,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/yochem/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/yochem/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/yochem/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/yochem/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/yochem/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/yochem/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/yochem/neovim/merges",
            "milestones_url": "https://api.github.com/repos/yochem/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "R_kgDOJJATaA",
            "notifications_url": "https://api.github.com/repos/yochem/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
                "events_url": "https://api.github.com/users/yochem/events{/privacy}",
                "followers_url": "https://api.github.com/users/yochem/followers",
                "following_url": "https://api.github.com/users/yochem/following{/other_user}",
                "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/yochem",
                "id": 23235841,
                "login": "yochem",
                "node_id": "MDQ6VXNlcjIzMjM1ODQx",
                "organizations_url": "https://api.github.com/users/yochem/orgs",
                "received_events_url": "https://api.github.com/users/yochem/received_events",
                "repos_url": "https://api.github.com/users/yochem/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/yochem",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/yochem/neovim/pulls{/number}",
            "pushed_at": "2025-10-13T21:40:21Z",
            "releases_url": "https://api.github.com/repos/yochem/neovim/releases{/id}",
            "size": 339707,
            "ssh_url": "git@github.com:yochem/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/yochem/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/yochem/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/yochem/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/yochem/neovim/subscription",
            "svn_url": "https://github.com/yochem/neovim",
            "tags_url": "https://api.github.com/repos/yochem/neovim/tags",
            "teams_url": "https://api.github.com/repos/yochem/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/yochem/neovim/git/trees{/sha}",
            "updated_at": "2025-09-21T20:06:11Z",
            "url": "https://api.github.com/repos/yochem/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "edd43c61da81536d7818d5030f36dcde126bf8ef",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
            "events_url": "https://api.github.com/users/yochem/events{/privacy}",
            "followers_url": "https://api.github.com/users/yochem/followers",
            "following_url": "https://api.github.com/users/yochem/following{/other_user}",
            "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/yochem",
            "id": 23235841,
            "login": "yochem",
            "node_id": "MDQ6VXNlcjIzMjM1ODQx",
            "organizations_url": "https://api.github.com/users/yochem/orgs",
            "received_events_url": "https://api.github.com/users/yochem/received_events",
            "repos_url": "https://api.github.com/users/yochem/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/yochem",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/36115",
    "id": 2903684491,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36115",
    "labels": [],
    "locked": false,
    "merge_commit_sha": "62d3a2110df4999b39e25026ad85628551b5e80c",
    "merged_at": "2025-10-12T22:08:18Z",
    "milestone": null,
    "node_id": "PR_kwDOAPphoM6tErWL",
    "number": 36115,
    "patch_url": "https://github.com/neovim/neovim/pull/36115.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/36115/comments",
    "state": "closed",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/edd43c61da81536d7818d5030f36dcde126bf8ef",
    "title": "help url extmarks improvements",
    "updated_at": "2025-10-13T16:34:25Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/36115",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/23235841?v=4",
        "events_url": "https://api.github.com/users/yochem/events{/privacy}",
        "followers_url": "https://api.github.com/users/yochem/followers",
        "following_url": "https://api.github.com/users/yochem/following{/other_user}",
        "gists_url": "https://api.github.com/users/yochem/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/yochem",
        "id": 23235841,
        "login": "yochem",
        "node_id": "MDQ6VXNlcjIzMjM1ODQx",
        "organizations_url": "https://api.github.com/users/yochem/orgs",
        "received_events_url": "https://api.github.com/users/yochem/received_events",
        "repos_url": "https://api.github.com/users/yochem/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/yochem/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/yochem/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/yochem",
        "user_view_type": "public"
    }
}