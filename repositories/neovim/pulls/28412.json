{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/28412/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/28412/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/28412"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/28412"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/28412/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/b67ab0a6b5d74b833e4276177c62397dda0ebeff"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 5945,
            "forks_count": 5945,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 1874,
            "open_issues_count": 1874,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2025-03-18T00:13:05Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 313072,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 87314,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2025-03-18T02:30:01Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 87314,
            "watchers_count": 87314,
            "web_commit_signoff_required": false
        },
        "sha": "a0d8c2b86e788ce4273f0b8df258cd9e8e432d38",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim",
            "user_view_type": "public"
        }
    },
    "body": "Sometimes you want to apply treesitter highlighting to non-buffer text (such as foldtext or the message area). The problem is that there is currently no easy way to get the treesitter highlighting except for implementing a function yourself. So let's add such a function.\r\n\r\nIt has been brought to my attention that this feature is also useful for applying a highlight to a specific region in a buffer, by getting the text in the region, parsing it, getting the highlights, and setting the highlights as extmarks.",
    "closed_at": null,
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1572189752"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1572189752"
                }
            },
            "author_association": "MEMBER",
            "body": "`parser` is a `vim.treesitter.LanguageTree`, which is already a complex object. Should this instead be a method on that object? ",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-04-19T10:49:57Z",
            "diff_hunk": "@@ -466,4 +466,74 @@ function M.foldexpr(lnum)\n   return M._fold.foldexpr(lnum)\n end\n \n+---@param parser vim.treesitter.LanguageTree\n+---@return {group:string,range:integer[]}[]\n+function M.get_text_highlight(parser)",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1572189752",
            "id": 1572189752,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5dtbY4",
            "original_commit_id": "09d33490855088736eb0e00655809015c6a58e0f",
            "original_line": 471,
            "original_position": 6,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter.lua",
            "position": null,
            "pull_request_review_id": 2011117952,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1572189752/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-04-19T10:49:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1572189752",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1572195376"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1572195376"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Ok",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-04-19T10:55:47Z",
            "diff_hunk": "@@ -466,4 +466,74 @@ function M.foldexpr(lnum)\n   return M._fold.foldexpr(lnum)\n end\n \n+---@param parser vim.treesitter.LanguageTree\n+---@return {group:string,range:integer[]}[]\n+function M.get_text_highlight(parser)",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1572195376",
            "id": 1572195376,
            "in_reply_to_id": 1572189752,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5dtcww",
            "original_commit_id": "09d33490855088736eb0e00655809015c6a58e0f",
            "original_line": 471,
            "original_position": 6,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter.lua",
            "position": null,
            "pull_request_review_id": 2011127156,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1572195376/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-04-19T10:55:48Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1572195376",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/107814000?v=4",
                "events_url": "https://api.github.com/users/altermo/events{/privacy}",
                "followers_url": "https://api.github.com/users/altermo/followers",
                "following_url": "https://api.github.com/users/altermo/following{/other_user}",
                "gists_url": "https://api.github.com/users/altermo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/altermo",
                "id": 107814000,
                "login": "altermo",
                "node_id": "U_kgDOBm0ccA",
                "organizations_url": "https://api.github.com/users/altermo/orgs",
                "received_events_url": "https://api.github.com/users/altermo/received_events",
                "repos_url": "https://api.github.com/users/altermo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/altermo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/altermo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/altermo",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1577592338"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1577592338"
                }
            },
            "author_association": "MEMBER",
            "body": "Since this has 6 fields, it would be much more readable as a `@class`.\r\n\r\n`binary_find` can also be pulled out as a put function with `stack` as an argument.",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-04-24T09:33:31Z",
            "diff_hunk": "@@ -1184,4 +1184,104 @@ function LanguageTree:language_for_range(range)\n   return self\n end\n \n+--- Get highlight information from parser.\n+---\n+---@return {group:string, range:integer[]}\n+function LanguageTree:get_highlight()\n+  ---@type {group:string,range:integer[],priority:integer,type:'start'|'end',start?:table,subpriority:integer}[]\n+  local positions = {}\n+  self:for_each_tree(function(tree, ltree)\n+    local source = ltree:source()\n+    local hl_query = query.get(ltree:lang(), 'highlights')\n+\n+    if not hl_query then\n+      return\n+    end\n+\n+    for id, node, metadata in hl_query:iter_captures(tree:root(), source, 0, -1) do\n+      local name = hl_query.captures[id]\n+      local start_row, start_col, end_row, end_col = node:range()\n+      local priority = tonumber(metadata.priority or vim.highlight.priorities.treesitter)\n+\n+      table.insert(positions, {\n+        group = '@' .. name .. '.' .. ltree:lang(),\n+        range = { start_row, start_col },\n+        priority = priority,\n+        subpriority = #positions,\n+        type = 'start',\n+      })\n+\n+      table.insert(positions, {\n+        group = '@' .. name .. '.' .. ltree:lang(),\n+        range = { end_row, end_col },\n+        priority = priority,\n+        subpriority = #positions - 1,\n+        type = 'end',\n+      })\n+    end\n+  end)\n+\n+  table.sort(positions, function(a, b)\n+    return a.range[1] < b.range[1]\n+      or (a.range[1] == b.range[1] and a.range[2] < b.range[2])\n+      or (\n+        a.range[1] == b.range[1]\n+        and a.range[2] == b.range[2]\n+        and a.type == 'start'\n+        and b.type == 'end'\n+      )\n+  end)\n+\n+  local result = {}\n+  ---@type  {group:string,range:integer[],priority:integer,type:'start'|'end',start?:table,subpriority:integer}[]",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1577592338",
            "id": 1577592338,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5eCCYS",
            "original_commit_id": "ef77af760518dc6239e72b2743d074b7a5304846",
            "original_line": 1236,
            "original_position": 53,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/languagetree.lua",
            "position": null,
            "pull_request_review_id": 2019381614,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1577592338/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-04-24T09:33:31Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1577592338",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1577593947"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1577593947"
                }
            },
            "author_association": "MEMBER",
            "body": "Is there a reason we need to inject two elements into `positions` instead of just providing the full range?",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-04-24T09:34:37Z",
            "diff_hunk": "@@ -1184,4 +1184,104 @@ function LanguageTree:language_for_range(range)\n   return self\n end\n \n+--- Get highlight information from parser.\n+---\n+---@return {group:string, range:integer[]}\n+function LanguageTree:get_highlight()\n+  ---@type {group:string,range:integer[],priority:integer,type:'start'|'end',start?:table,subpriority:integer}[]\n+  local positions = {}\n+  self:for_each_tree(function(tree, ltree)\n+    local source = ltree:source()\n+    local hl_query = query.get(ltree:lang(), 'highlights')\n+\n+    if not hl_query then\n+      return\n+    end\n+\n+    for id, node, metadata in hl_query:iter_captures(tree:root(), source, 0, -1) do\n+      local name = hl_query.captures[id]\n+      local start_row, start_col, end_row, end_col = node:range()\n+      local priority = tonumber(metadata.priority or vim.highlight.priorities.treesitter)\n+\n+      table.insert(positions, {",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1577593947",
            "id": 1577593947,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5eCCxb",
            "original_commit_id": "ef77af760518dc6239e72b2743d074b7a5304846",
            "original_line": 1206,
            "original_position": 23,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/languagetree.lua",
            "position": null,
            "pull_request_review_id": 2019384020,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1577593947/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-04-24T09:34:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1577593947",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1577757707"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1577757707"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "That's how the algorithm works.\r\n\r\nThe algorithm resolves node priorities so that no node's range overlaps with another.\r\n\r\nMore about the algorithm:\r\nA list of positions is prepared where each element is either a node's beginning or end position.\r\nThe positions are sorted by position (this separates the beginning and end positions of the same node).\r\nLoop over the positions:\r\nWhen encountering a beginning position its associated node gets appended to a priority sorted list (higher priority positions always come before lower priority positions).\r\nWhen encountering an ending position its associated node gets removed from the priority sorted list.\r\nOn every cycle, if there is distance between the positions, the first node (e.g. the node with the highest priority) on the priority sorted list gets appended to the highlights list with its range set to the range between the previous position in the loop and the current position in the loop.",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-04-24T11:54:44Z",
            "diff_hunk": "@@ -1184,4 +1184,104 @@ function LanguageTree:language_for_range(range)\n   return self\n end\n \n+--- Get highlight information from parser.\n+---\n+---@return {group:string, range:integer[]}\n+function LanguageTree:get_highlight()\n+  ---@type {group:string,range:integer[],priority:integer,type:'start'|'end',start?:table,subpriority:integer}[]\n+  local positions = {}\n+  self:for_each_tree(function(tree, ltree)\n+    local source = ltree:source()\n+    local hl_query = query.get(ltree:lang(), 'highlights')\n+\n+    if not hl_query then\n+      return\n+    end\n+\n+    for id, node, metadata in hl_query:iter_captures(tree:root(), source, 0, -1) do\n+      local name = hl_query.captures[id]\n+      local start_row, start_col, end_row, end_col = node:range()\n+      local priority = tonumber(metadata.priority or vim.highlight.priorities.treesitter)\n+\n+      table.insert(positions, {",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1577757707",
            "id": 1577757707,
            "in_reply_to_id": 1577593947,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5eCqwL",
            "original_commit_id": "ef77af760518dc6239e72b2743d074b7a5304846",
            "original_line": 1206,
            "original_position": 23,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/languagetree.lua",
            "position": null,
            "pull_request_review_id": 2019650497,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1577757707/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-04-24T11:54:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1577757707",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/107814000?v=4",
                "events_url": "https://api.github.com/users/altermo/events{/privacy}",
                "followers_url": "https://api.github.com/users/altermo/followers",
                "following_url": "https://api.github.com/users/altermo/following{/other_user}",
                "gists_url": "https://api.github.com/users/altermo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/altermo",
                "id": 107814000,
                "login": "altermo",
                "node_id": "U_kgDOBm0ccA",
                "organizations_url": "https://api.github.com/users/altermo/orgs",
                "received_events_url": "https://api.github.com/users/altermo/received_events",
                "repos_url": "https://api.github.com/users/altermo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/altermo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/altermo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/altermo",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1577828111"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1577828111"
                }
            },
            "author_association": "MEMBER",
            "body": "These level of explanations work really well as code documentation.",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-04-24T12:49:40Z",
            "diff_hunk": "@@ -1184,4 +1184,104 @@ function LanguageTree:language_for_range(range)\n   return self\n end\n \n+--- Get highlight information from parser.\n+---\n+---@return {group:string, range:integer[]}\n+function LanguageTree:get_highlight()\n+  ---@type {group:string,range:integer[],priority:integer,type:'start'|'end',start?:table,subpriority:integer}[]\n+  local positions = {}\n+  self:for_each_tree(function(tree, ltree)\n+    local source = ltree:source()\n+    local hl_query = query.get(ltree:lang(), 'highlights')\n+\n+    if not hl_query then\n+      return\n+    end\n+\n+    for id, node, metadata in hl_query:iter_captures(tree:root(), source, 0, -1) do\n+      local name = hl_query.captures[id]\n+      local start_row, start_col, end_row, end_col = node:range()\n+      local priority = tonumber(metadata.priority or vim.highlight.priorities.treesitter)\n+\n+      table.insert(positions, {",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1577828111",
            "id": 1577828111,
            "in_reply_to_id": 1577593947,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5eC78P",
            "original_commit_id": "ef77af760518dc6239e72b2743d074b7a5304846",
            "original_line": 1206,
            "original_position": 23,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/languagetree.lua",
            "position": null,
            "pull_request_review_id": 2019768041,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1577828111/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-04-24T12:49:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1577828111",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1577833132"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1577833132"
                }
            },
            "author_association": "MEMBER",
            "body": "Can you make the first return type a `@class`?",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-04-24T12:53:13Z",
            "diff_hunk": "@@ -4,12 +4,12 @@ local Range = require('vim.treesitter._range')\n \n local ns = api.nvim_create_namespace('treesitter/highlighter')\n \n----@alias vim.treesitter.highlighter.Iter fun(end_line: integer|nil): integer, TSNode, vim.treesitter.query.TSMetadata, TSQueryMatch\n+---@alias vim.treesitter.highlighter.Iter fun(end_line:integer):{range:Range6, hl_group:string, priority:integer, conceal:string?, spell:boolean?, url:string?}?,TSNode?",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1577833132",
            "id": 1577833132,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5eC9Ks",
            "original_commit_id": "e55da5a56981e5db47fbd912e2dfed40da6164ce",
            "original_line": 7,
            "original_position": 5,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/highlighter.lua",
            "position": null,
            "pull_request_review_id": 2019776112,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1577833132/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-04-24T12:53:13Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1577833132",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1577836092"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1577836092"
                }
            },
            "author_association": "MEMBER",
            "body": "I know justin said to move this into the languagetree, but now there is a dependency on `highlighter.lua`, this is better placed somewhere else.\r\n\r\nI personally think `treesitter.lua` or `highlighterlua` is probably the best place.",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-04-24T12:55:11Z",
            "diff_hunk": "@@ -1184,4 +1184,140 @@ function LanguageTree:language_for_range(range)\n   return self\n end\n \n+--- Get highlight information from parser.\n+---\n+---@return {range:Range4, hl_group:string, priority:integer, conceal:string?, spell:boolean?, url:string?}[]\n+function LanguageTree:get_highlight()",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1577836092",
            "id": 1577836092,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5eC948",
            "original_commit_id": "e55da5a56981e5db47fbd912e2dfed40da6164ce",
            "original_line": 1190,
            "original_position": 7,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/languagetree.lua",
            "position": null,
            "pull_request_review_id": 2019780642,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1577836092/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-04-24T12:55:11Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1577836092",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1577837503"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1577837503"
                }
            },
            "author_association": "MEMBER",
            "body": "Shouldn't this be(?):\r\n```suggestion\r\n---@return integer\r\n```",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-04-24T12:56:09Z",
            "diff_hunk": "@@ -1184,4 +1184,140 @@ function LanguageTree:language_for_range(range)\n   return self\n end\n \n+--- Get highlight information from parser.\n+---\n+---@return {range:Range4, hl_group:string, priority:integer, conceal:string?, spell:boolean?, url:string?}[]\n+function LanguageTree:get_highlight()\n+  local highlights = {}\n+  self:for_each_tree(function(tree, ltree)\n+    local source = ltree:source()\n+    local hl_query = query.get(ltree:lang(), 'highlights')\n+\n+    if not hl_query then\n+      return\n+    end\n+\n+    local highlighter = require('vim.treesitter.highlighter')\n+    for info in highlighter._iter_highlight_info(hl_query, tree:root(), source, 0, -1) do\n+      info.range = { Range.unpack4(info.range) }\n+      table.insert(highlights, info)\n+    end\n+  end)\n+  return highlights\n+end\n+\n+---@nodoc\n+---@class vim.treesitter.LanguageTree.highlight_resolve_priority.obj\n+---@field group string\n+---@field range integer[]\n+---@field priority integer\n+---@field type 'start'|'end'\n+---@field start? table\n+---@field subpriority integer\n+---@field info table\n+\n+---@param stack vim.treesitter.LanguageTree.highlight_resolve_priority.obj[]\n+---@param subpriority number\n+---@return number",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1577837503",
            "id": 1577837503,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5eC-O_",
            "original_commit_id": "e55da5a56981e5db47fbd912e2dfed40da6164ce",
            "original_line": 1221,
            "original_position": 38,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/languagetree.lua",
            "position": null,
            "pull_request_review_id": 2019782972,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1577837503/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-04-24T12:56:10Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1577837503",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1578052378"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1578052378"
                }
            },
            "author_association": "MEMBER",
            "body": "It's not obvious (or justified) why both these functions are needed. The one with `_resolve_priority` appears rather niche.",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-04-24T15:05:04Z",
            "diff_hunk": "@@ -734,6 +734,33 @@ get_captures_at_pos({bufnr}, {row}, {col})\n         (`table[]`) List of captures\n         `{ capture = \"name\", metadata = { ... } }`\n \n+get_highlight({parser})                       *vim.treesitter.get_highlight()*\n+    Get highlight information from parser.\n+\n+    Parameters: ~\n+      â€¢ {parser}  (`vim.treesitter.LanguageTree`)\n+\n+    Return: ~\n+        (`vim.treesitter.highlighter.Iter.ret[]`)\n+\n+                             *vim.treesitter.get_highlight_resolve_priority()*\n+get_highlight_resolve_priority({parser})",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1578052378",
            "id": 1578052378,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5eDysa",
            "original_commit_id": "a0f0d34603cc0b066ef23cf1d306eb1c75abd2eb",
            "original_line": 747,
            "original_position": 14,
            "original_start_line": null,
            "path": "runtime/doc/treesitter.txt",
            "position": null,
            "pull_request_review_id": 2020146885,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1578052378/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-04-24T15:05:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1578052378",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1578063521"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1578063521"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "That function is for when you want to apply treesitter highlighting on non-buffer texts.\r\nThese include foldtext, notifications, and cmdline(using `g:Nvim_color_cmdline`).\r\n\r\nBut if it's not desired then I won't include this function.",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-04-24T15:11:24Z",
            "diff_hunk": "@@ -734,6 +734,33 @@ get_captures_at_pos({bufnr}, {row}, {col})\n         (`table[]`) List of captures\n         `{ capture = \"name\", metadata = { ... } }`\n \n+get_highlight({parser})                       *vim.treesitter.get_highlight()*\n+    Get highlight information from parser.\n+\n+    Parameters: ~\n+      â€¢ {parser}  (`vim.treesitter.LanguageTree`)\n+\n+    Return: ~\n+        (`vim.treesitter.highlighter.Iter.ret[]`)\n+\n+                             *vim.treesitter.get_highlight_resolve_priority()*\n+get_highlight_resolve_priority({parser})",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1578063521",
            "id": 1578063521,
            "in_reply_to_id": 1578052378,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5eD1ah",
            "original_commit_id": "a0f0d34603cc0b066ef23cf1d306eb1c75abd2eb",
            "original_line": 747,
            "original_position": 14,
            "original_start_line": null,
            "path": "runtime/doc/treesitter.txt",
            "position": null,
            "pull_request_review_id": 2020165111,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1578063521/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-04-24T15:11:24Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1578063521",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/107814000?v=4",
                "events_url": "https://api.github.com/users/altermo/events{/privacy}",
                "followers_url": "https://api.github.com/users/altermo/followers",
                "following_url": "https://api.github.com/users/altermo/following{/other_user}",
                "gists_url": "https://api.github.com/users/altermo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/altermo",
                "id": 107814000,
                "login": "altermo",
                "node_id": "U_kgDOBm0ccA",
                "organizations_url": "https://api.github.com/users/altermo/orgs",
                "received_events_url": "https://api.github.com/users/altermo/received_events",
                "repos_url": "https://api.github.com/users/altermo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/altermo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/altermo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/altermo",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1578075791"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1578075791"
                }
            },
            "author_association": "MEMBER",
            "body": "Should it be maybe named `get_highlight_virtual_text`?",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-04-24T15:19:46Z",
            "diff_hunk": "@@ -734,6 +734,33 @@ get_captures_at_pos({bufnr}, {row}, {col})\n         (`table[]`) List of captures\n         `{ capture = \"name\", metadata = { ... } }`\n \n+get_highlight({parser})                       *vim.treesitter.get_highlight()*\n+    Get highlight information from parser.\n+\n+    Parameters: ~\n+      â€¢ {parser}  (`vim.treesitter.LanguageTree`)\n+\n+    Return: ~\n+        (`vim.treesitter.highlighter.Iter.ret[]`)\n+\n+                             *vim.treesitter.get_highlight_resolve_priority()*\n+get_highlight_resolve_priority({parser})",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1578075791",
            "id": 1578075791,
            "in_reply_to_id": 1578052378,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5eD4aP",
            "original_commit_id": "a0f0d34603cc0b066ef23cf1d306eb1c75abd2eb",
            "original_line": 747,
            "original_position": 14,
            "original_start_line": null,
            "path": "runtime/doc/treesitter.txt",
            "position": null,
            "pull_request_review_id": 2020185436,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1578075791/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-04-24T15:19:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1578075791",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1578100241"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1578100241"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "What about `get_highlight_remove_overlap`?",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-04-24T15:35:54Z",
            "diff_hunk": "@@ -734,6 +734,33 @@ get_captures_at_pos({bufnr}, {row}, {col})\n         (`table[]`) List of captures\n         `{ capture = \"name\", metadata = { ... } }`\n \n+get_highlight({parser})                       *vim.treesitter.get_highlight()*\n+    Get highlight information from parser.\n+\n+    Parameters: ~\n+      â€¢ {parser}  (`vim.treesitter.LanguageTree`)\n+\n+    Return: ~\n+        (`vim.treesitter.highlighter.Iter.ret[]`)\n+\n+                             *vim.treesitter.get_highlight_resolve_priority()*\n+get_highlight_resolve_priority({parser})",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1578100241",
            "id": 1578100241,
            "in_reply_to_id": 1578052378,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5eD-YR",
            "original_commit_id": "a0f0d34603cc0b066ef23cf1d306eb1c75abd2eb",
            "original_line": 747,
            "original_position": 14,
            "original_start_line": null,
            "path": "runtime/doc/treesitter.txt",
            "position": null,
            "pull_request_review_id": 2020225731,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1578100241/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-04-24T15:35:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1578100241",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/107814000?v=4",
                "events_url": "https://api.github.com/users/altermo/events{/privacy}",
                "followers_url": "https://api.github.com/users/altermo/followers",
                "following_url": "https://api.github.com/users/altermo/following{/other_user}",
                "gists_url": "https://api.github.com/users/altermo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/altermo",
                "id": 107814000,
                "login": "altermo",
                "node_id": "U_kgDOBm0ccA",
                "organizations_url": "https://api.github.com/users/altermo/orgs",
                "received_events_url": "https://api.github.com/users/altermo/received_events",
                "repos_url": "https://api.github.com/users/altermo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/altermo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/altermo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/altermo",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1578101536"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1578101536"
                }
            },
            "author_association": "MEMBER",
            "body": "> These include foldtext, notifications, and cmdline(using `g:Nvim_color_cmdline`).\r\n\r\n(If all goes according to plan with replacing the message grid, the only remaining of those will be foldtext.)",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-04-24T15:36:37Z",
            "diff_hunk": "@@ -734,6 +734,33 @@ get_captures_at_pos({bufnr}, {row}, {col})\n         (`table[]`) List of captures\n         `{ capture = \"name\", metadata = { ... } }`\n \n+get_highlight({parser})                       *vim.treesitter.get_highlight()*\n+    Get highlight information from parser.\n+\n+    Parameters: ~\n+      â€¢ {parser}  (`vim.treesitter.LanguageTree`)\n+\n+    Return: ~\n+        (`vim.treesitter.highlighter.Iter.ret[]`)\n+\n+                             *vim.treesitter.get_highlight_resolve_priority()*\n+get_highlight_resolve_priority({parser})",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1578101536",
            "id": 1578101536,
            "in_reply_to_id": 1578052378,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5eD-sg",
            "original_commit_id": "a0f0d34603cc0b066ef23cf1d306eb1c75abd2eb",
            "original_line": 747,
            "original_position": 14,
            "original_start_line": null,
            "path": "runtime/doc/treesitter.txt",
            "position": null,
            "pull_request_review_id": 2020228089,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 1,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1578101536/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-04-24T17:21:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1578101536",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1578117216"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1578117216"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "If that's happening then the function becomes basically useless, so I won't include the function in this PR.",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-04-24T15:42:04Z",
            "diff_hunk": "@@ -734,6 +734,33 @@ get_captures_at_pos({bufnr}, {row}, {col})\n         (`table[]`) List of captures\n         `{ capture = \"name\", metadata = { ... } }`\n \n+get_highlight({parser})                       *vim.treesitter.get_highlight()*\n+    Get highlight information from parser.\n+\n+    Parameters: ~\n+      â€¢ {parser}  (`vim.treesitter.LanguageTree`)\n+\n+    Return: ~\n+        (`vim.treesitter.highlighter.Iter.ret[]`)\n+\n+                             *vim.treesitter.get_highlight_resolve_priority()*\n+get_highlight_resolve_priority({parser})",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1578117216",
            "id": 1578117216,
            "in_reply_to_id": 1578052378,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5eEChg",
            "original_commit_id": "a0f0d34603cc0b066ef23cf1d306eb1c75abd2eb",
            "original_line": 747,
            "original_position": 14,
            "original_start_line": null,
            "path": "runtime/doc/treesitter.txt",
            "position": null,
            "pull_request_review_id": 2020253474,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1578117216/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-04-24T15:42:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1578117216",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/107814000?v=4",
                "events_url": "https://api.github.com/users/altermo/events{/privacy}",
                "followers_url": "https://api.github.com/users/altermo/followers",
                "following_url": "https://api.github.com/users/altermo/following{/other_user}",
                "gists_url": "https://api.github.com/users/altermo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/altermo",
                "id": 107814000,
                "login": "altermo",
                "node_id": "U_kgDOBm0ccA",
                "organizations_url": "https://api.github.com/users/altermo/orgs",
                "received_events_url": "https://api.github.com/users/altermo/received_events",
                "repos_url": "https://api.github.com/users/altermo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/altermo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/altermo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/altermo",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1616169955"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1616169955"
                }
            },
            "author_association": "MEMBER",
            "body": "`range` declared as Range6 but the content is Range4. Also it would be nice to add some tests for the fields in `vim.treesitter.highlighter.Iter.ret`.",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-05-27T15:07:35Z",
            "diff_hunk": "@@ -466,4 +466,27 @@ function M.foldexpr(lnum)\n   return M._fold.foldexpr(lnum)\n end\n \n+--- Get highlight information from parser.\n+---\n+---@param parser vim.treesitter.LanguageTree\n+---@return vim.treesitter.highlighter.Iter.ret[]\n+function M.get_highlight(parser)\n+  local highlights = {}\n+  parser:for_each_tree(function(tree, ltree)\n+    local source = ltree:source()\n+    local hl_query = M.query.get(ltree:lang(), 'highlights')\n+\n+    if not hl_query then\n+      return\n+    end\n+\n+    local highlighter = require('vim.treesitter.highlighter')\n+    for info in highlighter._iter_highlight_info(hl_query, tree:root(), source, 0, -1) do\n+      info.range = { M._range.unpack4(info.range) }",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1616169955",
            "id": 1616169955,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5gVMvj",
            "original_commit_id": "78a7b15fd3b93a0a4d26b3313fe507ab216f6d9e",
            "original_line": 485,
            "original_position": 20,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter.lua",
            "position": null,
            "pull_request_review_id": 2081125709,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1616169955/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-05-27T15:17:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1616169955",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1009873?v=4",
                "events_url": "https://api.github.com/users/wookayin/events{/privacy}",
                "followers_url": "https://api.github.com/users/wookayin/followers",
                "following_url": "https://api.github.com/users/wookayin/following{/other_user}",
                "gists_url": "https://api.github.com/users/wookayin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wookayin",
                "id": 1009873,
                "login": "wookayin",
                "node_id": "MDQ6VXNlcjEwMDk4NzM=",
                "organizations_url": "https://api.github.com/users/wookayin/orgs",
                "received_events_url": "https://api.github.com/users/wookayin/received_events",
                "repos_url": "https://api.github.com/users/wookayin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wookayin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wookayin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wookayin",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1616177497"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1616177497"
                }
            },
            "author_association": "MEMBER",
            "body": "Not a blocker, but given this is a structure for the public API `|vim.treesitter.get_highlight()|` it would deserve a better class name rather than internal class name, say `vim.treesitter.highlighter.Info`, `vim.treesitter.get_highlight.ret`, or `vim.treesitter.HighlightInfo`, etc. Though I feel there will be something else that'd sound better.",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-05-27T15:15:31Z",
            "diff_hunk": "@@ -4,12 +4,30 @@ local Range = require('vim.treesitter._range')\n \n local ns = api.nvim_create_namespace('treesitter/highlighter')\n \n----@alias vim.treesitter.highlighter.Iter fun(end_line: integer|nil): integer, TSNode, vim.treesitter.query.TSMetadata, TSQueryMatch\n+--- @class vim.treesitter.highlighter.Iter.ret",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1616177497",
            "id": 1616177497,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5gVOlZ",
            "original_commit_id": "78a7b15fd3b93a0a4d26b3313fe507ab216f6d9e",
            "original_line": 7,
            "original_position": 5,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/highlighter.lua",
            "position": null,
            "pull_request_review_id": 2081125709,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1616177497/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-05-27T15:46:48Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1616177497",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1009873?v=4",
                "events_url": "https://api.github.com/users/wookayin/events{/privacy}",
                "followers_url": "https://api.github.com/users/wookayin/followers",
                "following_url": "https://api.github.com/users/wookayin/following{/other_user}",
                "gists_url": "https://api.github.com/users/wookayin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wookayin",
                "id": 1009873,
                "login": "wookayin",
                "node_id": "MDQ6VXNlcjEwMDk4NzM=",
                "organizations_url": "https://api.github.com/users/wookayin/orgs",
                "received_events_url": "https://api.github.com/users/wookayin/received_events",
                "repos_url": "https://api.github.com/users/wookayin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wookayin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wookayin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wookayin",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1632217305"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1632217305"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n    for info in M.highlighter._iter_highlight_info(hl_query, tree:root(), source, 0, -1) do\r\n```",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-06-09T09:17:55Z",
            "diff_hunk": "@@ -466,4 +466,26 @@ function M.foldexpr(lnum)\n   return M._fold.foldexpr(lnum)\n end\n \n+--- Get highlight information from parser.\n+---\n+---@param parser vim.treesitter.LanguageTree\n+---@return vim.treesitter.highlighter.Info[]\n+function M.get_highlight(parser)\n+  local highlights = {}\n+  parser:for_each_tree(function(tree, ltree)\n+    local source = ltree:source()\n+    local hl_query = M.query.get(ltree:lang(), 'highlights')\n+\n+    if not hl_query then\n+      return\n+    end\n+\n+    local highlighter = require('vim.treesitter.highlighter')\n+    for info in highlighter._iter_highlight_info(hl_query, tree:root(), source, 0, -1) do",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1632217305",
            "id": 1632217305,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5hSajZ",
            "original_commit_id": "44e04641bf7202df6fd83976a7feac3ceca34366",
            "original_line": 484,
            "original_position": 19,
            "original_start_line": 483,
            "path": "runtime/lua/vim/treesitter.lua",
            "position": null,
            "pull_request_review_id": 2106122367,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1632217305/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2024-06-09T09:17:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1632217305",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1633179939"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633179939"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n--- @param source integer|string Buffer id, or text\r\n```",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-06-10T12:39:25Z",
            "diff_hunk": "@@ -244,11 +261,11 @@ function TSHighlighter:get_query(lang)\n end\n \n --- @param match TSQueryMatch\n---- @param bufnr integer\n+--- @param source integer|string",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1633179939",
            "id": 1633179939,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5hWFkj",
            "original_commit_id": "415b1f14225f45e531d0834aac0aae37edf04f9a",
            "original_line": 264,
            "original_position": 64,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/highlighter.lua",
            "position": null,
            "pull_request_review_id": 2107678335,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633179939/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-06-10T12:40:43Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633179939",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1633186484"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633186484"
                }
            },
            "author_association": "MEMBER",
            "body": "are there relevant docs we can link to, for some of these fields? the current descriptions are almost useless\r\n\r\n```suggestion\r\n--- Highlight priority |treesitter-highlight-priority|\r\n```",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-06-10T12:44:22Z",
            "diff_hunk": "@@ -4,12 +4,30 @@ local Range = require('vim.treesitter._range')\n \n local ns = api.nvim_create_namespace('treesitter/highlighter')\n \n----@alias vim.treesitter.highlighter.Iter fun(end_line: integer|nil): integer, TSNode, vim.treesitter.query.TSMetadata, TSQueryMatch\n+--- @class vim.treesitter.highlighter.Info\n+--- @inlinedoc\n+--- The range of the highlight\n+--- @field range Range6\n+--- The group of the highlight\n+--- @field hl_group string\n+--- The priority of the highlight",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1633186484",
            "id": 1633186484,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5hWHK0",
            "original_commit_id": "702ad5ce888b28b1af15b6c915f2ce10b7c3d775",
            "original_line": 13,
            "original_position": 11,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/highlighter.lua",
            "position": null,
            "pull_request_review_id": 2107689400,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633186484/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-06-10T12:50:54Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633186484",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1633188328"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633188328"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n--- Highlight |group-name|\r\n```",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-06-10T12:45:39Z",
            "diff_hunk": "@@ -4,12 +4,30 @@ local Range = require('vim.treesitter._range')\n \n local ns = api.nvim_create_namespace('treesitter/highlighter')\n \n----@alias vim.treesitter.highlighter.Iter fun(end_line: integer|nil): integer, TSNode, vim.treesitter.query.TSMetadata, TSQueryMatch\n+--- @class vim.treesitter.highlighter.Info\n+--- @inlinedoc\n+--- The range of the highlight\n+--- @field range Range6\n+--- The group of the highlight",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1633188328",
            "id": 1633188328,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5hWHno",
            "original_commit_id": "702ad5ce888b28b1af15b6c915f2ce10b7c3d775",
            "original_line": 11,
            "original_position": 9,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/highlighter.lua",
            "position": null,
            "pull_request_review_id": 2107689400,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633188328/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-06-10T12:50:54Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633188328",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1633192661"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633192661"
                }
            },
            "author_association": "MEMBER",
            "body": "is this referring to 'nospell' option or something else (extmark-specific, or syntax specific...?)",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-06-10T12:48:45Z",
            "diff_hunk": "@@ -4,12 +4,30 @@ local Range = require('vim.treesitter._range')\n \n local ns = api.nvim_create_namespace('treesitter/highlighter')\n \n----@alias vim.treesitter.highlighter.Iter fun(end_line: integer|nil): integer, TSNode, vim.treesitter.query.TSMetadata, TSQueryMatch\n+--- @class vim.treesitter.highlighter.Info\n+--- @inlinedoc\n+--- The range of the highlight\n+--- @field range Range6\n+--- The group of the highlight\n+--- @field hl_group string\n+--- The priority of the highlight\n+--- @field priority integer\n+--- The conceal of the highlight, nil for no conceal\n+--- @field conceal string?\n+--- Whether the highlight is spell or not\n+---   - If `nil` then the highlight doesn't have a spell set\n+---   - If `true` then the highlight is spell\n+---   - If `false` then the highlight is nospell",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1633192661",
            "id": 1633192661,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5hWIrV",
            "original_commit_id": "702ad5ce888b28b1af15b6c915f2ce10b7c3d775",
            "original_line": 20,
            "original_position": 18,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/highlighter.lua",
            "position": null,
            "pull_request_review_id": 2107689400,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633192661/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-06-10T12:50:54Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633192661",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1633194389"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633194389"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n--- Extmark URL, see \"url\" option at |nvim_buf_set_extmark()|\r\n```",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-06-10T12:50:01Z",
            "diff_hunk": "@@ -4,12 +4,30 @@ local Range = require('vim.treesitter._range')\n \n local ns = api.nvim_create_namespace('treesitter/highlighter')\n \n----@alias vim.treesitter.highlighter.Iter fun(end_line: integer|nil): integer, TSNode, vim.treesitter.query.TSMetadata, TSQueryMatch\n+--- @class vim.treesitter.highlighter.Info\n+--- @inlinedoc\n+--- The range of the highlight\n+--- @field range Range6\n+--- The group of the highlight\n+--- @field hl_group string\n+--- The priority of the highlight\n+--- @field priority integer\n+--- The conceal of the highlight, nil for no conceal\n+--- @field conceal string?\n+--- Whether the highlight is spell or not\n+---   - If `nil` then the highlight doesn't have a spell set\n+---   - If `true` then the highlight is spell\n+---   - If `false` then the highlight is nospell\n+--- @field spell boolean?\n+--- The url of the highlight, nil for no url",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1633194389",
            "id": 1633194389,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5hWJGV",
            "original_commit_id": "702ad5ce888b28b1af15b6c915f2ce10b7c3d775",
            "original_line": 22,
            "original_position": 20,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/highlighter.lua",
            "position": null,
            "pull_request_review_id": 2107689400,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633194389/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-06-10T12:50:54Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633194389",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1633212770"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633212770"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "I updated the doc to talk about how it signals that `@spell` or `@nospell` is set (depending on if it's true or false or nil) and linked to documentation that talks about these two capture groups.\r\n\r\nMaybe it should be separated into two fields with one of them signaling that `@spell` is set and the other one signaling that `@nospell` is set instead?",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-06-10T13:02:04Z",
            "diff_hunk": "@@ -4,12 +4,30 @@ local Range = require('vim.treesitter._range')\n \n local ns = api.nvim_create_namespace('treesitter/highlighter')\n \n----@alias vim.treesitter.highlighter.Iter fun(end_line: integer|nil): integer, TSNode, vim.treesitter.query.TSMetadata, TSQueryMatch\n+--- @class vim.treesitter.highlighter.Info\n+--- @inlinedoc\n+--- The range of the highlight\n+--- @field range Range6\n+--- The group of the highlight\n+--- @field hl_group string\n+--- The priority of the highlight\n+--- @field priority integer\n+--- The conceal of the highlight, nil for no conceal\n+--- @field conceal string?\n+--- Whether the highlight is spell or not\n+---   - If `nil` then the highlight doesn't have a spell set\n+---   - If `true` then the highlight is spell\n+---   - If `false` then the highlight is nospell",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1633212770",
            "id": 1633212770,
            "in_reply_to_id": 1633192661,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5hWNli",
            "original_commit_id": "702ad5ce888b28b1af15b6c915f2ce10b7c3d775",
            "original_line": 20,
            "original_position": 18,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/highlighter.lua",
            "position": null,
            "pull_request_review_id": 2107736189,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633212770/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-06-10T13:02:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633212770",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/107814000?v=4",
                "events_url": "https://api.github.com/users/altermo/events{/privacy}",
                "followers_url": "https://api.github.com/users/altermo/followers",
                "following_url": "https://api.github.com/users/altermo/following{/other_user}",
                "gists_url": "https://api.github.com/users/altermo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/altermo",
                "id": 107814000,
                "login": "altermo",
                "node_id": "U_kgDOBm0ccA",
                "organizations_url": "https://api.github.com/users/altermo/orgs",
                "received_events_url": "https://api.github.com/users/altermo/received_events",
                "repos_url": "https://api.github.com/users/altermo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/altermo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/altermo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/altermo",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1633217806"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633217806"
                }
            },
            "author_association": "MEMBER",
            "body": "Note that `@spell` (and `@conceal`) is not technically a highlight. I would leave it out for now.",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-06-10T13:05:36Z",
            "diff_hunk": "@@ -4,12 +4,30 @@ local Range = require('vim.treesitter._range')\n \n local ns = api.nvim_create_namespace('treesitter/highlighter')\n \n----@alias vim.treesitter.highlighter.Iter fun(end_line: integer|nil): integer, TSNode, vim.treesitter.query.TSMetadata, TSQueryMatch\n+--- @class vim.treesitter.highlighter.Info\n+--- @inlinedoc\n+--- The range of the highlight\n+--- @field range Range6\n+--- The group of the highlight\n+--- @field hl_group string\n+--- The priority of the highlight\n+--- @field priority integer\n+--- The conceal of the highlight, nil for no conceal\n+--- @field conceal string?\n+--- Whether the highlight is spell or not\n+---   - If `nil` then the highlight doesn't have a spell set\n+---   - If `true` then the highlight is spell\n+---   - If `false` then the highlight is nospell",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1633217806",
            "id": 1633217806,
            "in_reply_to_id": 1633192661,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5hWO0O",
            "original_commit_id": "702ad5ce888b28b1af15b6c915f2ce10b7c3d775",
            "original_line": 20,
            "original_position": 18,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/highlighter.lua",
            "position": null,
            "pull_request_review_id": 2107746203,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633217806/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-06-10T13:05:36Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633217806",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1633269908"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633269908"
                }
            },
            "author_association": "MEMBER",
            "body": "> Note that `@spell` (and `@conceal`) is not technically a highlight. I would leave it out for now.\r\n\r\nIs there some other way to get that info? Maybe we should rename the function if \"highlight\" is objectionable. What matters is that it gets useful info, the technical distinction seems minor?\r\n\r\nThough I was under the impression that \"highlights\" are the generic name for annotations of all kinds. We introduced \"decoration\" but I'm not sure that is really necessary.",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-06-10T13:38:36Z",
            "diff_hunk": "@@ -4,12 +4,30 @@ local Range = require('vim.treesitter._range')\n \n local ns = api.nvim_create_namespace('treesitter/highlighter')\n \n----@alias vim.treesitter.highlighter.Iter fun(end_line: integer|nil): integer, TSNode, vim.treesitter.query.TSMetadata, TSQueryMatch\n+--- @class vim.treesitter.highlighter.Info\n+--- @inlinedoc\n+--- The range of the highlight\n+--- @field range Range6\n+--- The group of the highlight\n+--- @field hl_group string\n+--- The priority of the highlight\n+--- @field priority integer\n+--- The conceal of the highlight, nil for no conceal\n+--- @field conceal string?\n+--- Whether the highlight is spell or not\n+---   - If `nil` then the highlight doesn't have a spell set\n+---   - If `true` then the highlight is spell\n+---   - If `false` then the highlight is nospell",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1633269908",
            "id": 1633269908,
            "in_reply_to_id": 1633192661,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5hWbiU",
            "original_commit_id": "702ad5ce888b28b1af15b6c915f2ce10b7c3d775",
            "original_line": 20,
            "original_position": 18,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/highlighter.lua",
            "position": null,
            "pull_request_review_id": 2107836327,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633269908/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-06-10T13:39:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633269908",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1633672211"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633672211"
                }
            },
            "author_association": "MEMBER",
            "body": "Well, the question then becomes (again) \"what is this function (meant to be) used for?\"",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-06-10T18:28:54Z",
            "diff_hunk": "@@ -4,12 +4,30 @@ local Range = require('vim.treesitter._range')\n \n local ns = api.nvim_create_namespace('treesitter/highlighter')\n \n----@alias vim.treesitter.highlighter.Iter fun(end_line: integer|nil): integer, TSNode, vim.treesitter.query.TSMetadata, TSQueryMatch\n+--- @class vim.treesitter.highlighter.Info\n+--- @inlinedoc\n+--- The range of the highlight\n+--- @field range Range6\n+--- The group of the highlight\n+--- @field hl_group string\n+--- The priority of the highlight\n+--- @field priority integer\n+--- The conceal of the highlight, nil for no conceal\n+--- @field conceal string?\n+--- Whether the highlight is spell or not\n+---   - If `nil` then the highlight doesn't have a spell set\n+---   - If `true` then the highlight is spell\n+---   - If `false` then the highlight is nospell",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1633672211",
            "id": 1633672211,
            "in_reply_to_id": 1633192661,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5hX9wT",
            "original_commit_id": "702ad5ce888b28b1af15b6c915f2ce10b7c3d775",
            "original_line": 20,
            "original_position": 18,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/highlighter.lua",
            "position": null,
            "pull_request_review_id": 2108498867,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633672211/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-06-10T18:28:54Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1633672211",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1635031898"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1635031898"
                }
            },
            "author_association": "MEMBER",
            "body": "Could we consider making this internal only for now in order to progress this easier? And by internal I just mean prefix with an `_` and not document. Plugins are free to use this in the short term to experiment with what works.",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-06-11T14:51:42Z",
            "diff_hunk": "@@ -4,12 +4,30 @@ local Range = require('vim.treesitter._range')\n \n local ns = api.nvim_create_namespace('treesitter/highlighter')\n \n----@alias vim.treesitter.highlighter.Iter fun(end_line: integer|nil): integer, TSNode, vim.treesitter.query.TSMetadata, TSQueryMatch\n+--- @class vim.treesitter.highlighter.Info\n+--- @inlinedoc\n+--- The range of the highlight\n+--- @field range Range6\n+--- The group of the highlight\n+--- @field hl_group string\n+--- The priority of the highlight\n+--- @field priority integer\n+--- The conceal of the highlight, nil for no conceal\n+--- @field conceal string?\n+--- Whether the highlight is spell or not\n+---   - If `nil` then the highlight doesn't have a spell set\n+---   - If `true` then the highlight is spell\n+---   - If `false` then the highlight is nospell",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1635031898",
            "id": 1635031898,
            "in_reply_to_id": 1633192661,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5hdJta",
            "original_commit_id": "702ad5ce888b28b1af15b6c915f2ce10b7c3d775",
            "original_line": 20,
            "original_position": 18,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/highlighter.lua",
            "position": null,
            "pull_request_review_id": 2110707132,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1635031898/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-06-11T14:52:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1635031898",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28412#discussion_r1758460617"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28412"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1758460617"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Sure",
            "commit_id": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
            "created_at": "2024-09-13T08:50:06Z",
            "diff_hunk": "@@ -4,12 +4,30 @@ local Range = require('vim.treesitter._range')\n \n local ns = api.nvim_create_namespace('treesitter/highlighter')\n \n----@alias vim.treesitter.highlighter.Iter fun(end_line: integer|nil): integer, TSNode, vim.treesitter.query.TSMetadata, TSQueryMatch\n+--- @class vim.treesitter.highlighter.Info\n+--- @inlinedoc\n+--- The range of the highlight\n+--- @field range Range6\n+--- The group of the highlight\n+--- @field hl_group string\n+--- The priority of the highlight\n+--- @field priority integer\n+--- The conceal of the highlight, nil for no conceal\n+--- @field conceal string?\n+--- Whether the highlight is spell or not\n+---   - If `nil` then the highlight doesn't have a spell set\n+---   - If `true` then the highlight is spell\n+---   - If `false` then the highlight is nospell",
            "html_url": "https://github.com/neovim/neovim/pull/28412#discussion_r1758460617",
            "id": 1758460617,
            "in_reply_to_id": 1633192661,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5oz_rJ",
            "original_commit_id": "702ad5ce888b28b1af15b6c915f2ce10b7c3d775",
            "original_line": 20,
            "original_position": 18,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/highlighter.lua",
            "position": null,
            "pull_request_review_id": 2302523937,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1758460617/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-09-13T08:50:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1758460617",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/107814000?v=4",
                "events_url": "https://api.github.com/users/altermo/events{/privacy}",
                "followers_url": "https://api.github.com/users/altermo/followers",
                "following_url": "https://api.github.com/users/altermo/following{/other_user}",
                "gists_url": "https://api.github.com/users/altermo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/altermo",
                "id": 107814000,
                "login": "altermo",
                "node_id": "U_kgDOBm0ccA",
                "organizations_url": "https://api.github.com/users/altermo/orgs",
                "received_events_url": "https://api.github.com/users/altermo/received_events",
                "repos_url": "https://api.github.com/users/altermo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/altermo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/altermo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/altermo",
                "user_view_type": "public"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "MEMBER",
            "body": "Thank you, but what's the point of this function? (Needs to be explained in the PR description and commit message.) We don't add API functions \"just because we can\".",
            "created_at": "2024-04-19T10:41:31Z",
            "html_url": "https://github.com/neovim/neovim/pull/28412#issuecomment-2066307772",
            "id": 2066307772,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28412",
            "node_id": "IC_kwDOAPphoM57KVq8",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2066307772/reactions"
            },
            "updated_at": "2024-04-19T10:41:31Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2066307772",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@chipsenkbeil is this what you were looking for in https://github.com/neovim/neovim/discussions/27940 ?",
            "created_at": "2024-04-19T11:45:49Z",
            "html_url": "https://github.com/neovim/neovim/pull/28412#issuecomment-2066402716",
            "id": 2066402716,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28412",
            "node_id": "IC_kwDOAPphoM57Ks2c",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2066402716/reactions"
            },
            "updated_at": "2024-04-19T11:45:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2066402716",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> @chipsenkbeil is this what you were looking for in https://github.com/neovim/neovim/discussions/27940 ?\n\nI believe I could implement what I need with this feature, yeah. ",
            "created_at": "2024-04-22T13:42:53Z",
            "html_url": "https://github.com/neovim/neovim/pull/28412#issuecomment-2069487651",
            "id": 2069487651,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28412",
            "node_id": "IC_kwDOAPphoM57WeAj",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2069487651/reactions"
            },
            "updated_at": "2024-04-22T13:42:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2069487651",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2481802?v=4",
                "events_url": "https://api.github.com/users/chipsenkbeil/events{/privacy}",
                "followers_url": "https://api.github.com/users/chipsenkbeil/followers",
                "following_url": "https://api.github.com/users/chipsenkbeil/following{/other_user}",
                "gists_url": "https://api.github.com/users/chipsenkbeil/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/chipsenkbeil",
                "id": 2481802,
                "login": "chipsenkbeil",
                "node_id": "MDQ6VXNlcjI0ODE4MDI=",
                "organizations_url": "https://api.github.com/users/chipsenkbeil/orgs",
                "received_events_url": "https://api.github.com/users/chipsenkbeil/received_events",
                "repos_url": "https://api.github.com/users/chipsenkbeil/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/chipsenkbeil/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/chipsenkbeil/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/chipsenkbeil",
                "user_view_type": "public"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/28412/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/28412/commits",
    "created_at": "2024-04-19T10:36:36Z",
    "diff_url": "https://github.com/neovim/neovim/pull/28412.diff",
    "draft": false,
    "head": {
        "label": "altermo:treesitter-get-highlight",
        "ref": "treesitter-get-highlight",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/altermo/neovim-fork/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/altermo/neovim-fork/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/altermo/neovim-fork/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/altermo/neovim-fork/branches{/branch}",
            "clone_url": "https://github.com/altermo/neovim-fork.git",
            "collaborators_url": "https://api.github.com/repos/altermo/neovim-fork/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/altermo/neovim-fork/comments{/number}",
            "commits_url": "https://api.github.com/repos/altermo/neovim-fork/commits{/sha}",
            "compare_url": "https://api.github.com/repos/altermo/neovim-fork/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/altermo/neovim-fork/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/altermo/neovim-fork/contributors",
            "created_at": "2023-09-13T06:55:17Z",
            "default_branch": "DONT-USE-THIS-AS-SOURCE-WHEN-CREATING-NEW-BRANCH",
            "deployments_url": "https://api.github.com/repos/altermo/neovim-fork/deployments",
            "description": null,
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/altermo/neovim-fork/downloads",
            "events_url": "https://api.github.com/repos/altermo/neovim-fork/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/altermo/neovim-fork/forks",
            "full_name": "altermo/neovim-fork",
            "git_commits_url": "https://api.github.com/repos/altermo/neovim-fork/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/altermo/neovim-fork/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/altermo/neovim-fork/git/tags{/sha}",
            "git_url": "git://github.com/altermo/neovim-fork.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/altermo/neovim-fork/hooks",
            "html_url": "https://github.com/altermo/neovim-fork",
            "id": 690927347,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/altermo/neovim-fork/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/altermo/neovim-fork/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/altermo/neovim-fork/issues{/number}",
            "keys_url": "https://api.github.com/repos/altermo/neovim-fork/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/altermo/neovim-fork/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/altermo/neovim-fork/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/altermo/neovim-fork/merges",
            "milestones_url": "https://api.github.com/repos/altermo/neovim-fork/milestones{/number}",
            "mirror_url": null,
            "name": "neovim-fork",
            "node_id": "R_kgDOKS628w",
            "notifications_url": "https://api.github.com/repos/altermo/neovim-fork/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/107814000?v=4",
                "events_url": "https://api.github.com/users/altermo/events{/privacy}",
                "followers_url": "https://api.github.com/users/altermo/followers",
                "following_url": "https://api.github.com/users/altermo/following{/other_user}",
                "gists_url": "https://api.github.com/users/altermo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/altermo",
                "id": 107814000,
                "login": "altermo",
                "node_id": "U_kgDOBm0ccA",
                "organizations_url": "https://api.github.com/users/altermo/orgs",
                "received_events_url": "https://api.github.com/users/altermo/received_events",
                "repos_url": "https://api.github.com/users/altermo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/altermo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/altermo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/altermo",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/altermo/neovim-fork/pulls{/number}",
            "pushed_at": "2025-03-10T12:50:28Z",
            "releases_url": "https://api.github.com/repos/altermo/neovim-fork/releases{/id}",
            "size": 303676,
            "ssh_url": "git@github.com:altermo/neovim-fork.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/altermo/neovim-fork/stargazers",
            "statuses_url": "https://api.github.com/repos/altermo/neovim-fork/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/altermo/neovim-fork/subscribers",
            "subscription_url": "https://api.github.com/repos/altermo/neovim-fork/subscription",
            "svn_url": "https://github.com/altermo/neovim-fork",
            "tags_url": "https://api.github.com/repos/altermo/neovim-fork/tags",
            "teams_url": "https://api.github.com/repos/altermo/neovim-fork/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/altermo/neovim-fork/git/trees{/sha}",
            "updated_at": "2024-08-28T08:54:17Z",
            "url": "https://api.github.com/repos/altermo/neovim-fork",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "b67ab0a6b5d74b833e4276177c62397dda0ebeff",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/107814000?v=4",
            "events_url": "https://api.github.com/users/altermo/events{/privacy}",
            "followers_url": "https://api.github.com/users/altermo/followers",
            "following_url": "https://api.github.com/users/altermo/following{/other_user}",
            "gists_url": "https://api.github.com/users/altermo/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/altermo",
            "id": 107814000,
            "login": "altermo",
            "node_id": "U_kgDOBm0ccA",
            "organizations_url": "https://api.github.com/users/altermo/orgs",
            "received_events_url": "https://api.github.com/users/altermo/received_events",
            "repos_url": "https://api.github.com/users/altermo/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/altermo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/altermo/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/altermo",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/28412",
    "id": 1831307628,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28412",
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 1799626557,
            "name": "treesitter",
            "node_id": "MDU6TGFiZWwxNzk5NjI2NTU3",
            "url": "https://api.github.com/repos/neovim/neovim/labels/treesitter"
        }
    ],
    "locked": false,
    "merge_commit_sha": null,
    "merged_at": null,
    "milestone": {
        "closed_at": null,
        "closed_issues": 1,
        "created_at": "2024-05-16T14:11:54Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/43",
        "id": 11063573,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/43/labels",
        "node_id": "MI_kwDOAPphoM4AqNEV",
        "number": 43,
        "open_issues": 66,
        "state": "open",
        "title": "0.12",
        "updated_at": "2025-03-17T12:23:57Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/43"
    },
    "node_id": "PR_kwDOAPphoM5tJ4ls",
    "number": 28412,
    "patch_url": "https://github.com/neovim/neovim/pull/28412.patch",
    "requested_reviewers": [
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
            "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
            "followers_url": "https://api.github.com/users/bfredl/followers",
            "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
            "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/bfredl",
            "id": 1363104,
            "login": "bfredl",
            "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
            "organizations_url": "https://api.github.com/users/bfredl/orgs",
            "received_events_url": "https://api.github.com/users/bfredl/received_events",
            "repos_url": "https://api.github.com/users/bfredl/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/bfredl",
            "user_view_type": "public"
        },
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
            "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
            "followers_url": "https://api.github.com/users/lewis6991/followers",
            "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
            "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/lewis6991",
            "id": 7904185,
            "login": "lewis6991",
            "node_id": "MDQ6VXNlcjc5MDQxODU=",
            "organizations_url": "https://api.github.com/users/lewis6991/orgs",
            "received_events_url": "https://api.github.com/users/lewis6991/received_events",
            "repos_url": "https://api.github.com/users/lewis6991/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/lewis6991",
            "user_view_type": "public"
        }
    ],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/28412/comments",
    "state": "open",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/b67ab0a6b5d74b833e4276177c62397dda0ebeff",
    "title": "feat(treesitter): get highlight from parser",
    "updated_at": "2025-03-14T12:13:27Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/28412",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/107814000?v=4",
        "events_url": "https://api.github.com/users/altermo/events{/privacy}",
        "followers_url": "https://api.github.com/users/altermo/followers",
        "following_url": "https://api.github.com/users/altermo/following{/other_user}",
        "gists_url": "https://api.github.com/users/altermo/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/altermo",
        "id": 107814000,
        "login": "altermo",
        "node_id": "U_kgDOBm0ccA",
        "organizations_url": "https://api.github.com/users/altermo/orgs",
        "received_events_url": "https://api.github.com/users/altermo/received_events",
        "repos_url": "https://api.github.com/users/altermo/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/altermo/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/altermo/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/altermo",
        "user_view_type": "public"
    }
}