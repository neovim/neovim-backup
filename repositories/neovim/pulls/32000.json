{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/32000/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/32000/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/32000"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/32000"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/32000/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/32000"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/cda320fafd81090761bd81c5927a925dcd84441f"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 5827,
            "forks_count": 5827,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 1855,
            "open_issues_count": 1855,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2025-01-27T22:25:06Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 305512,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 85659,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2025-01-28T01:41:42Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 85659,
            "watchers_count": 85659,
            "web_commit_signoff_required": false
        },
        "sha": "718e16536052c0e75de61a32ef237a9e87fc03f2",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim",
            "user_view_type": "public"
        }
    },
    "body": "**Problem:** Currently, parsing is asynchronous, but it involves a (sometimes lengthy) step which finds all injection ranges for a tree by iterating over that language's injection queries. This causes edits in large files to be extremely slow, and also causes a long stutter during the initial parse of a large file.\r\n\r\n**Solution:** Break up the injection query iteration over multiple event loop iterations.\r\n\r\n---\r\n\r\nCloses #20283\r\n\r\nThis PR implements the first part of [Lewis' comment here](https://github.com/neovim/neovim/pull/31631#issuecomment-2586447791).\r\n\r\n### Before\r\n[before.webm](https://github.com/user-attachments/assets/5ab0380d-4b26-487d-bd4d-bfb06d43f4cf)\r\n\r\n### After\r\n[after.webm](https://github.com/user-attachments/assets/d14bffc3-7fb9-4270-9711-671e7ff52cf9)\r\n\r\nNote that highlight reapplication can lag behind insertions, I'm assuming this will be helped by the incremental injection parsing/validation",
    "closed_at": null,
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/32000#discussion_r1914489708"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/32000"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1914489708"
                }
            },
            "author_association": "MEMBER",
            "body": "Still need to pass back `query_time` so we can subtract that from the current \"budget\".",
            "commit_id": "cda320fafd81090761bd81c5927a925dcd84441f",
            "created_at": "2025-01-14T09:18:45Z",
            "diff_hunk": "@@ -393,11 +395,16 @@ function LanguageTree:_parse_regions(range, timeout)\n end\n \n --- @private\n---- @return number\n-function LanguageTree:_add_injections()\n+--- @param timeout integer?\n+--- @return number?\n+function LanguageTree:_add_injections(timeout)\n   local seen_langs = {} ---@type table<string,boolean>\n \n-  local query_time, injections_by_lang = tcall(self._get_injections, self)\n+  local query_time, injections_by_lang = tcall(self._get_injections, self, timeout)\n+  if not injections_by_lang then\n+    return nil",
            "html_url": "https://github.com/neovim/neovim/pull/32000#discussion_r1914489708",
            "id": 1914489708,
            "line": 409,
            "node_id": "PRRC_kwDOAPphoM5yHMts",
            "original_commit_id": "d5cb01276eec2e65e870cf99a4e39562aadb193d",
            "original_line": 409,
            "original_position": 30,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/languagetree.lua",
            "position": 34,
            "pull_request_review_id": 2549178587,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/32000",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1914489708/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-14T09:22:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1914489708",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/32000#discussion_r1914989288"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/32000"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1914989288"
                }
            },
            "author_association": "MEMBER",
            "body": "I could be misunderstanding, but I don't think we need to here. Returning `nil` signals that we used up the timeout in that function. Thus we return early in `_parse()`, no need to subtract from the current budget. If we don't return `nil`, that means that the function didn't exceed timeout and it returned the time it took. Now in this case, we can subtract the return value from the timeout budget and continue normally in `_parse()`",
            "commit_id": "cda320fafd81090761bd81c5927a925dcd84441f",
            "created_at": "2025-01-14T15:03:42Z",
            "diff_hunk": "@@ -393,11 +395,16 @@ function LanguageTree:_parse_regions(range, timeout)\n end\n \n --- @private\n---- @return number\n-function LanguageTree:_add_injections()\n+--- @param timeout integer?\n+--- @return number?\n+function LanguageTree:_add_injections(timeout)\n   local seen_langs = {} ---@type table<string,boolean>\n \n-  local query_time, injections_by_lang = tcall(self._get_injections, self)\n+  local query_time, injections_by_lang = tcall(self._get_injections, self, timeout)\n+  if not injections_by_lang then\n+    return nil",
            "html_url": "https://github.com/neovim/neovim/pull/32000#discussion_r1914989288",
            "id": 1914989288,
            "in_reply_to_id": 1914489708,
            "line": 409,
            "node_id": "PRRC_kwDOAPphoM5yJGro",
            "original_commit_id": "d5cb01276eec2e65e870cf99a4e39562aadb193d",
            "original_line": 409,
            "original_position": 30,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/languagetree.lua",
            "position": 34,
            "pull_request_review_id": 2549999677,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/32000",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1914989288/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-14T15:03:42Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1914989288",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/55766287?v=4",
                "events_url": "https://api.github.com/users/ribru17/events{/privacy}",
                "followers_url": "https://api.github.com/users/ribru17/followers",
                "following_url": "https://api.github.com/users/ribru17/following{/other_user}",
                "gists_url": "https://api.github.com/users/ribru17/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ribru17",
                "id": 55766287,
                "login": "ribru17",
                "node_id": "MDQ6VXNlcjU1NzY2Mjg3",
                "organizations_url": "https://api.github.com/users/ribru17/orgs",
                "received_events_url": "https://api.github.com/users/ribru17/received_events",
                "repos_url": "https://api.github.com/users/ribru17/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ribru17/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ribru17/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ribru17",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/32000#discussion_r1914997286"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/32000"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1914997286"
                }
            },
            "author_association": "MEMBER",
            "body": "Hmm ok.",
            "commit_id": "cda320fafd81090761bd81c5927a925dcd84441f",
            "created_at": "2025-01-14T15:07:24Z",
            "diff_hunk": "@@ -393,11 +395,16 @@ function LanguageTree:_parse_regions(range, timeout)\n end\n \n --- @private\n---- @return number\n-function LanguageTree:_add_injections()\n+--- @param timeout integer?\n+--- @return number?\n+function LanguageTree:_add_injections(timeout)\n   local seen_langs = {} ---@type table<string,boolean>\n \n-  local query_time, injections_by_lang = tcall(self._get_injections, self)\n+  local query_time, injections_by_lang = tcall(self._get_injections, self, timeout)\n+  if not injections_by_lang then\n+    return nil",
            "html_url": "https://github.com/neovim/neovim/pull/32000#discussion_r1914997286",
            "id": 1914997286,
            "in_reply_to_id": 1914489708,
            "line": 409,
            "node_id": "PRRC_kwDOAPphoM5yJIom",
            "original_commit_id": "d5cb01276eec2e65e870cf99a4e39562aadb193d",
            "original_line": 409,
            "original_position": 30,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/languagetree.lua",
            "position": 34,
            "pull_request_review_id": 2550012664,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/32000",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1914997286/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-14T15:07:25Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1914997286",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/32000#discussion_r1917490478"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/32000"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1917490478"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n--- @return integer?\r\n```",
            "commit_id": "cda320fafd81090761bd81c5927a925dcd84441f",
            "created_at": "2025-01-16T00:02:20Z",
            "diff_hunk": "@@ -393,11 +399,16 @@ function LanguageTree:_parse_regions(range, timeout)\n end\n \n --- @private\n---- @return number\n-function LanguageTree:_add_injections()\n+--- @param timeout integer?\n+--- @return number?",
            "html_url": "https://github.com/neovim/neovim/pull/32000#discussion_r1917490478",
            "id": 1917490478,
            "line": 403,
            "node_id": "PRRC_kwDOAPphoM5ySpUu",
            "original_commit_id": "9be69b8afc61b6aa344ee793e30fd7ef398074cc",
            "original_line": 403,
            "original_position": 27,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/languagetree.lua",
            "position": 27,
            "pull_request_review_id": 2554355230,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/32000",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1917490478/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-16T00:05:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1917490478",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/32000#discussion_r1917491348"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/32000"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1917491348"
                }
            },
            "author_association": "MEMBER",
            "body": "A comment explaining the magic number would be appreciated.",
            "commit_id": "cda320fafd81090761bd81c5927a925dcd84441f",
            "created_at": "2025-01-16T00:03:48Z",
            "diff_hunk": "@@ -945,28 +962,35 @@ end\n --- TODO: Allow for an offset predicate to tailor the injection range\n ---       instead of using the entire nodes range.\n --- @private\n---- @return table<string, Range6[][]>\n-function LanguageTree:_get_injections()\n+--- @param timeout integer?\n+--- @return table<string, Range6[][]>?\n+function LanguageTree:_get_injections(timeout)\n   if not self._injection_query then\n     return {}\n   end\n \n-  ---@type table<integer,vim.treesitter.languagetree.Injection>\n-  local injections = {}\n+  local start = vim.uv.hrtime()\n \n   for index, tree in pairs(self._trees) do\n     local root_node = tree:root()\n     local start_line, _, end_line, _ = root_node:range()\n \n-    for pattern, match, metadata in\n-      self._injection_query:iter_matches(root_node, self._source, start_line, end_line + 1)\n-    do\n+    if not self._injection_query_iters[index] then\n+      self._injection_query_iters[index] =\n+        self._injection_query:iter_matches(root_node, self._source, start_line, end_line + 1)\n+    end\n+\n+    for pattern, match, metadata in self._injection_query_iters[index] do\n       local lang, combined, ranges = self:_get_injection(match, metadata)\n       if lang then\n-        add_injection(injections, index, pattern, lang, combined, ranges)\n+        add_injection(self._unprocessed_injections, index, pattern, lang, combined, ranges)\n       else\n         self:_log('match from injection query failed for pattern', pattern)\n       end\n+\n+      if timeout and (vim.uv.hrtime() - start) / 1000000 > timeout then",
            "html_url": "https://github.com/neovim/neovim/pull/32000#discussion_r1917491348",
            "id": 1917491348,
            "line": 992,
            "node_id": "PRRC_kwDOAPphoM5ySpiU",
            "original_commit_id": "9be69b8afc61b6aa344ee793e30fd7ef398074cc",
            "original_line": 992,
            "original_position": 93,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/languagetree.lua",
            "position": 94,
            "pull_request_review_id": 2554355230,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/32000",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1917491348/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-16T00:05:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1917491348",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/32000#discussion_r1917492191"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/32000"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1917492191"
                }
            },
            "author_association": "MEMBER",
            "body": "Instead of creating new tables, I would just use `:clear()`.",
            "commit_id": "cda320fafd81090761bd81c5927a925dcd84441f",
            "created_at": "2025-01-16T00:05:15Z",
            "diff_hunk": "@@ -993,6 +1017,10 @@ function LanguageTree:_get_injections()\n     end\n   end\n \n+  -- Clear the function state now that the iterators have been consumed and injections have been\n+  -- retrieved.\n+  self._injection_query_iters = {}",
            "html_url": "https://github.com/neovim/neovim/pull/32000#discussion_r1917492191",
            "id": 1917492191,
            "line": 1023,
            "node_id": "PRRC_kwDOAPphoM5ySpvf",
            "original_commit_id": "9be69b8afc61b6aa344ee793e30fd7ef398074cc",
            "original_line": 1023,
            "original_position": 114,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/languagetree.lua",
            "position": 115,
            "pull_request_review_id": 2554355230,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/32000",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1917492191/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-16T00:05:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1917492191",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/32000#discussion_r1917499039"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/32000"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1917499039"
                }
            },
            "author_association": "MEMBER",
            "body": "Oh oops; I think it is correct that this one is `number`, and incorrect that the other annotations are `integer`. I will have to change the others to be `number` I think",
            "commit_id": "cda320fafd81090761bd81c5927a925dcd84441f",
            "created_at": "2025-01-16T00:17:05Z",
            "diff_hunk": "@@ -393,11 +399,16 @@ function LanguageTree:_parse_regions(range, timeout)\n end\n \n --- @private\n---- @return number\n-function LanguageTree:_add_injections()\n+--- @param timeout integer?\n+--- @return number?",
            "html_url": "https://github.com/neovim/neovim/pull/32000#discussion_r1917499039",
            "id": 1917499039,
            "in_reply_to_id": 1917490478,
            "line": 403,
            "node_id": "PRRC_kwDOAPphoM5ySraf",
            "original_commit_id": "9be69b8afc61b6aa344ee793e30fd7ef398074cc",
            "original_line": 403,
            "original_position": 27,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/languagetree.lua",
            "position": 27,
            "pull_request_review_id": 2554379706,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/32000",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1917499039/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-16T00:17:05Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1917499039",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/55766287?v=4",
                "events_url": "https://api.github.com/users/ribru17/events{/privacy}",
                "followers_url": "https://api.github.com/users/ribru17/followers",
                "following_url": "https://api.github.com/users/ribru17/following{/other_user}",
                "gists_url": "https://api.github.com/users/ribru17/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ribru17",
                "id": 55766287,
                "login": "ribru17",
                "node_id": "MDQ6VXNlcjU1NzY2Mjg3",
                "organizations_url": "https://api.github.com/users/ribru17/orgs",
                "received_events_url": "https://api.github.com/users/ribru17/received_events",
                "repos_url": "https://api.github.com/users/ribru17/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ribru17/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ribru17/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ribru17",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/32000#discussion_r1917500657"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/32000"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1917500657"
                }
            },
            "author_association": "MEMBER",
            "body": "As in, `self._injection_query_iters:clear()`? No such method exists for these tables and an error is thrown in this case. Let me know if I am misunderstanding",
            "commit_id": "cda320fafd81090761bd81c5927a925dcd84441f",
            "created_at": "2025-01-16T00:19:44Z",
            "diff_hunk": "@@ -993,6 +1017,10 @@ function LanguageTree:_get_injections()\n     end\n   end\n \n+  -- Clear the function state now that the iterators have been consumed and injections have been\n+  -- retrieved.\n+  self._injection_query_iters = {}",
            "html_url": "https://github.com/neovim/neovim/pull/32000#discussion_r1917500657",
            "id": 1917500657,
            "in_reply_to_id": 1917492191,
            "line": 1023,
            "node_id": "PRRC_kwDOAPphoM5ySrzx",
            "original_commit_id": "9be69b8afc61b6aa344ee793e30fd7ef398074cc",
            "original_line": 1023,
            "original_position": 114,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/languagetree.lua",
            "position": 115,
            "pull_request_review_id": 2554383968,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/32000",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1917500657/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-16T00:19:44Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1917500657",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/55766287?v=4",
                "events_url": "https://api.github.com/users/ribru17/events{/privacy}",
                "followers_url": "https://api.github.com/users/ribru17/followers",
                "following_url": "https://api.github.com/users/ribru17/following{/other_user}",
                "gists_url": "https://api.github.com/users/ribru17/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ribru17",
                "id": 55766287,
                "login": "ribru17",
                "node_id": "MDQ6VXNlcjU1NzY2Mjg3",
                "organizations_url": "https://api.github.com/users/ribru17/orgs",
                "received_events_url": "https://api.github.com/users/ribru17/received_events",
                "repos_url": "https://api.github.com/users/ribru17/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ribru17/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ribru17/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ribru17",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/32000#discussion_r1917510253"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/32000"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1917510253"
                }
            },
            "author_association": "MEMBER",
            "body": "Oh I was convinced that tables had a `clear` method. Seems like I haven't been programming enough Lua lol.\r\n\r\nDismiss my comment.",
            "commit_id": "cda320fafd81090761bd81c5927a925dcd84441f",
            "created_at": "2025-01-16T00:35:49Z",
            "diff_hunk": "@@ -993,6 +1017,10 @@ function LanguageTree:_get_injections()\n     end\n   end\n \n+  -- Clear the function state now that the iterators have been consumed and injections have been\n+  -- retrieved.\n+  self._injection_query_iters = {}",
            "html_url": "https://github.com/neovim/neovim/pull/32000#discussion_r1917510253",
            "id": 1917510253,
            "in_reply_to_id": 1917492191,
            "line": 1023,
            "node_id": "PRRC_kwDOAPphoM5ySuJt",
            "original_commit_id": "9be69b8afc61b6aa344ee793e30fd7ef398074cc",
            "original_line": 1023,
            "original_position": 114,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/languagetree.lua",
            "position": 115,
            "pull_request_review_id": 2554411385,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/32000",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 1,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1917510253/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-16T00:35:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1917510253",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "MEMBER",
            "body": "Maybe we can edit #22426 to resolve the \"parsing blocking input\" task after this is merged?\r\n\r\nEdit: But don't merge yet, I think this PR has an issue with injections despite tests passing\r\nEdit2: crisis averted :)",
            "created_at": "2025-01-14T15:41:00Z",
            "html_url": "https://github.com/neovim/neovim/pull/32000#issuecomment-2590284278",
            "id": 2590284278,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/32000",
            "node_id": "IC_kwDOAPphoM6aZJn2",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2590284278/reactions"
            },
            "updated_at": "2025-01-14T16:18:44Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2590284278",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/55766287?v=4",
                "events_url": "https://api.github.com/users/ribru17/events{/privacy}",
                "followers_url": "https://api.github.com/users/ribru17/followers",
                "following_url": "https://api.github.com/users/ribru17/following{/other_user}",
                "gists_url": "https://api.github.com/users/ribru17/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ribru17",
                "id": 55766287,
                "login": "ribru17",
                "node_id": "MDQ6VXNlcjU1NzY2Mjg3",
                "organizations_url": "https://api.github.com/users/ribru17/orgs",
                "received_events_url": "https://api.github.com/users/ribru17/received_events",
                "repos_url": "https://api.github.com/users/ribru17/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ribru17/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ribru17/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ribru17",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "This should probably wait until #32082",
            "created_at": "2025-01-17T22:50:14Z",
            "html_url": "https://github.com/neovim/neovim/pull/32000#issuecomment-2599336303",
            "id": 2599336303,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/32000",
            "node_id": "IC_kwDOAPphoM6a7rlv",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2599336303/reactions"
            },
            "updated_at": "2025-01-17T22:50:14Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2599336303",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/55766287?v=4",
                "events_url": "https://api.github.com/users/ribru17/events{/privacy}",
                "followers_url": "https://api.github.com/users/ribru17/followers",
                "following_url": "https://api.github.com/users/ribru17/following{/other_user}",
                "gists_url": "https://api.github.com/users/ribru17/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ribru17",
                "id": 55766287,
                "login": "ribru17",
                "node_id": "MDQ6VXNlcjU1NzY2Mjg3",
                "organizations_url": "https://api.github.com/users/ribru17/orgs",
                "received_events_url": "https://api.github.com/users/ribru17/received_events",
                "repos_url": "https://api.github.com/users/ribru17/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ribru17/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ribru17/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ribru17",
                "user_view_type": "public"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/32000/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/32000/commits",
    "created_at": "2025-01-14T03:23:28Z",
    "diff_url": "https://github.com/neovim/neovim/pull/32000.diff",
    "draft": false,
    "head": {
        "label": "ribru17:async_inj_iters",
        "ref": "async_inj_iters",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/ribru17/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/ribru17/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/ribru17/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/ribru17/neovim/branches{/branch}",
            "clone_url": "https://github.com/ribru17/neovim.git",
            "collaborators_url": "https://api.github.com/repos/ribru17/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/ribru17/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/ribru17/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/ribru17/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/ribru17/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/ribru17/neovim/contributors",
            "created_at": "2023-12-31T05:02:30Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/ribru17/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/ribru17/neovim/downloads",
            "events_url": "https://api.github.com/repos/ribru17/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/ribru17/neovim/forks",
            "full_name": "ribru17/neovim",
            "git_commits_url": "https://api.github.com/repos/ribru17/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/ribru17/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/ribru17/neovim/git/tags{/sha}",
            "git_url": "git://github.com/ribru17/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/ribru17/neovim/hooks",
            "html_url": "https://github.com/ribru17/neovim",
            "id": 737455179,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/ribru17/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/ribru17/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/ribru17/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/ribru17/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/ribru17/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/ribru17/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/ribru17/neovim/merges",
            "milestones_url": "https://api.github.com/repos/ribru17/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "R_kgDOK_SsSw",
            "notifications_url": "https://api.github.com/repos/ribru17/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/55766287?v=4",
                "events_url": "https://api.github.com/users/ribru17/events{/privacy}",
                "followers_url": "https://api.github.com/users/ribru17/followers",
                "following_url": "https://api.github.com/users/ribru17/following{/other_user}",
                "gists_url": "https://api.github.com/users/ribru17/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ribru17",
                "id": 55766287,
                "login": "ribru17",
                "node_id": "MDQ6VXNlcjU1NzY2Mjg3",
                "organizations_url": "https://api.github.com/users/ribru17/orgs",
                "received_events_url": "https://api.github.com/users/ribru17/received_events",
                "repos_url": "https://api.github.com/users/ribru17/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ribru17/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ribru17/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ribru17",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/ribru17/neovim/pulls{/number}",
            "pushed_at": "2025-01-27T23:22:43Z",
            "releases_url": "https://api.github.com/repos/ribru17/neovim/releases{/id}",
            "size": 298032,
            "ssh_url": "git@github.com:ribru17/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/ribru17/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/ribru17/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/ribru17/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/ribru17/neovim/subscription",
            "svn_url": "https://github.com/ribru17/neovim",
            "tags_url": "https://api.github.com/repos/ribru17/neovim/tags",
            "teams_url": "https://api.github.com/repos/ribru17/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/ribru17/neovim/git/trees{/sha}",
            "updated_at": "2025-01-27T17:13:24Z",
            "url": "https://api.github.com/repos/ribru17/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "cda320fafd81090761bd81c5927a925dcd84441f",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/55766287?v=4",
            "events_url": "https://api.github.com/users/ribru17/events{/privacy}",
            "followers_url": "https://api.github.com/users/ribru17/followers",
            "following_url": "https://api.github.com/users/ribru17/following{/other_user}",
            "gists_url": "https://api.github.com/users/ribru17/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/ribru17",
            "id": 55766287,
            "login": "ribru17",
            "node_id": "MDQ6VXNlcjU1NzY2Mjg3",
            "organizations_url": "https://api.github.com/users/ribru17/orgs",
            "received_events_url": "https://api.github.com/users/ribru17/received_events",
            "repos_url": "https://api.github.com/users/ribru17/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/ribru17/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ribru17/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/ribru17",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/32000",
    "id": 2275845289,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/32000",
    "labels": [
        {
            "color": "FEF2C0",
            "default": false,
            "description": "performance, latency, cpu/memory usage",
            "id": 101930601,
            "name": "performance",
            "node_id": "MDU6TGFiZWwxMDE5MzA2MDE=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/performance"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 1799626557,
            "name": "treesitter",
            "node_id": "MDU6TGFiZWwxNzk5NjI2NTU3",
            "url": "https://api.github.com/repos/neovim/neovim/labels/treesitter"
        }
    ],
    "locked": false,
    "merge_commit_sha": "7bbf4c9690ede9e251c944f9b886bce3ac314949",
    "merged_at": null,
    "milestone": null,
    "node_id": "PR_kwDOAPphoM6HpqSp",
    "number": 32000,
    "patch_url": "https://github.com/neovim/neovim/pull/32000.patch",
    "requested_reviewers": [
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
            "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
            "followers_url": "https://api.github.com/users/bfredl/followers",
            "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
            "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/bfredl",
            "id": 1363104,
            "login": "bfredl",
            "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
            "organizations_url": "https://api.github.com/users/bfredl/orgs",
            "received_events_url": "https://api.github.com/users/bfredl/received_events",
            "repos_url": "https://api.github.com/users/bfredl/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/bfredl",
            "user_view_type": "public"
        },
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
            "events_url": "https://api.github.com/users/clason/events{/privacy}",
            "followers_url": "https://api.github.com/users/clason/followers",
            "following_url": "https://api.github.com/users/clason/following{/other_user}",
            "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/clason",
            "id": 2361214,
            "login": "clason",
            "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
            "organizations_url": "https://api.github.com/users/clason/orgs",
            "received_events_url": "https://api.github.com/users/clason/received_events",
            "repos_url": "https://api.github.com/users/clason/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/clason",
            "user_view_type": "public"
        },
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/1009873?v=4",
            "events_url": "https://api.github.com/users/wookayin/events{/privacy}",
            "followers_url": "https://api.github.com/users/wookayin/followers",
            "following_url": "https://api.github.com/users/wookayin/following{/other_user}",
            "gists_url": "https://api.github.com/users/wookayin/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/wookayin",
            "id": 1009873,
            "login": "wookayin",
            "node_id": "MDQ6VXNlcjEwMDk4NzM=",
            "organizations_url": "https://api.github.com/users/wookayin/orgs",
            "received_events_url": "https://api.github.com/users/wookayin/received_events",
            "repos_url": "https://api.github.com/users/wookayin/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/wookayin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wookayin/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/wookayin",
            "user_view_type": "public"
        },
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
            "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
            "followers_url": "https://api.github.com/users/lewis6991/followers",
            "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
            "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/lewis6991",
            "id": 7904185,
            "login": "lewis6991",
            "node_id": "MDQ6VXNlcjc5MDQxODU=",
            "organizations_url": "https://api.github.com/users/lewis6991/orgs",
            "received_events_url": "https://api.github.com/users/lewis6991/received_events",
            "repos_url": "https://api.github.com/users/lewis6991/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/lewis6991",
            "user_view_type": "public"
        }
    ],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/32000/comments",
    "state": "open",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/cda320fafd81090761bd81c5927a925dcd84441f",
    "title": "perf(treesitter): don't block when finding injection ranges",
    "updated_at": "2025-01-27T15:31:41Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/32000",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/55766287?v=4",
        "events_url": "https://api.github.com/users/ribru17/events{/privacy}",
        "followers_url": "https://api.github.com/users/ribru17/followers",
        "following_url": "https://api.github.com/users/ribru17/following{/other_user}",
        "gists_url": "https://api.github.com/users/ribru17/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/ribru17",
        "id": 55766287,
        "login": "ribru17",
        "node_id": "MDQ6VXNlcjU1NzY2Mjg3",
        "organizations_url": "https://api.github.com/users/ribru17/orgs",
        "received_events_url": "https://api.github.com/users/ribru17/received_events",
        "repos_url": "https://api.github.com/users/ribru17/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/ribru17/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ribru17/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/ribru17",
        "user_view_type": "public"
    }
}