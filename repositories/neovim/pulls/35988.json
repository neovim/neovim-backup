{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/35988/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/35988/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/35988"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/35988"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/35988/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/35988"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/2a7cb32959b4c616bd2c76ae1933f8e068e391ad"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 6460,
            "forks_count": 6460,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 2031,
            "open_issues_count": 2031,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2025-12-15T23:50:03Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 355921,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 94967,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2025-12-16T02:41:18Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 94967,
            "watchers_count": 94967,
            "web_commit_signoff_required": false
        },
        "sha": "28ccebd138ac1bccb13f7515bb647ed550fa94c5",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim",
            "user_view_type": "public"
        }
    },
    "body": "This commit changes `languagetree.lua` so that it creates a scratch buffer under the hood when dealing with string parsers. This will make it much easier to just use extmarks whenever we need to track injection trees in `languagetree.lua`. This also allows us to remove the `treesitter.c` code for parsing a string directly.\r\n\r\nNote that the string parser's scratch buffer has `set noeol nofixeol` so that the parsed source exactly matches the passed-in string.\r\n\r\n<!--\r\n  Thank you for contributing to Neovim!\r\n  If this is your first time, check out https://github.com/neovim/neovim/blob/master/CONTRIBUTING.md#pull-requests-prs\r\n  for our PR guidelines.\r\n-->\r\n",
    "closed_at": "2025-10-02T22:33:18Z",
    "comment_data": [],
    "comment_regular_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "Hi,\r\n\r\nIs string parser used internally in Neovim anywhere?\r\n\r\n~This change drastically impacts performance for plugins that rely on tree-sitter string parsing. We are using it in https://github.com/nvim-orgmode/orgmode to parse the files to build up an agenda, without the need to open up each of the files as a buffer. For me, it increased from less than 0.5 sec, to 4+ seconds, with just around 20 files. There are users that have hundreds of them.~\r\n\r\n~Is there a chance to have this working as before, but behind some configuration option, or option provided to the language tree? We don't really need any injections parsing, just parsing the top level tree.~\r\n\r\nI refactored a bit and performance is back to normal. The only downside is that now we get a bunch of unlisted buffers opened.",
            "created_at": "2025-10-03T06:25:40Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3364424138",
            "id": 3364424138,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7IiQnK",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3364424138/reactions"
            },
            "updated_at": "2025-10-03T10:16:23Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3364424138",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1782860?v=4",
                "events_url": "https://api.github.com/users/kristijanhusak/events{/privacy}",
                "followers_url": "https://api.github.com/users/kristijanhusak/followers",
                "following_url": "https://api.github.com/users/kristijanhusak/following{/other_user}",
                "gists_url": "https://api.github.com/users/kristijanhusak/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kristijanhusak",
                "id": 1782860,
                "login": "kristijanhusak",
                "node_id": "MDQ6VXNlcjE3ODI4NjA=",
                "organizations_url": "https://api.github.com/users/kristijanhusak/orgs",
                "received_events_url": "https://api.github.com/users/kristijanhusak/received_events",
                "repos_url": "https://api.github.com/users/kristijanhusak/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kristijanhusak/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kristijanhusak/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kristijanhusak",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> ow we get a bunch of unlisted buffers opened.\r\n\r\nOh we should fix that, but I thought this PR re-used one scratch buffer? ",
            "created_at": "2025-10-03T13:05:47Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3365619260",
            "id": 3365619260,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7Im0Y8",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3365619260/reactions"
            },
            "updated_at": "2025-10-03T13:05:47Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3365619260",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> Oh we should fix that, but I thought this PR re-used one scratch buffer?\r\n\r\nIt does, sorry for not being more specific. I'm just saying generally. Previously, when using string parser, there was no need to create an unlisted buffer to be able to parse the file. ",
            "created_at": "2025-10-03T13:12:26Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3365638769",
            "id": 3365638769,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7Im5Jx",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3365638769/reactions"
            },
            "updated_at": "2025-10-03T13:12:26Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3365638769",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1782860?v=4",
                "events_url": "https://api.github.com/users/kristijanhusak/events{/privacy}",
                "followers_url": "https://api.github.com/users/kristijanhusak/followers",
                "following_url": "https://api.github.com/users/kristijanhusak/following{/other_user}",
                "gists_url": "https://api.github.com/users/kristijanhusak/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kristijanhusak",
                "id": 1782860,
                "login": "kristijanhusak",
                "node_id": "MDQ6VXNlcjE3ODI4NjA=",
                "organizations_url": "https://api.github.com/users/kristijanhusak/orgs",
                "received_events_url": "https://api.github.com/users/kristijanhusak/received_events",
                "repos_url": "https://api.github.com/users/kristijanhusak/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kristijanhusak/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kristijanhusak/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kristijanhusak",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Buffers are data structures, no one should care when scratch buffers are created. We need to find a way for people to care less about them, maybe by using very big numbers for unlisted scratch buffers.",
            "created_at": "2025-10-03T13:20:21Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3365663286",
            "id": 3365663286,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7Im_I2",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3365663286/reactions"
            },
            "updated_at": "2025-10-03T13:20:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3365663286",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Or imaginary numbers ðŸ˜¬ \r\n\r\n`nvim_list_bufs2()` -- or a new Lua API if we don't want to waste the Nvim API space on it -- should just take a flag to allow filtering unlisted (or possibly other kinds of) buffers.",
            "created_at": "2025-10-03T13:26:15Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3365681564",
            "id": 3365681564,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7InDmc",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3365681564/reactions"
            },
            "updated_at": "2025-10-03T13:26:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3365681564",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> I refactored a bit and performance is back to normal. The only downside is that now we get a bunch of unlisted buffers opened.\n\nOut of interest what did you do to get performance back?",
            "created_at": "2025-10-03T14:09:46Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3365831281",
            "id": 3365831281,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7InoJx",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3365831281/reactions"
            },
            "updated_at": "2025-10-03T14:09:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3365831281",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> Out of interest what did you do to get performance back?\r\n\r\nPreviously, if there was no buffer for a filename, I always used the string parser, which basically created the scratch buffers all the time because they are unnamed. Now, I create an unlisted buffer manually with the correct name, and always use that as a source for tree-sitter. Basically stopped using string parser.",
            "created_at": "2025-10-03T14:20:28Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3365878041",
            "id": 3365878041,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7InzkZ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3365878041/reactions"
            },
            "updated_at": "2025-10-03T14:20:28Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3365878041",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1782860?v=4",
                "events_url": "https://api.github.com/users/kristijanhusak/events{/privacy}",
                "followers_url": "https://api.github.com/users/kristijanhusak/followers",
                "following_url": "https://api.github.com/users/kristijanhusak/following{/other_user}",
                "gists_url": "https://api.github.com/users/kristijanhusak/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kristijanhusak",
                "id": 1782860,
                "login": "kristijanhusak",
                "node_id": "MDQ6VXNlcjE3ODI4NjA=",
                "organizations_url": "https://api.github.com/users/kristijanhusak/orgs",
                "received_events_url": "https://api.github.com/users/kristijanhusak/received_events",
                "repos_url": "https://api.github.com/users/kristijanhusak/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kristijanhusak/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kristijanhusak/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kristijanhusak",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Hmm I would say that is more of a workaround than a real solution. Maybe we should revert this? It didn't really save that much code.",
            "created_at": "2025-10-03T14:59:25Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3366065984",
            "id": 3366065984,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7IohdA",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3366065984/reactions"
            },
            "updated_at": "2025-10-03T14:59:25Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3366065984",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I left a comment on https://github.com/nvim-orgmode/orgmode/pull/1041, but I think the main issue here is that downstream users relying on `type(parser:source()) ~= 'number'` as an equivalent to `parser:is_string_parser()` have lost that functionality, which i should've marked as a breaking change... i have to go to work but some initial thoughts (I have not tested this):\r\n\r\nSee https://github.com/nvim-orgmode/orgmode/pull/1041/files#diff-88a3681fabfeb9cbe5d58ab2f1297200010cee4832c08ca95bce382ea41e07ddL926: before this PR, `type(self.parser:source()) == 'number'` would've been a no-op, because in that block we are already guaranteed to be using a string parser. This was inconsequential before, but now this condition always returns `true` which needlessly recreates the string parser every time. let me know if i'm wrong @kristijanhusak ",
            "created_at": "2025-10-03T15:23:56Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3366173406",
            "id": 3366173406,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7Io7re",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3366173406/reactions"
            },
            "updated_at": "2025-10-03T15:23:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3366173406",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/55766287?v=4",
                "events_url": "https://api.github.com/users/ribru17/events{/privacy}",
                "followers_url": "https://api.github.com/users/ribru17/followers",
                "following_url": "https://api.github.com/users/ribru17/following{/other_user}",
                "gists_url": "https://api.github.com/users/ribru17/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ribru17",
                "id": 55766287,
                "login": "ribru17",
                "node_id": "MDQ6VXNlcjU1NzY2Mjg3",
                "organizations_url": "https://api.github.com/users/ribru17/orgs",
                "received_events_url": "https://api.github.com/users/ribru17/received_events",
                "repos_url": "https://api.github.com/users/ribru17/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ribru17/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ribru17/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ribru17",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@ribru17 you are correct, but that doesn't prevent the underlying issue in my case. Each call to `vim.treesitter.get_string_parser` creates a scratch buffer, even if the buffer might already exist for the same content. Of course, it cannot know that only from the content, so it's expected.\r\n\r\nEvery time the file is modified, I am doing `vim.treesitter.get_parser`, because calling `parse()` on the existing parser reference is not updating the tree. String parser was a fallback since it didn't do anything except returning a parsed tree.\r\n\r\nConsidering that I can end up with 2 buffers (or more if there's a bug) in memory with the same content, I just went with loading the buffer once and using it. As Justin said, it's probably not an issue even if it does load the new buffer every time, but there's no need for it.\r\n\r\n\r\n",
            "created_at": "2025-10-03T16:52:16Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3366439715",
            "id": 3366439715,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7Ip8sj",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3366439715/reactions"
            },
            "updated_at": "2025-10-03T16:52:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3366439715",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1782860?v=4",
                "events_url": "https://api.github.com/users/kristijanhusak/events{/privacy}",
                "followers_url": "https://api.github.com/users/kristijanhusak/followers",
                "following_url": "https://api.github.com/users/kristijanhusak/following{/other_user}",
                "gists_url": "https://api.github.com/users/kristijanhusak/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kristijanhusak",
                "id": 1782860,
                "login": "kristijanhusak",
                "node_id": "MDQ6VXNlcjE3ODI4NjA=",
                "organizations_url": "https://api.github.com/users/kristijanhusak/orgs",
                "received_events_url": "https://api.github.com/users/kristijanhusak/received_events",
                "repos_url": "https://api.github.com/users/kristijanhusak/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kristijanhusak/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kristijanhusak/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kristijanhusak",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> `nvim_list_bufs2()` -- or a new Lua API if we don't want to waste the Nvim API space on it\r\n\r\nReminder that current API functions will be extensible after https://github.com/neovim/neovim/issues/31903 is resolved, which we have a [clear path](https://github.com/neovim/neovim/pull/33392) to achieving. ",
            "created_at": "2025-10-03T18:46:21Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3366837997",
            "id": 3366837997,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7Ird7t",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3366837997/reactions"
            },
            "updated_at": "2025-10-03T18:46:47Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3366837997",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I solved my use case, but want to give a heads-up that this is affecting some of the different usages, for example: https://github.com/Saghen/blink.cmp/issues/2205\r\n\r\nI'm not sure how much complexity we are removing with this, but I somewhat agree with https://github.com/neovim/neovim/pull/35988#issuecomment-3366065984\r\n",
            "created_at": "2025-10-13T11:48:18Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3397186443",
            "id": 3397186443,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7KfPOL",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3397186443/reactions"
            },
            "updated_at": "2025-10-13T11:48:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3397186443",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1782860?v=4",
                "events_url": "https://api.github.com/users/kristijanhusak/events{/privacy}",
                "followers_url": "https://api.github.com/users/kristijanhusak/followers",
                "following_url": "https://api.github.com/users/kristijanhusak/following{/other_user}",
                "gists_url": "https://api.github.com/users/kristijanhusak/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kristijanhusak",
                "id": 1782860,
                "login": "kristijanhusak",
                "node_id": "MDQ6VXNlcjE3ODI4NjA=",
                "organizations_url": "https://api.github.com/users/kristijanhusak/orgs",
                "received_events_url": "https://api.github.com/users/kristijanhusak/received_events",
                "repos_url": "https://api.github.com/users/kristijanhusak/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kristijanhusak/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kristijanhusak/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kristijanhusak",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> I'm not sure how much complexity we are removing with this\r\n\r\nThe main point of this PR is not the savings here but that it opens the door for #36030 (which is a significant improvement).\r\n\r\nThe alternative would be to decouple string parsers completely from buffer parsers (potentially at the cost of reduced functionality or performance).\r\n\r\nE.g., would a simplified string parser that doesn't use buffers at the cost of not supporting injections work for your use case?",
            "created_at": "2025-10-13T11:53:32Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3397204593",
            "id": 3397204593,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7KfTpx",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3397204593/reactions"
            },
            "updated_at": "2025-10-13T11:53:32Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3397204593",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> E.g., would a simplified string parser that doesn't use buffers at the cost of not supporting injections work for your use case?\r\n\r\nWe could improve this a bit. We could support string parsers with injections but they must use buffers internally, and string parsers without injections can avoid using buffers. \r\n\r\nFrom what I know, that would solve most usecases. If you want injections then you need to pay for them.",
            "created_at": "2025-10-13T12:01:26Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3397233088",
            "id": 3397233088,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7KfanA",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3397233088/reactions"
            },
            "updated_at": "2025-10-13T12:01:26Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3397233088",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> E.g., would a simplified string parser that doesn't use buffers at the cost of not supporting injections work for your use case?\r\n\r\nJust to clarify, by \"not supporting injections\" you mean accessing the tree of the injected language?\r\nIf that's the case, then yes, that would work for me, and also for the blink.cmp issue I linked.\r\n\r\n> We could support string parsers with injections but they must use buffers internally, and string parsers without injections can avoid using buffers.\r\n\r\nThis sounds like a good middle ground. How would we determine if injection parsing is needed, via options?\r\n",
            "created_at": "2025-10-13T12:04:23Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3397243101",
            "id": 3397243101,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7KfdDd",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3397243101/reactions"
            },
            "updated_at": "2025-10-13T12:04:23Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3397243101",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1782860?v=4",
                "events_url": "https://api.github.com/users/kristijanhusak/events{/privacy}",
                "followers_url": "https://api.github.com/users/kristijanhusak/followers",
                "following_url": "https://api.github.com/users/kristijanhusak/following{/other_user}",
                "gists_url": "https://api.github.com/users/kristijanhusak/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kristijanhusak",
                "id": 1782860,
                "login": "kristijanhusak",
                "node_id": "MDQ6VXNlcjE3ODI4NjA=",
                "organizations_url": "https://api.github.com/users/kristijanhusak/orgs",
                "received_events_url": "https://api.github.com/users/kristijanhusak/received_events",
                "repos_url": "https://api.github.com/users/kristijanhusak/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kristijanhusak/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kristijanhusak/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kristijanhusak",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Just to clarify, by \"not supporting injections\" you mean accessing the tree of the injected language?\r\n\r\nNo, I mean \"no injections, period\" -- you get the specified root language and that's it.",
            "created_at": "2025-10-13T12:06:11Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3397248960",
            "id": 3397248960,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7KfefA",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3397248960/reactions"
            },
            "updated_at": "2025-10-13T12:06:11Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3397248960",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Not sure what to think about this change. A couple of my plugins were using string parsers and the result is that there's now (thousands) of unlisted buffers for that, which apparently don't get cleaned up automatically?\r\n\r\nI'm sure this must impact performance.\r\n\r\nIs that how it's intended to work?",
            "created_at": "2025-10-24T14:22:43Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3443437320",
            "id": 3443437320,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7NPq8I",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3443437320/reactions"
            },
            "updated_at": "2025-10-24T14:23:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3443437320",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/292349?v=4",
                "events_url": "https://api.github.com/users/folke/events{/privacy}",
                "followers_url": "https://api.github.com/users/folke/followers",
                "following_url": "https://api.github.com/users/folke/following{/other_user}",
                "gists_url": "https://api.github.com/users/folke/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/folke",
                "id": 292349,
                "login": "folke",
                "node_id": "MDQ6VXNlcjI5MjM0OQ==",
                "organizations_url": "https://api.github.com/users/folke/orgs",
                "received_events_url": "https://api.github.com/users/folke/received_events",
                "repos_url": "https://api.github.com/users/folke/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/folke/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/folke/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/folke",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I did the same as org-mode for snacks https://github.com/folke/snacks.nvim/commit/ad6c0a5e542b6b47b4ac5e2ebcbdd663b8a7e908\r\n\r\nJust stop using treesitter string parsers",
            "created_at": "2025-10-24T14:40:47Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3443522431",
            "id": 3443522431,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7NP_t_",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3443522431/reactions"
            },
            "updated_at": "2025-10-24T14:40:47Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3443522431",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/292349?v=4",
                "events_url": "https://api.github.com/users/folke/events{/privacy}",
                "followers_url": "https://api.github.com/users/folke/followers",
                "following_url": "https://api.github.com/users/folke/following{/other_user}",
                "gists_url": "https://api.github.com/users/folke/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/folke",
                "id": 292349,
                "login": "folke",
                "node_id": "MDQ6VXNlcjI5MjM0OQ==",
                "organizations_url": "https://api.github.com/users/folke/orgs",
                "received_events_url": "https://api.github.com/users/folke/received_events",
                "repos_url": "https://api.github.com/users/folke/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/folke/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/folke/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/folke",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Things can break (in many ways) on nightly, that's just par for the course. The question is how to move ahead from this so 0.12 will be better. \r\n\r\n@folke Would a string parser without _any_ injections work for snacks? Or do we need to introduce a more lightweight \"scratch\"-type buffer that users will never get to see? (We use scratch buffers in other contexts, too, after all, e.g., for getting filetype-specific options.)\r\n\r\n@kristijanhusak \r\n> How would we determine if injection parsing is needed, via options?\r\n\r\nYes (if we can shoehorn that into the `opts` struct that is meant to be passed to the language tree creator); otherwise by making it a separate function (it'll be a separate codepath, after all).\r\n\r\nA third alternative would be to fully deprecate the string parser and let plugins have full control over handling a scratch buffer for whatever one-off text needs to be parsed (e.g., reusing one global scratch buffer). I actually don't know how widely string parsers are used in the wild, so I don't know how disruptive that would be -- if widely enough, it could merit a convenience API for handling the necessary boilerplate, at which point we'd be back at `get_string_parser` and might as well keep it. ",
            "created_at": "2025-10-24T15:20:58Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3443698040",
            "id": 3443698040,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7NQql4",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3443698040/reactions"
            },
            "updated_at": "2025-10-24T15:30:14Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3443698040",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "There's also the \"dual\" PR https://github.com/neovim/neovim/pull/34008 -- that would be an alternative, more low-level approach for decoupling string and buffer parsers?",
            "created_at": "2025-10-24T15:31:59Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3443736068",
            "id": 3443736068,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7NQz4E",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3443736068/reactions"
            },
            "updated_at": "2025-10-24T15:32:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3443736068",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I think it's fine to create a scratch buffer automatically for this, but it should be documented. Might already be, I honestly didn't check.\r\n\r\nLooking at the code, it seems that the scratch buffer should be cleaned up at some point, but that didn't seem to happen in my case, resulting in hundreds of unlisted buffers.\r\n\r\nI just looked where I use `get_string_buffer` in all my plugins, and I literally **always** use it to get highlights (extmarks) from text that's not in a buffer.\r\n\r\nRemoving `get_string_buffer` and providing a way to get extmarks for a certain text/lang would be great.\r\n\r\nIf someone still needs a \"string\" parser, then it's very easy to do this manually using a scratch buffer.",
            "created_at": "2025-10-24T15:46:12Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3443809184",
            "id": 3443809184,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7NRFug",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3443809184/reactions"
            },
            "updated_at": "2025-10-24T15:46:12Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3443809184",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/292349?v=4",
                "events_url": "https://api.github.com/users/folke/events{/privacy}",
                "followers_url": "https://api.github.com/users/folke/followers",
                "following_url": "https://api.github.com/users/folke/following{/other_user}",
                "gists_url": "https://api.github.com/users/folke/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/folke",
                "id": 292349,
                "login": "folke",
                "node_id": "MDQ6VXNlcjI5MjM0OQ==",
                "organizations_url": "https://api.github.com/users/folke/orgs",
                "received_events_url": "https://api.github.com/users/folke/received_events",
                "repos_url": "https://api.github.com/users/folke/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/folke/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/folke/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/folke",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Might already be, I honestly didn't check.\r\n\r\nIt's not, so this is a good and actionable suggestion!\r\n\r\nApparently cleanup can also be improved -- can you figure out why `destroy()` may not be called in your use case? (This would also be valuable information to document.)\r\n\r\n> I just looked where I use get_string_buffer in all my plugins, and I literally always use it to get highlights (extmarks) from text that's not in a buffer.\r\n\r\nYou probably mean `get_string_parser`? I guess the main question is whether this is performance sensitive to require special treatment (since under the hood, treesitter parses _only_ strings, so this is a short-circuit function that was -- as far as I can tell, though I may very well be wrong -- exposed directly for no actual use case-driven reason).\r\n\r\nAn even higher-level \"one-pass string highlighter\" API is orthogonal to that, I would say (but also a reasonable suggestion -- maybe it would be good to open a new issue about that so this can be discussed with more engagement from other plugin authors?)",
            "created_at": "2025-10-24T15:53:05Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3443858350",
            "id": 3443858350,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7NRRuu",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3443858350/reactions"
            },
            "updated_at": "2025-10-24T15:54:43Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3443858350",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I didn't do a `destroy()` before, since that wasn't needed? I assume parsers were just gced at some point automatically?\r\n\r\nMight still be the case, but the scratch buffer will remain.\r\n\r\nMaybe add a `__gc` method to the languagetree object that does the extra cleanup.",
            "created_at": "2025-10-24T16:11:50Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3443926432",
            "id": 3443926432,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7NRiWg",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3443926432/reactions"
            },
            "updated_at": "2025-10-24T16:11:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3443926432",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/292349?v=4",
                "events_url": "https://api.github.com/users/folke/events{/privacy}",
                "followers_url": "https://api.github.com/users/folke/followers",
                "following_url": "https://api.github.com/users/folke/following{/other_user}",
                "gists_url": "https://api.github.com/users/folke/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/folke",
                "id": 292349,
                "login": "folke",
                "node_id": "MDQ6VXNlcjI5MjM0OQ==",
                "organizations_url": "https://api.github.com/users/folke/orgs",
                "received_events_url": "https://api.github.com/users/folke/received_events",
                "repos_url": "https://api.github.com/users/folke/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/folke/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/folke/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/folke",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Sorry, that was a bit terse. I was referring to the `LanguageTree:destroy()` method, which _does_ clean up the scratch buffer and should be called somewhere in the code path. So the question is why this did not happen for you -- not that you did anything wrong, just to find the situations where it doesn't work as expected, so it can be fixed (or extra steps documented, if necessary).\r\n\r\nFor example, maybe we should not try to be clever and keep the scratch buffers around but unconditionally wipe them as soon as parse is done.\r\n\r\n(This relates to your point about \"static highlighting\" being the only purpose; if we deprecate (unexpose/take private) the `get_string_parser()`, we can take full control of the buffer lifecycle within a single function -- after all, there is zero need for incremental parsing of a string!)",
            "created_at": "2025-10-24T16:23:06Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3443976307",
            "id": 3443976307,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7NRuhz",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3443976307/reactions"
            },
            "updated_at": "2025-10-24T16:24:01Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3443976307",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Despite handling the cleanup of the buffer and everything, I would still prefer to have a simplified (no injections) string parser. Since I switched to using buffers, things are working fine, but there are reports of longer load times when there is a lot of files to be loaded. For example: https://github.com/chipsenkbeil/org-roam.nvim/issues/111#issuecomment-3442710128",
            "created_at": "2025-10-24T16:38:05Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3444032091",
            "id": 3444032091,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7NR8Jb",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3444032091/reactions"
            },
            "updated_at": "2025-10-24T16:38:05Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3444032091",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1782860?v=4",
                "events_url": "https://api.github.com/users/kristijanhusak/events{/privacy}",
                "followers_url": "https://api.github.com/users/kristijanhusak/followers",
                "following_url": "https://api.github.com/users/kristijanhusak/following{/other_user}",
                "gists_url": "https://api.github.com/users/kristijanhusak/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kristijanhusak",
                "id": 1782860,
                "login": "kristijanhusak",
                "node_id": "MDQ6VXNlcjE3ODI4NjA=",
                "organizations_url": "https://api.github.com/users/kristijanhusak/orgs",
                "received_events_url": "https://api.github.com/users/kristijanhusak/received_events",
                "repos_url": "https://api.github.com/users/kristijanhusak/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kristijanhusak/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kristijanhusak/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kristijanhusak",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "One does not exclude the other; since _every_ parser is a string parser as far as treesitter is concerned, this would be a very thin API to add. The question is whether that is good enough for you, or whether you really want a string _highlighter_, which would be more (and duplicate) code on top.",
            "created_at": "2025-10-24T16:53:36Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3444073276",
            "id": 3444073276,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7NSGM8",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3444073276/reactions"
            },
            "updated_at": "2025-10-24T16:53:36Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3444073276",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I don't need a highlighter, I just need the LanguageTree, and ability to read it with the TS api (TSNode, iter_captures, etc.)",
            "created_at": "2025-10-24T16:59:02Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3444087185",
            "id": 3444087185,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7NSJmR",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3444087185/reactions"
            },
            "updated_at": "2025-10-24T16:59:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3444087185",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1782860?v=4",
                "events_url": "https://api.github.com/users/kristijanhusak/events{/privacy}",
                "followers_url": "https://api.github.com/users/kristijanhusak/followers",
                "following_url": "https://api.github.com/users/kristijanhusak/following{/other_user}",
                "gists_url": "https://api.github.com/users/kristijanhusak/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kristijanhusak",
                "id": 1782860,
                "login": "kristijanhusak",
                "node_id": "MDQ6VXNlcjE3ODI4NjA=",
                "organizations_url": "https://api.github.com/users/kristijanhusak/orgs",
                "received_events_url": "https://api.github.com/users/kristijanhusak/received_events",
                "repos_url": "https://api.github.com/users/kristijanhusak/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kristijanhusak/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kristijanhusak/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kristijanhusak",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Ok, that's a very different requirement then. Then we should probably take a step back and get a better view of the (general) requirements. Maybe someone can open a new issue about that?",
            "created_at": "2025-10-24T17:02:17Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3444097500",
            "id": 3444097500,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7NSMHc",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3444097500/reactions"
            },
            "updated_at": "2025-10-24T17:02:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3444097500",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "But in general, it sounds like we should try to further separate string and buffer parser code, with string parsers being fast-path, immutable, single-language trees and everything else requiring a full buffer (to be handled by the caller, possibly with a bit of \"scratch buffer\" convenience sugar on top).",
            "created_at": "2025-10-24T17:07:31Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3444112927",
            "id": 3444112927,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7NSP4f",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3444112927/reactions"
            },
            "updated_at": "2025-10-24T17:07:31Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3444112927",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "When I was referring to getting the highlights, I **also** don't need a full highlighter. would make little sense.\r\nI just used the string parser, iterate over all highlight captures and done.",
            "created_at": "2025-10-24T17:10:46Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3444128702",
            "id": 3444128702,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7NSTu-",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3444128702/reactions"
            },
            "updated_at": "2025-10-24T17:10:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3444128702",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/292349?v=4",
                "events_url": "https://api.github.com/users/folke/events{/privacy}",
                "followers_url": "https://api.github.com/users/folke/followers",
                "following_url": "https://api.github.com/users/folke/following{/other_user}",
                "gists_url": "https://api.github.com/users/folke/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/folke",
                "id": 292349,
                "login": "folke",
                "node_id": "MDQ6VXNlcjI5MjM0OQ==",
                "organizations_url": "https://api.github.com/users/folke/orgs",
                "received_events_url": "https://api.github.com/users/folke/received_events",
                "repos_url": "https://api.github.com/users/folke/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/folke/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/folke/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/folke",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Well, I was thinking more of a `vim.hl.string(str)` function that spits out a table of extmarks (i.e., the -- possibly filtered -- output of `:Inspect!`). That would need to call the highlighter (or, as you do, simply do it by hand -- whatever is easier).",
            "created_at": "2025-10-24T17:13:53Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3444142302",
            "id": 3444142302,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7NSXDe",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3444142302/reactions"
            },
            "updated_at": "2025-10-24T17:13:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3444142302",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Reverted in https://github.com/neovim/neovim/pull/36964",
            "created_at": "2025-12-14T22:59:44Z",
            "html_url": "https://github.com/neovim/neovim/pull/35988#issuecomment-3652351248",
            "id": 3652351248,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
            "node_id": "IC_kwDOAPphoM7ZsnUQ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3652351248/reactions"
            },
            "updated_at": "2025-12-14T22:59:44Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3652351248",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/35988/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/35988/commits",
    "created_at": "2025-10-02T05:13:40Z",
    "diff_url": "https://github.com/neovim/neovim/pull/35988.diff",
    "draft": false,
    "head": {
        "label": "ribru17:string_parser_scratch_buf",
        "ref": "string_parser_scratch_buf",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/ribru17/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/ribru17/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/ribru17/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/ribru17/neovim/branches{/branch}",
            "clone_url": "https://github.com/ribru17/neovim.git",
            "collaborators_url": "https://api.github.com/repos/ribru17/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/ribru17/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/ribru17/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/ribru17/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/ribru17/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/ribru17/neovim/contributors",
            "created_at": "2023-12-31T05:02:30Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/ribru17/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/ribru17/neovim/downloads",
            "events_url": "https://api.github.com/repos/ribru17/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/ribru17/neovim/forks",
            "full_name": "ribru17/neovim",
            "git_commits_url": "https://api.github.com/repos/ribru17/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/ribru17/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/ribru17/neovim/git/tags{/sha}",
            "git_url": "git://github.com/ribru17/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/ribru17/neovim/hooks",
            "html_url": "https://github.com/ribru17/neovim",
            "id": 737455179,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/ribru17/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/ribru17/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/ribru17/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/ribru17/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/ribru17/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/ribru17/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/ribru17/neovim/merges",
            "milestones_url": "https://api.github.com/repos/ribru17/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "R_kgDOK_SsSw",
            "notifications_url": "https://api.github.com/repos/ribru17/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/55766287?v=4",
                "events_url": "https://api.github.com/users/ribru17/events{/privacy}",
                "followers_url": "https://api.github.com/users/ribru17/followers",
                "following_url": "https://api.github.com/users/ribru17/following{/other_user}",
                "gists_url": "https://api.github.com/users/ribru17/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ribru17",
                "id": 55766287,
                "login": "ribru17",
                "node_id": "MDQ6VXNlcjU1NzY2Mjg3",
                "organizations_url": "https://api.github.com/users/ribru17/orgs",
                "received_events_url": "https://api.github.com/users/ribru17/received_events",
                "repos_url": "https://api.github.com/users/ribru17/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ribru17/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ribru17/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ribru17",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/ribru17/neovim/pulls{/number}",
            "pushed_at": "2025-12-14T22:32:58Z",
            "releases_url": "https://api.github.com/repos/ribru17/neovim/releases{/id}",
            "size": 346258,
            "ssh_url": "git@github.com:ribru17/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/ribru17/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/ribru17/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/ribru17/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/ribru17/neovim/subscription",
            "svn_url": "https://github.com/ribru17/neovim",
            "tags_url": "https://api.github.com/repos/ribru17/neovim/tags",
            "teams_url": "https://api.github.com/repos/ribru17/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/ribru17/neovim/git/trees{/sha}",
            "updated_at": "2025-12-14T22:32:52Z",
            "url": "https://api.github.com/repos/ribru17/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "2a7cb32959b4c616bd2c76ae1933f8e068e391ad",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/55766287?v=4",
            "events_url": "https://api.github.com/users/ribru17/events{/privacy}",
            "followers_url": "https://api.github.com/users/ribru17/followers",
            "following_url": "https://api.github.com/users/ribru17/following{/other_user}",
            "gists_url": "https://api.github.com/users/ribru17/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/ribru17",
            "id": 55766287,
            "login": "ribru17",
            "node_id": "MDQ6VXNlcjU1NzY2Mjg3",
            "organizations_url": "https://api.github.com/users/ribru17/orgs",
            "received_events_url": "https://api.github.com/users/ribru17/received_events",
            "repos_url": "https://api.github.com/users/ribru17/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/ribru17/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ribru17/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/ribru17",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/35988",
    "id": 2880469164,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/35988",
    "labels": [
        {
            "color": "C5DEF5",
            "default": false,
            "description": "changes that are not features or bugfixes",
            "id": 106949155,
            "name": "refactor",
            "node_id": "MDU6TGFiZWwxMDY5NDkxNTU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/refactor"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 1799626557,
            "name": "treesitter",
            "node_id": "MDU6TGFiZWwxNzk5NjI2NTU3",
            "url": "https://api.github.com/repos/neovim/neovim/labels/treesitter"
        }
    ],
    "locked": false,
    "merge_commit_sha": "ac15b384a6ff35967182c7ed2f342a92bbc3c0c1",
    "merged_at": "2025-10-02T22:33:18Z",
    "milestone": null,
    "node_id": "PR_kwDOAPphoM6rsHis",
    "number": 35988,
    "patch_url": "https://github.com/neovim/neovim/pull/35988.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/35988/comments",
    "state": "closed",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/2a7cb32959b4c616bd2c76ae1933f8e068e391ad",
    "title": "refactor(treesitter): use scratch buffer for string parser",
    "updated_at": "2025-12-14T22:59:44Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/35988",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/55766287?v=4",
        "events_url": "https://api.github.com/users/ribru17/events{/privacy}",
        "followers_url": "https://api.github.com/users/ribru17/followers",
        "following_url": "https://api.github.com/users/ribru17/following{/other_user}",
        "gists_url": "https://api.github.com/users/ribru17/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/ribru17",
        "id": 55766287,
        "login": "ribru17",
        "node_id": "MDQ6VXNlcjU1NzY2Mjg3",
        "organizations_url": "https://api.github.com/users/ribru17/orgs",
        "received_events_url": "https://api.github.com/users/ribru17/received_events",
        "repos_url": "https://api.github.com/users/ribru17/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/ribru17/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ribru17/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/ribru17",
        "user_view_type": "public"
    }
}