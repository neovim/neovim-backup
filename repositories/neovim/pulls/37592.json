{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/37592/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/37592/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/37592"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/37592"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/37592/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/37592"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/03d08ac4e5acaee4b335da1e9b1867b379c2a185"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 6574,
            "forks_count": 6574,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 2065,
            "open_issues_count": 2065,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2026-02-10T04:03:36Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 369214,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 96334,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2026-02-10T02:38:41Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 96334,
            "watchers_count": 96334,
            "web_commit_signoff_required": false
        },
        "sha": "9f77124b78ec12c4128cbdae68d7faea947cd1c8",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim",
            "user_view_type": "public"
        }
    },
    "body": "Close #37585.",
    "closed_at": null,
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37592#discussion_r2783571409"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37592"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2783571409"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "that means input { nil, nil } get { nil, nil } ?",
            "commit_id": "03d08ac4e5acaee4b335da1e9b1867b379c2a185",
            "created_at": "2026-02-09T16:47:59Z",
            "diff_hunk": "@@ -213,6 +213,55 @@ function ArrayIter:filter(f)\n   return self\n end\n \n+--- Removes duplicate values from an iterator pipeline.\n+---\n+--- Only the first occurrence of each value is kept.\n+---\n+--- Accepts an optional `key` argument, which if provided is called for each\n+--- value in the iterator to compute a hash key for uniqueness comparison. This is\n+--- useful for deduplicating table values or complex objects.\n+---\n+--- If a function-based iterator returns multiple arguments, uniqueness is\n+--- checked based on the first return value. To change this behavior, specify\n+--- `key`.\n+---\n+--- Examples:\n+---\n+--- ```lua\n+--- vim.iter({ 1, 2, 2, 3, 2 }):unique():totable()\n+--- -- { 1, 2, 3 }\n+---\n+--- vim.iter({ {id=1}, {id=2}, {id=1} })\n+---   :unique(function(x)\n+---     return x.id\n+---   end)\n+---   :totable()\n+--- -- { {id=1}, {id=2} }\n+--- ```\n+---\n+---@param key? fun(...):any Optional hash function to determine uniqueness of values.\n+---@return Iter\n+---@see |vim.list.unique()|\n+function Iter:unique(key)\n+  local seen = {} --- @type table<any,boolean>\n+\n+  key = key or function(a)\n+    return a\n+  end\n+\n+  return self:filter(function(...)\n+    local hash = key(...)\n+    if hash == nil then\n+      return true",
            "html_url": "https://github.com/neovim/neovim/pull/37592#discussion_r2783571409",
            "id": 2783571409,
            "line": 257,
            "node_id": "PRRC_kwDOAPphoM6l6e3R",
            "original_commit_id": "802fefa4d07590f71f77de2f3f710b6c7d96fb0f",
            "original_line": 257,
            "original_position": 43,
            "original_start_line": null,
            "path": "runtime/lua/vim/iter.lua",
            "position": 45,
            "pull_request_review_id": 3774299233,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37592",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2783571409/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-09T16:48:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2783571409",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7881849?v=4",
                "events_url": "https://api.github.com/users/xieyonn/events{/privacy}",
                "followers_url": "https://api.github.com/users/xieyonn/followers",
                "following_url": "https://api.github.com/users/xieyonn/following{/other_user}",
                "gists_url": "https://api.github.com/users/xieyonn/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/xieyonn",
                "id": 7881849,
                "login": "xieyonn",
                "node_id": "MDQ6VXNlcjc4ODE4NDk=",
                "organizations_url": "https://api.github.com/users/xieyonn/orgs",
                "received_events_url": "https://api.github.com/users/xieyonn/received_events",
                "repos_url": "https://api.github.com/users/xieyonn/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/xieyonn/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/xieyonn/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/xieyonn",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37592#discussion_r2783593431"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37592"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2783593431"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "In other words, if key(item) == nil, means the item is keeped, may need be clarified in doc?",
            "commit_id": "03d08ac4e5acaee4b335da1e9b1867b379c2a185",
            "created_at": "2026-02-09T16:55:23Z",
            "diff_hunk": "@@ -213,6 +213,55 @@ function ArrayIter:filter(f)\n   return self\n end\n \n+--- Removes duplicate values from an iterator pipeline.\n+---\n+--- Only the first occurrence of each value is kept.\n+---\n+--- Accepts an optional `key` argument, which if provided is called for each\n+--- value in the iterator to compute a hash key for uniqueness comparison. This is\n+--- useful for deduplicating table values or complex objects.\n+---\n+--- If a function-based iterator returns multiple arguments, uniqueness is\n+--- checked based on the first return value. To change this behavior, specify\n+--- `key`.\n+---\n+--- Examples:\n+---\n+--- ```lua\n+--- vim.iter({ 1, 2, 2, 3, 2 }):unique():totable()\n+--- -- { 1, 2, 3 }\n+---\n+--- vim.iter({ {id=1}, {id=2}, {id=1} })\n+---   :unique(function(x)\n+---     return x.id\n+---   end)\n+---   :totable()\n+--- -- { {id=1}, {id=2} }\n+--- ```\n+---\n+---@param key? fun(...):any Optional hash function to determine uniqueness of values.\n+---@return Iter\n+---@see |vim.list.unique()|\n+function Iter:unique(key)\n+  local seen = {} --- @type table<any,boolean>\n+\n+  key = key or function(a)\n+    return a\n+  end\n+\n+  return self:filter(function(...)\n+    local hash = key(...)\n+    if hash == nil then\n+      return true",
            "html_url": "https://github.com/neovim/neovim/pull/37592#discussion_r2783593431",
            "id": 2783593431,
            "in_reply_to_id": 2783571409,
            "line": 257,
            "node_id": "PRRC_kwDOAPphoM6l6kPX",
            "original_commit_id": "802fefa4d07590f71f77de2f3f710b6c7d96fb0f",
            "original_line": 257,
            "original_position": 43,
            "original_start_line": null,
            "path": "runtime/lua/vim/iter.lua",
            "position": 45,
            "pull_request_review_id": 3774323222,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37592",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2783593431/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-09T16:55:23Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2783593431",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7881849?v=4",
                "events_url": "https://api.github.com/users/xieyonn/events{/privacy}",
                "followers_url": "https://api.github.com/users/xieyonn/followers",
                "following_url": "https://api.github.com/users/xieyonn/following{/other_user}",
                "gists_url": "https://api.github.com/users/xieyonn/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/xieyonn",
                "id": 7881849,
                "login": "xieyonn",
                "node_id": "MDQ6VXNlcjc4ODE4NDk=",
                "organizations_url": "https://api.github.com/users/xieyonn/orgs",
                "received_events_url": "https://api.github.com/users/xieyonn/received_events",
                "repos_url": "https://api.github.com/users/xieyonn/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/xieyonn/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/xieyonn/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/xieyonn",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37592#discussion_r2783955077"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37592"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2783955077"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Values of `nil` are discarded in list-iterator pipelines (`:h vim.iter`), and in the case of a functional iterator, `nil` signifies the end of iteration. For example, `vim.iter({ nil, nil }):totable()` is `{}`, so it doesn't matter how `:unique()` handles `nil` values by default.\r\n\r\nThis `nil` check is for when a custom `key` function returns `nil`, as you say in your second comment. I based this behavior on `vim.list.unique()`, which will also not filter anything if `key` returns `nil`. For example, `vim.list.unique({ 1, 2, 3 }, function() return nil end)` is `{ 1, 2, 3 }`. In the same way, `vim.iter({ 1, 2, 3 }):unique(function() return nil end):totable()` returns `{ 1, 2, 3 }`.\r\n\r\nThis behavior is not documented for `vim.list.unique()`, so I did not document it for `Iter:unique()`. However, it may be worth documenting it for both.",
            "commit_id": "03d08ac4e5acaee4b335da1e9b1867b379c2a185",
            "created_at": "2026-02-09T18:21:11Z",
            "diff_hunk": "@@ -213,6 +213,55 @@ function ArrayIter:filter(f)\n   return self\n end\n \n+--- Removes duplicate values from an iterator pipeline.\n+---\n+--- Only the first occurrence of each value is kept.\n+---\n+--- Accepts an optional `key` argument, which if provided is called for each\n+--- value in the iterator to compute a hash key for uniqueness comparison. This is\n+--- useful for deduplicating table values or complex objects.\n+---\n+--- If a function-based iterator returns multiple arguments, uniqueness is\n+--- checked based on the first return value. To change this behavior, specify\n+--- `key`.\n+---\n+--- Examples:\n+---\n+--- ```lua\n+--- vim.iter({ 1, 2, 2, 3, 2 }):unique():totable()\n+--- -- { 1, 2, 3 }\n+---\n+--- vim.iter({ {id=1}, {id=2}, {id=1} })\n+---   :unique(function(x)\n+---     return x.id\n+---   end)\n+---   :totable()\n+--- -- { {id=1}, {id=2} }\n+--- ```\n+---\n+---@param key? fun(...):any Optional hash function to determine uniqueness of values.\n+---@return Iter\n+---@see |vim.list.unique()|\n+function Iter:unique(key)\n+  local seen = {} --- @type table<any,boolean>\n+\n+  key = key or function(a)\n+    return a\n+  end\n+\n+  return self:filter(function(...)\n+    local hash = key(...)\n+    if hash == nil then\n+      return true",
            "html_url": "https://github.com/neovim/neovim/pull/37592#discussion_r2783955077",
            "id": 2783955077,
            "in_reply_to_id": 2783571409,
            "line": 257,
            "node_id": "PRRC_kwDOAPphoM6l78iF",
            "original_commit_id": "802fefa4d07590f71f77de2f3f710b6c7d96fb0f",
            "original_line": 257,
            "original_position": 43,
            "original_start_line": null,
            "path": "runtime/lua/vim/iter.lua",
            "position": 45,
            "pull_request_review_id": 3774689488,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37592",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2783955077/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-09T18:22:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2783955077",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/51250849?v=4",
                "events_url": "https://api.github.com/users/superatomic/events{/privacy}",
                "followers_url": "https://api.github.com/users/superatomic/followers",
                "following_url": "https://api.github.com/users/superatomic/following{/other_user}",
                "gists_url": "https://api.github.com/users/superatomic/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/superatomic",
                "id": 51250849,
                "login": "superatomic",
                "node_id": "MDQ6VXNlcjUxMjUwODQ5",
                "organizations_url": "https://api.github.com/users/superatomic/orgs",
                "received_events_url": "https://api.github.com/users/superatomic/received_events",
                "repos_url": "https://api.github.com/users/superatomic/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/superatomic/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/superatomic/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/superatomic",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37592#discussion_r2784112790"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37592"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2784112790"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Sorry, my bad. I meant when key(item) -> nil, since a nil value in a list just means it doesnâ€™t exist.\r\n\r\nI suggest adding this clarification in both places, as library functions should not have implicit behavior\r\n",
            "commit_id": "03d08ac4e5acaee4b335da1e9b1867b379c2a185",
            "created_at": "2026-02-09T19:02:29Z",
            "diff_hunk": "@@ -213,6 +213,55 @@ function ArrayIter:filter(f)\n   return self\n end\n \n+--- Removes duplicate values from an iterator pipeline.\n+---\n+--- Only the first occurrence of each value is kept.\n+---\n+--- Accepts an optional `key` argument, which if provided is called for each\n+--- value in the iterator to compute a hash key for uniqueness comparison. This is\n+--- useful for deduplicating table values or complex objects.\n+---\n+--- If a function-based iterator returns multiple arguments, uniqueness is\n+--- checked based on the first return value. To change this behavior, specify\n+--- `key`.\n+---\n+--- Examples:\n+---\n+--- ```lua\n+--- vim.iter({ 1, 2, 2, 3, 2 }):unique():totable()\n+--- -- { 1, 2, 3 }\n+---\n+--- vim.iter({ {id=1}, {id=2}, {id=1} })\n+---   :unique(function(x)\n+---     return x.id\n+---   end)\n+---   :totable()\n+--- -- { {id=1}, {id=2} }\n+--- ```\n+---\n+---@param key? fun(...):any Optional hash function to determine uniqueness of values.\n+---@return Iter\n+---@see |vim.list.unique()|\n+function Iter:unique(key)\n+  local seen = {} --- @type table<any,boolean>\n+\n+  key = key or function(a)\n+    return a\n+  end\n+\n+  return self:filter(function(...)\n+    local hash = key(...)\n+    if hash == nil then\n+      return true",
            "html_url": "https://github.com/neovim/neovim/pull/37592#discussion_r2784112790",
            "id": 2784112790,
            "in_reply_to_id": 2783571409,
            "line": 257,
            "node_id": "PRRC_kwDOAPphoM6l8jCW",
            "original_commit_id": "802fefa4d07590f71f77de2f3f710b6c7d96fb0f",
            "original_line": 257,
            "original_position": 43,
            "original_start_line": null,
            "path": "runtime/lua/vim/iter.lua",
            "position": 45,
            "pull_request_review_id": 3774857015,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37592",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2784112790/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-09T19:02:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2784112790",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7881849?v=4",
                "events_url": "https://api.github.com/users/xieyonn/events{/privacy}",
                "followers_url": "https://api.github.com/users/xieyonn/followers",
                "following_url": "https://api.github.com/users/xieyonn/following{/other_user}",
                "gists_url": "https://api.github.com/users/xieyonn/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/xieyonn",
                "id": 7881849,
                "login": "xieyonn",
                "node_id": "MDQ6VXNlcjc4ODE4NDk=",
                "organizations_url": "https://api.github.com/users/xieyonn/orgs",
                "received_events_url": "https://api.github.com/users/xieyonn/received_events",
                "repos_url": "https://api.github.com/users/xieyonn/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/xieyonn/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/xieyonn/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/xieyonn",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37592#discussion_r2784114120"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37592"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2784114120"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Sounds good. I'll do that.",
            "commit_id": "03d08ac4e5acaee4b335da1e9b1867b379c2a185",
            "created_at": "2026-02-09T19:03:40Z",
            "diff_hunk": "@@ -213,6 +213,55 @@ function ArrayIter:filter(f)\n   return self\n end\n \n+--- Removes duplicate values from an iterator pipeline.\n+---\n+--- Only the first occurrence of each value is kept.\n+---\n+--- Accepts an optional `key` argument, which if provided is called for each\n+--- value in the iterator to compute a hash key for uniqueness comparison. This is\n+--- useful for deduplicating table values or complex objects.\n+---\n+--- If a function-based iterator returns multiple arguments, uniqueness is\n+--- checked based on the first return value. To change this behavior, specify\n+--- `key`.\n+---\n+--- Examples:\n+---\n+--- ```lua\n+--- vim.iter({ 1, 2, 2, 3, 2 }):unique():totable()\n+--- -- { 1, 2, 3 }\n+---\n+--- vim.iter({ {id=1}, {id=2}, {id=1} })\n+---   :unique(function(x)\n+---     return x.id\n+---   end)\n+---   :totable()\n+--- -- { {id=1}, {id=2} }\n+--- ```\n+---\n+---@param key? fun(...):any Optional hash function to determine uniqueness of values.\n+---@return Iter\n+---@see |vim.list.unique()|\n+function Iter:unique(key)\n+  local seen = {} --- @type table<any,boolean>\n+\n+  key = key or function(a)\n+    return a\n+  end\n+\n+  return self:filter(function(...)\n+    local hash = key(...)\n+    if hash == nil then\n+      return true",
            "html_url": "https://github.com/neovim/neovim/pull/37592#discussion_r2784114120",
            "id": 2784114120,
            "in_reply_to_id": 2783571409,
            "line": 257,
            "node_id": "PRRC_kwDOAPphoM6l8jXI",
            "original_commit_id": "802fefa4d07590f71f77de2f3f710b6c7d96fb0f",
            "original_line": 257,
            "original_position": 43,
            "original_start_line": null,
            "path": "runtime/lua/vim/iter.lua",
            "position": 45,
            "pull_request_review_id": 3774859109,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37592",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2784114120/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-09T19:03:41Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2784114120",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/51250849?v=4",
                "events_url": "https://api.github.com/users/superatomic/events{/privacy}",
                "followers_url": "https://api.github.com/users/superatomic/followers",
                "following_url": "https://api.github.com/users/superatomic/following{/other_user}",
                "gists_url": "https://api.github.com/users/superatomic/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/superatomic",
                "id": 51250849,
                "login": "superatomic",
                "node_id": "MDQ6VXNlcjUxMjUwODQ5",
                "organizations_url": "https://api.github.com/users/superatomic/orgs",
                "received_events_url": "https://api.github.com/users/superatomic/received_events",
                "repos_url": "https://api.github.com/users/superatomic/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/superatomic/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/superatomic/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/superatomic",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37592#discussion_r2784184315"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37592"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2784184315"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Documentation updated! I added this line to both `vim.list.unique()` and `Iter:unique()`:\r\n\r\n> If `key` returns `nil` for a value, that value will be considered unique, even if multiple values return `nil`.",
            "commit_id": "03d08ac4e5acaee4b335da1e9b1867b379c2a185",
            "created_at": "2026-02-09T19:33:23Z",
            "diff_hunk": "@@ -213,6 +213,55 @@ function ArrayIter:filter(f)\n   return self\n end\n \n+--- Removes duplicate values from an iterator pipeline.\n+---\n+--- Only the first occurrence of each value is kept.\n+---\n+--- Accepts an optional `key` argument, which if provided is called for each\n+--- value in the iterator to compute a hash key for uniqueness comparison. This is\n+--- useful for deduplicating table values or complex objects.\n+---\n+--- If a function-based iterator returns multiple arguments, uniqueness is\n+--- checked based on the first return value. To change this behavior, specify\n+--- `key`.\n+---\n+--- Examples:\n+---\n+--- ```lua\n+--- vim.iter({ 1, 2, 2, 3, 2 }):unique():totable()\n+--- -- { 1, 2, 3 }\n+---\n+--- vim.iter({ {id=1}, {id=2}, {id=1} })\n+---   :unique(function(x)\n+---     return x.id\n+---   end)\n+---   :totable()\n+--- -- { {id=1}, {id=2} }\n+--- ```\n+---\n+---@param key? fun(...):any Optional hash function to determine uniqueness of values.\n+---@return Iter\n+---@see |vim.list.unique()|\n+function Iter:unique(key)\n+  local seen = {} --- @type table<any,boolean>\n+\n+  key = key or function(a)\n+    return a\n+  end\n+\n+  return self:filter(function(...)\n+    local hash = key(...)\n+    if hash == nil then\n+      return true",
            "html_url": "https://github.com/neovim/neovim/pull/37592#discussion_r2784184315",
            "id": 2784184315,
            "in_reply_to_id": 2783571409,
            "line": 257,
            "node_id": "PRRC_kwDOAPphoM6l80f7",
            "original_commit_id": "802fefa4d07590f71f77de2f3f710b6c7d96fb0f",
            "original_line": 257,
            "original_position": 43,
            "original_start_line": null,
            "path": "runtime/lua/vim/iter.lua",
            "position": 45,
            "pull_request_review_id": 3774942250,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37592",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2784184315/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-09T19:33:23Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2784184315",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/51250849?v=4",
                "events_url": "https://api.github.com/users/superatomic/events{/privacy}",
                "followers_url": "https://api.github.com/users/superatomic/followers",
                "following_url": "https://api.github.com/users/superatomic/following{/other_user}",
                "gists_url": "https://api.github.com/users/superatomic/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/superatomic",
                "id": 51250849,
                "login": "superatomic",
                "node_id": "MDQ6VXNlcjUxMjUwODQ5",
                "organizations_url": "https://api.github.com/users/superatomic/orgs",
                "received_events_url": "https://api.github.com/users/superatomic/received_events",
                "repos_url": "https://api.github.com/users/superatomic/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/superatomic/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/superatomic/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/superatomic",
                "user_view_type": "public"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "I'd love to get this merged. @gpanders since you have background with `vim.iter`, could I have a review please?",
            "created_at": "2026-02-06T04:33:20Z",
            "html_url": "https://github.com/neovim/neovim/pull/37592#issuecomment-3857897285",
            "id": 3857897285,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37592",
            "node_id": "IC_kwDOAPphoM7l8tdF",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3857897285/reactions"
            },
            "updated_at": "2026-02-06T04:33:20Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3857897285",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/51250849?v=4",
                "events_url": "https://api.github.com/users/superatomic/events{/privacy}",
                "followers_url": "https://api.github.com/users/superatomic/followers",
                "following_url": "https://api.github.com/users/superatomic/following{/other_user}",
                "gists_url": "https://api.github.com/users/superatomic/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/superatomic",
                "id": 51250849,
                "login": "superatomic",
                "node_id": "MDQ6VXNlcjUxMjUwODQ5",
                "organizations_url": "https://api.github.com/users/superatomic/orgs",
                "received_events_url": "https://api.github.com/users/superatomic/received_events",
                "repos_url": "https://api.github.com/users/superatomic/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/superatomic/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/superatomic/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/superatomic",
                "user_view_type": "public"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/37592/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/37592/commits",
    "created_at": "2026-01-28T00:30:00Z",
    "diff_url": "https://github.com/neovim/neovim/pull/37592.diff",
    "draft": false,
    "head": {
        "label": "superatomic:iter-unique",
        "ref": "iter-unique",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/superatomic/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/superatomic/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/superatomic/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/superatomic/neovim/branches{/branch}",
            "clone_url": "https://github.com/superatomic/neovim.git",
            "collaborators_url": "https://api.github.com/repos/superatomic/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/superatomic/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/superatomic/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/superatomic/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/superatomic/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/superatomic/neovim/contributors",
            "created_at": "2025-11-04T00:14:36Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/superatomic/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/superatomic/neovim/downloads",
            "events_url": "https://api.github.com/repos/superatomic/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/superatomic/neovim/forks",
            "full_name": "superatomic/neovim",
            "git_commits_url": "https://api.github.com/repos/superatomic/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/superatomic/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/superatomic/neovim/git/tags{/sha}",
            "git_url": "git://github.com/superatomic/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/superatomic/neovim/hooks",
            "html_url": "https://github.com/superatomic/neovim",
            "id": 1089144502,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/superatomic/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/superatomic/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/superatomic/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/superatomic/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/superatomic/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/superatomic/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/superatomic/neovim/merges",
            "milestones_url": "https://api.github.com/repos/superatomic/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "R_kgDOQOsGtg",
            "notifications_url": "https://api.github.com/repos/superatomic/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/51250849?v=4",
                "events_url": "https://api.github.com/users/superatomic/events{/privacy}",
                "followers_url": "https://api.github.com/users/superatomic/followers",
                "following_url": "https://api.github.com/users/superatomic/following{/other_user}",
                "gists_url": "https://api.github.com/users/superatomic/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/superatomic",
                "id": 51250849,
                "login": "superatomic",
                "node_id": "MDQ6VXNlcjUxMjUwODQ5",
                "organizations_url": "https://api.github.com/users/superatomic/orgs",
                "received_events_url": "https://api.github.com/users/superatomic/received_events",
                "repos_url": "https://api.github.com/users/superatomic/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/superatomic/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/superatomic/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/superatomic",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/superatomic/neovim/pulls{/number}",
            "pushed_at": "2026-02-09T19:33:19Z",
            "releases_url": "https://api.github.com/repos/superatomic/neovim/releases{/id}",
            "size": 367516,
            "ssh_url": "git@github.com:superatomic/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/superatomic/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/superatomic/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/superatomic/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/superatomic/neovim/subscription",
            "svn_url": "https://github.com/superatomic/neovim",
            "tags_url": "https://api.github.com/repos/superatomic/neovim/tags",
            "teams_url": "https://api.github.com/repos/superatomic/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/superatomic/neovim/git/trees{/sha}",
            "updated_at": "2025-12-05T07:24:01Z",
            "url": "https://api.github.com/repos/superatomic/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "03d08ac4e5acaee4b335da1e9b1867b379c2a185",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/51250849?v=4",
            "events_url": "https://api.github.com/users/superatomic/events{/privacy}",
            "followers_url": "https://api.github.com/users/superatomic/followers",
            "following_url": "https://api.github.com/users/superatomic/following{/other_user}",
            "gists_url": "https://api.github.com/users/superatomic/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/superatomic",
            "id": 51250849,
            "login": "superatomic",
            "node_id": "MDQ6VXNlcjUxMjUwODQ5",
            "organizations_url": "https://api.github.com/users/superatomic/orgs",
            "received_events_url": "https://api.github.com/users/superatomic/received_events",
            "repos_url": "https://api.github.com/users/superatomic/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/superatomic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/superatomic/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/superatomic",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/37592",
    "id": 3216699546,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37592",
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "stdlib",
            "id": 573222693,
            "name": "lua",
            "node_id": "MDU6TGFiZWw1NzMyMjI2OTM=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lua"
        }
    ],
    "locked": false,
    "merge_commit_sha": "b6aaba0f75c59b8eeb33168283769b50d5f6d2df",
    "merged_at": null,
    "milestone": null,
    "node_id": "PR_kwDOAPphoM6_uvCa",
    "number": 37592,
    "patch_url": "https://github.com/neovim/neovim/pull/37592.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/37592/comments",
    "state": "open",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/03d08ac4e5acaee4b335da1e9b1867b379c2a185",
    "title": "feat(lua): add `Iter:unique()`",
    "updated_at": "2026-02-09T19:33:23Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/37592",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/51250849?v=4",
        "events_url": "https://api.github.com/users/superatomic/events{/privacy}",
        "followers_url": "https://api.github.com/users/superatomic/followers",
        "following_url": "https://api.github.com/users/superatomic/following{/other_user}",
        "gists_url": "https://api.github.com/users/superatomic/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/superatomic",
        "id": 51250849,
        "login": "superatomic",
        "node_id": "MDQ6VXNlcjUxMjUwODQ5",
        "organizations_url": "https://api.github.com/users/superatomic/orgs",
        "received_events_url": "https://api.github.com/users/superatomic/received_events",
        "repos_url": "https://api.github.com/users/superatomic/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/superatomic/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/superatomic/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/superatomic",
        "user_view_type": "public"
    }
}