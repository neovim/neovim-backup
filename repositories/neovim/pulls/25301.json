{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/25301/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/25301/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/25301"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/25301"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/25301/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/25301"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/68de01ff2e4c90e534d8c0ef55437e9d00c3e156"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 4911,
            "forks_count": 4911,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 1665,
            "open_issues_count": 1665,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2023-10-09T01:52:15Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 251975,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 69990,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2023-10-09T00:54:08Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 69990,
            "watchers_count": 69990,
            "web_commit_signoff_required": false
        },
        "sha": "6823fdb20b1330142506410a62474166f646bf13",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim"
        }
    },
    "body": "Defines the minimal API for LSP snippet support. The initial design is:\r\n1. `snippet.expand` receives the snippet text and parses it using the LPEG grammar.\r\n2. The snippet's children are transformed as follows:\r\n    - Known variables are replaced by their values (e.g. `$TM_FILENAME` becomes `foo.txt`), falling back to their defaults when provided.\r\n    - When a variable is unknown, the name of the variable is inserted and it is transformed into a placeholder _(haven't done this yet)_.\r\n    - Placeholders have their text[^1] inserted.\r\n    - With choice nodes, the first value is inserted (see below for future work).\r\n    - Text nodes are inserted as given.\r\n3. Based on `expandtab` and the indentation of the current line, the snippet is indented accordingly. \r\n4. The snippet text is set in the current buffer.\r\n\r\nNote that the following features remain yet to be implemented in more mature versions of the snippet API:\r\n- Variable transformations via regexes.\r\n- Choice placeholders, in which the user can select from a given set of options to insert.\r\n- Nested placeholders. Right now the value of a placeholder is simply converted to a string and inserted.\r\n\r\n[^1]: When I say that the text of a node is inserted, I don't mean the raw table string, but the output from [`Node:__tostring()`](https://github.com/neovim/neovim/blob/a041d8ac118f45b9e20d4975737f25a548cb6337/runtime/lua/vim/lsp/_snippet_grammar.lua#L85).",
    "closed_at": null,
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25301#discussion_r1334293206"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25301"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334293206"
                }
            },
            "author_association": "MEMBER",
            "body": "üëç  say no to uppercase (spicy zero-likes tweet: https://twitter.com/justinmk/status/1669461598786711552 )",
            "commit_id": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
            "created_at": "2023-09-22T12:07:27Z",
            "diff_hunk": "@@ -173,32 +173,33 @@ P.seq = function(...)\n   end\n end\n \n-local Node = {}\n-\n-Node.Type = {\n-  SNIPPET = 0,",
            "html_url": "https://github.com/neovim/neovim/pull/25301#discussion_r1334293206",
            "id": 1334293206,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Ph7LW",
            "original_commit_id": "98ac771c1b9497c38c6d59d49b9c1db5ed80c274",
            "original_line": 179,
            "original_position": 7,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/_snippet.lua",
            "position": null,
            "pull_request_review_id": 1639822849,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25301",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334293206/reactions"
            },
            "side": "LEFT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T12:07:28Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334293206",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25301#discussion_r1334294741"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25301"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334294741"
                }
            },
            "author_association": "MEMBER",
            "body": "\"should\" is always redundant in test names\r\n```suggestion\r\n        it('disposes snippet if edit outside of range', function()\r\n```",
            "commit_id": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
            "created_at": "2023-09-22T12:09:03Z",
            "diff_hunk": "@@ -0,0 +1,336 @@\n+local helpers = require('test.functional.helpers')(after_each)\n+\n+local eq = helpers.eq\n+local clear = helpers.clear\n+local feed = helpers.feed\n+local exec_lua = helpers.exec_lua\n+\n+describe('vim.snippet', function()\n+  for _, selection in ipairs({ 'inclusive', 'exclusive' }) do\n+    for _, virtualedit in ipairs({ '', 'all', 'onemore' }) do\n+      describe(('selection=%s, virtualedit=%s'):format(selection, virtualedit), function()\n+        before_each(function()\n+          clear()\n+          exec_lua(([[\n+            vim.o.selection = '%s';\n+            vim.o.virtualedit = '%s';\n+            vim.snippet.dispose()\n+            vim.keymap.set({ 'n', 'i', 's' }, '<C-l>', '<Cmd>lua vim.snippet._sync()<CR>', { buffer = true })\n+            vim.keymap.set({ 'i', 's' }, '<Tab>', '<Cmd>lua vim.snippet.jump(vim.snippet.JumpDirection.Next)<CR>', { buffer = true })\n+            vim.keymap.set({ 'i', 's' }, '<S-Tab>', '<Cmd>lua vim.snippet.jump(vim.snippet.JumpDirection.Prev)<CR>', { buffer = true })\n+            vim.keymap.set({ 's' }, '<BS>', '\"\\\\<BS>\" .. (getcurpos()[2] == col(\"$\") - 1 ? \"a\" : \"i\")', { expr = true })\n+\n+            function get_state()\n+              local m = vim.api.nvim_get_mode().mode\n+              local select_s = vim.fn.getpos(\"'<\")\n+              local select_e = vim.fn.getpos(\"'>\")\n+              local cursor = vim.fn.getpos('.')\n+              local exclusive_offset = vim.o.selection == 'exclusive' and 1 or 0\n+              return {\n+                m = m,\n+                s = m ~= 's' and ({ cursor[2] - 1, cursor[3] - 1 }) or ({ select_s[2] - 1, select_s[3] - 1 }),\n+                e = m ~= 's' and ({ cursor[2] - 1, cursor[3] - 1 }) or ({ select_e[2] - 1, select_e[3] - exclusive_offset }),\n+              }\n+            end\n+          ]]):format(selection, virtualedit))\n+        end)\n+        after_each(function()\n+          clear()\n+        end)\n+\n+        it('should expand snippet with considering buffer indent setting', function()\n+          local snippet = table.concat({\n+            'class ${1:ClassName} {',\n+            '\\tpublic $1($2) {',\n+            '\\t\\t${3}',\n+            '\\t}',\n+            '}',\n+            ''\n+          }, '\\n')\n+\n+          for _, case in ipairs({\n+            {\n+              base_indent = [[  ]],\n+              indent_setting = [[\n+                vim.o.expandtab = true\n+                vim.o.shiftwidth = 2\n+              ]],\n+              expects = {\n+                '  class ClassName {',\n+                '    public ClassName() {',\n+                '      ',\n+                '    }',\n+                '  }',\n+                '  ',\n+              }\n+            }, {\n+            base_indent = [[  ]],\n+            indent_setting = [[\n+              vim.o.expandtab = true\n+              vim.o.shiftwidth = 0\n+              vim.o.tabstop = 2\n+            ]],\n+            expects = {\n+              '  class ClassName {',\n+              '    public ClassName() {',\n+              '      ',\n+              '    }',\n+              '  }',\n+              '  ',\n+            }\n+          }, {\n+            base_indent = [[<Tab>]],\n+            indent_setting = [[\n+              vim.o.expandtab = false\n+            ]],\n+            expects = {\n+              '\\tclass ClassName {',\n+              '\\t\\tpublic ClassName() {',\n+              '\\t\\t\\t',\n+              '\\t\\t}',\n+              '\\t}',\n+              '\\t',\n+            }\n+          }\n+          }) do\n+            clear()\n+            exec_lua(case.indent_setting)\n+            feed('i' .. case.base_indent)\n+            exec_lua('vim.snippet.expand(...)', snippet)\n+            eq(case.expects, helpers.buf_lines(0))\n+          end\n+        end)\n+\n+        it('should be able to jump through all placeholders', function()\n+          exec_lua('vim.snippet.expand(...)', table.concat({\n+            'class ${1:ClassName} {',\n+            '\\tpublic $1($2) {',\n+            '\\t\\t${3}',\n+            '\\t}',\n+            '}',\n+            ''\n+          }, '\\n'))\n+          local cases = {\n+            { m = 's', s = { 0, 6 },  e = { 0, 15 }, },\n+            { m = 'i', s = { 1, 18 }, e = { 1, 18 }, },\n+            { m = 'i', s = { 2, 2 },  e = { 2, 2 }, },\n+            { m = 'i', s = { 5, 0 },  e = { 5, 0 }, },\n+          }\n+          for i = 1, #cases do\n+            eq(cases[i], exec_lua([[return get_state()]]))\n+            eq(i ~= #cases, exec_lua([[return vim.snippet.jumpable(vim.snippet.JumpDirection.Next)]]))\n+            feed('<Tab>')\n+          end\n+          eq(cases[#cases], exec_lua([[return get_state()]]))\n+          for i = #cases, 1, -1 do\n+            eq(cases[i], exec_lua([[return get_state()]]))\n+            eq(i ~= 1, exec_lua([[return vim.snippet.jumpable(vim.snippet.JumpDirection.Prev)]]))\n+            feed('<S-Tab>')\n+          end\n+          eq(cases[1], exec_lua([[return get_state()]]))\n+        end)\n+\n+        it('should sync same tabstops', function()\n+          exec_lua('vim.snippet.expand(...)', table.concat({\n+            'class ${1:ClassName} {',\n+            '\\tpublic $1($2) {',\n+            '\\t\\t${3}',\n+            '\\t}',\n+            '}',\n+            ''\n+          }, '\\n'))\n+          feed('ModifiedClassName<C-l>')\n+          eq({\n+            'class ModifiedClassName {',\n+            '\\tpublic ModifiedClassName() {',\n+            '\\t\\t',\n+            '\\t}',\n+            '}',\n+            '',\n+          }, helpers.buf_lines(0))\n+        end)\n+\n+        -- We can't manage `complete(...)` in test.\n+        -- it('should insert selected choice', function()\n+        --   exec_lua('vim.snippet.expand(...)', table.concat({\n+        --     'console.${1|log,info,warn,error|}($2);',\n+        --   }, '\\n'))\n+        --   feed('<C-n><C-n><C-n><C-y>')\n+        --   eq({\n+        --     'console.warn();',\n+        --   }, helpers.buf_lines(0))\n+        -- end)\n+\n+        it('should dispose directly modified non-origin tabstop', function()\n+          exec_lua('vim.snippet.expand(...)', table.concat({\n+            'class ${1:ClassName} {',\n+            '\\tpublic $1($2) {',\n+            '\\t\\t${3}',\n+            '\\t}',\n+            '}',\n+            ''\n+          }, '\\n'))\n+          eq({\n+            'class ClassName {',\n+            '\\tpublic ClassName() {',\n+            '\\t\\t',\n+            '\\t}',\n+            '}',\n+            '',\n+          }, helpers.buf_lines(0))\n+          feed('<Esc><Cmd>call cursor(2, 9)<CR>ciwDirectlyModified<C-l>')\n+          eq({\n+            'class ClassName {',\n+            '\\tpublic DirectlyModified() {',\n+            '\\t\\t',\n+            '\\t}',\n+            '}',\n+            '',\n+          }, helpers.buf_lines(0))\n+        end)\n+\n+        it('should restore the state with undo', function()\n+          exec_lua('vim.snippet.expand(...)', table.concat({\n+            'class ${1:ClassName} {',\n+            '\\tpublic $1($2) {',\n+            '\\t\\t${3}',\n+            '\\t}',\n+            '}',\n+            ''\n+          }, '\\n'))\n+          feed('ModifiedClassName<C-l><Tab>argument<Esc>')\n+          eq({\n+            'class ModifiedClassName {',\n+            '\\tpublic ModifiedClassName(argument) {',\n+            '\\t\\t',\n+            '\\t}',\n+            '}',\n+            '',\n+          }, helpers.buf_lines(0))\n+\n+          feed('u<C-l>')\n+          eq({\n+            'class ClassName {',\n+            '\\tpublic ClassName() {',\n+            '\\t\\t',\n+            '\\t}',\n+            '}',\n+            '',\n+          }, helpers.buf_lines(0))\n+\n+          local to_insert = selection == 'exclusive' and 'i' or 'a'\n+          feed(('i<S-Tab><C-g>o<Esc>%sModified<C-l>'):format(to_insert))\n+          eq({\n+            'class ClassNameModified {',\n+            '\\tpublic ClassNameModified() {',\n+            '\\t\\t',\n+            '\\t}',\n+            '}',\n+            '',\n+          }, helpers.buf_lines(0))\n+        end)\n+\n+        it('should dispose snippet if edit outside of range', function()",
            "html_url": "https://github.com/neovim/neovim/pull/25301#discussion_r1334294741",
            "id": 1334294741,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Ph7jV",
            "original_commit_id": "98ac771c1b9497c38c6d59d49b9c1db5ed80c274",
            "original_line": 233,
            "original_position": 233,
            "original_start_line": null,
            "path": "test/functional/lua/snippet_spec.lua",
            "position": null,
            "pull_request_review_id": 1639825180,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25301",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334294741/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T12:09:03Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334294741",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25301#discussion_r1334295676"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25301"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334295676"
                }
            },
            "author_association": "MEMBER",
            "body": "üëÄ  https://github.com/neovim/neovim/pull/25154 @llllvvuu ",
            "commit_id": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
            "created_at": "2023-09-22T12:10:01Z",
            "diff_hunk": "@@ -0,0 +1,726 @@\n+local lsp_snippet = require('vim.lsp._snippet')\n+\n+---@alias vim.snippet.MarkId integer\n+---@alias vim.snippet.Tabstop integer\n+---@alias vim.snippet.Changenr integer\n+---@alias vim.snippet.Position { [1]: integer, [2]: integer } # The 0-origin utf8 byte index.\n+---@alias vim.snippet.Range { s: vim.snippet.Position, e: vim.snippet.Position } # The 0-origin utf8 byte index.\n+\n+---@class vim.snippet.TraverseContext\n+---@field depth integer\n+---@field range vim.snippet.Range\n+---@field replace fun(new_node: vim.lsp.snippet.Node): nil\n+\n+---Feed keys.\n+---NOTE: This always enables `virtualedit=onemore`\n+---@param keys string\n+local function feedkeys(keys)\n+  local k = {}\n+  table.insert(k, '<Cmd>set virtualedit=onemore<CR>')\n+  table.insert(k, keys)\n+  table.insert(k, ('<Cmd>set virtualedit=%s<CR>'):format(vim.o.virtualedit))\n+  vim.api.nvim_feedkeys(vim.api.nvim_replace_termcodes(table.concat(k), true, true, true), 'ni', true)\n+end\n+\n+---Return true if range contains position.\n+---@param range vim.snippet.Range\n+---@param position vim.snippet.Position\n+---@return boolean\n+local function within(range, position)\n+  -- Check the cursor is before the range start position.\n+  if position[1] < range.s[1] or (position[1] == range.s[1] and position[2] < range.s[2]) then\n+    return false\n+  end\n+\n+  -- Check the cursor is after the range end position.\n+  if range.e[1] < position[1] or (range.e[1] == position[1] and range.e[2] < position[2]) then\n+    return false\n+  end\n+\n+  return true\n+end\n+\n+---Return cursor position.\n+---@return vim.snippet.Position\n+local function cursor_position()\n+  local cursor = vim.api.nvim_win_get_cursor(0)\n+  return { cursor[1] - 1, cursor[2] }\n+end\n+\n+---Return one indent string of current buffer.\n+---@return string\n+local function get_one_indent()\n+  local expandtab = vim.api.nvim_get_option('expandtab')\n+  if not expandtab then\n+    return '\\t'\n+  end\n+  local shiftwidth = vim.api.nvim_get_option('shiftwidth')\n+  if shiftwidth > 0 then\n+    return string.rep(' ', shiftwidth)\n+  end\n+  return string.rep(' ', vim.api.nvim_get_option('tabstop'))\n+end\n+\n+---Return base indent of current line.\n+---@return string\n+local function get_base_indent()\n+  return string.match(vim.api.nvim_get_current_line(), '^%s*') or ''\n+end\n+\n+---Adjust snippet indent\n+---@param snippet_text string\n+---@return string\n+local function adjust_indent(snippet_text)\n+  local one_indent = get_one_indent()\n+  local base_indent = get_base_indent()\n+\n+  local adjusted_snippet_text = {}\n+  local snippet_lines = vim.split(snippet_text, '\\n', { plain = true })\n+  for i, line in ipairs(snippet_lines) do\n+    if i == 1 then\n+      -- Use first line as-is.\n+      table.insert(adjusted_snippet_text, line)\n+    elseif i ~= #snippet_lines and string.match(line, '^%s*$') then\n+      -- Remove space only lines except the last line.\n+      table.insert(adjusted_snippet_text, '')\n+    else\n+      -- 1. Change \\t as one_indent.\n+      -- 2. Add base_indent.\n+      line = string.gsub(line, '^(\\t+)', function(indent)\n+        return string.gsub(indent, '\\t', one_indent)\n+      end)\n+      table.insert(adjusted_snippet_text, base_indent .. line)\n+    end\n+  end\n+  return table.concat(adjusted_snippet_text, '\\n')\n+end\n+\n+---Get range from extmark.\n+---@param ns integer\n+---@param mark_id vim.snippet.MarkId\n+---@return vim.snippet.Range\n+local function get_range_from_mark(ns, mark_id)\n+  local mark = vim.api.nvim_buf_get_extmark_by_id(0, ns, mark_id, { details = true })\n+  local s = { mark[1], mark[2] }\n+  local e = { mark[3].end_row, mark[3].end_col }\n+  if s[1] > e[1] or (s[1] == e[1] and s[2] > e[2]) then\n+    local t = s\n+    s = e\n+    e = t\n+  end\n+  return { s = s, e = e }\n+end\n+\n+---Get text from range.\n+---@param range vim.snippet.Range\n+---@return string\n+local function get_text_by_range(range)\n+  local lines = vim.api.nvim_buf_get_lines(0, range.s[1], range.e[1] + 1, false)\n+  if range.s[1] ~= range.e[1] then\n+    lines[1] = string.sub(lines[1], range.s[2] + 1)\n+    lines[#lines] = string.sub(lines[#lines], 1, range.e[2])\n+  else\n+    lines[1] = string.sub(lines[1], range.s[2] + 1, range.e[2])\n+  end\n+  return table.concat(lines, '\\n')\n+end\n+\n+---Traverse snippet ast.\n+---The `context.range` is calculated by `tostring(node)`, so it can be used only for processing before snippet insertion.\n+---@param snippet_node table\n+---@param callback fun(node: table, context: vim.snippet.TraverseContext): table|nil\n+local function traverse(snippet_node, callback)",
            "html_url": "https://github.com/neovim/neovim/pull/25301#discussion_r1334295676",
            "id": 1334295676,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Ph7x8",
            "original_commit_id": "98ac771c1b9497c38c6d59d49b9c1db5ed80c274",
            "original_line": 136,
            "original_position": 132,
            "original_start_line": null,
            "path": "runtime/lua/vim/snippet.lua",
            "position": null,
            "pull_request_review_id": 1639826656,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25301",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 1,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334295676/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T12:10:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334295676",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25301#discussion_r1334298996"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25301"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334298996"
                }
            },
            "author_association": "MEMBER",
            "body": "yet more cases for the Position/Range discussion https://github.com/neovim/neovim/issues/25509\r\n\r\nNot a blocker, just for reference.",
            "commit_id": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
            "created_at": "2023-09-22T12:13:14Z",
            "diff_hunk": "@@ -0,0 +1,726 @@\n+local lsp_snippet = require('vim.lsp._snippet')\n+\n+---@alias vim.snippet.MarkId integer\n+---@alias vim.snippet.Tabstop integer\n+---@alias vim.snippet.Changenr integer\n+---@alias vim.snippet.Position { [1]: integer, [2]: integer } # The 0-origin utf8 byte index.\n+---@alias vim.snippet.Range { s: vim.snippet.Position, e: vim.snippet.Position } # The 0-origin utf8 byte index.\n+\n+---@class vim.snippet.TraverseContext\n+---@field depth integer\n+---@field range vim.snippet.Range\n+---@field replace fun(new_node: vim.lsp.snippet.Node): nil\n+\n+---Feed keys.\n+---NOTE: This always enables `virtualedit=onemore`\n+---@param keys string\n+local function feedkeys(keys)\n+  local k = {}\n+  table.insert(k, '<Cmd>set virtualedit=onemore<CR>')\n+  table.insert(k, keys)\n+  table.insert(k, ('<Cmd>set virtualedit=%s<CR>'):format(vim.o.virtualedit))\n+  vim.api.nvim_feedkeys(vim.api.nvim_replace_termcodes(table.concat(k), true, true, true), 'ni', true)\n+end\n+\n+---Return true if range contains position.\n+---@param range vim.snippet.Range\n+---@param position vim.snippet.Position\n+---@return boolean\n+local function within(range, position)\n+  -- Check the cursor is before the range start position.\n+  if position[1] < range.s[1] or (position[1] == range.s[1] and position[2] < range.s[2]) then\n+    return false\n+  end\n+\n+  -- Check the cursor is after the range end position.\n+  if range.e[1] < position[1] or (range.e[1] == position[1] and range.e[2] < position[2]) then\n+    return false\n+  end\n+\n+  return true\n+end\n+\n+---Return cursor position.\n+---@return vim.snippet.Position\n+local function cursor_position()\n+  local cursor = vim.api.nvim_win_get_cursor(0)\n+  return { cursor[1] - 1, cursor[2] }\n+end\n+\n+---Return one indent string of current buffer.\n+---@return string\n+local function get_one_indent()\n+  local expandtab = vim.api.nvim_get_option('expandtab')\n+  if not expandtab then\n+    return '\\t'\n+  end\n+  local shiftwidth = vim.api.nvim_get_option('shiftwidth')\n+  if shiftwidth > 0 then\n+    return string.rep(' ', shiftwidth)\n+  end\n+  return string.rep(' ', vim.api.nvim_get_option('tabstop'))\n+end\n+\n+---Return base indent of current line.\n+---@return string\n+local function get_base_indent()\n+  return string.match(vim.api.nvim_get_current_line(), '^%s*') or ''\n+end\n+\n+---Adjust snippet indent\n+---@param snippet_text string\n+---@return string\n+local function adjust_indent(snippet_text)\n+  local one_indent = get_one_indent()\n+  local base_indent = get_base_indent()\n+\n+  local adjusted_snippet_text = {}\n+  local snippet_lines = vim.split(snippet_text, '\\n', { plain = true })\n+  for i, line in ipairs(snippet_lines) do\n+    if i == 1 then\n+      -- Use first line as-is.\n+      table.insert(adjusted_snippet_text, line)\n+    elseif i ~= #snippet_lines and string.match(line, '^%s*$') then\n+      -- Remove space only lines except the last line.\n+      table.insert(adjusted_snippet_text, '')\n+    else\n+      -- 1. Change \\t as one_indent.\n+      -- 2. Add base_indent.\n+      line = string.gsub(line, '^(\\t+)', function(indent)\n+        return string.gsub(indent, '\\t', one_indent)\n+      end)\n+      table.insert(adjusted_snippet_text, base_indent .. line)\n+    end\n+  end\n+  return table.concat(adjusted_snippet_text, '\\n')\n+end\n+\n+---Get range from extmark.\n+---@param ns integer\n+---@param mark_id vim.snippet.MarkId\n+---@return vim.snippet.Range\n+local function get_range_from_mark(ns, mark_id)",
            "html_url": "https://github.com/neovim/neovim/pull/25301#discussion_r1334298996",
            "id": 1334298996,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Ph8l0",
            "original_commit_id": "98ac771c1b9497c38c6d59d49b9c1db5ed80c274",
            "original_line": 106,
            "original_position": 102,
            "original_start_line": null,
            "path": "runtime/lua/vim/snippet.lua",
            "position": null,
            "pull_request_review_id": 1639831592,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25301",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334298996/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-10-05T09:44:13Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334298996",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25301#discussion_r1334310739"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25301"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334310739"
                }
            },
            "author_association": "MEMBER",
            "body": "I still don't understand what's so offensive about ASCII values 65-90. Does your font have particularly bad glyphs for this range or something?",
            "commit_id": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
            "created_at": "2023-09-22T12:24:51Z",
            "diff_hunk": "@@ -173,32 +173,33 @@ P.seq = function(...)\n   end\n end\n \n-local Node = {}\n-\n-Node.Type = {\n-  SNIPPET = 0,",
            "html_url": "https://github.com/neovim/neovim/pull/25301#discussion_r1334310739",
            "id": 1334310739,
            "in_reply_to_id": 1334293206,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Ph_dT",
            "original_commit_id": "98ac771c1b9497c38c6d59d49b9c1db5ed80c274",
            "original_line": 179,
            "original_position": 7,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/_snippet.lua",
            "position": null,
            "pull_request_review_id": 1639849741,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25301",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 4,
                "rocket": 0,
                "total_count": 4,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334310739/reactions"
            },
            "side": "LEFT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T12:24:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334310739",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25301#discussion_r1334337319"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25301"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334337319"
                }
            },
            "author_association": "MEMBER",
            "body": "I see it as a cargo-cult (a useless, mindless habit). I obviously don't agree that it reduces to being offended by a character range.",
            "commit_id": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
            "created_at": "2023-09-22T12:49:36Z",
            "diff_hunk": "@@ -173,32 +173,33 @@ P.seq = function(...)\n   end\n end\n \n-local Node = {}\n-\n-Node.Type = {\n-  SNIPPET = 0,",
            "html_url": "https://github.com/neovim/neovim/pull/25301#discussion_r1334337319",
            "id": 1334337319,
            "in_reply_to_id": 1334293206,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PiF8n",
            "original_commit_id": "98ac771c1b9497c38c6d59d49b9c1db5ed80c274",
            "original_line": 179,
            "original_position": 7,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/_snippet.lua",
            "position": null,
            "pull_request_review_id": 1639889718,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25301",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334337319/reactions"
            },
            "side": "LEFT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T12:51:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334337319",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25301#discussion_r1334384246"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25301"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334384246"
                }
            },
            "author_association": "MEMBER",
            "body": "> I obviously don't agree that it reduces to being offended by a character range.\r\n\r\nOn that twitter thread you wrote:\r\n\r\n> Do prefer kOhShitHereComesAKonstant? \r\n>\r\n> sure, the k is less noisy than uppercase + underscores. \r\n>\r\n> why does this single property of a variable matter so much compared to all other possible dimensions ?\r\n\r\nI can only read this as a distaste for consecutive ASCII 65-90,95, whilst also suggesting that extra unrelated `k`'s are ok ü§î.\r\n\r\nI've explained this before....\r\n\r\nBeing able to easily determine whether something is state or not, statically, **is** a very important property in all programming domains. I hope that's something we can agree on. Using uppercase for this has simply become a popular convention. If there are other, better, ways to do it then I'm sure the cult is open to suggestions.",
            "commit_id": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
            "created_at": "2023-09-22T13:29:41Z",
            "diff_hunk": "@@ -173,32 +173,33 @@ P.seq = function(...)\n   end\n end\n \n-local Node = {}\n-\n-Node.Type = {\n-  SNIPPET = 0,",
            "html_url": "https://github.com/neovim/neovim/pull/25301#discussion_r1334384246",
            "id": 1334384246,
            "in_reply_to_id": 1334293206,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PiRZ2",
            "original_commit_id": "98ac771c1b9497c38c6d59d49b9c1db5ed80c274",
            "original_line": 179,
            "original_position": 7,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/_snippet.lua",
            "position": null,
            "pull_request_review_id": 1639963684,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25301",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334384246/reactions"
            },
            "side": "LEFT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T13:29:41Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334384246",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25301#discussion_r1334408340"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25301"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334408340"
                }
            },
            "author_association": "MEMBER",
            "body": "> I can only read this as a distaste for consecutive ASCII 65-90,95, whilst also suggesting that extra unrelated `k`'s are ok ü§î.\r\n\r\nNo, it's a distaste for cargo cults. The \"k\" thing is a C workaround and totally irrelevant for other languages, which is where the vast majority of the cargo cult continues to practice.\r\n\r\n> Being able to easily determine whether something is state or not, statically, is a very important property in all programming domains.\r\n\r\nIn this case the symbols are part of a table. An enum is similar. Both are statically analyzable.",
            "commit_id": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
            "created_at": "2023-09-22T13:48:32Z",
            "diff_hunk": "@@ -173,32 +173,33 @@ P.seq = function(...)\n   end\n end\n \n-local Node = {}\n-\n-Node.Type = {\n-  SNIPPET = 0,",
            "html_url": "https://github.com/neovim/neovim/pull/25301#discussion_r1334408340",
            "id": 1334408340,
            "in_reply_to_id": 1334293206,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PiXSU",
            "original_commit_id": "98ac771c1b9497c38c6d59d49b9c1db5ed80c274",
            "original_line": 179,
            "original_position": 7,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/_snippet.lua",
            "position": null,
            "pull_request_review_id": 1640000624,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25301",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334408340/reactions"
            },
            "side": "LEFT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T14:00:28Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334408340",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25301#discussion_r1334448482"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25301"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334448482"
                }
            },
            "author_association": "MEMBER",
            "body": "> No, it's a distaste for cargo cults.\r\n\r\nUp until now, I've not seen any evidence presented that this is one. I've only seen your opinion that you think const-ness isn't important when it comes to readability, which I deeply disagree with. I refactored enough code at this point to know this. Further repeating \"cargo cult\" (on its own) makes this increasingly frustrating.\r\n\r\n> Both are statically analyzable.\r\n\r\nWe have no tools other than `@enum` for that, and because of that we don't uppercase enums nor do we have a convention to indicate whether a symbol is a table or not. Inlay hints can do that for us, and even clangd now does a very good job with semantic tokens at differentiating const-ness without the need for a naming convention.\r\n\r\nIn this case it's unlikely `SNIPPET` is going to be used as a symbol by itself and is likely to be prefixed with `Node.type.`, so it's unlikely that convention is beneficial here. And as you suggest, this could be an `@enum`.",
            "commit_id": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
            "created_at": "2023-09-22T14:19:45Z",
            "diff_hunk": "@@ -173,32 +173,33 @@ P.seq = function(...)\n   end\n end\n \n-local Node = {}\n-\n-Node.Type = {\n-  SNIPPET = 0,",
            "html_url": "https://github.com/neovim/neovim/pull/25301#discussion_r1334448482",
            "id": 1334448482,
            "in_reply_to_id": 1334293206,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PihFi",
            "original_commit_id": "98ac771c1b9497c38c6d59d49b9c1db5ed80c274",
            "original_line": 179,
            "original_position": 7,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/_snippet.lua",
            "position": null,
            "pull_request_review_id": 1640065088,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25301",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334448482/reactions"
            },
            "side": "LEFT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T14:19:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334448482",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25301#discussion_r1334463365"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25301"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334463365"
                }
            },
            "author_association": "MEMBER",
            "body": "> even clangd now does a very good job with semantic tokens at differentiating const-ness without the need for a naming convention.\r\n\r\nWe're in violent agreement? üòÖ ",
            "commit_id": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
            "created_at": "2023-09-22T14:31:43Z",
            "diff_hunk": "@@ -173,32 +173,33 @@ P.seq = function(...)\n   end\n end\n \n-local Node = {}\n-\n-Node.Type = {\n-  SNIPPET = 0,",
            "html_url": "https://github.com/neovim/neovim/pull/25301#discussion_r1334463365",
            "id": 1334463365,
            "in_reply_to_id": 1334293206,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PikuF",
            "original_commit_id": "98ac771c1b9497c38c6d59d49b9c1db5ed80c274",
            "original_line": 179,
            "original_position": 7,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/_snippet.lua",
            "position": null,
            "pull_request_review_id": 1640088700,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25301",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334463365/reactions"
            },
            "side": "LEFT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T14:31:43Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334463365",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25301#discussion_r1334475288"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25301"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334475288"
                }
            },
            "author_association": "MEMBER",
            "body": "Lua 5.1, unlike C (or even Javascript) does not have language level attributes for const-ness, and LuaLS currently has no `@const` annotation. So.... our only choice to provide such a distinction to code readers is via naming convention. The same applies to python, bash, tcl, etc.",
            "commit_id": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
            "created_at": "2023-09-22T14:40:31Z",
            "diff_hunk": "@@ -173,32 +173,33 @@ P.seq = function(...)\n   end\n end\n \n-local Node = {}\n-\n-Node.Type = {\n-  SNIPPET = 0,",
            "html_url": "https://github.com/neovim/neovim/pull/25301#discussion_r1334475288",
            "id": 1334475288,
            "in_reply_to_id": 1334293206,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PinoY",
            "original_commit_id": "98ac771c1b9497c38c6d59d49b9c1db5ed80c274",
            "original_line": 179,
            "original_position": 7,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/_snippet.lua",
            "position": null,
            "pull_request_review_id": 1640108199,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25301",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334475288/reactions"
            },
            "side": "LEFT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T14:40:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334475288",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25301#discussion_r1334490395"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25301"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334490395"
                }
            },
            "author_association": "MEMBER",
            "body": "Yet most javascript programmers follow the convention. Hence \"cargo cult\".\r\n\r\nRegarding Lua: it's not something I will insist on in our codebase, but the argument for it has a shelf-life that is expiring.",
            "commit_id": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
            "created_at": "2023-09-22T14:52:48Z",
            "diff_hunk": "@@ -173,32 +173,33 @@ P.seq = function(...)\n   end\n end\n \n-local Node = {}\n-\n-Node.Type = {\n-  SNIPPET = 0,",
            "html_url": "https://github.com/neovim/neovim/pull/25301#discussion_r1334490395",
            "id": 1334490395,
            "in_reply_to_id": 1334293206,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PirUb",
            "original_commit_id": "98ac771c1b9497c38c6d59d49b9c1db5ed80c274",
            "original_line": 179,
            "original_position": 7,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/_snippet.lua",
            "position": null,
            "pull_request_review_id": 1640130799,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25301",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334490395/reactions"
            },
            "side": "LEFT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T14:52:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334490395",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25301#discussion_r1334623207"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25301"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334623207"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "oh yay another use case! just left a status update on that PR",
            "commit_id": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
            "created_at": "2023-09-22T16:54:00Z",
            "diff_hunk": "@@ -0,0 +1,726 @@\n+local lsp_snippet = require('vim.lsp._snippet')\n+\n+---@alias vim.snippet.MarkId integer\n+---@alias vim.snippet.Tabstop integer\n+---@alias vim.snippet.Changenr integer\n+---@alias vim.snippet.Position { [1]: integer, [2]: integer } # The 0-origin utf8 byte index.\n+---@alias vim.snippet.Range { s: vim.snippet.Position, e: vim.snippet.Position } # The 0-origin utf8 byte index.\n+\n+---@class vim.snippet.TraverseContext\n+---@field depth integer\n+---@field range vim.snippet.Range\n+---@field replace fun(new_node: vim.lsp.snippet.Node): nil\n+\n+---Feed keys.\n+---NOTE: This always enables `virtualedit=onemore`\n+---@param keys string\n+local function feedkeys(keys)\n+  local k = {}\n+  table.insert(k, '<Cmd>set virtualedit=onemore<CR>')\n+  table.insert(k, keys)\n+  table.insert(k, ('<Cmd>set virtualedit=%s<CR>'):format(vim.o.virtualedit))\n+  vim.api.nvim_feedkeys(vim.api.nvim_replace_termcodes(table.concat(k), true, true, true), 'ni', true)\n+end\n+\n+---Return true if range contains position.\n+---@param range vim.snippet.Range\n+---@param position vim.snippet.Position\n+---@return boolean\n+local function within(range, position)\n+  -- Check the cursor is before the range start position.\n+  if position[1] < range.s[1] or (position[1] == range.s[1] and position[2] < range.s[2]) then\n+    return false\n+  end\n+\n+  -- Check the cursor is after the range end position.\n+  if range.e[1] < position[1] or (range.e[1] == position[1] and range.e[2] < position[2]) then\n+    return false\n+  end\n+\n+  return true\n+end\n+\n+---Return cursor position.\n+---@return vim.snippet.Position\n+local function cursor_position()\n+  local cursor = vim.api.nvim_win_get_cursor(0)\n+  return { cursor[1] - 1, cursor[2] }\n+end\n+\n+---Return one indent string of current buffer.\n+---@return string\n+local function get_one_indent()\n+  local expandtab = vim.api.nvim_get_option('expandtab')\n+  if not expandtab then\n+    return '\\t'\n+  end\n+  local shiftwidth = vim.api.nvim_get_option('shiftwidth')\n+  if shiftwidth > 0 then\n+    return string.rep(' ', shiftwidth)\n+  end\n+  return string.rep(' ', vim.api.nvim_get_option('tabstop'))\n+end\n+\n+---Return base indent of current line.\n+---@return string\n+local function get_base_indent()\n+  return string.match(vim.api.nvim_get_current_line(), '^%s*') or ''\n+end\n+\n+---Adjust snippet indent\n+---@param snippet_text string\n+---@return string\n+local function adjust_indent(snippet_text)\n+  local one_indent = get_one_indent()\n+  local base_indent = get_base_indent()\n+\n+  local adjusted_snippet_text = {}\n+  local snippet_lines = vim.split(snippet_text, '\\n', { plain = true })\n+  for i, line in ipairs(snippet_lines) do\n+    if i == 1 then\n+      -- Use first line as-is.\n+      table.insert(adjusted_snippet_text, line)\n+    elseif i ~= #snippet_lines and string.match(line, '^%s*$') then\n+      -- Remove space only lines except the last line.\n+      table.insert(adjusted_snippet_text, '')\n+    else\n+      -- 1. Change \\t as one_indent.\n+      -- 2. Add base_indent.\n+      line = string.gsub(line, '^(\\t+)', function(indent)\n+        return string.gsub(indent, '\\t', one_indent)\n+      end)\n+      table.insert(adjusted_snippet_text, base_indent .. line)\n+    end\n+  end\n+  return table.concat(adjusted_snippet_text, '\\n')\n+end\n+\n+---Get range from extmark.\n+---@param ns integer\n+---@param mark_id vim.snippet.MarkId\n+---@return vim.snippet.Range\n+local function get_range_from_mark(ns, mark_id)\n+  local mark = vim.api.nvim_buf_get_extmark_by_id(0, ns, mark_id, { details = true })\n+  local s = { mark[1], mark[2] }\n+  local e = { mark[3].end_row, mark[3].end_col }\n+  if s[1] > e[1] or (s[1] == e[1] and s[2] > e[2]) then\n+    local t = s\n+    s = e\n+    e = t\n+  end\n+  return { s = s, e = e }\n+end\n+\n+---Get text from range.\n+---@param range vim.snippet.Range\n+---@return string\n+local function get_text_by_range(range)\n+  local lines = vim.api.nvim_buf_get_lines(0, range.s[1], range.e[1] + 1, false)\n+  if range.s[1] ~= range.e[1] then\n+    lines[1] = string.sub(lines[1], range.s[2] + 1)\n+    lines[#lines] = string.sub(lines[#lines], 1, range.e[2])\n+  else\n+    lines[1] = string.sub(lines[1], range.s[2] + 1, range.e[2])\n+  end\n+  return table.concat(lines, '\\n')\n+end\n+\n+---Traverse snippet ast.\n+---The `context.range` is calculated by `tostring(node)`, so it can be used only for processing before snippet insertion.\n+---@param snippet_node table\n+---@param callback fun(node: table, context: vim.snippet.TraverseContext): table|nil\n+local function traverse(snippet_node, callback)",
            "html_url": "https://github.com/neovim/neovim/pull/25301#discussion_r1334623207",
            "id": 1334623207,
            "in_reply_to_id": 1334295676,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PjLvn",
            "original_commit_id": "98ac771c1b9497c38c6d59d49b9c1db5ed80c274",
            "original_line": 136,
            "original_position": 132,
            "original_start_line": null,
            "path": "runtime/lua/vim/snippet.lua",
            "position": null,
            "pull_request_review_id": 1640338568,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25301",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334623207/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T16:54:01Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334623207",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5601392?v=4",
                "events_url": "https://api.github.com/users/llllvvuu/events{/privacy}",
                "followers_url": "https://api.github.com/users/llllvvuu/followers",
                "following_url": "https://api.github.com/users/llllvvuu/following{/other_user}",
                "gists_url": "https://api.github.com/users/llllvvuu/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/llllvvuu",
                "id": 5601392,
                "login": "llllvvuu",
                "node_id": "MDQ6VXNlcjU2MDEzOTI=",
                "organizations_url": "https://api.github.com/users/llllvvuu/orgs",
                "received_events_url": "https://api.github.com/users/llllvvuu/received_events",
                "repos_url": "https://api.github.com/users/llllvvuu/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/llllvvuu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/llllvvuu/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/llllvvuu"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25301#discussion_r1348178743"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25301"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1348178743"
                }
            },
            "author_association": "MEMBER",
            "body": "LSP defines this variable as the currently selected text or the empty string. However snippet expansion/insertion will always (?) happen in insert mode, so there won't be a visual selection, and I don't want to use `'<`/`'>` since it might not be intended for the last visual selection to be inserted here.",
            "commit_id": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
            "created_at": "2023-10-06T02:28:35Z",
            "diff_hunk": "@@ -0,0 +1,66 @@\n+local grammar = require('_snippet_grammar')\n+\n+--- Returns the current cursor position (0-based).\n+--- @return { [1]: integer, [2]: integer }\n+local function cursor_position()\n+  local cursor = vim.api.nvim_win_get_cursor(0)\n+  return { cursor[1] - 1, cursor[2] }\n+end\n+\n+--- Resolves variables.\n+--- @param var string\n+--- @return integer|string|nil\n+local function get_variable_value(var)\n+  if var == 'TM_SELECTED_TEXT' then\n+    return ''",
            "html_url": "https://github.com/neovim/neovim/pull/25301#discussion_r1348178743",
            "id": 1348178743,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5QW5M3",
            "original_commit_id": "37f8b93133d7e287631eb4f867d7cb1e2074d365",
            "original_line": 15,
            "original_position": 15,
            "original_start_line": null,
            "path": "runtime/lua/vim/snippet.lua",
            "position": null,
            "pull_request_review_id": 1661022385,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25301",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1348178743/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-10-06T02:28:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1348178743",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25301#discussion_r1348374702"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25301"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1348374702"
                }
            },
            "author_association": "MEMBER",
            "body": "If snippet expansion always happens in insert-mode, what is the intention of this case?\r\n\r\nNote that vim has `:help Select-mode` (as opposed to `:help Visual-mode`) which behaves more like selections in other text editors. Unfortunately It sets `'<`/`'>`, and `visualmode()` doesn't give a hint about whether the last mode was select-mode or visual-mode. But `mode()` does the right thing if we are currently in select-mode.",
            "commit_id": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
            "created_at": "2023-10-06T07:55:50Z",
            "diff_hunk": "@@ -0,0 +1,66 @@\n+local grammar = require('_snippet_grammar')\n+\n+--- Returns the current cursor position (0-based).\n+--- @return { [1]: integer, [2]: integer }\n+local function cursor_position()\n+  local cursor = vim.api.nvim_win_get_cursor(0)\n+  return { cursor[1] - 1, cursor[2] }\n+end\n+\n+--- Resolves variables.\n+--- @param var string\n+--- @return integer|string|nil\n+local function get_variable_value(var)\n+  if var == 'TM_SELECTED_TEXT' then\n+    return ''",
            "html_url": "https://github.com/neovim/neovim/pull/25301#discussion_r1348374702",
            "id": 1348374702,
            "in_reply_to_id": 1348178743,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5QXpCu",
            "original_commit_id": "37f8b93133d7e287631eb4f867d7cb1e2074d365",
            "original_line": 15,
            "original_position": 15,
            "original_start_line": null,
            "path": "runtime/lua/vim/snippet.lua",
            "position": null,
            "pull_request_review_id": 1661316009,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25301",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1348374702/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-10-06T07:55:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1348374702",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25301#discussion_r1348377518"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25301"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1348377518"
                }
            },
            "author_association": "MEMBER",
            "body": "The issue here is that the LSP spec describes (poorly) how variables should work with defaults, even if that combination doesn't make sense in the vast majority of cases; this is one of the \"nonsense\" combinations. Nevertheless, if we want to implement the spec, we need to handle them somehow.",
            "commit_id": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
            "created_at": "2023-10-06T07:58:32Z",
            "diff_hunk": "@@ -0,0 +1,66 @@\n+local grammar = require('_snippet_grammar')\n+\n+--- Returns the current cursor position (0-based).\n+--- @return { [1]: integer, [2]: integer }\n+local function cursor_position()\n+  local cursor = vim.api.nvim_win_get_cursor(0)\n+  return { cursor[1] - 1, cursor[2] }\n+end\n+\n+--- Resolves variables.\n+--- @param var string\n+--- @return integer|string|nil\n+local function get_variable_value(var)\n+  if var == 'TM_SELECTED_TEXT' then\n+    return ''",
            "html_url": "https://github.com/neovim/neovim/pull/25301#discussion_r1348377518",
            "id": 1348377518,
            "in_reply_to_id": 1348178743,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5QXpuu",
            "original_commit_id": "37f8b93133d7e287631eb4f867d7cb1e2074d365",
            "original_line": 15,
            "original_position": 15,
            "original_start_line": null,
            "path": "runtime/lua/vim/snippet.lua",
            "position": null,
            "pull_request_review_id": 1661320360,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25301",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1348377518/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-10-06T07:58:32Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1348377518",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25301#discussion_r1348378929"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25301"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1348378929"
                }
            },
            "author_association": "MEMBER",
            "body": "(This case is much more relevant for snippet _plugins_ that implement manual triggers; it's not relevant to expanding LSP snippets from completion items.)",
            "commit_id": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
            "created_at": "2023-10-06T07:59:55Z",
            "diff_hunk": "@@ -0,0 +1,66 @@\n+local grammar = require('_snippet_grammar')\n+\n+--- Returns the current cursor position (0-based).\n+--- @return { [1]: integer, [2]: integer }\n+local function cursor_position()\n+  local cursor = vim.api.nvim_win_get_cursor(0)\n+  return { cursor[1] - 1, cursor[2] }\n+end\n+\n+--- Resolves variables.\n+--- @param var string\n+--- @return integer|string|nil\n+local function get_variable_value(var)\n+  if var == 'TM_SELECTED_TEXT' then\n+    return ''",
            "html_url": "https://github.com/neovim/neovim/pull/25301#discussion_r1348378929",
            "id": 1348378929,
            "in_reply_to_id": 1348178743,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5QXqEx",
            "original_commit_id": "37f8b93133d7e287631eb4f867d7cb1e2074d365",
            "original_line": 15,
            "original_position": 15,
            "original_start_line": null,
            "path": "runtime/lua/vim/snippet.lua",
            "position": null,
            "pull_request_review_id": 1661322616,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25301",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1348378929/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-10-06T07:59:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1348378929",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25301#discussion_r1348941381"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25301"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1348941381"
                }
            },
            "author_association": "MEMBER",
            "body": "Right. I also need to have this case because `TM_SELECTED_TEXT` is a defined variable, and so even if we noop for it we would insert its default if present.",
            "commit_id": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
            "created_at": "2023-10-06T16:24:59Z",
            "diff_hunk": "@@ -0,0 +1,66 @@\n+local grammar = require('_snippet_grammar')\n+\n+--- Returns the current cursor position (0-based).\n+--- @return { [1]: integer, [2]: integer }\n+local function cursor_position()\n+  local cursor = vim.api.nvim_win_get_cursor(0)\n+  return { cursor[1] - 1, cursor[2] }\n+end\n+\n+--- Resolves variables.\n+--- @param var string\n+--- @return integer|string|nil\n+local function get_variable_value(var)\n+  if var == 'TM_SELECTED_TEXT' then\n+    return ''",
            "html_url": "https://github.com/neovim/neovim/pull/25301#discussion_r1348941381",
            "id": 1348941381,
            "in_reply_to_id": 1348178743,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5QZzZF",
            "original_commit_id": "37f8b93133d7e287631eb4f867d7cb1e2074d365",
            "original_line": 15,
            "original_position": 15,
            "original_start_line": null,
            "path": "runtime/lua/vim/snippet.lua",
            "position": null,
            "pull_request_review_id": 1662248615,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25301",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1348941381/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-10-06T16:25:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1348941381",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25301#discussion_r1348947069"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25301"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1348947069"
                }
            },
            "author_association": "MEMBER",
            "body": "Sure, we need to handle whatever the spec demands; I'm just saying don't sweat it if it doesn't make sense ;)",
            "commit_id": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
            "created_at": "2023-10-06T16:27:19Z",
            "diff_hunk": "@@ -0,0 +1,66 @@\n+local grammar = require('_snippet_grammar')\n+\n+--- Returns the current cursor position (0-based).\n+--- @return { [1]: integer, [2]: integer }\n+local function cursor_position()\n+  local cursor = vim.api.nvim_win_get_cursor(0)\n+  return { cursor[1] - 1, cursor[2] }\n+end\n+\n+--- Resolves variables.\n+--- @param var string\n+--- @return integer|string|nil\n+local function get_variable_value(var)\n+  if var == 'TM_SELECTED_TEXT' then\n+    return ''",
            "html_url": "https://github.com/neovim/neovim/pull/25301#discussion_r1348947069",
            "id": 1348947069,
            "in_reply_to_id": 1348178743,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5QZ0x9",
            "original_commit_id": "37f8b93133d7e287631eb4f867d7cb1e2074d365",
            "original_line": 15,
            "original_position": 15,
            "original_start_line": null,
            "path": "runtime/lua/vim/snippet.lua",
            "position": null,
            "pull_request_review_id": 1662257323,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25301",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1348947069/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-10-06T16:27:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1348947069",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25301#discussion_r1349177134"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25301"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1349177134"
                }
            },
            "author_association": "MEMBER",
            "body": "Note that the snippet grammar says that the variable's default can be any node, but here I'm just assuming that their string representation should be inserted and not doing any extra parsing.",
            "commit_id": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
            "created_at": "2023-10-06T18:22:21Z",
            "diff_hunk": "@@ -0,0 +1,84 @@\n+local G = require('_snippet_grammar')\n+\n+--- Returns the current cursor position (0-based).\n+--- @return { line: integer, col: integer }\n+local function cursor_position()\n+  local cursor = vim.api.nvim_win_get_cursor(0)\n+  return { line = cursor[1] - 1, col = cursor[2] }\n+end\n+\n+--- Resolves variables (like `$name` or `${name:default}`) as follows:\n+--- - When a variable is unknown (i.e.: its name is not recognized in any of the cases below), return `nil`.\n+--- - When a variable isn't set, return its default (if any) or an empty string.\n+---\n+--- Note that in some cases, the default is ignored since it's not clear how to distinguish an empty\n+--- value from an unset value (e.g.: `TM_CURRENT_LINE`).\n+---\n+--- @param var string\n+--- @param default? string\n+--- @return integer|string|nil\n+local function resolve_variable(var, default)\n+  if var == 'TM_SELECTED_TEXT' then\n+    return default or ''\n+  elseif var == 'TM_CURRENT_LINE' then\n+    return vim.api.nvim_get_current_line()\n+  elseif var == 'TM_CURRENT_WORD' then\n+    return vim.fn.expand('<cword>') --[[@as string]]\n+      or default\n+  elseif var == 'TM_LINE_INDEX' then\n+    return cursor_position().line\n+  elseif var == 'TM_LINE_NUMBER' then\n+    return cursor_position().line + 1\n+  end\n+\n+  local bufname = vim.api.nvim_buf_get_name(0)\n+  if bufname == '' then\n+    return default\n+  end\n+  if var == 'TM_FILENAME' then\n+    return vim.fn.fnamemodify(bufname, ':p:t')\n+  elseif var == 'TM_FILENAME_BASE' then\n+    local filename_base = vim.fn.fnamemodify(bufname, ':p:t'):gsub('%.[^%.]*$', '')\n+    return filename_base\n+  elseif var == 'TM_DIRECTORY' then\n+    return vim.fn.fnamemodify(bufname, ':p:h:t')\n+  elseif var == 'TM_FILEPATH' then\n+    return bufname\n+  end\n+\n+  -- Unknown variable.\n+  return nil\n+end\n+\n+--- @alias vim.snippet.Direction\n+--- | -1 # Previous\n+--- | 1 # Next\n+\n+local M = {}\n+\n+--- @param direction vim.snippet.Direction\n+function M.jumpable(direction) end\n+\n+--- @param direction vim.snippet.Direction\n+function M.jump(direction) end\n+\n+--- Expands the given snippet text.\n+--- @param snippet_text string\n+function M.expand(snippet_text)\n+  local snippet = G.parse(snippet_text)\n+\n+  for _, child in ipairs(snippet.data.children) do\n+    local type, data = child.type, child.data\n+    if type == G.NodeType.Variable then\n+      --- @cast data vim.snippet.VariableData\n+      -- Try to get the variable's value.\n+      local value = resolve_variable(data.name, tostring(data.default))",
            "html_url": "https://github.com/neovim/neovim/pull/25301#discussion_r1349177134",
            "id": 1349177134,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Qas8u",
            "original_commit_id": "34c1ba3cf3a1422146b522ca2acaccc12f316d11",
            "original_line": 75,
            "original_position": 75,
            "original_start_line": null,
            "path": "runtime/lua/vim/snippet.lua",
            "position": null,
            "pull_request_review_id": 1662579417,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25301",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1349177134/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-10-08T05:41:33Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1349177134",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25301#discussion_r1349610621"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25301"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1349610621"
                }
            },
            "author_association": "MEMBER",
            "body": "Sorry for the unrelated change. When using this function I noticed the missing type annotations and decided to piggy-back the fix here.",
            "commit_id": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
            "created_at": "2023-10-08T02:25:03Z",
            "diff_hunk": "@@ -8049,7 +8049,7 @@ function vim.fn.shellescape(string, special) end\n --- will be assumed.\n ---\n --- @param col? integer\n---- @return any\n+--- @return integer",
            "html_url": "https://github.com/neovim/neovim/pull/25301#discussion_r1349610621",
            "id": 1349610621,
            "line": 8052,
            "node_id": "PRRC_kwDOAPphoM5QcWx9",
            "original_commit_id": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
            "original_line": 8052,
            "original_position": 5,
            "original_start_line": null,
            "path": "runtime/lua/vim/_meta/vimfn.lua",
            "position": 5,
            "pull_request_review_id": 1663145505,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25301",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1349610621/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-10-08T02:25:03Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1349610621",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25301#discussion_r1349610930"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25301"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1349610930"
                }
            },
            "author_association": "MEMBER",
            "body": "I didn't want to define yet another range type and so I opted to use `Range4` here. It might be confusing given that the definition lives in the treesitter module, but it also seems like there's a spike in refactoring the entire position/range API (#25509) so I'm unsure of what would be the best action right now.",
            "commit_id": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
            "created_at": "2023-10-08T02:28:33Z",
            "diff_hunk": "@@ -0,0 +1,286 @@\n+local G = require('vim.lsp._snippet_grammar')\n+local snippet_ns = vim.api.nvim_create_namespace('vim/snippet')\n+\n+--- Resolves variables (like `$name` or `${name:default}`) as follows:\n+--- - When a variable is unknown (i.e.: its name is not recognized in any of the cases below), return `nil`.\n+--- - When a variable isn't set, return its default (if any) or an empty string.\n+---\n+--- Note that in some cases, the default is ignored since it's not clear how to distinguish an empty\n+--- value from an unset value (e.g.: `TM_CURRENT_LINE`).\n+---\n+--- @param var string\n+--- @param default string\n+--- @return string?\n+local function resolve_variable(var, default)\n+  --- @param str string\n+  --- @return string\n+  local function expand_or_default(str)\n+    local expansion = vim.fn.expand(str) --[[@as string]]\n+    return expansion == '' and default or expansion\n+  end\n+\n+  if var == 'TM_SELECTED_TEXT' then\n+    return default\n+  elseif var == 'TM_CURRENT_LINE' then\n+    return vim.api.nvim_get_current_line()\n+  elseif var == 'TM_CURRENT_WORD' then\n+    return expand_or_default('<cword>')\n+  elseif var == 'TM_LINE_INDEX' then\n+    return tostring(vim.fn.line('.') - 1)\n+  elseif var == 'TM_LINE_NUMBER' then\n+    return tostring(vim.fn.line('.'))\n+  end\n+\n+  if var == 'TM_FILENAME' then\n+    return expand_or_default('%:t')\n+  elseif var == 'TM_FILENAME_BASE' then\n+    -- Not using '%:t:r' since we want to remove all extensions.\n+    local filename_base = expand_or_default('%:t'):gsub('%.[^%.]*$', '')\n+    return filename_base\n+  elseif var == 'TM_DIRECTORY' then\n+    return expand_or_default('%:p:h:t')\n+  elseif var == 'TM_FILEPATH' then\n+    return expand_or_default('%:p')\n+  end\n+\n+  -- Unknown variable.\n+  return nil\n+end\n+\n+--- Removes newlines from the given text.\n+---\n+--- @param text string|string[]\n+--- @return string[]\n+local function remove_newlines(text)\n+  text = type(text) == 'string' and { text } or text\n+  --- @cast text string[]\n+  return vim.split(table.concat(text), '\\n')\n+end\n+\n+--- Appends the given text to the snippet, taking care of indentation.\n+---\n+--- @param snippet string[]\n+--- @param text string|string[]\n+local function append_to_snippet(snippet, text)\n+  -- Get the base indentation based on the current line and the last line of the snippet.\n+  local base_indent = vim.api.nvim_get_current_line():match('^%s*') or ''\n+  if #snippet > 0 then\n+    base_indent = base_indent .. (snippet[#snippet]:match('^%s*') or '') --- @type string\n+  end\n+\n+  local expand_tab = vim.api.nvim_get_option_value('expandtab', {})\n+  local lines = vim.iter.map(function(i, line)\n+    -- Replace tabs by spaces.\n+    if expand_tab then\n+      line = line:gsub('\\t', (' '):rep(vim.fn.shiftwidth())) --- @type string\n+    end\n+    -- Add the base indentation.\n+    if i > 1 then\n+      line = base_indent .. line\n+    end\n+    return line\n+  end, ipairs(remove_newlines(text)))\n+\n+  table.insert(snippet, table.concat(lines, '\\n'))\n+end\n+\n+--- Computes the 0-based position of a tabstop located at the end of `snippet` and spanning\n+--- `placeholder` (if given).\n+--- @param cursor_row integer\n+--- @param snippet string[]\n+--- @param placeholder string?\n+--- @return Range4",
            "html_url": "https://github.com/neovim/neovim/pull/25301#discussion_r1349610930",
            "id": 1349610930,
            "line": 92,
            "node_id": "PRRC_kwDOAPphoM5QcW2y",
            "original_commit_id": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
            "original_line": 92,
            "original_position": 92,
            "original_start_line": null,
            "path": "runtime/lua/vim/snippet.lua",
            "position": 92,
            "pull_request_review_id": 1663145788,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25301",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1349610930/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-10-08T05:42:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1349610930",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "MEMBER",
            "body": "If this is in `vim.snippet` that implies this is a general interface (like `vim.diagnostics`), not dependent on LSP?\r\n\r\nWhat is the format for defining snippets? I have the sense that LuaSnip's snippet format is hard to work with. ",
            "created_at": "2023-09-22T12:15:27Z",
            "html_url": "https://github.com/neovim/neovim/pull/25301#issuecomment-1731316986",
            "id": 1731316986,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25301",
            "node_id": "IC_kwDOAPphoM5nMcz6",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1731316986/reactions"
            },
            "updated_at": "2023-09-22T12:15:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1731316986",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "LuaSnip supports quite a few different ways of defining snippets. But the format which is hard to work with which you talk about is definitely out of scope for a minimal api. It's not that bad to work with if you got used to it and also really powerful.\r\nBut since this api has to be able to expand lsp snippets I'd expect it to use the [lsp snippet syntax](https://microsoft.github.io/language-server-protocol/specifications/lsp/3.17/specification/#snippet_syntax). Afaict by looking at the tests this is also the case. So I guess you define your snippets just as simple strings (which I don't like to be honest but don't see an easy way around).",
            "created_at": "2023-09-22T12:51:50Z",
            "html_url": "https://github.com/neovim/neovim/pull/25301#issuecomment-1731363101",
            "id": 1731363101,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25301",
            "node_id": "IC_kwDOAPphoM5nMoEd",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1731363101/reactions"
            },
            "updated_at": "2023-09-22T12:51:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1731363101",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/81827001?v=4",
                "events_url": "https://api.github.com/users/max397574/events{/privacy}",
                "followers_url": "https://api.github.com/users/max397574/followers",
                "following_url": "https://api.github.com/users/max397574/following{/other_user}",
                "gists_url": "https://api.github.com/users/max397574/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/max397574",
                "id": 81827001,
                "login": "max397574",
                "node_id": "MDQ6VXNlcjgxODI3MDAx",
                "organizations_url": "https://api.github.com/users/max397574/orgs",
                "received_events_url": "https://api.github.com/users/max397574/received_events",
                "repos_url": "https://api.github.com/users/max397574/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/max397574/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/max397574/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/max397574"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> If this is in vim.snippet that implies this is a general interface (like vim.diagnostics), not dependent on LSP?\r\n\r\nThis is a (future) discussion on the form of the public API for external snippet plugins. Let me briefly summarize the state of play:\r\n\r\n1. We need snippet _expansion_ as this is part of the LSP specs (completion items may be snippets), and we are committed to implementing the full spec.\r\n2. Expansion (keeping track of placeholders, moving between them, and replacing them with typed text) is a basic component of _every_ snippet plugin, so it makes sense to expose that to reduce duplication.\r\n3. The [snippet _format_ is defined by the spec](https://microsoft.github.io/language-server-protocol/specifications/lsp/3.17/specification/#snippet_syntax), so is indeed LSP specific. However, it has become a kind of *lingua franca* for snippets, so most editors and plugins support this (possibly in addition to their own, more powerful format) -- and we certainly don't want to invent yet another, internal, format. This justifies having this outside the `lsp` module. \r\n4. Snippet _libraries_ (defining your own snippets or installing collections of them from the internet) is definitely out of scope for us and left to snippet plugins to do however they see fit. This applies doubly to LuaSnips.\r\n\r\n",
            "created_at": "2023-09-22T13:33:10Z",
            "html_url": "https://github.com/neovim/neovim/pull/25301#issuecomment-1731428833",
            "id": 1731428833,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25301",
            "node_id": "IC_kwDOAPphoM5nM4Hh",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 9,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 9,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1731428833/reactions"
            },
            "updated_at": "2023-09-22T13:34:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1731428833",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/25301/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/25301/commits",
    "created_at": "2023-09-22T03:49:20Z",
    "diff_url": "https://github.com/neovim/neovim/pull/25301.diff",
    "draft": true,
    "head": {
        "label": "MariaSolOs:snippets",
        "ref": "snippets",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/MariaSolOs/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/MariaSolOs/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/MariaSolOs/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/MariaSolOs/neovim/branches{/branch}",
            "clone_url": "https://github.com/MariaSolOs/neovim.git",
            "collaborators_url": "https://api.github.com/repos/MariaSolOs/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/MariaSolOs/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/MariaSolOs/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/MariaSolOs/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/MariaSolOs/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/MariaSolOs/neovim/contributors",
            "created_at": "2023-08-05T17:10:58Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/MariaSolOs/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/MariaSolOs/neovim/downloads",
            "events_url": "https://api.github.com/repos/MariaSolOs/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/MariaSolOs/neovim/forks",
            "full_name": "MariaSolOs/neovim",
            "git_commits_url": "https://api.github.com/repos/MariaSolOs/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/MariaSolOs/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/MariaSolOs/neovim/git/tags{/sha}",
            "git_url": "git://github.com/MariaSolOs/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/MariaSolOs/neovim/hooks",
            "html_url": "https://github.com/MariaSolOs/neovim",
            "id": 675070403,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/MariaSolOs/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/MariaSolOs/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/MariaSolOs/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/MariaSolOs/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/MariaSolOs/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/MariaSolOs/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/MariaSolOs/neovim/merges",
            "milestones_url": "https://api.github.com/repos/MariaSolOs/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "R_kgDOKDzBww",
            "notifications_url": "https://api.github.com/repos/MariaSolOs/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/MariaSolOs/neovim/pulls{/number}",
            "pushed_at": "2023-10-08T20:05:33Z",
            "releases_url": "https://api.github.com/repos/MariaSolOs/neovim/releases{/id}",
            "size": 246467,
            "ssh_url": "git@github.com:MariaSolOs/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/MariaSolOs/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/MariaSolOs/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/MariaSolOs/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/MariaSolOs/neovim/subscription",
            "svn_url": "https://github.com/MariaSolOs/neovim",
            "tags_url": "https://api.github.com/repos/MariaSolOs/neovim/tags",
            "teams_url": "https://api.github.com/repos/MariaSolOs/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/MariaSolOs/neovim/git/trees{/sha}",
            "updated_at": "2023-08-09T04:34:06Z",
            "url": "https://api.github.com/repos/MariaSolOs/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
            "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
            "followers_url": "https://api.github.com/users/MariaSolOs/followers",
            "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
            "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/MariaSolOs",
            "id": 62502207,
            "login": "MariaSolOs",
            "node_id": "MDQ6VXNlcjYyNTAyMjA3",
            "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
            "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
            "repos_url": "https://api.github.com/users/MariaSolOs/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/MariaSolOs"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/25301",
    "id": 1525897868,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25301",
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": null,
            "id": 662566370,
            "name": "lsp",
            "node_id": "MDU6TGFiZWw2NjI1NjYzNzA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lsp"
        }
    ],
    "locked": false,
    "merge_commit_sha": "761216aa8022d26ad680d4e585399dc367c92bab",
    "merged_at": null,
    "milestone": null,
    "node_id": "PR_kwDOAPphoM5a81qM",
    "number": 25301,
    "patch_url": "https://github.com/neovim/neovim/pull/25301.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/25301/comments",
    "state": "open",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/68de01ff2e4c90e534d8c0ef55437e9d00c3e156",
    "title": "feat(lsp): snippet API",
    "updated_at": "2023-10-08T02:28:33Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/25301",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
        "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
        "followers_url": "https://api.github.com/users/MariaSolOs/followers",
        "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
        "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/MariaSolOs",
        "id": 62502207,
        "login": "MariaSolOs",
        "node_id": "MDQ6VXNlcjYyNTAyMjA3",
        "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
        "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
        "repos_url": "https://api.github.com/users/MariaSolOs/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/MariaSolOs"
    }
}