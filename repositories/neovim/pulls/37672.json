{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/37672/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/37672/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/37672"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/37672"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/37672/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/37672"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/fff99d8082dea725d5d9a475b47ca662b8a3a9dd"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 6574,
            "forks_count": 6574,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 2065,
            "open_issues_count": 2065,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2026-02-10T04:03:36Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 369214,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 96334,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2026-02-10T02:38:41Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 96334,
            "watchers_count": 96334,
            "web_commit_signoff_required": false
        },
        "sha": "a2b92a5efbb4159d15311f015bb270f80de42e3a",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim",
            "user_view_type": "public"
        }
    },
    "body": "Problem:  UI2 does not implement the msg_show event msg_id parameter.\r\nSolution: Store message IDs currently shown in the cmd/msg buffers.\r\n          Set extmarks spanning the message which are used to replace\r\n          a still visible message when a new message with the same ID\r\n          is received.\r\n\r\nResolve #33779\r\n",
    "closed_at": "2026-02-04T19:11:35Z",
    "comment_data": [],
    "comment_regular_data": [
        {
            "author_association": "MEMBER",
            "body": "off topic / separate PR: would you mind renaming the `_extui/` directory to `_ui2/` since we are nearing a release, we want to use consistent language everywhere.",
            "created_at": "2026-02-03T13:04:59Z",
            "html_url": "https://github.com/neovim/neovim/pull/37672#issuecomment-3841200694",
            "id": 3841200694,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37672",
            "node_id": "IC_kwDOAPphoM7k9BI2",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3841200694/reactions"
            },
            "updated_at": "2026-02-03T13:04:59Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3841200694",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> would you mind renaming the _extui/ directory to _ui2/ since we are nearing a release, we want to use consistent language everywhere.\r\n\r\nWill do, should it live in `_core/ui2`?",
            "created_at": "2026-02-03T13:20:38Z",
            "html_url": "https://github.com/neovim/neovim/pull/37672#issuecomment-3841285467",
            "id": 3841285467,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37672",
            "node_id": "IC_kwDOAPphoM7k9V1b",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3841285467/reactions"
            },
            "updated_at": "2026-02-03T13:20:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3841285467",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> should it live in `_core/ui2`?\r\n\r\nThat is probably a good idea since this will be needed even with `nvim -u NONE` :)",
            "created_at": "2026-02-03T13:21:58Z",
            "html_url": "https://github.com/neovim/neovim/pull/37672#issuecomment-3841292634",
            "id": 3841292634,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37672",
            "node_id": "IC_kwDOAPphoM7k9Xla",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3841292634/reactions"
            },
            "updated_at": "2026-02-03T13:21:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3841292634",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> That is probably a good idea since this will be needed even with nvim -u NONE :)\r\n\r\nExactly, though I wondered if it is appropriate while it's still experimental. Or if the module itself still needs an underscore in `_core`, or even if it should just be renamed `_core/ui` already, omitting the `2`, to avoid future renamingðŸ˜…",
            "created_at": "2026-02-03T14:34:29Z",
            "html_url": "https://github.com/neovim/neovim/pull/37672#issuecomment-3841702469",
            "id": 3841702469,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37672",
            "node_id": "IC_kwDOAPphoM7k-7pF",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3841702469/reactions"
            },
            "updated_at": "2026-02-03T14:34:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3841702469",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> though I wondered if it is appropriate while it's still experimental.\r\n\r\nNot worried about that, it's very close to being switched on, after 0.12 release at least.\r\n\r\n> Or if the module itself still needs an underscore in `_core`,\r\n\r\nEverything in `_core` is private/internal.\r\n\r\n> or even if it should just be renamed `_core/ui` already, omitting the `2`, to avoid future renaming\r\n\r\n\"ui2\" is a useful nonce until we have a more holistic idea of how things fit together. After we  delete the related C code, we can revisit.",
            "created_at": "2026-02-03T14:43:35Z",
            "html_url": "https://github.com/neovim/neovim/pull/37672#issuecomment-3841754037",
            "id": 3841754037,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37672",
            "node_id": "IC_kwDOAPphoM7k_IO1",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3841754037/reactions"
            },
            "updated_at": "2026-02-03T14:43:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3841754037",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I still get `Invalid 'end_col': out of range`\r\n```\r\nError in \"msg_show\" UI event handler (ns=nvim._ext_ui):\r\nLua: ...m-src-dev/share/nvim/runtime/lua/vim/_extui/messages.lua:297: Invalid 'end_col': out of range\r\nstack traceback:\r\n        [C]: in function 'nvim_buf_set_text'\r\n        ...m-src-dev/share/nvim/runtime/lua/vim/_extui/messages.lua:297: in function 'show_msg'\r\n        ...m-src-dev/share/nvim/runtime/lua/vim/_extui/messages.lua:426: in function 'handler'\r\n        ...uilds/from-src-dev/share/nvim/runtime/lua/vim/_extui.lua:44: in function 'ui_callback'\r\n        ...uilds/from-src-dev/share/nvim/runtime/lua/vim/_extui.lua:95: in function <...uilds/from-src-dev/share/nvim/runtime/lua/vim/_extui.lua:87>\r\n        [C]: in function 'nvim_echo'\r\n        ...fig/nvim/pack/arctgx/opt/arctgx/lua/arctgx/start/lsp.lua:122: in function <...fig/nvim/pack/arctgx/opt/arctgx/lua/arctgx/start/lsp.lua:113>\r\n        [C]: in function 'nvim_exec_autocmds'\r\n        ...from-src-dev/share/nvim/runtime/lua/vim/lsp/handlers.lua:81: in function 'handler'\r\n        ...s/from-src-dev/share/nvim/runtime/lua/vim/lsp/client.lua:1240: in function '_notification'\r\n        ...s/\r\n```\r\nwhen testing progress messages:\r\n```lua\r\napi.nvim_create_autocmd('LspProgress', {\r\n  callback = function (ev)\r\n    local value = ev.data.params.value\r\n    local clientId = ev.data.client_id\r\n    local client = assert(vim.lsp.get_clients({id = clientId})[1])\r\n    local msgId = ('progress-lsp-%s'):format(clientId)\r\n    local msg = ('%s: %s'):format(client.name or clientId, value.message or ('finished'))\r\n    api.nvim_echo({{msg}}, false, {\r\n      id = msgId,\r\n      kind = 'progress',\r\n      title = value.title,\r\n      status = 'success',\r\n      percent = value.percentage,\r\n    })\r\n  end,\r\n})\r\n```",
            "created_at": "2026-02-03T15:15:51Z",
            "html_url": "https://github.com/neovim/neovim/pull/37672#issuecomment-3841944050",
            "id": 3841944050,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37672",
            "node_id": "IC_kwDOAPphoM7k_2ny",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 1,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3841944050/reactions"
            },
            "updated_at": "2026-02-03T20:13:20Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3841944050",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11404453?v=4",
                "events_url": "https://api.github.com/users/przepompownia/events{/privacy}",
                "followers_url": "https://api.github.com/users/przepompownia/followers",
                "following_url": "https://api.github.com/users/przepompownia/following{/other_user}",
                "gists_url": "https://api.github.com/users/przepompownia/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/przepompownia",
                "id": 11404453,
                "login": "przepompownia",
                "node_id": "MDQ6VXNlcjExNDA0NDUz",
                "organizations_url": "https://api.github.com/users/przepompownia/orgs",
                "received_events_url": "https://api.github.com/users/przepompownia/received_events",
                "repos_url": "https://api.github.com/users/przepompownia/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/przepompownia/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/przepompownia/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/przepompownia",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Simpler repro: \r\n```lua\r\nrequire('vim._extui').enable({enable = true, msg = {target = 'msg'}})\r\nmsgId = 'x'\r\nfor _, percentage in ipairs({0, 20, 50, 100}) do\r\n    vim.api.nvim_echo({{'Test update UI2 message'}}, false, {\r\n      id = msgId,\r\n      kind = 'progress',\r\n      title = 'UI2',\r\n      status = 'success',\r\n      percent = percentage,\r\n    })\r\nend\r\n```",
            "created_at": "2026-02-03T15:21:04Z",
            "html_url": "https://github.com/neovim/neovim/pull/37672#issuecomment-3841972804",
            "id": 3841972804,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37672",
            "node_id": "IC_kwDOAPphoM7k_9pE",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3841972804/reactions"
            },
            "updated_at": "2026-02-03T20:13:30Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3841972804",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11404453?v=4",
                "events_url": "https://api.github.com/users/przepompownia/events{/privacy}",
                "followers_url": "https://api.github.com/users/przepompownia/followers",
                "following_url": "https://api.github.com/users/przepompownia/following{/other_user}",
                "gists_url": "https://api.github.com/users/przepompownia/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/przepompownia",
                "id": 11404453,
                "login": "przepompownia",
                "node_id": "MDQ6VXNlcjExNDA0NDUz",
                "organizations_url": "https://api.github.com/users/przepompownia/orgs",
                "received_events_url": "https://api.github.com/users/przepompownia/received_events",
                "repos_url": "https://api.github.com/users/przepompownia/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/przepompownia/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/przepompownia/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/przepompownia",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Thanks, didn't test multiple highlight chunks. Should be resolved.",
            "created_at": "2026-02-03T20:13:08Z",
            "html_url": "https://github.com/neovim/neovim/pull/37672#issuecomment-3843429806",
            "id": 3843429806,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37672",
            "node_id": "IC_kwDOAPphoM7lFhWu",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 1,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3843429806/reactions"
            },
            "updated_at": "2026-02-03T20:13:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3843429806",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "```lua\r\nrequire('vim._extui').enable({enable = true, msg = {target = 'msg'}})\r\n\r\nlocal msgId = 'x'\r\nlocal percentage = 0\r\nlocal delta = 10\r\nlocal interval = 400\r\nlocal msg = ' Test update UI2 message %s %% done'\r\nlocal timer = assert(vim.uv.new_timer())\r\n\r\ntimer:start(0, interval, function ()\r\n  if percentage >= 100 then\r\n    timer:stop()\r\n    timer:close()\r\n    return\r\n  end\r\n  vim.schedule(function ()\r\n    vim.api.nvim_echo({{msg:format(percentage)}}, false, {\r\n      id = msgId,\r\n      kind = 'progress',\r\n      title = 'UI2',\r\n      status = percentage < 100 and 'running' or 'success',\r\n      percent = percentage,\r\n    })\r\n  end)\r\n  percentage = percentage + delta\r\nend)\r\n```\r\n\r\n\r\nhttps://github.com/user-attachments/assets/2f6deab6-8c87-49b0-9ca2-8cc688e5e907\r\n\r\nThank you! \r\n\r\nThere is one thing I observe only in my working environment, but not (yet) on minimal repro (so I don't know yet if related to this PR). Some messages do not disappear:\r\n<img width=\"531\" height=\"79\" alt=\"image\" src=\"https://github.com/user-attachments/assets/89efa4cb-14b0-4462-92c2-da9590f044c5\" />\r\n\r\nand duplicates are not squashed:\r\n<img width=\"550\" height=\"143\" alt=\"image\" src=\"https://github.com/user-attachments/assets/0091d98b-fb54-41d8-b06f-c1f86be2df87\" />\r\n",
            "created_at": "2026-02-03T21:26:35Z",
            "html_url": "https://github.com/neovim/neovim/pull/37672#issuecomment-3843765022",
            "id": 3843765022,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37672",
            "node_id": "IC_kwDOAPphoM7lGzMe",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3843765022/reactions"
            },
            "updated_at": "2026-02-04T15:55:14Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3843765022",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11404453?v=4",
                "events_url": "https://api.github.com/users/przepompownia/events{/privacy}",
                "followers_url": "https://api.github.com/users/przepompownia/followers",
                "following_url": "https://api.github.com/users/przepompownia/following{/other_user}",
                "gists_url": "https://api.github.com/users/przepompownia/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/przepompownia",
                "id": 11404453,
                "login": "przepompownia",
                "node_id": "MDQ6VXNlcjExNDA0NDUz",
                "organizations_url": "https://api.github.com/users/przepompownia/orgs",
                "received_events_url": "https://api.github.com/users/przepompownia/received_events",
                "repos_url": "https://api.github.com/users/przepompownia/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/przepompownia/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/przepompownia/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/przepompownia",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "```lua\r\nrequire('vim._extui').enable({enable = true, msg = {target = 'msg'}})\r\n\r\nlocal msgId = 'x'\r\nlocal percentage = 0\r\nlocal delta = 10\r\nlocal interval = 400\r\nlocal msg = ' Test update UI2 message %s %% done'\r\nlocal timer = assert(vim.uv.new_timer())\r\n\r\ntimer:start(0, interval, function ()\r\n  if percentage >= 100 then\r\n    timer:stop()\r\n    timer:close()\r\n    return\r\n  end\r\n  vim.schedule(function ()\r\n    vim.api.nvim_echo({{msg:format(percentage)}}, false, {\r\n      id = msgId,\r\n      kind = 'progress',\r\n      title = 'UI2',\r\n      status = percentage < 100 and 'running' or 'success',\r\n      percent = percentage,\r\n    })\r\n  end)\r\n  percentage = percentage + delta\r\nend)\r\n\r\nvim.cmd.write()\r\nvim.cmd.write()\r\nvim.cmd.write()\r\nvim.cmd.write()\r\nvim.cmd.write()\r\n```\r\nThis (sourced by `so %`) should be enough to reproduce. \r\n\r\n<img width=\"947\" height=\"553\" alt=\"image\" src=\"https://github.com/user-attachments/assets/117058fc-1e31-44a3-8597-1ed493053a1a\" />\r\n",
            "created_at": "2026-02-03T22:10:50Z",
            "html_url": "https://github.com/neovim/neovim/pull/37672#issuecomment-3843943930",
            "id": 3843943930,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37672",
            "node_id": "IC_kwDOAPphoM7lHe36",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3843943930/reactions"
            },
            "updated_at": "2026-02-04T15:55:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3843943930",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11404453?v=4",
                "events_url": "https://api.github.com/users/przepompownia/events{/privacy}",
                "followers_url": "https://api.github.com/users/przepompownia/followers",
                "following_url": "https://api.github.com/users/przepompownia/following{/other_user}",
                "gists_url": "https://api.github.com/users/przepompownia/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/przepompownia",
                "id": 11404453,
                "login": "przepompownia",
                "node_id": "MDQ6VXNlcjExNDA0NDUz",
                "organizations_url": "https://api.github.com/users/przepompownia/orgs",
                "received_events_url": "https://api.github.com/users/przepompownia/received_events",
                "repos_url": "https://api.github.com/users/przepompownia/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/przepompownia/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/przepompownia/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/przepompownia",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "It seems all that's necessary is the `:write` message? I.e. the `replace_last` logic is likely broken.",
            "created_at": "2026-02-03T22:53:51Z",
            "html_url": "https://github.com/neovim/neovim/pull/37672#issuecomment-3844220616",
            "id": 3844220616,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37672",
            "node_id": "IC_kwDOAPphoM7lIibI",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3844220616/reactions"
            },
            "updated_at": "2026-02-03T22:53:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3844220616",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Is this worth merging meanwhile?",
            "created_at": "2026-02-04T13:30:20Z",
            "html_url": "https://github.com/neovim/neovim/pull/37672#issuecomment-3847467489",
            "id": 3847467489,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37672",
            "node_id": "IC_kwDOAPphoM7lU7Hh",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3847467489/reactions"
            },
            "updated_at": "2026-02-04T13:31:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3847467489",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Working on itðŸ˜„",
            "created_at": "2026-02-04T13:49:07Z",
            "html_url": "https://github.com/neovim/neovim/pull/37672#issuecomment-3847574061",
            "id": 3847574061,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37672",
            "node_id": "IC_kwDOAPphoM7lVVIt",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 3,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 3,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3847574061/reactions"
            },
            "updated_at": "2026-02-04T13:49:07Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3847574061",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "```\r\nvim.schedule callback: ...m-src-dev/share/nvim/runtime/lua/vim/_extui/messages.lua:66: Invalid 'id': Expected Lua number\r\nstack traceback:\r\n\t[C]: in function 'nvim_buf_get_extmark_by_id'\r\n\t...m-src-dev/share/nvim/runtime/lua/vim/_extui/messages.lua:66: in function ''\r\n\tvim/_core/editor.lua: in function <vim/_core/editor.lua:0>\r\nvim.schedule callback: ...m-src-dev/share/nvim/runtime/lua/vim/_extui/messages.lua:66: Invalid 'id': Expected Lua number\r\n```\r\n- I get it when sourcing my above example more than once,\r\n- duplicates are still shown separately.\r\n- for some reason the intermediate (`20%`) progress message lands into the bottom window (`se lines` shows `12`).\r\n\r\n<img width=\"967\" height=\"234\" alt=\"image\" src=\"https://github.com/user-attachments/assets/b1b65292-32a0-4d05-8846-e9fdc3cb766a\" />\r\n\r\nOn the better side: disappearing started to work when tested in my real environment :)",
            "created_at": "2026-02-04T16:56:19Z",
            "html_url": "https://github.com/neovim/neovim/pull/37672#issuecomment-3848596884",
            "id": 3848596884,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37672",
            "node_id": "IC_kwDOAPphoM7lZO2U",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3848596884/reactions"
            },
            "updated_at": "2026-02-04T19:56:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3848596884",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11404453?v=4",
                "events_url": "https://api.github.com/users/przepompownia/events{/privacy}",
                "followers_url": "https://api.github.com/users/przepompownia/followers",
                "following_url": "https://api.github.com/users/przepompownia/following{/other_user}",
                "gists_url": "https://api.github.com/users/przepompownia/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/przepompownia",
                "id": 11404453,
                "login": "przepompownia",
                "node_id": "MDQ6VXNlcjExNDA0NDUz",
                "organizations_url": "https://api.github.com/users/przepompownia/orgs",
                "received_events_url": "https://api.github.com/users/przepompownia/received_events",
                "repos_url": "https://api.github.com/users/przepompownia/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/przepompownia/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/przepompownia/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/przepompownia",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Latest commit should resolve the error and the unnecessary expanded cmdline routing (`nvim_win_text_height->end_row` was previously emitted because a message was always added to the end of the buffer, which isn't true with replaced messages).\r\n\r\n> duplicates are still shown separately.\r\n\r\nThis is an issue specific to the `bufwrite` messages, if you replace the multiple `vim.cmd.write()` with `print('foo')` in the repro it works more as expected with the duplicate message marker.\r\n\r\nThe `bufwrite` message is emitted twice, once incomplete and once complete with `replace_last = true` after writing has finished. Thus, the logic to determine whether the message is the same as the previous falls through because it is interspersed with incomplete messages. I'm not sure whether ui2 should account for that. It probably would make sense to forget a replaced message as being the previous message.",
            "created_at": "2026-02-04T17:59:37Z",
            "html_url": "https://github.com/neovim/neovim/pull/37672#issuecomment-3848914084",
            "id": 3848914084,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37672",
            "node_id": "IC_kwDOAPphoM7lacSk",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3848914084/reactions"
            },
            "updated_at": "2026-02-04T18:02:03Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3848914084",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Quick test: the progress message is invisible while `bufwrite` messages are visible.\r\n\r\n<img width=\"967\" height=\"234\" alt=\"Screenshot From 2026-02-04 19-06-06\" src=\"https://github.com/user-attachments/assets/60184bcf-f636-4a49-8479-4549ddff000a\" />\r\n\r\n<img width=\"967\" height=\"234\" alt=\"image\" src=\"https://github.com/user-attachments/assets/35905bbb-ae06-4d35-b2bf-aec109a63704\" />\r\n\r\nCan it be related to scheduling user messages?",
            "created_at": "2026-02-04T18:05:00Z",
            "html_url": "https://github.com/neovim/neovim/pull/37672#issuecomment-3848938055",
            "id": 3848938055,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37672",
            "node_id": "IC_kwDOAPphoM7laiJH",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3848938055/reactions"
            },
            "updated_at": "2026-02-04T18:07:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3848938055",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11404453?v=4",
                "events_url": "https://api.github.com/users/przepompownia/events{/privacy}",
                "followers_url": "https://api.github.com/users/przepompownia/followers",
                "following_url": "https://api.github.com/users/przepompownia/following{/other_user}",
                "gists_url": "https://api.github.com/users/przepompownia/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/przepompownia",
                "id": 11404453,
                "login": "przepompownia",
                "node_id": "MDQ6VXNlcjExNDA0NDUz",
                "organizations_url": "https://api.github.com/users/przepompownia/orgs",
                "received_events_url": "https://api.github.com/users/przepompownia/received_events",
                "repos_url": "https://api.github.com/users/przepompownia/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/przepompownia/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/przepompownia/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/przepompownia",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Seems related to window size, the msg window is (arbitrarily) capped to `vim.o.lines/2` so if you flood the message window with bufwrite messages the progress message will be \"invisible\" until other messages clear.",
            "created_at": "2026-02-04T18:09:10Z",
            "html_url": "https://github.com/neovim/neovim/pull/37672#issuecomment-3848956104",
            "id": 3848956104,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37672",
            "node_id": "IC_kwDOAPphoM7lamjI",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3848956104/reactions"
            },
            "updated_at": "2026-02-04T18:11:23Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3848956104",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Indeed (on full screen):\r\n<img width=\"486\" height=\"175\" alt=\"image\" src=\"https://github.com/user-attachments/assets/349e4df8-8557-4595-a7d1-3a9ac2fa9eb0\" />\r\n",
            "created_at": "2026-02-04T18:10:32Z",
            "html_url": "https://github.com/neovim/neovim/pull/37672#issuecomment-3848962384",
            "id": 3848962384,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37672",
            "node_id": "IC_kwDOAPphoM7laoFQ",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3848962384/reactions"
            },
            "updated_at": "2026-02-04T19:56:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3848962384",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11404453?v=4",
                "events_url": "https://api.github.com/users/przepompownia/events{/privacy}",
                "followers_url": "https://api.github.com/users/przepompownia/followers",
                "following_url": "https://api.github.com/users/przepompownia/following{/other_user}",
                "gists_url": "https://api.github.com/users/przepompownia/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/przepompownia",
                "id": 11404453,
                "login": "przepompownia",
                "node_id": "MDQ6VXNlcjExNDA0NDUz",
                "organizations_url": "https://api.github.com/users/przepompownia/orgs",
                "received_events_url": "https://api.github.com/users/przepompownia/received_events",
                "repos_url": "https://api.github.com/users/przepompownia/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/przepompownia/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/przepompownia/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/przepompownia",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> To make the msg window a useful sink for progress messages it should probably place those at the bottom.\r\n\r\nIt would be nice to have it, not necessary here :) I used a separate priority to place the progress message below the others in my msg-show.nvim. \r\n\r\n> The bufwrite message is emitted twice, once incomplete and once complete with replace_last = true after writing has finished. Thus, the logic to determine whether the message is the same as the previous falls through because it is interspersed with incomplete messages. I'm not sure whether ui2 should account for that. It probably would make sense to forget a replaced message as being the previous message.\r\n\r\nI also looked there to see how I was handling `bufwrite` messages. I simply replaced such message of that kind without `replace_last` flag by the next such message with it. Not sure how much buggy was it. It was before introducing message ids, IIRC. I guess it can be done better in UI2 (maybe in a separate PR) since we have message ids and this feature.\r\n\r\nhttps://github.com/przepompownia/msg-show.nvim/blob/34595f169f81907783b2989fe3915279bbb18d77/lua/msg-show/notifier.lua#L327-L337",
            "created_at": "2026-02-04T18:25:36Z",
            "html_url": "https://github.com/neovim/neovim/pull/37672#issuecomment-3849043759",
            "id": 3849043759,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37672",
            "node_id": "IC_kwDOAPphoM7la78v",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3849043759/reactions"
            },
            "updated_at": "2026-02-04T18:29:12Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3849043759",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11404453?v=4",
                "events_url": "https://api.github.com/users/przepompownia/events{/privacy}",
                "followers_url": "https://api.github.com/users/przepompownia/followers",
                "following_url": "https://api.github.com/users/przepompownia/following{/other_user}",
                "gists_url": "https://api.github.com/users/przepompownia/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/przepompownia",
                "id": 11404453,
                "login": "przepompownia",
                "node_id": "MDQ6VXNlcjExNDA0NDUz",
                "organizations_url": "https://api.github.com/users/przepompownia/orgs",
                "received_events_url": "https://api.github.com/users/przepompownia/received_events",
                "repos_url": "https://api.github.com/users/przepompownia/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/przepompownia/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/przepompownia/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/przepompownia",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> Is this worth merging meanwhile?\r\n\r\nAt least for me this PR has started to become usable :rocket: ",
            "created_at": "2026-02-04T18:37:30Z",
            "html_url": "https://github.com/neovim/neovim/pull/37672#issuecomment-3849116592",
            "id": 3849116592,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37672",
            "node_id": "IC_kwDOAPphoM7lbNuw",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3849116592/reactions"
            },
            "updated_at": "2026-02-04T18:37:30Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3849116592",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11404453?v=4",
                "events_url": "https://api.github.com/users/przepompownia/events{/privacy}",
                "followers_url": "https://api.github.com/users/przepompownia/followers",
                "following_url": "https://api.github.com/users/przepompownia/following{/other_user}",
                "gists_url": "https://api.github.com/users/przepompownia/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/przepompownia",
                "id": 11404453,
                "login": "przepompownia",
                "node_id": "MDQ6VXNlcjExNDA0NDUz",
                "organizations_url": "https://api.github.com/users/przepompownia/orgs",
                "received_events_url": "https://api.github.com/users/przepompownia/received_events",
                "repos_url": "https://api.github.com/users/przepompownia/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/przepompownia/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/przepompownia/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/przepompownia",
                "user_view_type": "public"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/37672/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/37672/commits",
    "created_at": "2026-02-02T13:06:16Z",
    "diff_url": "https://github.com/neovim/neovim/pull/37672.diff",
    "draft": false,
    "head": {
        "label": "luukvbaal:replacemsg",
        "ref": "replacemsg",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/luukvbaal/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/luukvbaal/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/luukvbaal/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/luukvbaal/neovim/branches{/branch}",
            "clone_url": "https://github.com/luukvbaal/neovim.git",
            "collaborators_url": "https://api.github.com/repos/luukvbaal/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/luukvbaal/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/luukvbaal/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/luukvbaal/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/luukvbaal/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/luukvbaal/neovim/contributors",
            "created_at": "2022-07-05T23:21:47Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/luukvbaal/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/luukvbaal/neovim/downloads",
            "events_url": "https://api.github.com/repos/luukvbaal/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/luukvbaal/neovim/forks",
            "full_name": "luukvbaal/neovim",
            "git_commits_url": "https://api.github.com/repos/luukvbaal/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/luukvbaal/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/luukvbaal/neovim/git/tags{/sha}",
            "git_url": "git://github.com/luukvbaal/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/luukvbaal/neovim/hooks",
            "html_url": "https://github.com/luukvbaal/neovim",
            "id": 510922471,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/luukvbaal/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/luukvbaal/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/luukvbaal/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/luukvbaal/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/luukvbaal/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/luukvbaal/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/luukvbaal/neovim/merges",
            "milestones_url": "https://api.github.com/repos/luukvbaal/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "R_kgDOHnQO5w",
            "notifications_url": "https://api.github.com/repos/luukvbaal/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/luukvbaal/neovim/pulls{/number}",
            "pushed_at": "2026-02-09T05:02:38Z",
            "releases_url": "https://api.github.com/repos/luukvbaal/neovim/releases{/id}",
            "size": 362625,
            "ssh_url": "git@github.com:luukvbaal/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/luukvbaal/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/luukvbaal/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/luukvbaal/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/luukvbaal/neovim/subscription",
            "svn_url": "https://github.com/luukvbaal/neovim",
            "tags_url": "https://api.github.com/repos/luukvbaal/neovim/tags",
            "teams_url": "https://api.github.com/repos/luukvbaal/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/luukvbaal/neovim/git/trees{/sha}",
            "updated_at": "2025-11-04T15:53:19Z",
            "url": "https://api.github.com/repos/luukvbaal/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "fff99d8082dea725d5d9a475b47ca662b8a3a9dd",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
            "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
            "followers_url": "https://api.github.com/users/luukvbaal/followers",
            "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
            "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/luukvbaal",
            "id": 31730729,
            "login": "luukvbaal",
            "node_id": "MDQ6VXNlcjMxNzMwNzI5",
            "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
            "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
            "repos_url": "https://api.github.com/users/luukvbaal/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/luukvbaal",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/37672",
    "id": 3236482949,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37672",
    "labels": [
        {
            "color": "0052CC",
            "default": false,
            "description": "",
            "id": 6664957181,
            "name": "ci:skip-news",
            "node_id": "LA_kwDOAPphoM8AAAABjUMs_Q",
            "url": "https://api.github.com/repos/neovim/neovim/labels/ci:skip-news"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "Nvim 0.12 mesages/dialog/pager/notifications based on the UI-ext protocol",
            "id": 8934685970,
            "name": "ui2",
            "node_id": "LA_kwDOAPphoM8AAAACFIx9Eg",
            "url": "https://api.github.com/repos/neovim/neovim/labels/ui2"
        }
    ],
    "locked": false,
    "merge_commit_sha": "db2a54996ecfb4138301ddb091f537c0a90a9bd4",
    "merged_at": "2026-02-04T19:11:35Z",
    "milestone": null,
    "node_id": "PR_kwDOAPphoM7A6M-F",
    "number": 37672,
    "patch_url": "https://github.com/neovim/neovim/pull/37672.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/37672/comments",
    "state": "closed",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/fff99d8082dea725d5d9a475b47ca662b8a3a9dd",
    "title": "feat(ui2): replace message by ID",
    "updated_at": "2026-02-04T19:56:56Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/37672",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
        "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
        "followers_url": "https://api.github.com/users/luukvbaal/followers",
        "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
        "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/luukvbaal",
        "id": 31730729,
        "login": "luukvbaal",
        "node_id": "MDQ6VXNlcjMxNzMwNzI5",
        "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
        "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
        "repos_url": "https://api.github.com/users/luukvbaal/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/luukvbaal",
        "user_view_type": "public"
    }
}