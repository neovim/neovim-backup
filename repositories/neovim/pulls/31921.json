{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/31921/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/31921/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/31921"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/31921"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/31921/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/31921"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/969c5c04e8f748b0a67978c9f2687cc4a993ee79"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 5827,
            "forks_count": 5827,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 1855,
            "open_issues_count": 1855,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2025-01-27T22:25:06Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 305512,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 85659,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2025-01-28T01:41:42Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 85659,
            "watchers_count": 85659,
            "web_commit_signoff_required": false
        },
        "sha": "2470db02c5136525b8abce1ee0889d94f8d81d98",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim",
            "user_view_type": "public"
        }
    },
    "body": "When setting virtual text to be right aligned, the virtual text will print on top of buffer text if the virtual text is too long.\r\n\r\nI would think a more desirable behavior for virtual text applications (such as LSP diagnostics) would be to keep the virtual text right aligned if it is short enough to fit without being truncated, but to truncate it and insert it at EOL if it is too long (thus avoiding the \"virtual text is covering up buffer text\" problem).\r\n\r\nRight Aligned Example (note that the function name \"getMemoryBlock\" gets partially covered up by virtual text):\r\n\r\n![20250108142431](https://github.com/user-attachments/assets/a5544861-3bfa-4fdc-bfdf-d01cb90b2f62)\r\n\r\nRight Aligned Truncated Example (since the virtual text in the right window is too long, it is truncated):\r\n\r\n![20250108142310](https://github.com/user-attachments/assets/0c47fc80-785c-4a3d-b2ce-98cdfcf43a1a)\r\n",
    "closed_at": "2025-01-25T03:57:45Z",
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31921#discussion_r1907988906"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31921"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907988906"
                }
            },
            "author_association": "MEMBER",
            "body": "This will lead to inconsistent sorting order. `kVPosRightAlign` places virtual text from right to left, while `kVPosEndOfLine` places virtual text from left to right.",
            "commit_id": "969c5c04e8f748b0a67978c9f2687cc4a993ee79",
            "created_at": "2025-01-08T23:49:59Z",
            "diff_hunk": "@@ -275,6 +275,15 @@ static void draw_virt_text(win_T *wp, buf_T *buf, int col_off, int *end_col, int\n     if (decor_virt_pos(item) && item->draw_col == -1) {\n       bool updated = true;\n       VirtTextPos pos = decor_virt_pos_kind(item);\n+\n+      if (pos == kVPosRightAlignTrunc) {\n+        if (do_eol && (vt->width <= (right_pos - state->eol_col))) {\n+          pos = kVPosRightAlign;\n+        } else {\n+          pos = kVPosEndOfLine;\n+        }",
            "html_url": "https://github.com/neovim/neovim/pull/31921#discussion_r1907988906",
            "id": 1907988906,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5xuZmq",
            "original_commit_id": "d8f90a012549a2a2cdcfa4ffb11d5683af50e840",
            "original_line": 284,
            "original_position": 10,
            "original_start_line": 280,
            "path": "src/nvim/drawline.c",
            "position": null,
            "pull_request_review_id": 2538486895,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31921",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907988906/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2025-01-08T23:49:59Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1907988906",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31921#discussion_r1908009464"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31921"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1908009464"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "You're absolutely right! I'll take another swipe at this",
            "commit_id": "969c5c04e8f748b0a67978c9f2687cc4a993ee79",
            "created_at": "2025-01-09T00:20:29Z",
            "diff_hunk": "@@ -275,6 +275,15 @@ static void draw_virt_text(win_T *wp, buf_T *buf, int col_off, int *end_col, int\n     if (decor_virt_pos(item) && item->draw_col == -1) {\n       bool updated = true;\n       VirtTextPos pos = decor_virt_pos_kind(item);\n+\n+      if (pos == kVPosRightAlignTrunc) {\n+        if (do_eol && (vt->width <= (right_pos - state->eol_col))) {\n+          pos = kVPosRightAlign;\n+        } else {\n+          pos = kVPosEndOfLine;\n+        }",
            "html_url": "https://github.com/neovim/neovim/pull/31921#discussion_r1908009464",
            "id": 1908009464,
            "in_reply_to_id": 1907988906,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5xuen4",
            "original_commit_id": "d8f90a012549a2a2cdcfa4ffb11d5683af50e840",
            "original_line": 284,
            "original_position": 10,
            "original_start_line": 280,
            "path": "src/nvim/drawline.c",
            "position": null,
            "pull_request_review_id": 2538518416,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31921",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1908009464/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2025-01-09T00:20:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1908009464",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/39860568?v=4",
                "events_url": "https://api.github.com/users/georgev93/events{/privacy}",
                "followers_url": "https://api.github.com/users/georgev93/followers",
                "following_url": "https://api.github.com/users/georgev93/following{/other_user}",
                "gists_url": "https://api.github.com/users/georgev93/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/georgev93",
                "id": 39860568,
                "login": "georgev93",
                "node_id": "MDQ6VXNlcjM5ODYwNTY4",
                "organizations_url": "https://api.github.com/users/georgev93/orgs",
                "received_events_url": "https://api.github.com/users/georgev93/received_events",
                "repos_url": "https://api.github.com/users/georgev93/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/georgev93/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/georgev93/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/georgev93",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31921#discussion_r1909464775"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31921"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1909464775"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Now I'm checking for the combined length of the eol_right_aligned virtual text, and setting the eol_col to a position that would result in combined right alignment. If the combined virtual text is too long to fit, it doesn't change the eol_col.\r\n\r\nIn either case, once it has conditionally changed the eol_col, it just treats the \"eol_right_align\" virtual text as \"eol\" virtual text.",
            "commit_id": "969c5c04e8f748b0a67978c9f2687cc4a993ee79",
            "created_at": "2025-01-09T21:41:54Z",
            "diff_hunk": "@@ -275,6 +275,15 @@ static void draw_virt_text(win_T *wp, buf_T *buf, int col_off, int *end_col, int\n     if (decor_virt_pos(item) && item->draw_col == -1) {\n       bool updated = true;\n       VirtTextPos pos = decor_virt_pos_kind(item);\n+\n+      if (pos == kVPosRightAlignTrunc) {\n+        if (do_eol && (vt->width <= (right_pos - state->eol_col))) {\n+          pos = kVPosRightAlign;\n+        } else {\n+          pos = kVPosEndOfLine;\n+        }",
            "html_url": "https://github.com/neovim/neovim/pull/31921#discussion_r1909464775",
            "id": 1909464775,
            "in_reply_to_id": 1907988906,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5x0B7H",
            "original_commit_id": "d8f90a012549a2a2cdcfa4ffb11d5683af50e840",
            "original_line": 284,
            "original_position": 10,
            "original_start_line": 280,
            "path": "src/nvim/drawline.c",
            "position": null,
            "pull_request_review_id": 2540981482,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31921",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1909464775/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2025-01-09T21:41:54Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1909464775",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/39860568?v=4",
                "events_url": "https://api.github.com/users/georgev93/events{/privacy}",
                "followers_url": "https://api.github.com/users/georgev93/followers",
                "following_url": "https://api.github.com/users/georgev93/following{/other_user}",
                "gists_url": "https://api.github.com/users/georgev93/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/georgev93",
                "id": 39860568,
                "login": "georgev93",
                "node_id": "MDQ6VXNlcjM5ODYwNTY4",
                "organizations_url": "https://api.github.com/users/georgev93/orgs",
                "received_events_url": "https://api.github.com/users/georgev93/received_events",
                "repos_url": "https://api.github.com/users/georgev93/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/georgev93/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/georgev93/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/georgev93",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31921#discussion_r1910880830"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31921"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1910880830"
                }
            },
            "author_association": "MEMBER",
            "body": "Too much code. None of the other options appears to require much code. If this new option requires all of this code then it's out of scope, unless you can find a way to dededuplicate/consolidate some existing code.",
            "commit_id": "969c5c04e8f748b0a67978c9f2687cc4a993ee79",
            "created_at": "2025-01-10T18:30:32Z",
            "diff_hunk": "@@ -275,6 +275,52 @@ static void draw_virt_text(win_T *wp, buf_T *buf, int col_off, int *end_col, int\n     if (decor_virt_pos(item) && item->draw_col == -1) {\n       bool updated = true;\n       VirtTextPos pos = decor_virt_pos_kind(item);\n+\n+      if (do_eol && pos == kVPosEndOfLineRightAlign) {",
            "html_url": "https://github.com/neovim/neovim/pull/31921#discussion_r1910880830",
            "id": 1910880830,
            "line": 284,
            "node_id": "PRRC_kwDOAPphoM5x5bo-",
            "original_commit_id": "d97e7cf8f7fdb8937bc6e319a279ef4bad0d9543",
            "original_line": 279,
            "original_position": 5,
            "original_start_line": null,
            "path": "src/nvim/drawline.c",
            "position": 16,
            "pull_request_review_id": 2543256888,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31921",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1910880830/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-10T18:30:32Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1910880830",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31921#discussion_r1911069647"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31921"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1911069647"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Hmm... I don't think there's a way to do this with less code since this \"eol_right_align\" option requires a \"lookahead\" to correctly determine its spacing. I could add a simple lookahead to all alignment cases, then there may be less code and more symmetry between the five options, but that would be at the expense of speed to the other four options. I figured speed was the priority over code size.\r\n\r\nIs the problem the asymmetry rather than the code size of my PR? Looking at the other PRs, I don't think mine is particularly large, but it does cause an asymmetric look to the code for the five alignment options (again, because they have asymmetric requirements).\r\n\r\nAlso, I apologize if I failed to understand \"the scope\" of neovim in submitting this PR if this is truely \"out of scope.\" I figured since I'm simply extending a feature that neovim already has (that vim does not). This extension doesn't change the behavior of existing code in neovim, so all things considered I would think this is a pretty benign change.\r\n\r\nLastly, if you're worried about the aesthetics of the code (such as line count), I can certainly accomplish what I'm doing in less lines by combining conditional logic, removing comments, and compressing variable names. I'd argue that would be a sacrifice of readability for a non-performative goal like line count. However, I couldn't argue with the sentiment of \"keeping the coding style consistent.\"",
            "commit_id": "969c5c04e8f748b0a67978c9f2687cc4a993ee79",
            "created_at": "2025-01-10T19:26:03Z",
            "diff_hunk": "@@ -275,6 +275,52 @@ static void draw_virt_text(win_T *wp, buf_T *buf, int col_off, int *end_col, int\n     if (decor_virt_pos(item) && item->draw_col == -1) {\n       bool updated = true;\n       VirtTextPos pos = decor_virt_pos_kind(item);\n+\n+      if (do_eol && pos == kVPosEndOfLineRightAlign) {",
            "html_url": "https://github.com/neovim/neovim/pull/31921#discussion_r1911069647",
            "id": 1911069647,
            "in_reply_to_id": 1910880830,
            "line": 284,
            "node_id": "PRRC_kwDOAPphoM5x6JvP",
            "original_commit_id": "d97e7cf8f7fdb8937bc6e319a279ef4bad0d9543",
            "original_line": 279,
            "original_position": 5,
            "original_start_line": null,
            "path": "src/nvim/drawline.c",
            "position": 16,
            "pull_request_review_id": 2543484338,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31921",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1911069647/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-10T19:26:03Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1911069647",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/39860568?v=4",
                "events_url": "https://api.github.com/users/georgev93/events{/privacy}",
                "followers_url": "https://api.github.com/users/georgev93/followers",
                "following_url": "https://api.github.com/users/georgev93/following{/other_user}",
                "gists_url": "https://api.github.com/users/georgev93/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/georgev93",
                "id": 39860568,
                "login": "georgev93",
                "node_id": "MDQ6VXNlcjM5ODYwNTY4",
                "organizations_url": "https://api.github.com/users/georgev93/orgs",
                "received_events_url": "https://api.github.com/users/georgev93/received_events",
                "repos_url": "https://api.github.com/users/georgev93/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/georgev93/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/georgev93/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/georgev93",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31921#discussion_r1911864761"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31921"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1911864761"
                }
            },
            "author_association": "MEMBER",
            "body": "This test is not needed. It is nearly identical to the test `can have virtual text of the style: right_align`.",
            "commit_id": "969c5c04e8f748b0a67978c9f2687cc4a993ee79",
            "created_at": "2025-01-11T03:02:52Z",
            "diff_hunk": "@@ -509,6 +509,98 @@ describe('decorations providers', function()\n     ]]}\n   end)\n \n+  it('can have virtual text of the style: eol_right_align', function()\n+    insert(mulholland)\n+    setup_provider [[\n+      local hl = api.nvim_get_hl_id_by_name \"ErrorMsg\"\n+      local test_ns = api.nvim_create_namespace \"mulholland\"\n+      function on_do(event, ...)\n+        if event == \"line\" then\n+          local win, buf, line = ...\n+          api.nvim_buf_set_extmark(buf, test_ns, line, 0, {\n+            virt_text = {{'+'}, {'1234567890', 'ErrorMsg'}};\n+            virt_text_pos='eol_right_align';\n+            ephemeral = true;\n+          })\n+        end\n+      end\n+    ]]\n+\n+    screen:expect{grid=[[\n+      // just to see if there was an accident |\n+      // on Mulholland Drive       +{2:1234567890}|\n+      try_start();                 +{2:1234567890}|\n+      bufref_T save_buf;           +{2:1234567890}|\n+      switch_buffer(&save_buf, buf); +{2:12345678}|\n+      posp = getmark(mark, false); +{2:1234567890}|\n+      restore_buffer(&save_buf);^   +{2:1234567890}|\n+                                              |\n+    ]]}\n+  end)\n+\n+  it('multiple instances of eol right align', function()\n+    insert(mulholland)\n+    setup_provider [[\n+      local hl = api.nvim_get_hl_id_by_name \"ErrorMsg\"\n+      local test_ns = api.nvim_create_namespace \"mulholland\"\n+      function on_do(event, ...)\n+        if event == \"line\" then\n+          local win, buf, line = ...\n+          api.nvim_buf_set_extmark(buf, test_ns, line, 0, {\n+            virt_text = {{'11111'}};\n+            virt_text_pos='eol_right_align';\n+            ephemeral = true;\n+          })\n+          api.nvim_buf_set_extmark(0, test_ns, line, 0, {\n+            virt_text = {{'22222'}};\n+            virt_text_pos='eol_right_align';\n+            ephemeral = true;\n+          })\n+        end\n+      end\n+    ]]\n+\n+    screen:expect{grid=[[\n+      // just to see if there was an accident |\n+      // on Mulholland Drive       11111 22222|\n+      try_start();                 11111 22222|\n+      bufref_T save_buf;           11111 22222|\n+      switch_buffer(&save_buf, buf); 11111 222|\n+      posp = getmark(mark, false); 11111 22222|\n+      restore_buffer(&save_buf);^   11111 22222|\n+                                              |\n+    ]]}\n+  end)\n+\n+  it('Right align prints virtual text on top of buffer text', function()\n+    insert(mulholland)\n+    setup_provider [[\n+      local hl = api.nvim_get_hl_id_by_name \"ErrorMsg\"\n+      local test_ns = api.nvim_create_namespace \"mulholland\"\n+      function on_do(event, ...)\n+        if event == \"line\" then\n+          local win, buf, line = ...\n+          api.nvim_buf_set_extmark(buf, test_ns, line, 0, {\n+            virt_text = {{'+'}, {string.rep(' ', 5), 'ErrorMsg'}};\n+            virt_text_pos='right_align';\n+            ephemeral = true;\n+          })\n+        end\n+      end\n+    ]]\n+\n+    screen:expect{grid=[[\n+      // just to see if there was an acc+{2:     }|\n+      // on Mulholland Drive            +{2:     }|\n+      try_start();                      +{2:     }|\n+      bufref_T save_buf;                +{2:     }|\n+      switch_buffer(&save_buf, buf);    +{2:     }|\n+      posp = getmark(mark, false);      +{2:     }|\n+      restore_buffer(&save_buf);^        +{2:     }|\n+                                              |\n+    ]]}\n+  end)\n+",
            "html_url": "https://github.com/neovim/neovim/pull/31921#discussion_r1911864761",
            "id": 1911864761,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5x9L25",
            "original_commit_id": "a2a0cb9488a146454f6d6cf8ea84328fc9fac51e",
            "original_line": 603,
            "original_position": 95,
            "original_start_line": 575,
            "path": "test/functional/ui/decorations_spec.lua",
            "position": null,
            "pull_request_review_id": 2544518585,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31921",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1911864761/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2025-01-11T03:02:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1911864761",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31921#discussion_r1911865155"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31921"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1911865155"
                }
            },
            "author_association": "MEMBER",
            "body": "This doesn't make it clear that when the line is wrapped, the virtual text is shown after the end of the line, not on a previous screen line.",
            "commit_id": "969c5c04e8f748b0a67978c9f2687cc4a993ee79",
            "created_at": "2025-01-11T03:05:21Z",
            "diff_hunk": "@@ -2685,6 +2685,10 @@ nvim_buf_set_extmark({buffer}, {ns_id}, {line}, {col}, {opts})\n                     • \"overlay\": display over the specified column, without\n                       shifting the underlying text.\n                     • \"right_align\": display right aligned in the window.\n+                    • \"eol_right_align\": display right aligned in the window\n+                      unless the virtual text is longer than the space\n+                      available. If the virtual text is too long, it is\n+                      truncated to fit in the window after the EOL character.",
            "html_url": "https://github.com/neovim/neovim/pull/31921#discussion_r1911865155",
            "id": 1911865155,
            "line": 2615,
            "node_id": "PRRC_kwDOAPphoM5x9L9D",
            "original_commit_id": "a2a0cb9488a146454f6d6cf8ea84328fc9fac51e",
            "original_line": 2691,
            "original_position": 7,
            "original_start_line": 2688,
            "path": "runtime/doc/api.txt",
            "position": 7,
            "pull_request_review_id": 2544519063,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31921",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1911865155/reactions"
            },
            "side": "RIGHT",
            "start_line": 2612,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2025-01-11T03:05:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1911865155",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31921#discussion_r1912044307"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31921"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1912044307"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "You are correct; I've removed the test. I was attempting to more explicitly document the expected \"write over buffer text\" behavior through the test, but this benefit hardly outweighs the extra time it takes to run the test every time.",
            "commit_id": "969c5c04e8f748b0a67978c9f2687cc4a993ee79",
            "created_at": "2025-01-11T13:05:59Z",
            "diff_hunk": "@@ -509,6 +509,98 @@ describe('decorations providers', function()\n     ]]}\n   end)\n \n+  it('can have virtual text of the style: eol_right_align', function()\n+    insert(mulholland)\n+    setup_provider [[\n+      local hl = api.nvim_get_hl_id_by_name \"ErrorMsg\"\n+      local test_ns = api.nvim_create_namespace \"mulholland\"\n+      function on_do(event, ...)\n+        if event == \"line\" then\n+          local win, buf, line = ...\n+          api.nvim_buf_set_extmark(buf, test_ns, line, 0, {\n+            virt_text = {{'+'}, {'1234567890', 'ErrorMsg'}};\n+            virt_text_pos='eol_right_align';\n+            ephemeral = true;\n+          })\n+        end\n+      end\n+    ]]\n+\n+    screen:expect{grid=[[\n+      // just to see if there was an accident |\n+      // on Mulholland Drive       +{2:1234567890}|\n+      try_start();                 +{2:1234567890}|\n+      bufref_T save_buf;           +{2:1234567890}|\n+      switch_buffer(&save_buf, buf); +{2:12345678}|\n+      posp = getmark(mark, false); +{2:1234567890}|\n+      restore_buffer(&save_buf);^   +{2:1234567890}|\n+                                              |\n+    ]]}\n+  end)\n+\n+  it('multiple instances of eol right align', function()\n+    insert(mulholland)\n+    setup_provider [[\n+      local hl = api.nvim_get_hl_id_by_name \"ErrorMsg\"\n+      local test_ns = api.nvim_create_namespace \"mulholland\"\n+      function on_do(event, ...)\n+        if event == \"line\" then\n+          local win, buf, line = ...\n+          api.nvim_buf_set_extmark(buf, test_ns, line, 0, {\n+            virt_text = {{'11111'}};\n+            virt_text_pos='eol_right_align';\n+            ephemeral = true;\n+          })\n+          api.nvim_buf_set_extmark(0, test_ns, line, 0, {\n+            virt_text = {{'22222'}};\n+            virt_text_pos='eol_right_align';\n+            ephemeral = true;\n+          })\n+        end\n+      end\n+    ]]\n+\n+    screen:expect{grid=[[\n+      // just to see if there was an accident |\n+      // on Mulholland Drive       11111 22222|\n+      try_start();                 11111 22222|\n+      bufref_T save_buf;           11111 22222|\n+      switch_buffer(&save_buf, buf); 11111 222|\n+      posp = getmark(mark, false); 11111 22222|\n+      restore_buffer(&save_buf);^   11111 22222|\n+                                              |\n+    ]]}\n+  end)\n+\n+  it('Right align prints virtual text on top of buffer text', function()\n+    insert(mulholland)\n+    setup_provider [[\n+      local hl = api.nvim_get_hl_id_by_name \"ErrorMsg\"\n+      local test_ns = api.nvim_create_namespace \"mulholland\"\n+      function on_do(event, ...)\n+        if event == \"line\" then\n+          local win, buf, line = ...\n+          api.nvim_buf_set_extmark(buf, test_ns, line, 0, {\n+            virt_text = {{'+'}, {string.rep(' ', 5), 'ErrorMsg'}};\n+            virt_text_pos='right_align';\n+            ephemeral = true;\n+          })\n+        end\n+      end\n+    ]]\n+\n+    screen:expect{grid=[[\n+      // just to see if there was an acc+{2:     }|\n+      // on Mulholland Drive            +{2:     }|\n+      try_start();                      +{2:     }|\n+      bufref_T save_buf;                +{2:     }|\n+      switch_buffer(&save_buf, buf);    +{2:     }|\n+      posp = getmark(mark, false);      +{2:     }|\n+      restore_buffer(&save_buf);^        +{2:     }|\n+                                              |\n+    ]]}\n+  end)\n+",
            "html_url": "https://github.com/neovim/neovim/pull/31921#discussion_r1912044307",
            "id": 1912044307,
            "in_reply_to_id": 1911864761,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5x93sT",
            "original_commit_id": "a2a0cb9488a146454f6d6cf8ea84328fc9fac51e",
            "original_line": 603,
            "original_position": 95,
            "original_start_line": 575,
            "path": "test/functional/ui/decorations_spec.lua",
            "position": null,
            "pull_request_review_id": 2544825997,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31921",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1912044307/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2025-01-11T13:05:59Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1912044307",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/39860568?v=4",
                "events_url": "https://api.github.com/users/georgev93/events{/privacy}",
                "followers_url": "https://api.github.com/users/georgev93/followers",
                "following_url": "https://api.github.com/users/georgev93/following{/other_user}",
                "gists_url": "https://api.github.com/users/georgev93/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/georgev93",
                "id": 39860568,
                "login": "georgev93",
                "node_id": "MDQ6VXNlcjM5ODYwNTY4",
                "organizations_url": "https://api.github.com/users/georgev93/orgs",
                "received_events_url": "https://api.github.com/users/georgev93/received_events",
                "repos_url": "https://api.github.com/users/georgev93/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/georgev93/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/georgev93/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/georgev93",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31921#discussion_r1912045201"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31921"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1912045201"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "I added on a sentence for clarification on this subject.",
            "commit_id": "969c5c04e8f748b0a67978c9f2687cc4a993ee79",
            "created_at": "2025-01-11T13:06:42Z",
            "diff_hunk": "@@ -2685,6 +2685,10 @@ nvim_buf_set_extmark({buffer}, {ns_id}, {line}, {col}, {opts})\n                     • \"overlay\": display over the specified column, without\n                       shifting the underlying text.\n                     • \"right_align\": display right aligned in the window.\n+                    • \"eol_right_align\": display right aligned in the window\n+                      unless the virtual text is longer than the space\n+                      available. If the virtual text is too long, it is\n+                      truncated to fit in the window after the EOL character.",
            "html_url": "https://github.com/neovim/neovim/pull/31921#discussion_r1912045201",
            "id": 1912045201,
            "in_reply_to_id": 1911865155,
            "line": 2615,
            "node_id": "PRRC_kwDOAPphoM5x936R",
            "original_commit_id": "a2a0cb9488a146454f6d6cf8ea84328fc9fac51e",
            "original_line": 2691,
            "original_position": 7,
            "original_start_line": 2688,
            "path": "runtime/doc/api.txt",
            "position": 7,
            "pull_request_review_id": 2544829988,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31921",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1912045201/reactions"
            },
            "side": "RIGHT",
            "start_line": 2612,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2025-01-11T13:06:42Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1912045201",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/39860568?v=4",
                "events_url": "https://api.github.com/users/georgev93/events{/privacy}",
                "followers_url": "https://api.github.com/users/georgev93/followers",
                "following_url": "https://api.github.com/users/georgev93/following{/other_user}",
                "gists_url": "https://api.github.com/users/georgev93/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/georgev93",
                "id": 39860568,
                "login": "georgev93",
                "node_id": "MDQ6VXNlcjM5ODYwNTY4",
                "organizations_url": "https://api.github.com/users/georgev93/orgs",
                "received_events_url": "https://api.github.com/users/georgev93/received_events",
                "repos_url": "https://api.github.com/users/georgev93/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/georgev93/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/georgev93/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/georgev93",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31921#discussion_r1913244517"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31921"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913244517"
                }
            },
            "author_association": "MEMBER",
            "body": "> less lines by combining conditional logic, removing comments, and compressing variable names.\r\n\r\nNot looking for code golf, but want to avoid extra code in general. \r\n\r\nFor example, maybe the position-finding loop is common to other code that operates on DecorRange.\r\n\r\nI retract my \"out of scope\" comment, since the screentests do indicate that this looks valuable. ",
            "commit_id": "969c5c04e8f748b0a67978c9f2687cc4a993ee79",
            "created_at": "2025-01-13T14:05:24Z",
            "diff_hunk": "@@ -275,6 +275,52 @@ static void draw_virt_text(win_T *wp, buf_T *buf, int col_off, int *end_col, int\n     if (decor_virt_pos(item) && item->draw_col == -1) {\n       bool updated = true;\n       VirtTextPos pos = decor_virt_pos_kind(item);\n+\n+      if (do_eol && pos == kVPosEndOfLineRightAlign) {",
            "html_url": "https://github.com/neovim/neovim/pull/31921#discussion_r1913244517",
            "id": 1913244517,
            "in_reply_to_id": 1910880830,
            "line": 284,
            "node_id": "PRRC_kwDOAPphoM5yCctl",
            "original_commit_id": "d97e7cf8f7fdb8937bc6e319a279ef4bad0d9543",
            "original_line": 279,
            "original_position": 5,
            "original_start_line": null,
            "path": "src/nvim/drawline.c",
            "position": 16,
            "pull_request_review_id": 2546712702,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31921",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913244517/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-13T14:05:24Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913244517",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31921#discussion_r1913266618"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31921"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913266618"
                }
            },
            "author_association": "MEMBER",
            "body": "keys should be alphabetical. and for this PR at least, \"eol_right_align\" should go after \"eol\".",
            "commit_id": "969c5c04e8f748b0a67978c9f2687cc4a993ee79",
            "created_at": "2025-01-13T14:20:02Z",
            "diff_hunk": "@@ -2685,6 +2685,13 @@ nvim_buf_set_extmark({buffer}, {ns_id}, {line}, {col}, {opts})\n                     • \"overlay\": display over the specified column, without\n                       shifting the underlying text.\n                     • \"right_align\": display right aligned in the window.\n+                    • \"eol_right_align\": display right aligned in the window",
            "html_url": "https://github.com/neovim/neovim/pull/31921#discussion_r1913266618",
            "id": 1913266618,
            "line": 2612,
            "node_id": "PRRC_kwDOAPphoM5yCiG6",
            "original_commit_id": "9eaf90a201da1d1d2752fc9e08b3d7f22631656a",
            "original_line": 2688,
            "original_position": 4,
            "original_start_line": null,
            "path": "runtime/doc/api.txt",
            "position": 4,
            "pull_request_review_id": 2546759482,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31921",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913266618/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-13T14:20:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913266618",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31921#discussion_r1913635933"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31921"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913635933"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Good copy. Fixed!",
            "commit_id": "969c5c04e8f748b0a67978c9f2687cc4a993ee79",
            "created_at": "2025-01-13T18:27:57Z",
            "diff_hunk": "@@ -2685,6 +2685,13 @@ nvim_buf_set_extmark({buffer}, {ns_id}, {line}, {col}, {opts})\n                     • \"overlay\": display over the specified column, without\n                       shifting the underlying text.\n                     • \"right_align\": display right aligned in the window.\n+                    • \"eol_right_align\": display right aligned in the window",
            "html_url": "https://github.com/neovim/neovim/pull/31921#discussion_r1913635933",
            "id": 1913635933,
            "in_reply_to_id": 1913266618,
            "line": 2612,
            "node_id": "PRRC_kwDOAPphoM5yD8Rd",
            "original_commit_id": "9eaf90a201da1d1d2752fc9e08b3d7f22631656a",
            "original_line": 2688,
            "original_position": 4,
            "original_start_line": null,
            "path": "runtime/doc/api.txt",
            "position": 4,
            "pull_request_review_id": 2547483900,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31921",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913635933/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-13T18:27:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913635933",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/39860568?v=4",
                "events_url": "https://api.github.com/users/georgev93/events{/privacy}",
                "followers_url": "https://api.github.com/users/georgev93/followers",
                "following_url": "https://api.github.com/users/georgev93/following{/other_user}",
                "gists_url": "https://api.github.com/users/georgev93/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/georgev93",
                "id": 39860568,
                "login": "georgev93",
                "node_id": "MDQ6VXNlcjM5ODYwNTY4",
                "organizations_url": "https://api.github.com/users/georgev93/orgs",
                "received_events_url": "https://api.github.com/users/georgev93/received_events",
                "repos_url": "https://api.github.com/users/georgev93/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/georgev93/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/georgev93/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/georgev93",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31921#discussion_r1913648282"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31921"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913648282"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Understood! Within the context of the `draw_virt_text` function, I was thinking I could change the overall structure to loop through the DecorRange slots, build a new dynamically allocated array containing the identified virtual text instances this function needs to display, then incrementing through that dynamically allocated array to display all the virtual text in the second half of that function (in the same manner that it does now). That would eliminate the extra pass for the \"lookahead\" in this `eol_right_align` case, making the `eol_right_align` case much more efficient, barely decreasing the efficiency of the other four cases, slight increase in memory use for all cases, and behavior between all cases would be much more similar.\r\n\r\n^ I can push what I'm talking about here soon. Might be a day or so with the newborn!\r\n\r\nWould this be in line with what you're looking for? Or are you looking for some common function to be pulled out of `draw_virt_text` that can also be used elsewhere in the same source file? If you're looking for the latter, that might take me an extra minute as I haven't studied the source as much at that scope.",
            "commit_id": "969c5c04e8f748b0a67978c9f2687cc4a993ee79",
            "created_at": "2025-01-13T18:39:36Z",
            "diff_hunk": "@@ -275,6 +275,52 @@ static void draw_virt_text(win_T *wp, buf_T *buf, int col_off, int *end_col, int\n     if (decor_virt_pos(item) && item->draw_col == -1) {\n       bool updated = true;\n       VirtTextPos pos = decor_virt_pos_kind(item);\n+\n+      if (do_eol && pos == kVPosEndOfLineRightAlign) {",
            "html_url": "https://github.com/neovim/neovim/pull/31921#discussion_r1913648282",
            "id": 1913648282,
            "in_reply_to_id": 1910880830,
            "line": 284,
            "node_id": "PRRC_kwDOAPphoM5yD_Sa",
            "original_commit_id": "d97e7cf8f7fdb8937bc6e319a279ef4bad0d9543",
            "original_line": 279,
            "original_position": 5,
            "original_start_line": null,
            "path": "src/nvim/drawline.c",
            "position": 16,
            "pull_request_review_id": 2547514361,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31921",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913648282/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-13T18:39:36Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913648282",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/39860568?v=4",
                "events_url": "https://api.github.com/users/georgev93/events{/privacy}",
                "followers_url": "https://api.github.com/users/georgev93/followers",
                "following_url": "https://api.github.com/users/georgev93/following{/other_user}",
                "gists_url": "https://api.github.com/users/georgev93/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/georgev93",
                "id": 39860568,
                "login": "georgev93",
                "node_id": "MDQ6VXNlcjM5ODYwNTY4",
                "organizations_url": "https://api.github.com/users/georgev93/orgs",
                "received_events_url": "https://api.github.com/users/georgev93/received_events",
                "repos_url": "https://api.github.com/users/georgev93/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/georgev93/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/georgev93/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/georgev93",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31921#discussion_r1913956899"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31921"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913956899"
                }
            },
            "author_association": "MEMBER",
            "body": "these could be alphabetical too. that helps discover/intuition.\r\n\r\n```suggestion\r\n      • {virt_text_pos}?      (`'eol'|'eol_right_align'|'inline'|'overlay'|'right_align'`)\r\n```",
            "commit_id": "969c5c04e8f748b0a67978c9f2687cc4a993ee79",
            "created_at": "2025-01-14T00:17:21Z",
            "diff_hunk": "@@ -619,8 +619,8 @@ Lua module: vim.diagnostic                                    *diagnostic-api*\n       • {hl_mode}?            (`'replace'|'combine'|'blend'`) See\n                               |nvim_buf_set_extmark()|.\n       • {virt_text}?          (`[string,any][]`) See |nvim_buf_set_extmark()|.\n-      • {virt_text_pos}?      (`'eol'|'overlay'|'right_align'|'inline'`) See\n-                              |nvim_buf_set_extmark()|.\n+      • {virt_text_pos}?      (`'eol'|'overlay'|'right_align'|'eol_right_align'|'inline'`)",
            "html_url": "https://github.com/neovim/neovim/pull/31921#discussion_r1913956899",
            "id": 1913956899,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5yFKoj",
            "original_commit_id": "4ff2acd385d14d455c2d1d3c1e238410ddaac291",
            "original_line": 622,
            "original_position": 6,
            "original_start_line": null,
            "path": "runtime/doc/diagnostic.txt",
            "position": null,
            "pull_request_review_id": 2548277147,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31921",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913956899/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-14T00:18:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913956899",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31921#discussion_r1913957397"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31921"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913957397"
                }
            },
            "author_association": "MEMBER",
            "body": "typo\r\n```suggestion\r\n• |nvim_buf_set_extmark()| virt_text_pos accepts `eol_right_align` to\r\n```",
            "commit_id": "969c5c04e8f748b0a67978c9f2687cc4a993ee79",
            "created_at": "2025-01-14T00:18:41Z",
            "diff_hunk": "@@ -180,6 +180,8 @@ API\n • |nvim__ns_set()| can set properties for a namespace\n • |nvim_echo()| `err` field to print error messages and `chunks` accepts\n   highlight group IDs.\n+• |nvim_buf_set_extmark()| virt_text_pos now accpets `eol_right_align` to",
            "html_url": "https://github.com/neovim/neovim/pull/31921#discussion_r1913957397",
            "id": 1913957397,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5yFKwV",
            "original_commit_id": "4ff2acd385d14d455c2d1d3c1e238410ddaac291",
            "original_line": 183,
            "original_position": 4,
            "original_start_line": null,
            "path": "runtime/doc/news.txt",
            "position": null,
            "pull_request_review_id": 2548278424,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31921",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913957397/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-14T00:18:41Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913957397",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31921#discussion_r1913957776"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31921"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913957776"
                }
            },
            "author_association": "MEMBER",
            "body": "alphabetical",
            "commit_id": "969c5c04e8f748b0a67978c9f2687cc4a993ee79",
            "created_at": "2025-01-14T00:19:46Z",
            "diff_hunk": "@@ -15,8 +15,8 @@\n // actual Decor* data is in decoration_defs.h\n \n /// Keep in sync with VirtTextPos in decoration_defs.h\n-EXTERN const char *const virt_text_pos_str[]\n-INIT( = { \"eol\", \"overlay\", \"win_col\", \"right_align\", \"inline\" });\n+EXTERN const char *const virt_text_pos_str[] INIT( = { \"eol\", \"overlay\", \"win_col\", \"right_align\",\n+                                                       \"eol_right_align\", \"inline\" });",
            "html_url": "https://github.com/neovim/neovim/pull/31921#discussion_r1913957776",
            "id": 1913957776,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5yFK2Q",
            "original_commit_id": "4ff2acd385d14d455c2d1d3c1e238410ddaac291",
            "original_line": 19,
            "original_position": 7,
            "original_start_line": null,
            "path": "src/nvim/decoration.h",
            "position": null,
            "pull_request_review_id": 2548278943,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31921",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913957776/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-14T00:19:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913957776",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31921#discussion_r1913958645"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31921"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913958645"
                }
            },
            "author_association": "MEMBER",
            "body": "> Or are you looking for some common function to be pulled out of `draw_virt_text` that can also be used elsewhere in the same source file\r\n\r\nThat. Not really worried about performance here, since this logic isn't working with much data.",
            "commit_id": "969c5c04e8f748b0a67978c9f2687cc4a993ee79",
            "created_at": "2025-01-14T00:22:02Z",
            "diff_hunk": "@@ -275,6 +275,52 @@ static void draw_virt_text(win_T *wp, buf_T *buf, int col_off, int *end_col, int\n     if (decor_virt_pos(item) && item->draw_col == -1) {\n       bool updated = true;\n       VirtTextPos pos = decor_virt_pos_kind(item);\n+\n+      if (do_eol && pos == kVPosEndOfLineRightAlign) {",
            "html_url": "https://github.com/neovim/neovim/pull/31921#discussion_r1913958645",
            "id": 1913958645,
            "in_reply_to_id": 1910880830,
            "line": 284,
            "node_id": "PRRC_kwDOAPphoM5yFLD1",
            "original_commit_id": "d97e7cf8f7fdb8937bc6e319a279ef4bad0d9543",
            "original_line": 279,
            "original_position": 5,
            "original_start_line": null,
            "path": "src/nvim/drawline.c",
            "position": 16,
            "pull_request_review_id": 2548280189,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31921",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913958645/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-14T00:22:03Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913958645",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31921#discussion_r1913959451"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31921"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913959451"
                }
            },
            "author_association": "MEMBER",
            "body": "this seems a bit verbose, and isn't really typical for this codebase.\r\n```suggestion\r\n            if (lookaheadItem->start_row != state->row\r\n                || !decor_virt_pos(lookaheadItem)\r\n                || lookaheadItem->draw_col != -1) {\r\n              continue;\r\n            }\r\n```",
            "commit_id": "969c5c04e8f748b0a67978c9f2687cc4a993ee79",
            "created_at": "2025-01-14T00:23:37Z",
            "diff_hunk": "@@ -275,7 +278,50 @@ static void draw_virt_text(win_T *wp, buf_T *buf, int col_off, int *end_col, int\n     if (decor_virt_pos(item) && item->draw_col == -1) {\n       bool updated = true;\n       VirtTextPos pos = decor_virt_pos_kind(item);\n-      if (pos == kVPosRightAlign) {\n+\n+      if (do_eol && pos == kVPosEndOfLineRightAlign) {\n+        int eolOffset = 0;\n+        if (totalWidthOfEolRightAlignedVirtText == 0) {\n+          // Look ahead to the remaining decor items\n+          for (int j = i; j < end; j++) {\n+            /// A future decor to be handled in this function's call\n+            DecorRange *lookaheadItem = &slots[indices[j]].range;\n+\n+            if (lookaheadItem->start_row != state->row) {\n+              continue;\n+            }\n+\n+            if (!decor_virt_pos(lookaheadItem)) {\n+              continue;\n+            }\n+\n+            if (lookaheadItem->draw_col != -1) {\n+              continue;\n+            }",
            "html_url": "https://github.com/neovim/neovim/pull/31921#discussion_r1913959451",
            "id": 1913959451,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5yFLQb",
            "original_commit_id": "4ff2acd385d14d455c2d1d3c1e238410ddaac291",
            "original_line": 300,
            "original_position": 34,
            "original_start_line": 290,
            "path": "src/nvim/drawline.c",
            "position": null,
            "pull_request_review_id": 2548283675,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31921",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913959451/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2025-01-14T00:23:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1913959451",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31921#discussion_r1915412683"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31921"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1915412683"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "401d944881941b87a51ad62b7ce4379be17117e5",
            "commit_id": "969c5c04e8f748b0a67978c9f2687cc4a993ee79",
            "created_at": "2025-01-14T18:31:05Z",
            "diff_hunk": "@@ -15,8 +15,8 @@\n // actual Decor* data is in decoration_defs.h\n \n /// Keep in sync with VirtTextPos in decoration_defs.h\n-EXTERN const char *const virt_text_pos_str[]\n-INIT( = { \"eol\", \"overlay\", \"win_col\", \"right_align\", \"inline\" });\n+EXTERN const char *const virt_text_pos_str[] INIT( = { \"eol\", \"overlay\", \"win_col\", \"right_align\",\n+                                                       \"eol_right_align\", \"inline\" });",
            "html_url": "https://github.com/neovim/neovim/pull/31921#discussion_r1915412683",
            "id": 1915412683,
            "in_reply_to_id": 1913957776,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5yKuDL",
            "original_commit_id": "4ff2acd385d14d455c2d1d3c1e238410ddaac291",
            "original_line": 19,
            "original_position": 7,
            "original_start_line": null,
            "path": "src/nvim/decoration.h",
            "position": null,
            "pull_request_review_id": 2550715289,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31921",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1915412683/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-14T18:31:05Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1915412683",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/39860568?v=4",
                "events_url": "https://api.github.com/users/georgev93/events{/privacy}",
                "followers_url": "https://api.github.com/users/georgev93/followers",
                "following_url": "https://api.github.com/users/georgev93/following{/other_user}",
                "gists_url": "https://api.github.com/users/georgev93/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/georgev93",
                "id": 39860568,
                "login": "georgev93",
                "node_id": "MDQ6VXNlcjM5ODYwNTY4",
                "organizations_url": "https://api.github.com/users/georgev93/orgs",
                "received_events_url": "https://api.github.com/users/georgev93/received_events",
                "repos_url": "https://api.github.com/users/georgev93/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/georgev93/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/georgev93/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/georgev93",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31921#discussion_r1919148386"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31921"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1919148386"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "@justinmk, I've been shuffling the code around a bit and I'm not sure if there are any gains to be made from additional refactoring. Do you see anything specific that I'm missing? I'm not really familiar with the broader codebase, so my view may be a bit myopic for this task.",
            "commit_id": "969c5c04e8f748b0a67978c9f2687cc4a993ee79",
            "created_at": "2025-01-16T20:17:54Z",
            "diff_hunk": "@@ -275,6 +275,52 @@ static void draw_virt_text(win_T *wp, buf_T *buf, int col_off, int *end_col, int\n     if (decor_virt_pos(item) && item->draw_col == -1) {\n       bool updated = true;\n       VirtTextPos pos = decor_virt_pos_kind(item);\n+\n+      if (do_eol && pos == kVPosEndOfLineRightAlign) {",
            "html_url": "https://github.com/neovim/neovim/pull/31921#discussion_r1919148386",
            "id": 1919148386,
            "in_reply_to_id": 1910880830,
            "line": 284,
            "node_id": "PRRC_kwDOAPphoM5yY-Fi",
            "original_commit_id": "d97e7cf8f7fdb8937bc6e319a279ef4bad0d9543",
            "original_line": 279,
            "original_position": 5,
            "original_start_line": null,
            "path": "src/nvim/drawline.c",
            "position": 16,
            "pull_request_review_id": 2557214291,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31921",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1919148386/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-16T20:17:54Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1919148386",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/39860568?v=4",
                "events_url": "https://api.github.com/users/georgev93/events{/privacy}",
                "followers_url": "https://api.github.com/users/georgev93/followers",
                "following_url": "https://api.github.com/users/georgev93/following{/other_user}",
                "gists_url": "https://api.github.com/users/georgev93/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/georgev93",
                "id": 39860568,
                "login": "georgev93",
                "node_id": "MDQ6VXNlcjM5ODYwNTY4",
                "organizations_url": "https://api.github.com/users/georgev93/orgs",
                "received_events_url": "https://api.github.com/users/georgev93/received_events",
                "repos_url": "https://api.github.com/users/georgev93/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/georgev93/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/georgev93/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/georgev93",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31921#discussion_r1928028712"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31921"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1928028712"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n  it('multiple eol_right_align', function()\r\n```",
            "commit_id": "969c5c04e8f748b0a67978c9f2687cc4a993ee79",
            "created_at": "2025-01-24T03:12:56Z",
            "diff_hunk": "@@ -509,6 +509,69 @@ describe('decorations providers', function()\n     ]]}\n   end)\n \n+  it('can have virtual text of the style: eol_right_align', function()\n+    insert(mulholland)\n+    setup_provider [[\n+      local hl = api.nvim_get_hl_id_by_name \"ErrorMsg\"\n+      local test_ns = api.nvim_create_namespace \"mulholland\"\n+      function on_do(event, ...)\n+        if event == \"line\" then\n+          local win, buf, line = ...\n+          api.nvim_buf_set_extmark(buf, test_ns, line, 0, {\n+            virt_text = {{'+'}, {'1234567890', 'ErrorMsg'}};\n+            virt_text_pos='eol_right_align';\n+            ephemeral = true;\n+          })\n+        end\n+      end\n+    ]]\n+\n+    screen:expect{grid=[[\n+      // just to see if there was an accident |\n+      // on Mulholland Drive       +{2:1234567890}|\n+      try_start();                 +{2:1234567890}|\n+      bufref_T save_buf;           +{2:1234567890}|\n+      switch_buffer(&save_buf, buf); +{2:12345678}|\n+      posp = getmark(mark, false); +{2:1234567890}|\n+      restore_buffer(&save_buf);^   +{2:1234567890}|\n+                                              |\n+    ]]}\n+  end)\n+\n+  it('multiple instances of eol right align', function()",
            "html_url": "https://github.com/neovim/neovim/pull/31921#discussion_r1928028712",
            "id": 1928028712,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5y62Io",
            "original_commit_id": "eaa80dd28242eb36c5ee95e7155c2615b0d1424d",
            "original_line": 541,
            "original_position": 33,
            "original_start_line": null,
            "path": "test/functional/ui/decorations_spec.lua",
            "position": null,
            "pull_request_review_id": 2571553544,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31921",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1928028712/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-01-24T03:12:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1928028712",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "MEMBER",
            "body": "@georgev93 if your main concern is LSP diagnostics, can't you achieve the truncation using `vim.diagnostic.config.virtual_text.format`?",
            "created_at": "2025-01-08T21:45:46Z",
            "html_url": "https://github.com/neovim/neovim/pull/31921#issuecomment-2578727813",
            "id": 2578727813,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31921",
            "node_id": "IC_kwDOAPphoM6ZtEOF",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2578727813/reactions"
            },
            "updated_at": "2025-01-08T21:45:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2578727813",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> @georgev93 if your main concern is LSP diagnostics, can't you achieve the truncation using `vim.diagnostic.config.virtual_text.format`?\r\n\r\nI'm uncertain how to accomplish this with `vim.diagnostic.config.virtual_text.format`. If there were a way to evaluate where the column position of the EOL character as well as the right-most column on the screen, I could certainly do the math in that function. I'm not exactly sure how to get those column positions from the context of that function though.\r\n\r\nAdditionally, this was the type of feature that I thought others may be interested in, so I figured extending neovim might be a nice thing to do. Considering the default way nvim shows virtual text is to truncate the virtual text rather than cover up buffer text, I interpreted that to indicate that most people prefer truncated virtual text over covering up buffer text. Therefore, this enables that \"popular\" feature, but just with right alignment as well.",
            "created_at": "2025-01-08T22:13:52Z",
            "html_url": "https://github.com/neovim/neovim/pull/31921#issuecomment-2578774136",
            "id": 2578774136,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31921",
            "node_id": "IC_kwDOAPphoM6ZtPh4",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2578774136/reactions"
            },
            "updated_at": "2025-01-08T22:13:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2578774136",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/39860568?v=4",
                "events_url": "https://api.github.com/users/georgev93/events{/privacy}",
                "followers_url": "https://api.github.com/users/georgev93/followers",
                "following_url": "https://api.github.com/users/georgev93/following{/other_user}",
                "gists_url": "https://api.github.com/users/georgev93/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/georgev93",
                "id": 39860568,
                "login": "georgev93",
                "node_id": "MDQ6VXNlcjM5ODYwNTY4",
                "organizations_url": "https://api.github.com/users/georgev93/orgs",
                "received_events_url": "https://api.github.com/users/georgev93/received_events",
                "repos_url": "https://api.github.com/users/georgev93/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/georgev93/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/georgev93/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/georgev93",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I think the FreeBSD functionaltest failure is unrelated?",
            "created_at": "2025-01-08T23:09:53Z",
            "html_url": "https://github.com/neovim/neovim/pull/31921#issuecomment-2578853228",
            "id": 2578853228,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31921",
            "node_id": "IC_kwDOAPphoM6Zti1s",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2578853228/reactions"
            },
            "updated_at": "2025-01-08T23:09:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2578853228",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/39860568?v=4",
                "events_url": "https://api.github.com/users/georgev93/events{/privacy}",
                "followers_url": "https://api.github.com/users/georgev93/followers",
                "following_url": "https://api.github.com/users/georgev93/following{/other_user}",
                "gists_url": "https://api.github.com/users/georgev93/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/georgev93",
                "id": 39860568,
                "login": "georgev93",
                "node_id": "MDQ6VXNlcjM5ODYwNTY4",
                "organizations_url": "https://api.github.com/users/georgev93/orgs",
                "received_events_url": "https://api.github.com/users/georgev93/received_events",
                "repos_url": "https://api.github.com/users/georgev93/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/georgev93/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/georgev93/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/georgev93",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "This can still overlap with buffer text if the line is wrapped and the extmark appears in non-last screen line. Since you don't want the virtual text to overlap with buffer text, you may want to skip the virtual text when `do_eol` is false, and name it `eol_right_align` instead.",
            "created_at": "2025-01-08T23:44:19Z",
            "html_url": "https://github.com/neovim/neovim/pull/31921#issuecomment-2578890244",
            "id": 2578890244,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31921",
            "node_id": "IC_kwDOAPphoM6Ztr4E",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2578890244/reactions"
            },
            "updated_at": "2025-01-08T23:44:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2578890244",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Sorry for all the \"bait and switching\" in requesting for a review then flipping back to a draft PR! Caught one last issue right before the wife went in to labor... but looking through all of this one last time from the hospital I'm saying this is good to go! _final_final_v2... thanks for your patience.",
            "created_at": "2025-01-10T19:29:30Z",
            "html_url": "https://github.com/neovim/neovim/pull/31921#issuecomment-2583749829",
            "id": 2583749829,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31921",
            "node_id": "IC_kwDOAPphoM6aAOTF",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 1,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2583749829/reactions"
            },
            "updated_at": "2025-01-10T19:29:30Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2583749829",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/39860568?v=4",
                "events_url": "https://api.github.com/users/georgev93/events{/privacy}",
                "followers_url": "https://api.github.com/users/georgev93/followers",
                "following_url": "https://api.github.com/users/georgev93/following{/other_user}",
                "gists_url": "https://api.github.com/users/georgev93/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/georgev93",
                "id": 39860568,
                "login": "georgev93",
                "node_id": "MDQ6VXNlcjM5ODYwNTY4",
                "organizations_url": "https://api.github.com/users/georgev93/orgs",
                "received_events_url": "https://api.github.com/users/georgev93/received_events",
                "repos_url": "https://api.github.com/users/georgev93/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/georgev93/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/georgev93/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/georgev93",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Not related to this PR, but I noticed that the truncation behavior may be suboptimal for `virt_text_pos = 'eol'` as well. With `virt_text_pos = 'eol'`, if there isn't enough space, the virtual text with the highest priority is truncated.",
            "created_at": "2025-01-11T03:15:04Z",
            "html_url": "https://github.com/neovim/neovim/pull/31921#issuecomment-2585040814",
            "id": 2585040814,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31921",
            "node_id": "IC_kwDOAPphoM6aFJeu",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2585040814/reactions"
            },
            "updated_at": "2025-01-11T03:15:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2585040814",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> Not related to this PR, but I noticed that the truncation behavior may be suboptimal for `virt_text_pos = 'eol'` as well. With `virt_text_pos = 'eol'`, if there isn't enough space, the virtual text with the highest priority is truncated.\r\n\r\nGood catch! Certainly not ideal. I also agree that this eol behavior is outside the scope of this PR.",
            "created_at": "2025-01-11T13:08:27Z",
            "html_url": "https://github.com/neovim/neovim/pull/31921#issuecomment-2585264180",
            "id": 2585264180,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31921",
            "node_id": "IC_kwDOAPphoM6aGAA0",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2585264180/reactions"
            },
            "updated_at": "2025-01-11T13:08:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2585264180",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/39860568?v=4",
                "events_url": "https://api.github.com/users/georgev93/events{/privacy}",
                "followers_url": "https://api.github.com/users/georgev93/followers",
                "following_url": "https://api.github.com/users/georgev93/following{/other_user}",
                "gists_url": "https://api.github.com/users/georgev93/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/georgev93",
                "id": 39860568,
                "login": "georgev93",
                "node_id": "MDQ6VXNlcjM5ODYwNTY4",
                "organizations_url": "https://api.github.com/users/georgev93/orgs",
                "received_events_url": "https://api.github.com/users/georgev93/received_events",
                "repos_url": "https://api.github.com/users/georgev93/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/georgev93/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/georgev93/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/georgev93",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "> I'm uncertain how to accomplish this with `vim.diagnostic.config.virtual_text.format`. If there were a way to evaluate where the column position of the EOL character as well as the right-most column on the screen, I could certainly do the math in that function. I'm not exactly sure how to get those column positions from the context of that function though.\r\n\r\nHere's how I've been doing it:\r\n\r\n```lua\r\nlocal virtual_text = {\r\n  virt_text_pos = 'right_align',\r\n  format = function(diagnostic)\r\n    local bufnr = diagnostic.bufnr\r\n    local lnum = diagnostic.lnum\r\n    local window = get_window(bufnr)\r\n    if window == nil then\r\n      return diagnostic.message\r\n    end\r\n    local win_width = vim.api.nvim_win_get_width(window)\r\n    local line = vim.api.nvim_buf_get_lines(bufnr, lnum, lnum + 1, false)[1]\r\n    local line_length = #line\r\n    local padding = 20\r\n    local excess = (line_length + padding + #diagnostic.message) - win_width\r\n    if excess > 0 then\r\n      local trimmed = string.sub(diagnostic.message, 1, -excess) .. '…'\r\n      return trimmed\r\n    else\r\n      return diagnostic.message\r\n    end\r\n  end,\r\n}\r\n```\r\n\r\nIt only \"kind of\" works. In particular, it doesn't seem to cope well if I resize the window. There may be edge cases that it fails to handle. I'd be glad to replace it with a built-in option that does the right thing.",
            "created_at": "2025-01-13T23:42:52Z",
            "html_url": "https://github.com/neovim/neovim/pull/31921#issuecomment-2588466488",
            "id": 2588466488,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31921",
            "node_id": "IC_kwDOAPphoM6aSN04",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2588466488/reactions"
            },
            "updated_at": "2025-01-13T23:42:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2588466488",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7074?v=4",
                "events_url": "https://api.github.com/users/wincent/events{/privacy}",
                "followers_url": "https://api.github.com/users/wincent/followers",
                "following_url": "https://api.github.com/users/wincent/following{/other_user}",
                "gists_url": "https://api.github.com/users/wincent/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wincent",
                "id": 7074,
                "login": "wincent",
                "node_id": "MDQ6VXNlcjcwNzQ=",
                "organizations_url": "https://api.github.com/users/wincent/orgs",
                "received_events_url": "https://api.github.com/users/wincent/received_events",
                "repos_url": "https://api.github.com/users/wincent/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wincent/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wincent/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wincent",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Excellent! Thanks @justinmk . Conflict (news.txt) resolved. Do you want me to squash and fix the lintcommit or would you rather do the honors? ",
            "created_at": "2025-01-24T13:19:26Z",
            "html_url": "https://github.com/neovim/neovim/pull/31921#issuecomment-2612514982",
            "id": 2612514982,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31921",
            "node_id": "IC_kwDOAPphoM6bt9Cm",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2612514982/reactions"
            },
            "updated_at": "2025-01-24T13:19:26Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2612514982",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/39860568?v=4",
                "events_url": "https://api.github.com/users/georgev93/events{/privacy}",
                "followers_url": "https://api.github.com/users/georgev93/followers",
                "following_url": "https://api.github.com/users/georgev93/following{/other_user}",
                "gists_url": "https://api.github.com/users/georgev93/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/georgev93",
                "id": 39860568,
                "login": "georgev93",
                "node_id": "MDQ6VXNlcjM5ODYwNTY4",
                "organizations_url": "https://api.github.com/users/georgev93/orgs",
                "received_events_url": "https://api.github.com/users/georgev93/received_events",
                "repos_url": "https://api.github.com/users/georgev93/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/georgev93/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/georgev93/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/georgev93",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Thanks for this @georgev93, @justinmk! 🙇🏻 \r\n\r\n[Trying it out](https://github.com/wincent/wincent/commit/5f1c70c6107362b5356bcbf770b2500269cfc5a7) with the latest nightly and will report back if I notice anything noteworthy.",
            "created_at": "2025-01-25T19:02:29Z",
            "html_url": "https://github.com/neovim/neovim/pull/31921#issuecomment-2614067495",
            "id": 2614067495,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31921",
            "node_id": "IC_kwDOAPphoM6bz4En",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 3,
                "laugh": 0,
                "rocket": 0,
                "total_count": 3,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2614067495/reactions"
            },
            "updated_at": "2025-01-25T19:02:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2614067495",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7074?v=4",
                "events_url": "https://api.github.com/users/wincent/events{/privacy}",
                "followers_url": "https://api.github.com/users/wincent/followers",
                "following_url": "https://api.github.com/users/wincent/following{/other_user}",
                "gists_url": "https://api.github.com/users/wincent/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wincent",
                "id": 7074,
                "login": "wincent",
                "node_id": "MDQ6VXNlcjcwNzQ=",
                "organizations_url": "https://api.github.com/users/wincent/orgs",
                "received_events_url": "https://api.github.com/users/wincent/received_events",
                "repos_url": "https://api.github.com/users/wincent/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wincent/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wincent/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wincent",
                "user_view_type": "public"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/31921/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/31921/commits",
    "created_at": "2025-01-08T19:25:57Z",
    "diff_url": "https://github.com/neovim/neovim/pull/31921.diff",
    "draft": false,
    "head": {
        "label": "georgev93:right_align_trunc",
        "ref": "right_align_trunc",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/georgev93/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/georgev93/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/georgev93/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/georgev93/neovim/branches{/branch}",
            "clone_url": "https://github.com/georgev93/neovim.git",
            "collaborators_url": "https://api.github.com/repos/georgev93/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/georgev93/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/georgev93/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/georgev93/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/georgev93/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/georgev93/neovim/contributors",
            "created_at": "2025-01-08T19:10:18Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/georgev93/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/georgev93/neovim/downloads",
            "events_url": "https://api.github.com/repos/georgev93/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/georgev93/neovim/forks",
            "full_name": "georgev93/neovim",
            "git_commits_url": "https://api.github.com/repos/georgev93/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/georgev93/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/georgev93/neovim/git/tags{/sha}",
            "git_url": "git://github.com/georgev93/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/georgev93/neovim/hooks",
            "html_url": "https://github.com/georgev93/neovim",
            "id": 914006904,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/georgev93/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/georgev93/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/georgev93/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/georgev93/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/georgev93/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/georgev93/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/georgev93/neovim/merges",
            "milestones_url": "https://api.github.com/repos/georgev93/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "R_kgDONnqjeA",
            "notifications_url": "https://api.github.com/repos/georgev93/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/39860568?v=4",
                "events_url": "https://api.github.com/users/georgev93/events{/privacy}",
                "followers_url": "https://api.github.com/users/georgev93/followers",
                "following_url": "https://api.github.com/users/georgev93/following{/other_user}",
                "gists_url": "https://api.github.com/users/georgev93/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/georgev93",
                "id": 39860568,
                "login": "georgev93",
                "node_id": "MDQ6VXNlcjM5ODYwNTY4",
                "organizations_url": "https://api.github.com/users/georgev93/orgs",
                "received_events_url": "https://api.github.com/users/georgev93/received_events",
                "repos_url": "https://api.github.com/users/georgev93/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/georgev93/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/georgev93/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/georgev93",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/georgev93/neovim/pulls{/number}",
            "pushed_at": "2025-01-24T03:49:07Z",
            "releases_url": "https://api.github.com/repos/georgev93/neovim/releases{/id}",
            "size": 297688,
            "ssh_url": "git@github.com:georgev93/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/georgev93/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/georgev93/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/georgev93/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/georgev93/neovim/subscription",
            "svn_url": "https://github.com/georgev93/neovim",
            "tags_url": "https://api.github.com/repos/georgev93/neovim/tags",
            "teams_url": "https://api.github.com/repos/georgev93/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/georgev93/neovim/git/trees{/sha}",
            "updated_at": "2025-01-24T03:45:36Z",
            "url": "https://api.github.com/repos/georgev93/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "969c5c04e8f748b0a67978c9f2687cc4a993ee79",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/39860568?v=4",
            "events_url": "https://api.github.com/users/georgev93/events{/privacy}",
            "followers_url": "https://api.github.com/users/georgev93/followers",
            "following_url": "https://api.github.com/users/georgev93/following{/other_user}",
            "gists_url": "https://api.github.com/users/georgev93/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/georgev93",
            "id": 39860568,
            "login": "georgev93",
            "node_id": "MDQ6VXNlcjM5ODYwNTY4",
            "organizations_url": "https://api.github.com/users/georgev93/orgs",
            "received_events_url": "https://api.github.com/users/georgev93/received_events",
            "repos_url": "https://api.github.com/users/georgev93/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/georgev93/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/georgev93/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/georgev93",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/31921",
    "id": 2266883342,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31921",
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "marks, extmarks, decorations, virtual text, namespaces",
            "id": 1680119719,
            "name": "marks",
            "node_id": "MDU6TGFiZWwxNjgwMTE5NzE5",
            "url": "https://api.github.com/repos/neovim/neovim/labels/marks"
        }
    ],
    "locked": false,
    "merge_commit_sha": "931ee5591fa764a769946318e05062098baf7c21",
    "merged_at": "2025-01-25T03:57:45Z",
    "milestone": null,
    "node_id": "PR_kwDOAPphoM6HHeUO",
    "number": 31921,
    "patch_url": "https://github.com/neovim/neovim/pull/31921.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/31921/comments",
    "state": "closed",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/969c5c04e8f748b0a67978c9f2687cc4a993ee79",
    "title": "feat(extmarks): virtual text can be right-aligned, truncated",
    "updated_at": "2025-01-25T19:02:31Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/31921",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/39860568?v=4",
        "events_url": "https://api.github.com/users/georgev93/events{/privacy}",
        "followers_url": "https://api.github.com/users/georgev93/followers",
        "following_url": "https://api.github.com/users/georgev93/following{/other_user}",
        "gists_url": "https://api.github.com/users/georgev93/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/georgev93",
        "id": 39860568,
        "login": "georgev93",
        "node_id": "MDQ6VXNlcjM5ODYwNTY4",
        "organizations_url": "https://api.github.com/users/georgev93/orgs",
        "received_events_url": "https://api.github.com/users/georgev93/received_events",
        "repos_url": "https://api.github.com/users/georgev93/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/georgev93/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/georgev93/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/georgev93",
        "user_view_type": "public"
    }
}