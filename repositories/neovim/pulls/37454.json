{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/37454/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/37454/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/37454"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/37454"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/37454/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/37454"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/5a37964c485e6e40468e588af9114d470ad58359"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "FIRST_TIME_CONTRIBUTOR",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 6587,
            "forks_count": 6587,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_pull_requests": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 2031,
            "open_issues_count": 2031,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim",
                "user_view_type": "public"
            },
            "private": false,
            "pull_request_creation_policy": "all",
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2026-02-17T03:34:12Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 369888,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 96478,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2026-02-17T03:34:17Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 96478,
            "watchers_count": 96478,
            "web_commit_signoff_required": false
        },
        "sha": "a1895f024a4cc9bb4389deae2a6686a34d3329f7",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim",
            "user_view_type": "public"
        }
    },
    "body": "Problem: _get_and_set_name does edit the name for the whole group, thus only one client per group  gets the didOpen message.\r\n\r\nSolution: move the logic to _changetracking and loop over every client per group.\r\n\r\n \r\n* I'm not sure where all the new logic should go, this is what looked the most logical to me.\r\n* Should `bufnr = vim._resolve_bufnr(bufnr)` go in here somewhere?\r\n* Tests pass, but I think a new test with more than one LS running could be added to cover this issue\r\n\r\n\r\n<!--\r\n  Thank you for contributing to Neovim!\r\n  If this is your first time, check out https://github.com/neovim/neovim/blob/master/CONTRIBUTING.md#pull-requests-prs\r\n  for our PR guidelines.\r\n-->\r\n",
    "closed_at": null,
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37454#discussion_r2706636351"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37454"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2706636351"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\nfunction M._send_did_save(bufnr)\r\n```\r\nEven if this is still a private module, it's better to be safe and \"mark\" functions as not-public-API-ready.",
            "commit_id": "8908c56bd47172a6be8e59fa4cec573e0b7fcebb",
            "created_at": "2026-01-20T03:35:34Z",
            "diff_hunk": "@@ -165,16 +165,76 @@ function M.init(client, bufnr)\n   end\n end\n \n---- @param client vim.lsp.Client\n+--- Memoizes a function. On first run, the function return value is saved and\n+--- immediately returned on subsequent runs. If the function returns a multival,\n+--- only the first returned value will be memoized and returned. The function will only be run once,\n+--- even if it has side effects.\n+---\n+---@generic T: function\n+---@param fn (T) Function to run\n+---@return T\n+local function once(fn)\n+  local value --- @type function\n+  local ran = false\n+  return function(...)\n+    if not ran then\n+      value = fn(...) --- @type function\n+      ran = true\n+    end\n+    return value\n+  end\n+end\n+\n --- @param bufnr integer\n---- @param name string\n---- @return string\n-function M._get_and_set_name(client, bufnr, name)\n-  local state = state_by_group[get_group(client)] or {}\n-  local buf_state = (state.buffers or {})[bufnr]\n-  local old_name = buf_state.name\n-  buf_state.name = name\n-  return old_name\n+function M.send_did_save(bufnr)",
            "html_url": "https://github.com/neovim/neovim/pull/37454#discussion_r2706636351",
            "id": 2706636351,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6hU_4_",
            "original_commit_id": "8908c56bd47172a6be8e59fa4cec573e0b7fcebb",
            "original_line": 189,
            "original_position": 34,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/_changetracking.lua",
            "position": 1,
            "pull_request_review_id": 3680193439,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37454",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2706636351/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-01-20T03:35:34Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2706636351",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37454#discussion_r2792814756"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37454"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2792814756"
                }
            },
            "author_association": "MEMBER",
            "body": "Just for reference: Private modules are 100% private. For example, everything in `_core/*` is private.",
            "commit_id": "8908c56bd47172a6be8e59fa4cec573e0b7fcebb",
            "created_at": "2026-02-11T11:41:15Z",
            "diff_hunk": "@@ -165,16 +165,76 @@ function M.init(client, bufnr)\n   end\n end\n \n---- @param client vim.lsp.Client\n+--- Memoizes a function. On first run, the function return value is saved and\n+--- immediately returned on subsequent runs. If the function returns a multival,\n+--- only the first returned value will be memoized and returned. The function will only be run once,\n+--- even if it has side effects.\n+---\n+---@generic T: function\n+---@param fn (T) Function to run\n+---@return T\n+local function once(fn)\n+  local value --- @type function\n+  local ran = false\n+  return function(...)\n+    if not ran then\n+      value = fn(...) --- @type function\n+      ran = true\n+    end\n+    return value\n+  end\n+end\n+\n --- @param bufnr integer\n---- @param name string\n---- @return string\n-function M._get_and_set_name(client, bufnr, name)\n-  local state = state_by_group[get_group(client)] or {}\n-  local buf_state = (state.buffers or {})[bufnr]\n-  local old_name = buf_state.name\n-  buf_state.name = name\n-  return old_name\n+function M.send_did_save(bufnr)",
            "html_url": "https://github.com/neovim/neovim/pull/37454#discussion_r2792814756",
            "id": 2792814756,
            "in_reply_to_id": 2706636351,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6mdvik",
            "original_commit_id": "8908c56bd47172a6be8e59fa4cec573e0b7fcebb",
            "original_line": 189,
            "original_position": 34,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/_changetracking.lua",
            "position": 1,
            "pull_request_review_id": 3784292342,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37454",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2792814756/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-11T11:41:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2792814756",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37454#discussion_r2792822993"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37454"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2792822993"
                }
            },
            "author_association": "MEMBER",
            "body": "Not a blocker, but can `require('vim.func._memoize')` be used instead? Then we can eliminate `once()` ?",
            "commit_id": "8908c56bd47172a6be8e59fa4cec573e0b7fcebb",
            "created_at": "2026-02-11T11:43:07Z",
            "diff_hunk": "@@ -165,16 +165,76 @@ function M.init(client, bufnr)\n   end\n end\n \n---- @param client vim.lsp.Client\n+--- Memoizes a function. On first run, the function return value is saved and\n+--- immediately returned on subsequent runs. If the function returns a multival,\n+--- only the first returned value will be memoized and returned. The function will only be run once,\n+--- even if it has side effects.\n+---\n+---@generic T: function\n+---@param fn (T) Function to run\n+---@return T\n+local function once(fn)",
            "html_url": "https://github.com/neovim/neovim/pull/37454#discussion_r2792822993",
            "id": 2792822993,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6mdxjR",
            "original_commit_id": "8908c56bd47172a6be8e59fa4cec573e0b7fcebb",
            "original_line": 176,
            "original_position": 13,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/_changetracking.lua",
            "position": 1,
            "pull_request_review_id": 3784301929,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37454",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2792822993/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-11T11:43:07Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2792822993",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37454#discussion_r2795441755"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37454"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2795441755"
                }
            },
            "author_association": "NONE",
            "body": "For me that's good, I just copied what was there already",
            "commit_id": "8908c56bd47172a6be8e59fa4cec573e0b7fcebb",
            "created_at": "2026-02-11T20:45:04Z",
            "diff_hunk": "@@ -165,16 +165,76 @@ function M.init(client, bufnr)\n   end\n end\n \n---- @param client vim.lsp.Client\n+--- Memoizes a function. On first run, the function return value is saved and\n+--- immediately returned on subsequent runs. If the function returns a multival,\n+--- only the first returned value will be memoized and returned. The function will only be run once,\n+--- even if it has side effects.\n+---\n+---@generic T: function\n+---@param fn (T) Function to run\n+---@return T\n+local function once(fn)",
            "html_url": "https://github.com/neovim/neovim/pull/37454#discussion_r2795441755",
            "id": 2795441755,
            "in_reply_to_id": 2792822993,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6mnw5b",
            "original_commit_id": "8908c56bd47172a6be8e59fa4cec573e0b7fcebb",
            "original_line": 176,
            "original_position": 13,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/_changetracking.lua",
            "position": 1,
            "pull_request_review_id": 3787377317,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37454",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2795441755/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-11T20:45:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2795441755",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15071778?v=4",
                "events_url": "https://api.github.com/users/Emilv2/events{/privacy}",
                "followers_url": "https://api.github.com/users/Emilv2/followers",
                "following_url": "https://api.github.com/users/Emilv2/following{/other_user}",
                "gists_url": "https://api.github.com/users/Emilv2/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Emilv2",
                "id": 15071778,
                "login": "Emilv2",
                "node_id": "MDQ6VXNlcjE1MDcxNzc4",
                "organizations_url": "https://api.github.com/users/Emilv2/orgs",
                "received_events_url": "https://api.github.com/users/Emilv2/received_events",
                "repos_url": "https://api.github.com/users/Emilv2/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Emilv2/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Emilv2/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Emilv2",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37454#discussion_r2796139749"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37454"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2796139749"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "If `state.buffers` is `nil`, `buf_state` would also be `nil`, making `buf_state.name` throw an error. Context: #37814",
            "commit_id": "22f86893c841d7a32b300afbaac4139f0fdfbd96",
            "created_at": "2026-02-12T00:05:45Z",
            "diff_hunk": "@@ -165,16 +165,76 @@ function M.init(client, bufnr)\n   end\n end\n \n---- @param client vim.lsp.Client\n+--- Memoizes a function. On first run, the function return value is saved and\n+--- immediately returned on subsequent runs. If the function returns a multival,\n+--- only the first returned value will be memoized and returned. The function will only be run once,\n+--- even if it has side effects.\n+---\n+---@generic T: function\n+---@param fn (T) Function to run\n+---@return T\n+local function once(fn)\n+  local value --- @type function\n+  local ran = false\n+  return function(...)\n+    if not ran then\n+      value = fn(...) --- @type function\n+      ran = true\n+    end\n+    return value\n+  end\n+end\n+\n --- @param bufnr integer\n---- @param name string\n---- @return string\n-function M._get_and_set_name(client, bufnr, name)\n-  local state = state_by_group[get_group(client)] or {}\n-  local buf_state = (state.buffers or {})[bufnr]\n-  local old_name = buf_state.name\n-  buf_state.name = name\n-  return old_name\n+function M.send_did_save(bufnr)\n+  local groups = {} ---@type table<string,vim.lsp.CTGroup>\n+  for _, client in pairs(vim.lsp.get_clients({ bufnr = bufnr })) do\n+    local group = get_group(client)\n+    groups[group_key(group)] = group\n+  end\n+\n+  local uri = vim.uri_from_bufnr(bufnr)\n+  local text = once(vim.lsp._buf_get_full_text)\n+\n+  for _, group in pairs(groups) do\n+    local name = api.nvim_buf_get_name(bufnr)\n+    local state = state_by_group[group]\n+    local buf_state = (state.buffers or {})[bufnr]\n+    local old_name = buf_state.name",
            "html_url": "https://github.com/neovim/neovim/pull/37454#discussion_r2796139749",
            "id": 2796139749,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6mqbTl",
            "original_commit_id": "8908c56bd47172a6be8e59fa4cec573e0b7fcebb",
            "original_line": 203,
            "original_position": 48,
            "original_start_line": 202,
            "path": "runtime/lua/vim/lsp/_changetracking.lua",
            "position": 1,
            "pull_request_review_id": 3788100404,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37454",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2796139749/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-12T00:05:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2796139749",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/84649544?v=4",
                "events_url": "https://api.github.com/users/igorlfs/events{/privacy}",
                "followers_url": "https://api.github.com/users/igorlfs/followers",
                "following_url": "https://api.github.com/users/igorlfs/following{/other_user}",
                "gists_url": "https://api.github.com/users/igorlfs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/igorlfs",
                "id": 84649544,
                "login": "igorlfs",
                "node_id": "MDQ6VXNlcjg0NjQ5NTQ0",
                "organizations_url": "https://api.github.com/users/igorlfs/orgs",
                "received_events_url": "https://api.github.com/users/igorlfs/received_events",
                "repos_url": "https://api.github.com/users/igorlfs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/igorlfs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/igorlfs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/igorlfs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37454#discussion_r2797921297"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37454"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2797921297"
                }
            },
            "author_association": "MEMBER",
            "body": "this PR will need a rebase after https://github.com/neovim/neovim/pull/37829",
            "commit_id": "8908c56bd47172a6be8e59fa4cec573e0b7fcebb",
            "created_at": "2026-02-12T10:03:45Z",
            "diff_hunk": "@@ -165,16 +165,76 @@ function M.init(client, bufnr)\n   end\n end\n \n---- @param client vim.lsp.Client\n+--- Memoizes a function. On first run, the function return value is saved and\n+--- immediately returned on subsequent runs. If the function returns a multival,\n+--- only the first returned value will be memoized and returned. The function will only be run once,\n+--- even if it has side effects.\n+---\n+---@generic T: function\n+---@param fn (T) Function to run\n+---@return T\n+local function once(fn)",
            "html_url": "https://github.com/neovim/neovim/pull/37454#discussion_r2797921297",
            "id": 2797921297,
            "in_reply_to_id": 2792822993,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6mxOQR",
            "original_commit_id": "8908c56bd47172a6be8e59fa4cec573e0b7fcebb",
            "original_line": 176,
            "original_position": 13,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/_changetracking.lua",
            "position": 1,
            "pull_request_review_id": 3789950682,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37454",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2797921297/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-12T10:03:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2797921297",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37454#discussion_r2807073309"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37454"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2807073309"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "```suggestion\n    local buf_state = state.buffers[bufnr] or {}\n```\n\nThis partially fixes #37814 (the related error, anyway), but I'm not sure if it's the right fix.",
            "commit_id": "22f86893c841d7a32b300afbaac4139f0fdfbd96",
            "created_at": "2026-02-14T05:48:17Z",
            "diff_hunk": "@@ -165,16 +165,56 @@ function M.init(client, bufnr)\n   end\n end\n \n---- @param client vim.lsp.Client\n --- @param bufnr integer\n---- @param name string\n---- @return string\n-function M._get_and_set_name(client, bufnr, name)\n-  local state = state_by_group[get_group(client)] or {}\n-  local buf_state = (state.buffers or {})[bufnr]\n-  local old_name = buf_state.name\n-  buf_state.name = name\n-  return old_name\n+function M._send_did_save(bufnr)\n+  local groups = {} ---@type table<string,vim.lsp.CTGroup>\n+  for _, client in pairs(vim.lsp.get_clients({ bufnr = bufnr })) do\n+    local group = get_group(client)\n+    groups[group_key(group)] = group\n+  end\n+\n+  local uri = vim.uri_from_bufnr(bufnr)\n+  local text = vim.func._memoize('concat', vim.lsp._buf_get_full_text)\n+\n+  for _, group in pairs(groups) do\n+    local name = api.nvim_buf_get_name(bufnr)\n+    local state = state_by_group[group]\n+    local buf_state = (state.buffers or {})[bufnr]",
            "html_url": "https://github.com/neovim/neovim/pull/37454#discussion_r2807073309",
            "id": 2807073309,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6nUIod",
            "original_commit_id": "22f86893c841d7a32b300afbaac4139f0fdfbd96",
            "original_line": 182,
            "original_position": 27,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/_changetracking.lua",
            "position": 1,
            "pull_request_review_id": 3801064772,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37454",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2807073309/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-14T05:48:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2807073309",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/84649544?v=4",
                "events_url": "https://api.github.com/users/igorlfs/events{/privacy}",
                "followers_url": "https://api.github.com/users/igorlfs/followers",
                "following_url": "https://api.github.com/users/igorlfs/following{/other_user}",
                "gists_url": "https://api.github.com/users/igorlfs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/igorlfs",
                "id": 84649544,
                "login": "igorlfs",
                "node_id": "MDQ6VXNlcjg0NjQ5NTQ0",
                "organizations_url": "https://api.github.com/users/igorlfs/orgs",
                "received_events_url": "https://api.github.com/users/igorlfs/received_events",
                "repos_url": "https://api.github.com/users/igorlfs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/igorlfs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/igorlfs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/igorlfs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37454#discussion_r2809684848"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37454"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2809684848"
                }
            },
            "author_association": "NONE",
            "body": "Done",
            "commit_id": "22f86893c841d7a32b300afbaac4139f0fdfbd96",
            "created_at": "2026-02-15T16:38:56Z",
            "diff_hunk": "@@ -165,16 +165,56 @@ function M.init(client, bufnr)\n   end\n end\n \n---- @param client vim.lsp.Client\n --- @param bufnr integer\n---- @param name string\n---- @return string\n-function M._get_and_set_name(client, bufnr, name)\n-  local state = state_by_group[get_group(client)] or {}\n-  local buf_state = (state.buffers or {})[bufnr]\n-  local old_name = buf_state.name\n-  buf_state.name = name\n-  return old_name\n+function M._send_did_save(bufnr)\n+  local groups = {} ---@type table<string,vim.lsp.CTGroup>\n+  for _, client in pairs(vim.lsp.get_clients({ bufnr = bufnr })) do\n+    local group = get_group(client)\n+    groups[group_key(group)] = group\n+  end\n+\n+  local uri = vim.uri_from_bufnr(bufnr)\n+  local text = vim.func._memoize('concat', vim.lsp._buf_get_full_text)\n+\n+  for _, group in pairs(groups) do\n+    local name = api.nvim_buf_get_name(bufnr)\n+    local state = state_by_group[group]\n+    local buf_state = (state.buffers or {})[bufnr]",
            "html_url": "https://github.com/neovim/neovim/pull/37454#discussion_r2809684848",
            "id": 2809684848,
            "in_reply_to_id": 2807073309,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6neGNw",
            "original_commit_id": "22f86893c841d7a32b300afbaac4139f0fdfbd96",
            "original_line": 182,
            "original_position": 27,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/_changetracking.lua",
            "position": 1,
            "pull_request_review_id": 3805186042,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37454",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2809684848/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-15T16:38:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2809684848",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15071778?v=4",
                "events_url": "https://api.github.com/users/Emilv2/events{/privacy}",
                "followers_url": "https://api.github.com/users/Emilv2/followers",
                "following_url": "https://api.github.com/users/Emilv2/following{/other_user}",
                "gists_url": "https://api.github.com/users/Emilv2/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Emilv2",
                "id": 15071778,
                "login": "Emilv2",
                "node_id": "MDQ6VXNlcjE1MDcxNzc4",
                "organizations_url": "https://api.github.com/users/Emilv2/orgs",
                "received_events_url": "https://api.github.com/users/Emilv2/received_events",
                "repos_url": "https://api.github.com/users/Emilv2/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Emilv2/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Emilv2/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Emilv2",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37454#discussion_r2810073255"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37454"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2810073255"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "On second thought, I think this doesn't fix the underlying problem. I'll investigate #37814 once I have the energy to. Can you revert this?",
            "commit_id": "22f86893c841d7a32b300afbaac4139f0fdfbd96",
            "created_at": "2026-02-15T23:04:01Z",
            "diff_hunk": "@@ -165,16 +165,56 @@ function M.init(client, bufnr)\n   end\n end\n \n---- @param client vim.lsp.Client\n --- @param bufnr integer\n---- @param name string\n---- @return string\n-function M._get_and_set_name(client, bufnr, name)\n-  local state = state_by_group[get_group(client)] or {}\n-  local buf_state = (state.buffers or {})[bufnr]\n-  local old_name = buf_state.name\n-  buf_state.name = name\n-  return old_name\n+function M._send_did_save(bufnr)\n+  local groups = {} ---@type table<string,vim.lsp.CTGroup>\n+  for _, client in pairs(vim.lsp.get_clients({ bufnr = bufnr })) do\n+    local group = get_group(client)\n+    groups[group_key(group)] = group\n+  end\n+\n+  local uri = vim.uri_from_bufnr(bufnr)\n+  local text = vim.func._memoize('concat', vim.lsp._buf_get_full_text)\n+\n+  for _, group in pairs(groups) do\n+    local name = api.nvim_buf_get_name(bufnr)\n+    local state = state_by_group[group]\n+    local buf_state = (state.buffers or {})[bufnr]",
            "html_url": "https://github.com/neovim/neovim/pull/37454#discussion_r2810073255",
            "id": 2810073255,
            "in_reply_to_id": 2807073309,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6nflCn",
            "original_commit_id": "22f86893c841d7a32b300afbaac4139f0fdfbd96",
            "original_line": 182,
            "original_position": 27,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/_changetracking.lua",
            "position": 1,
            "pull_request_review_id": 3805690689,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37454",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2810073255/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-15T23:04:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2810073255",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/84649544?v=4",
                "events_url": "https://api.github.com/users/igorlfs/events{/privacy}",
                "followers_url": "https://api.github.com/users/igorlfs/followers",
                "following_url": "https://api.github.com/users/igorlfs/following{/other_user}",
                "gists_url": "https://api.github.com/users/igorlfs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/igorlfs",
                "id": 84649544,
                "login": "igorlfs",
                "node_id": "MDQ6VXNlcjg0NjQ5NTQ0",
                "organizations_url": "https://api.github.com/users/igorlfs/orgs",
                "received_events_url": "https://api.github.com/users/igorlfs/received_events",
                "repos_url": "https://api.github.com/users/igorlfs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/igorlfs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/igorlfs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/igorlfs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37454#discussion_r2813449986"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37454"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2813449986"
                }
            },
            "author_association": "NONE",
            "body": "Isn't your solution better in any case? won't `buf_state = (state.buffers or {})[bufnr]`  be nil anytime state.buffers is nil?",
            "commit_id": "22f86893c841d7a32b300afbaac4139f0fdfbd96",
            "created_at": "2026-02-16T17:31:18Z",
            "diff_hunk": "@@ -165,16 +165,56 @@ function M.init(client, bufnr)\n   end\n end\n \n---- @param client vim.lsp.Client\n --- @param bufnr integer\n---- @param name string\n---- @return string\n-function M._get_and_set_name(client, bufnr, name)\n-  local state = state_by_group[get_group(client)] or {}\n-  local buf_state = (state.buffers or {})[bufnr]\n-  local old_name = buf_state.name\n-  buf_state.name = name\n-  return old_name\n+function M._send_did_save(bufnr)\n+  local groups = {} ---@type table<string,vim.lsp.CTGroup>\n+  for _, client in pairs(vim.lsp.get_clients({ bufnr = bufnr })) do\n+    local group = get_group(client)\n+    groups[group_key(group)] = group\n+  end\n+\n+  local uri = vim.uri_from_bufnr(bufnr)\n+  local text = vim.func._memoize('concat', vim.lsp._buf_get_full_text)\n+\n+  for _, group in pairs(groups) do\n+    local name = api.nvim_buf_get_name(bufnr)\n+    local state = state_by_group[group]\n+    local buf_state = (state.buffers or {})[bufnr]",
            "html_url": "https://github.com/neovim/neovim/pull/37454#discussion_r2813449986",
            "id": 2813449986,
            "in_reply_to_id": 2807073309,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6nsdcC",
            "original_commit_id": "22f86893c841d7a32b300afbaac4139f0fdfbd96",
            "original_line": 182,
            "original_position": 27,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/_changetracking.lua",
            "position": 1,
            "pull_request_review_id": 3809777140,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37454",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2813449986/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-16T17:31:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2813449986",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15071778?v=4",
                "events_url": "https://api.github.com/users/Emilv2/events{/privacy}",
                "followers_url": "https://api.github.com/users/Emilv2/followers",
                "following_url": "https://api.github.com/users/Emilv2/following{/other_user}",
                "gists_url": "https://api.github.com/users/Emilv2/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Emilv2",
                "id": 15071778,
                "login": "Emilv2",
                "node_id": "MDQ6VXNlcjE1MDcxNzc4",
                "organizations_url": "https://api.github.com/users/Emilv2/orgs",
                "received_events_url": "https://api.github.com/users/Emilv2/received_events",
                "repos_url": "https://api.github.com/users/Emilv2/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Emilv2/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Emilv2/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Emilv2",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37454#discussion_r2813500443"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37454"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2813500443"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "> be nil anytime state.buffers is nil?\r\n\r\nThe thing is, it should never be nil",
            "commit_id": "22f86893c841d7a32b300afbaac4139f0fdfbd96",
            "created_at": "2026-02-16T17:48:01Z",
            "diff_hunk": "@@ -165,16 +165,56 @@ function M.init(client, bufnr)\n   end\n end\n \n---- @param client vim.lsp.Client\n --- @param bufnr integer\n---- @param name string\n---- @return string\n-function M._get_and_set_name(client, bufnr, name)\n-  local state = state_by_group[get_group(client)] or {}\n-  local buf_state = (state.buffers or {})[bufnr]\n-  local old_name = buf_state.name\n-  buf_state.name = name\n-  return old_name\n+function M._send_did_save(bufnr)\n+  local groups = {} ---@type table<string,vim.lsp.CTGroup>\n+  for _, client in pairs(vim.lsp.get_clients({ bufnr = bufnr })) do\n+    local group = get_group(client)\n+    groups[group_key(group)] = group\n+  end\n+\n+  local uri = vim.uri_from_bufnr(bufnr)\n+  local text = vim.func._memoize('concat', vim.lsp._buf_get_full_text)\n+\n+  for _, group in pairs(groups) do\n+    local name = api.nvim_buf_get_name(bufnr)\n+    local state = state_by_group[group]\n+    local buf_state = (state.buffers or {})[bufnr]",
            "html_url": "https://github.com/neovim/neovim/pull/37454#discussion_r2813500443",
            "id": 2813500443,
            "in_reply_to_id": 2807073309,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6nspwb",
            "original_commit_id": "22f86893c841d7a32b300afbaac4139f0fdfbd96",
            "original_line": 182,
            "original_position": 27,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/_changetracking.lua",
            "position": 1,
            "pull_request_review_id": 3809846552,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37454",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2813500443/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-16T17:48:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2813500443",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/84649544?v=4",
                "events_url": "https://api.github.com/users/igorlfs/events{/privacy}",
                "followers_url": "https://api.github.com/users/igorlfs/followers",
                "following_url": "https://api.github.com/users/igorlfs/following{/other_user}",
                "gists_url": "https://api.github.com/users/igorlfs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/igorlfs",
                "id": 84649544,
                "login": "igorlfs",
                "node_id": "MDQ6VXNlcjg0NjQ5NTQ0",
                "organizations_url": "https://api.github.com/users/igorlfs/orgs",
                "received_events_url": "https://api.github.com/users/igorlfs/received_events",
                "repos_url": "https://api.github.com/users/igorlfs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/igorlfs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/igorlfs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/igorlfs",
                "user_view_type": "public"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "MEMBER",
            "body": "> * Tests pass, but I think a new test with more than one LS running could be added to cover this issue\r\n\r\nYes, new tests (specially when covering non-trivial bug fixes) are a good idea.",
            "created_at": "2026-01-20T03:33:54Z",
            "html_url": "https://github.com/neovim/neovim/pull/37454#issuecomment-3770868534",
            "id": 3770868534,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37454",
            "node_id": "IC_kwDOAPphoM7gwuM2",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3770868534/reactions"
            },
            "updated_at": "2026-01-20T03:33:54Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3770868534",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I did not find any open issue describing my problem, should I open one?\r\n\r\nIt is basically the same as #18688 , but when you configure 2 servers for the same language.\r\n\r\n* Configure `ruff` and `pyright` \r\n* Open a python file\r\n* Use `saveas`\r\n* Do some edits\r\n* Observe one of the servers complain about editing a not opened file\r\n\r\nI can get a minimal configuration, but it's pretty straightforward.\r\n\r\n\r\nI will look into how to add tests.\r\n\r\n\r\nDebugging this was very confusing at the beginning because the rpc logging doesn't report which clint sends messages to which server. Would it be a good idea to add this information to the rpc client for debugging?",
            "created_at": "2026-01-20T07:20:38Z",
            "html_url": "https://github.com/neovim/neovim/pull/37454#issuecomment-3771396438",
            "id": 3771396438,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37454",
            "node_id": "IC_kwDOAPphoM7gyvFW",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3771396438/reactions"
            },
            "updated_at": "2026-01-20T07:20:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3771396438",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15071778?v=4",
                "events_url": "https://api.github.com/users/Emilv2/events{/privacy}",
                "followers_url": "https://api.github.com/users/Emilv2/followers",
                "following_url": "https://api.github.com/users/Emilv2/following{/other_user}",
                "gists_url": "https://api.github.com/users/Emilv2/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Emilv2",
                "id": 15071778,
                "login": "Emilv2",
                "node_id": "MDQ6VXNlcjE1MDcxNzc4",
                "organizations_url": "https://api.github.com/users/Emilv2/orgs",
                "received_events_url": "https://api.github.com/users/Emilv2/received_events",
                "repos_url": "https://api.github.com/users/Emilv2/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Emilv2/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Emilv2/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Emilv2",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I looked into writing tests, but the test framework doesn't seem to be build for using multiple servers and I'm a bit lost. I tried starting from the [merges results from multiple servers](https://github.com/neovim/neovim/blob/master/test/functional/plugin/lsp_spec.lua#L5335) test and do something like this:\r\n```\r\n    it('saveas sends didOpen to multiple attached servers if filename changed', function()\r\n      exec_lua(create_server_definition)\r\n      local result = exec_lua(function()\r\n        local bufnr = vim.api.nvim_get_current_buf()\r\n        local function serveropts(character)\r\n          return {\r\n            capabilities = {\r\n              definitionProvider = true,\r\n            },\r\n            handlers = {\r\n              ['textDocument/didOpen'] = function(_, _, callback)\r\n                callback(nil, true)\r\n              end,\r\n            },\r\n          }\r\n        end\r\n        local server1 = _G._create_server(serveropts(0))\r\n        local server2 = _G._create_server(serveropts(7))\r\n        local win = vim.api.nvim_get_current_win()\r\n        vim.api.nvim_buf_set_lines(bufnr, 0, -1, true, { 'local x = 10', '', 'print(x)' })\r\n        vim.api.nvim_win_set_cursor(win, { 3, 6 })\r\n        local client_id1 = assert(vim.lsp.start({ name = 'dummy1', cmd = server1.cmd }))\r\n        local client_id2 = assert(vim.lsp.start({ name = 'dummy2', cmd = server2.cmd }))\r\n\r\n        local tmpfile_new = tmpname(false)\r\n        local tmpfile_old = tmpname()\r\n\r\n        vim.cmd('edit ' .. tmpfile_old)\r\n        insert('help me')\r\n        command('saveas ' .. tmpfile_new)\r\n\r\n        local response\r\n        vim.lsp.buf.definition({\r\n          on_list = function(r)\r\n            response = r\r\n          end,\r\n        })\r\n        vim.lsp.get_client_by_id(client_id1):stop()\r\n        vim.lsp.get_client_by_id(client_id2):stop()\r\n        return response\r\n      end)\r\n      eq(2, #result.items)\r\n    end)\r\n  end)\r\n  ```\r\n  I get this error:\r\n  ```\r\n  test/client/rpc_stream.lua:72: Packer instance already working. Use another Packer or mpack.encode() if you need to encode from the ext handler\r\n\r\nstack traceback:\r\n        test/client/rpc_stream.lua:72: in function 'write'\r\n        test/client/session.lua:209: in function '_blocking_request'\r\n        test/client/session.lua:117: in function 'request'\r\n        test/functional/testnvim.lua:134: in function 'exec_lua'\r\n        test/functional/plugin/lsp_spec.lua:91: in function <test/functional/plugin/lsp_spec.lua:89>\r\n```\r\n  ",
            "created_at": "2026-02-11T21:00:49Z",
            "html_url": "https://github.com/neovim/neovim/pull/37454#issuecomment-3887200778",
            "id": 3887200778,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37454",
            "node_id": "IC_kwDOAPphoM7nsfoK",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3887200778/reactions"
            },
            "updated_at": "2026-02-11T21:00:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3887200778",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15071778?v=4",
                "events_url": "https://api.github.com/users/Emilv2/events{/privacy}",
                "followers_url": "https://api.github.com/users/Emilv2/followers",
                "following_url": "https://api.github.com/users/Emilv2/following{/other_user}",
                "gists_url": "https://api.github.com/users/Emilv2/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Emilv2",
                "id": 15071778,
                "login": "Emilv2",
                "node_id": "MDQ6VXNlcjE1MDcxNzc4",
                "organizations_url": "https://api.github.com/users/Emilv2/orgs",
                "received_events_url": "https://api.github.com/users/Emilv2/received_events",
                "repos_url": "https://api.github.com/users/Emilv2/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Emilv2/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Emilv2/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Emilv2",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Hey @Emilv2, I came up with a test to cover this:\r\n\r\n```patch\r\ndiff --git a/test/functional/plugin/lsp_spec.lua b/test/functional/plugin/lsp_spec.lua\r\nindex af5f9d7b5c..d86f4f243e 100644\r\n--- a/test/functional/plugin/lsp_spec.lua\r\n+++ b/test/functional/plugin/lsp_spec.lua\r\n@@ -815,6 +815,34 @@ describe('LSP', function()\r\n       }\r\n     end)\r\n \r\n+    it('saveas sends didOpen to multiple attached servers if filename changed', function()\r\n+      local tmpfile_new = tmpname(false)\r\n+      exec_lua(create_server_definition)\r\n+      local messages = exec_lua(function()\r\n+        local server1 = _G._create_server()\r\n+        local server2 = _G._create_server()\r\n+        local client1_id = assert(vim.lsp.start({ name = 'dummy1', cmd = server1.cmd }))\r\n+        local client2_id = assert(vim.lsp.start({ name = 'dummy2', cmd = server2.cmd }))\r\n+\r\n+        vim.cmd('saveas ' .. tmpfile_new)\r\n+\r\n+        vim.lsp.get_client_by_id(client1_id):stop()\r\n+        vim.lsp.get_client_by_id(client2_id):stop()\r\n+\r\n+        return {\r\n+          server1 = server1.messages,\r\n+          server2 = server2.messages,\r\n+        }\r\n+      end)\r\n+      eq('textDocument/didClose', messages.server1[3].method)\r\n+      eq('textDocument/didOpen', messages.server1[4].method)\r\n+      eq('textDocument/didSave', messages.server1[5].method)\r\n+\r\n+      eq('textDocument/didClose', messages.server2[3].method)\r\n+      eq('textDocument/didOpen', messages.server2[4].method)\r\n+      eq('textDocument/didSave', messages.server2[5].method)\r\n+    end)\r\n+\r\n     it('BufWritePre does not send notifications if server lacks willSave capabilities', function()\r\n       exec_lua(create_server_definition)\r\n       local messages = exec_lua(function()\r\n```\r\n\r\nNo idea if this follows any \"best practices\", though (I'm about as clueless as you are). Perhaps @MariaSolOs can share her wisdom.",
            "created_at": "2026-02-14T05:35:50Z",
            "html_url": "https://github.com/neovim/neovim/pull/37454#issuecomment-3901139012",
            "id": 3901139012,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37454",
            "node_id": "IC_kwDOAPphoM7ohqhE",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 1,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3901139012/reactions"
            },
            "updated_at": "2026-02-14T05:35:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3901139012",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/84649544?v=4",
                "events_url": "https://api.github.com/users/igorlfs/events{/privacy}",
                "followers_url": "https://api.github.com/users/igorlfs/followers",
                "following_url": "https://api.github.com/users/igorlfs/following{/other_user}",
                "gists_url": "https://api.github.com/users/igorlfs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/igorlfs",
                "id": 84649544,
                "login": "igorlfs",
                "node_id": "MDQ6VXNlcjg0NjQ5NTQ0",
                "organizations_url": "https://api.github.com/users/igorlfs/orgs",
                "received_events_url": "https://api.github.com/users/igorlfs/received_events",
                "repos_url": "https://api.github.com/users/igorlfs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/igorlfs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/igorlfs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/igorlfs",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "@igorlfs Thanks, I've added your change and your test.",
            "created_at": "2026-02-15T16:43:40Z",
            "html_url": "https://github.com/neovim/neovim/pull/37454#issuecomment-3904789633",
            "id": 3904789633,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37454",
            "node_id": "IC_kwDOAPphoM7ovlyB",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3904789633/reactions"
            },
            "updated_at": "2026-02-15T16:43:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3904789633",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15071778?v=4",
                "events_url": "https://api.github.com/users/Emilv2/events{/privacy}",
                "followers_url": "https://api.github.com/users/Emilv2/followers",
                "following_url": "https://api.github.com/users/Emilv2/following{/other_user}",
                "gists_url": "https://api.github.com/users/Emilv2/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Emilv2",
                "id": 15071778,
                "login": "Emilv2",
                "node_id": "MDQ6VXNlcjE1MDcxNzc4",
                "organizations_url": "https://api.github.com/users/Emilv2/orgs",
                "received_events_url": "https://api.github.com/users/Emilv2/received_events",
                "repos_url": "https://api.github.com/users/Emilv2/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Emilv2/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Emilv2/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Emilv2",
                "user_view_type": "public"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/37454/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/37454/commits",
    "created_at": "2026-01-18T21:08:36Z",
    "diff_url": "https://github.com/neovim/neovim/pull/37454.diff",
    "draft": false,
    "head": {
        "label": "Emilv2:fix_lsp_multi_didopen",
        "ref": "fix_lsp_multi_didopen",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/Emilv2/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/Emilv2/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/Emilv2/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/Emilv2/neovim/branches{/branch}",
            "clone_url": "https://github.com/Emilv2/neovim.git",
            "collaborators_url": "https://api.github.com/repos/Emilv2/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/Emilv2/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/Emilv2/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/Emilv2/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/Emilv2/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/Emilv2/neovim/contributors",
            "created_at": "2026-01-18T20:30:46Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/Emilv2/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/Emilv2/neovim/downloads",
            "events_url": "https://api.github.com/repos/Emilv2/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/Emilv2/neovim/forks",
            "full_name": "Emilv2/neovim",
            "git_commits_url": "https://api.github.com/repos/Emilv2/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/Emilv2/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/Emilv2/neovim/git/tags{/sha}",
            "git_url": "git://github.com/Emilv2/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_pull_requests": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/Emilv2/neovim/hooks",
            "html_url": "https://github.com/Emilv2/neovim",
            "id": 1137051281,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/Emilv2/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/Emilv2/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/Emilv2/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/Emilv2/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/Emilv2/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/Emilv2/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/Emilv2/neovim/merges",
            "milestones_url": "https://api.github.com/repos/Emilv2/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "R_kgDOQ8YGkQ",
            "notifications_url": "https://api.github.com/repos/Emilv2/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15071778?v=4",
                "events_url": "https://api.github.com/users/Emilv2/events{/privacy}",
                "followers_url": "https://api.github.com/users/Emilv2/followers",
                "following_url": "https://api.github.com/users/Emilv2/following{/other_user}",
                "gists_url": "https://api.github.com/users/Emilv2/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Emilv2",
                "id": 15071778,
                "login": "Emilv2",
                "node_id": "MDQ6VXNlcjE1MDcxNzc4",
                "organizations_url": "https://api.github.com/users/Emilv2/orgs",
                "received_events_url": "https://api.github.com/users/Emilv2/received_events",
                "repos_url": "https://api.github.com/users/Emilv2/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Emilv2/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Emilv2/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Emilv2",
                "user_view_type": "public"
            },
            "private": false,
            "pull_request_creation_policy": "all",
            "pulls_url": "https://api.github.com/repos/Emilv2/neovim/pulls{/number}",
            "pushed_at": "2026-02-15T16:38:02Z",
            "releases_url": "https://api.github.com/repos/Emilv2/neovim/releases{/id}",
            "size": 355917,
            "ssh_url": "git@github.com:Emilv2/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/Emilv2/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/Emilv2/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/Emilv2/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/Emilv2/neovim/subscription",
            "svn_url": "https://github.com/Emilv2/neovim",
            "tags_url": "https://api.github.com/repos/Emilv2/neovim/tags",
            "teams_url": "https://api.github.com/repos/Emilv2/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/Emilv2/neovim/git/trees{/sha}",
            "updated_at": "2026-01-18T20:32:57Z",
            "url": "https://api.github.com/repos/Emilv2/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "5a37964c485e6e40468e588af9114d470ad58359",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/15071778?v=4",
            "events_url": "https://api.github.com/users/Emilv2/events{/privacy}",
            "followers_url": "https://api.github.com/users/Emilv2/followers",
            "following_url": "https://api.github.com/users/Emilv2/following{/other_user}",
            "gists_url": "https://api.github.com/users/Emilv2/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/Emilv2",
            "id": 15071778,
            "login": "Emilv2",
            "node_id": "MDQ6VXNlcjE1MDcxNzc4",
            "organizations_url": "https://api.github.com/users/Emilv2/orgs",
            "received_events_url": "https://api.github.com/users/Emilv2/received_events",
            "repos_url": "https://api.github.com/users/Emilv2/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/Emilv2/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Emilv2/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/Emilv2",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/37454",
    "id": 3185772037,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37454",
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": null,
            "id": 662566370,
            "name": "lsp",
            "node_id": "MDU6TGFiZWw2NjI1NjYzNzA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lsp"
        }
    ],
    "locked": false,
    "merge_commit_sha": "59de3664302379d62b7cec593051b658da1e22c2",
    "merged_at": null,
    "milestone": null,
    "node_id": "PR_kwDOAPphoM694wYF",
    "number": 37454,
    "patch_url": "https://github.com/neovim/neovim/pull/37454.patch",
    "requested_reviewers": [
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/55766287?v=4",
            "events_url": "https://api.github.com/users/ribru17/events{/privacy}",
            "followers_url": "https://api.github.com/users/ribru17/followers",
            "following_url": "https://api.github.com/users/ribru17/following{/other_user}",
            "gists_url": "https://api.github.com/users/ribru17/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/ribru17",
            "id": 55766287,
            "login": "ribru17",
            "node_id": "MDQ6VXNlcjU1NzY2Mjg3",
            "organizations_url": "https://api.github.com/users/ribru17/orgs",
            "received_events_url": "https://api.github.com/users/ribru17/received_events",
            "repos_url": "https://api.github.com/users/ribru17/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/ribru17/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ribru17/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/ribru17",
            "user_view_type": "public"
        },
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
            "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
            "followers_url": "https://api.github.com/users/MariaSolOs/followers",
            "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
            "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/MariaSolOs",
            "id": 62502207,
            "login": "MariaSolOs",
            "node_id": "MDQ6VXNlcjYyNTAyMjA3",
            "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
            "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
            "repos_url": "https://api.github.com/users/MariaSolOs/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/MariaSolOs",
            "user_view_type": "public"
        }
    ],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/37454/comments",
    "state": "open",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/5a37964c485e6e40468e588af9114d470ad58359",
    "title": "fix(lsp): send didOpen on save to all clients",
    "updated_at": "2026-02-16T17:48:02Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/37454",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/15071778?v=4",
        "events_url": "https://api.github.com/users/Emilv2/events{/privacy}",
        "followers_url": "https://api.github.com/users/Emilv2/followers",
        "following_url": "https://api.github.com/users/Emilv2/following{/other_user}",
        "gists_url": "https://api.github.com/users/Emilv2/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/Emilv2",
        "id": 15071778,
        "login": "Emilv2",
        "node_id": "MDQ6VXNlcjE1MDcxNzc4",
        "organizations_url": "https://api.github.com/users/Emilv2/orgs",
        "received_events_url": "https://api.github.com/users/Emilv2/received_events",
        "repos_url": "https://api.github.com/users/Emilv2/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/Emilv2/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Emilv2/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/Emilv2",
        "user_view_type": "public"
    }
}