{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/36902/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/36902/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/36902"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/36902"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/36902/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/36902"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/2f952e037968713d454df4e89950acfe8521c7e5"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 6460,
            "forks_count": 6460,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 2031,
            "open_issues_count": 2031,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2025-12-15T23:50:03Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 355921,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 94967,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2025-12-16T02:41:18Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 94967,
            "watchers_count": 94967,
            "web_commit_signoff_required": false
        },
        "sha": "d2e445e1bd321ea43b976d6aa7759d90b826ce62",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim",
            "user_view_type": "public"
        }
    },
    "body": "## Problem\r\n\r\nCorrupted treesitter parser binaries crash Neovim with `SIGSEGV`, `SIGBUS`, or `SIGILL` during parser initialization or parsing operations. This results in:\r\n\r\n- **Data loss** - unsaved changes are lost when Neovim crashes\r\n- **Poor user experience** - no error message, just sudden termination (exit code 137)\r\n- **Difficult debugging** - users don't know which parser caused the crash\r\n\r\n### How This Happens in Practice\r\n\r\nParser binaries can become corrupted through several real-world scenarios:\r\n\r\n- **Interrupted installation** - network failure or Ctrl-C during `:TSInstall`\r\n- **Disk errors** - filesystem corruption or out-of-space during compilation\r\n- **Failed build** - compiler crash or memory exhaustion during parser compilation\r\n- **Corrupted download** - partial or corrupted tarball/git clone\r\n\r\nOnce a parser is corrupted, **every time you open a file of that type**, Neovim crashes immediately:\r\n\r\n```bash\r\nnvim test.sh          # If bash parser is corrupted -> instant crash\r\nnvim script.py        # If python parser is corrupted -> instant crash\r\n```\r\n\r\nThe user must manually run `:TSUninstall <parser>` from a file type that doesn't crash to recover - but they may not know which parser is causing the issue.\r\n\r\n### Reproduction (Manual)\r\n\r\nTo demonstrate the crash protection:\r\n\r\n1. Corrupt a parser binary:\r\n\r\n   ```bash\r\n   dd if=/dev/urandom of=~/.local/share/nvim/site/parser/bash.so bs=1024 count=10\r\n   ```\r\n\r\n2. Open a shell file: `nvim test.sh`\r\n3. **Before this PR**: Neovim crashes with exit code 137\r\n4. **After this PR**: Clear error message with parser name, parser quarantined, Neovim stays running\r\n\r\n## Solution\r\n\r\n### Signal Handler Infrastructure\r\n\r\n- Install POSIX signal handlers (`SIGSEGV`, `SIGBUS`, `SIGILL`) around risky operations\r\n- Use `sigsetjmp`/`siglongjmp` for non-local jumps to recover from crashes\r\n- Provide clear error messages with recovery instructions (`:TSUninstall`/`:TSInstall`)\r\n\r\n### Session-Based Quarantine System\r\n\r\n- Track crashed parsers to prevent repeated crash attempts\r\n- Clear quarantine on Neovim restart (session-based, not persistent)\r\n- New API: `vim.treesitter.language.is_quarantined(lang)` and `get_quarantined()`\r\n\r\n### Enhanced Health Check\r\n\r\n- Added `vim._ts_test_parser(lang)` to test parsers without loading buffers\r\n- Proactively test all installed parsers in `:checkhealth treesitter`\r\n- Display quarantined parsers prominently with recovery instructions\r\n\r\n## Manual Testing (in addition to automated tests)\r\n\r\nCreated an intentionally crashing parser (NULL dereference) and verified:\r\n\r\n- ✅ Neovim does not crash when loading corrupted parser\r\n- ✅ Clear error message with recovery instructions displayed\r\n- ✅ Parser is quarantined and won't be attempted again\r\n- ✅ `:checkhealth treesitter` shows quarantined parser status",
    "closed_at": null,
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/36902#discussion_r2606661715"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/36902"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606661715"
                }
            },
            "author_association": "MEMBER",
            "body": "For now maybe prefix both of these with `_` so they aren't documented or stable.",
            "commit_id": "2f952e037968713d454df4e89950acfe8521c7e5",
            "created_at": "2025-12-10T13:27:22Z",
            "diff_hunk": "@@ -1216,6 +1216,12 @@ get_lang({filetype})                      *vim.treesitter.language.get_lang()*\n     Return: ~\n         (`string?`)\n \n+get_quarantined()                  *vim.treesitter.language.get_quarantined()*",
            "html_url": "https://github.com/neovim/neovim/pull/36902#discussion_r2606661715",
            "id": 2606661715,
            "line": 1219,
            "node_id": "PRRC_kwDOAPphoM6bXoBT",
            "original_commit_id": "78be8b6091d899ffab4f82cd9e6c31783380b5de",
            "original_line": 1219,
            "original_position": 4,
            "original_start_line": null,
            "path": "runtime/doc/treesitter.txt",
            "position": 4,
            "pull_request_review_id": 3562546653,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/36902",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606661715/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-12-10T13:27:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606661715",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/36902#discussion_r2606670221"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/36902"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606670221"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\n```\n\nI'm not sure this is needed as it is included below.",
            "commit_id": "2f952e037968713d454df4e89950acfe8521c7e5",
            "created_at": "2025-12-10T13:29:49Z",
            "diff_hunk": "@@ -40,29 +40,72 @@ function M.check()\n     end\n   end)\n \n+  -- Show quarantined parsers first\n+  local quarantined = ts.language.get_quarantined()\n+  if vim.tbl_count(quarantined) > 0 then\n+    health.start('Quarantined parsers (previously crashed)')\n+    for lang, err_msg in pairs(quarantined) do\n+      health.error(string.format('Parser: %s - %s', lang, err_msg))\n+    end\n+  end",
            "html_url": "https://github.com/neovim/neovim/pull/36902#discussion_r2606670221",
            "id": 2606670221,
            "line": 50,
            "node_id": "PRRC_kwDOAPphoM6bXqGN",
            "original_commit_id": "78be8b6091d899ffab4f82cd9e6c31783380b5de",
            "original_line": 50,
            "original_position": 11,
            "original_start_line": 43,
            "path": "runtime/lua/vim/treesitter/health.lua",
            "position": 11,
            "pull_request_review_id": 3562555966,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/36902",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606670221/reactions"
            },
            "side": "RIGHT",
            "start_line": 43,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2025-12-10T13:29:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606670221",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/36902#discussion_r2606671615"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/36902"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606671615"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\n```\n\nSince it's not needed in health, can remove.",
            "commit_id": "2f952e037968713d454df4e89950acfe8521c7e5",
            "created_at": "2025-12-10T13:30:17Z",
            "diff_hunk": "@@ -66,6 +71,21 @@ function M.require_language(lang, path, silent, symbol_name)\n   return M.add(lang, opts)\n end\n \n+--- Checks if a parser is quarantined (has previously crashed)\n+---\n+---@param lang string Name of parser\n+---@return boolean True if parser is quarantined\n+function M.is_quarantined(lang)\n+  return quarantined_parsers[lang] ~= nil\n+end\n+\n+--- Returns the list of quarantined parsers\n+---\n+---@return table<string,string> Map of lang names to error messages\n+function M.get_quarantined()\n+  return vim.deepcopy(quarantined_parsers)\n+end\n+",
            "html_url": "https://github.com/neovim/neovim/pull/36902#discussion_r2606671615",
            "id": 2606671615,
            "line": 88,
            "node_id": "PRRC_kwDOAPphoM6bXqb_",
            "original_commit_id": "78be8b6091d899ffab4f82cd9e6c31783380b5de",
            "original_line": 88,
            "original_position": 30,
            "original_start_line": 82,
            "path": "runtime/lua/vim/treesitter/language.lua",
            "position": 30,
            "pull_request_review_id": 3562558227,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/36902",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606671615/reactions"
            },
            "side": "RIGHT",
            "start_line": 82,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2025-12-10T13:30:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606671615",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/36902#discussion_r2606673640"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/36902"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606673640"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\n```\n\nRedundant AI comment.",
            "commit_id": "2f952e037968713d454df4e89950acfe8521c7e5",
            "created_at": "2025-12-10T13:30:53Z",
            "diff_hunk": "@@ -134,7 +159,15 @@ function M.add(lang, opts)\n     path = paths[1]\n   end\n \n-  local res = loadparser(path, lang, symbol_name)\n+  -- Try to load parser with error handling",
            "html_url": "https://github.com/neovim/neovim/pull/36902#discussion_r2606673640",
            "id": 2606673640,
            "line": 162,
            "node_id": "PRRC_kwDOAPphoM6bXq7o",
            "original_commit_id": "78be8b6091d899ffab4f82cd9e6c31783380b5de",
            "original_line": 162,
            "original_position": 51,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/language.lua",
            "position": 51,
            "pull_request_review_id": 3562560775,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/36902",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606673640/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-12-10T13:30:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606673640",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/36902#discussion_r2606674271"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/36902"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606674271"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\n```",
            "commit_id": "2f952e037968713d454df4e89950acfe8521c7e5",
            "created_at": "2025-12-10T13:31:07Z",
            "diff_hunk": "@@ -116,6 +136,11 @@ function M.add(lang, opts)\n   -- parser names are assumed to be lowercase (consistent behavior on case-insensitive file systems)\n   lang = lang:lower()\n \n+  -- Check if parser is quarantined",
            "html_url": "https://github.com/neovim/neovim/pull/36902#discussion_r2606674271",
            "id": 2606674271,
            "line": 139,
            "node_id": "PRRC_kwDOAPphoM6bXrFf",
            "original_commit_id": "78be8b6091d899ffab4f82cd9e6c31783380b5de",
            "original_line": 139,
            "original_position": 38,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/language.lua",
            "position": 38,
            "pull_request_review_id": 3562561617,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/36902",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606674271/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-12-10T13:31:07Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606674271",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/36902#discussion_r2606675021"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/36902"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606675021"
                }
            },
            "author_association": "MEMBER",
            "body": "IIRC this isn’t supported in Lua 5.1",
            "commit_id": "2f952e037968713d454df4e89950acfe8521c7e5",
            "created_at": "2025-12-10T13:31:23Z",
            "diff_hunk": "@@ -40,29 +40,72 @@ function M.check()\n     end\n   end)\n \n+  -- Show quarantined parsers first\n+  local quarantined = ts.language.get_quarantined()\n+  if vim.tbl_count(quarantined) > 0 then\n+    health.start('Quarantined parsers (previously crashed)')\n+    for lang, err_msg in pairs(quarantined) do\n+      health.error(string.format('Parser: %s - %s', lang, err_msg))\n+    end\n+  end\n+\n+  -- Test all parsers\n+  health.start('Parser health check')\n   for i, parser in ipairs(sorted_parsers) do\n+    -- Skip if this is a duplicate parser (lower priority in runtime path)\n+    if i > 1 and sorted_parsers[i - 1].name == parser.name then\n+      health.ok(string.format('Parser: %-20s (not loaded), path: %s', parser.name, parser.path))\n+      goto continue\n+    end\n+\n+    -- Try to load the parser\n     local is_loadable, err_or_nil = pcall(ts.language.add, parser.name)\n \n     if not is_loadable then\n+      -- Failed to load - check if it's quarantined\n+      if ts.language.is_quarantined(parser.name) then\n+        health.error(\n+          string.format(\n+            'Parser \"%s\" is quarantined (crashed during load), path: %s',\n+            parser.name,\n+            parser.path\n+          )\n+        )\n+      else\n+        health.error(\n+          string.format(\n+            'Parser \"%s\" failed to load (path: %s): %s',\n+            parser.name,\n+            parser.path,\n+            err_or_nil or '?'\n+          )\n+        )\n+      end\n+      goto continue\n+    end\n+\n+    -- Parser loaded successfully - now test it\n+    local test_ok, test_err = vim._ts_test_parser(parser.name)\n+\n+    if not test_ok then\n       health.error(\n         string.format(\n-          'Parser \"%s\" failed to load (path: %s): %s',\n+          'Parser \"%s\" crashed during test (path: %s): %s\\nRecommendation: Run :TSUninstall %s and :TSInstall %s to rebuild',\n           parser.name,\n           parser.path,\n-          err_or_nil or '?'\n+          test_err or 'unknown error',\n+          parser.name,\n+          parser.name\n         )\n       )\n-    elseif i > 1 and sorted_parsers[i - 1].name == parser.name then\n-      -- Sorted by runtime path order (load order), thus, if the previous parser has the same name,\n-      -- the current parser will not be loaded and `ts.language.inspect(parser.name)` with have\n-      -- incorrect information.\n-      health.ok(string.format('Parser: %-20s (not loaded), path: %s', parser.name, parser.path))\n     else\n       local lang = ts.language.inspect(parser.name)\n       health.ok(\n         string.format('Parser: %-25s ABI: %d, path: %s', parser.name, lang.abi_version, parser.path)\n       )\n     end\n+\n+    ::continue::",
            "html_url": "https://github.com/neovim/neovim/pull/36902#discussion_r2606675021",
            "id": 2606675021,
            "line": 109,
            "node_id": "PRRC_kwDOAPphoM6bXrRN",
            "original_commit_id": "78be8b6091d899ffab4f82cd9e6c31783380b5de",
            "original_line": 109,
            "original_position": 76,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/health.lua",
            "position": 77,
            "pull_request_review_id": 3562562560,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/36902",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606675021/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-12-10T13:31:23Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606675021",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8965202?v=4",
                "events_url": "https://api.github.com/users/gpanders/events{/privacy}",
                "followers_url": "https://api.github.com/users/gpanders/followers",
                "following_url": "https://api.github.com/users/gpanders/following{/other_user}",
                "gists_url": "https://api.github.com/users/gpanders/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gpanders",
                "id": 8965202,
                "login": "gpanders",
                "node_id": "MDQ6VXNlcjg5NjUyMDI=",
                "organizations_url": "https://api.github.com/users/gpanders/orgs",
                "received_events_url": "https://api.github.com/users/gpanders/received_events",
                "repos_url": "https://api.github.com/users/gpanders/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gpanders/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gpanders/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gpanders",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/36902#discussion_r2606681204"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/36902"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606681204"
                }
            },
            "author_association": "MEMBER",
            "body": "After reading more. I'm not really sure why we need to store these errors.",
            "commit_id": "78be8b6091d899ffab4f82cd9e6c31783380b5de",
            "created_at": "2025-12-10T13:32:58Z",
            "diff_hunk": "@@ -134,7 +159,15 @@ function M.add(lang, opts)\n     path = paths[1]\n   end\n \n-  local res = loadparser(path, lang, symbol_name)\n+  -- Try to load parser with error handling\n+  local ok, res = pcall(loadparser, path, lang, symbol_name)\n+  if not ok then\n+    -- Parser crashed - quarantine it with the error from the C layer\n+    -- The C layer already provides a detailed error message with instructions\n+    quarantined_parsers[lang] = res",
            "html_url": "https://github.com/neovim/neovim/pull/36902#discussion_r2606681204",
            "id": 2606681204,
            "line": 167,
            "node_id": "PRRC_kwDOAPphoM6bXsx0",
            "original_commit_id": "78be8b6091d899ffab4f82cd9e6c31783380b5de",
            "original_line": 167,
            "original_position": 56,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/language.lua",
            "position": 56,
            "pull_request_review_id": 3562570679,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/36902",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606681204/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-12-10T13:32:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606681204",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/36902#discussion_r2606690608"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/36902"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606690608"
                }
            },
            "author_association": "MEMBER",
            "body": "This is a good example of the sort of context that should be in AGENTS.md. AI tools aren't going to digest the entire developers docs at the start of every AI session.",
            "commit_id": "2f952e037968713d454df4e89950acfe8521c7e5",
            "created_at": "2025-12-10T13:35:52Z",
            "diff_hunk": "@@ -40,29 +40,72 @@ function M.check()\n     end\n   end)\n \n+  -- Show quarantined parsers first\n+  local quarantined = ts.language.get_quarantined()\n+  if vim.tbl_count(quarantined) > 0 then\n+    health.start('Quarantined parsers (previously crashed)')\n+    for lang, err_msg in pairs(quarantined) do\n+      health.error(string.format('Parser: %s - %s', lang, err_msg))\n+    end\n+  end\n+\n+  -- Test all parsers\n+  health.start('Parser health check')\n   for i, parser in ipairs(sorted_parsers) do\n+    -- Skip if this is a duplicate parser (lower priority in runtime path)\n+    if i > 1 and sorted_parsers[i - 1].name == parser.name then\n+      health.ok(string.format('Parser: %-20s (not loaded), path: %s', parser.name, parser.path))\n+      goto continue\n+    end\n+\n+    -- Try to load the parser\n     local is_loadable, err_or_nil = pcall(ts.language.add, parser.name)\n \n     if not is_loadable then\n+      -- Failed to load - check if it's quarantined\n+      if ts.language.is_quarantined(parser.name) then\n+        health.error(\n+          string.format(\n+            'Parser \"%s\" is quarantined (crashed during load), path: %s',\n+            parser.name,\n+            parser.path\n+          )\n+        )\n+      else\n+        health.error(\n+          string.format(\n+            'Parser \"%s\" failed to load (path: %s): %s',\n+            parser.name,\n+            parser.path,\n+            err_or_nil or '?'\n+          )\n+        )\n+      end\n+      goto continue\n+    end\n+\n+    -- Parser loaded successfully - now test it\n+    local test_ok, test_err = vim._ts_test_parser(parser.name)\n+\n+    if not test_ok then\n       health.error(\n         string.format(\n-          'Parser \"%s\" failed to load (path: %s): %s',\n+          'Parser \"%s\" crashed during test (path: %s): %s\\nRecommendation: Run :TSUninstall %s and :TSInstall %s to rebuild',\n           parser.name,\n           parser.path,\n-          err_or_nil or '?'\n+          test_err or 'unknown error',\n+          parser.name,\n+          parser.name\n         )\n       )\n-    elseif i > 1 and sorted_parsers[i - 1].name == parser.name then\n-      -- Sorted by runtime path order (load order), thus, if the previous parser has the same name,\n-      -- the current parser will not be loaded and `ts.language.inspect(parser.name)` with have\n-      -- incorrect information.\n-      health.ok(string.format('Parser: %-20s (not loaded), path: %s', parser.name, parser.path))\n     else\n       local lang = ts.language.inspect(parser.name)\n       health.ok(\n         string.format('Parser: %-25s ABI: %d, path: %s', parser.name, lang.abi_version, parser.path)\n       )\n     end\n+\n+    ::continue::",
            "html_url": "https://github.com/neovim/neovim/pull/36902#discussion_r2606690608",
            "id": 2606690608,
            "in_reply_to_id": 2606675021,
            "line": 109,
            "node_id": "PRRC_kwDOAPphoM6bXvEw",
            "original_commit_id": "78be8b6091d899ffab4f82cd9e6c31783380b5de",
            "original_line": 109,
            "original_position": 76,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/health.lua",
            "position": 77,
            "pull_request_review_id": 3562582199,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/36902",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606690608/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-12-10T13:35:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606690608",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/36902#discussion_r2606777556"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/36902"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606777556"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "the idea is to not keep trying to use failed parsers. one error message per session is enough.",
            "commit_id": "78be8b6091d899ffab4f82cd9e6c31783380b5de",
            "created_at": "2025-12-10T14:00:26Z",
            "diff_hunk": "@@ -134,7 +159,15 @@ function M.add(lang, opts)\n     path = paths[1]\n   end\n \n-  local res = loadparser(path, lang, symbol_name)\n+  -- Try to load parser with error handling\n+  local ok, res = pcall(loadparser, path, lang, symbol_name)\n+  if not ok then\n+    -- Parser crashed - quarantine it with the error from the C layer\n+    -- The C layer already provides a detailed error message with instructions\n+    quarantined_parsers[lang] = res",
            "html_url": "https://github.com/neovim/neovim/pull/36902#discussion_r2606777556",
            "id": 2606777556,
            "in_reply_to_id": 2606681204,
            "line": 167,
            "node_id": "PRRC_kwDOAPphoM6bYETU",
            "original_commit_id": "78be8b6091d899ffab4f82cd9e6c31783380b5de",
            "original_line": 167,
            "original_position": 56,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/language.lua",
            "position": 56,
            "pull_request_review_id": 3562692319,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/36902",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606777556/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-12-10T14:00:26Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606777556",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/194275?v=4",
                "events_url": "https://api.github.com/users/joshuarubin/events{/privacy}",
                "followers_url": "https://api.github.com/users/joshuarubin/followers",
                "following_url": "https://api.github.com/users/joshuarubin/following{/other_user}",
                "gists_url": "https://api.github.com/users/joshuarubin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/joshuarubin",
                "id": 194275,
                "login": "joshuarubin",
                "node_id": "MDQ6VXNlcjE5NDI3NQ==",
                "organizations_url": "https://api.github.com/users/joshuarubin/orgs",
                "received_events_url": "https://api.github.com/users/joshuarubin/received_events",
                "repos_url": "https://api.github.com/users/joshuarubin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/joshuarubin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/joshuarubin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/joshuarubin",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/36902#discussion_r2606809800"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/36902"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606809800"
                }
            },
            "author_association": "MEMBER",
            "body": "I get that, but we don't do that in the case that loading fails normally.",
            "commit_id": "78be8b6091d899ffab4f82cd9e6c31783380b5de",
            "created_at": "2025-12-10T14:09:26Z",
            "diff_hunk": "@@ -134,7 +159,15 @@ function M.add(lang, opts)\n     path = paths[1]\n   end\n \n-  local res = loadparser(path, lang, symbol_name)\n+  -- Try to load parser with error handling\n+  local ok, res = pcall(loadparser, path, lang, symbol_name)\n+  if not ok then\n+    -- Parser crashed - quarantine it with the error from the C layer\n+    -- The C layer already provides a detailed error message with instructions\n+    quarantined_parsers[lang] = res",
            "html_url": "https://github.com/neovim/neovim/pull/36902#discussion_r2606809800",
            "id": 2606809800,
            "in_reply_to_id": 2606681204,
            "line": 167,
            "node_id": "PRRC_kwDOAPphoM6bYMLI",
            "original_commit_id": "78be8b6091d899ffab4f82cd9e6c31783380b5de",
            "original_line": 167,
            "original_position": 56,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/language.lua",
            "position": 56,
            "pull_request_review_id": 3562732761,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/36902",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606809800/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-12-10T14:09:26Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606809800",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/36902#discussion_r2606834520"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/36902"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606834520"
                }
            },
            "author_association": "MEMBER",
            "body": "These suggestions of `:TS(Un)install` are assuming nvim-treesitter is installed?",
            "commit_id": "2f952e037968713d454df4e89950acfe8521c7e5",
            "created_at": "2025-12-10T14:15:19Z",
            "diff_hunk": "@@ -40,29 +40,73 @@ function M.check()\n     end\n   end)\n \n+  -- Show quarantined parsers first\n+  local quarantined = ts.language.get_quarantined()\n+  if vim.tbl_count(quarantined) > 0 then\n+    health.start('Quarantined parsers (previously crashed)')\n+    for lang, err_msg in pairs(quarantined) do\n+      health.error(string.format('Parser: %s - %s', lang, err_msg))\n+    end\n+  end\n+\n+  -- Test all parsers\n+  health.start('Parser health check')\n   for i, parser in ipairs(sorted_parsers) do\n+    -- Skip if this is a duplicate parser (lower priority in runtime path)\n+    if i > 1 and sorted_parsers[i - 1].name == parser.name then\n+      health.ok(string.format('Parser: %-20s (not loaded), path: %s', parser.name, parser.path))\n+      goto continue\n+    end\n+\n+    -- Try to load the parser\n     local is_loadable, err_or_nil = pcall(ts.language.add, parser.name)\n \n     if not is_loadable then\n+      -- Failed to load - check if it's quarantined\n+      if ts.language.is_quarantined(parser.name) then\n+        health.error(\n+          string.format(\n+            'Parser \"%s\" is quarantined (crashed during load), path: %s',\n+            parser.name,\n+            parser.path\n+          )\n+        )\n+      else\n+        health.error(\n+          string.format(\n+            'Parser \"%s\" failed to load (path: %s): %s',\n+            parser.name,\n+            parser.path,\n+            err_or_nil or '?'\n+          )\n+        )\n+      end\n+      goto continue\n+    end\n+\n+    -- Parser loaded successfully - now test it\n+    ---@diagnostic disable-next-line: no-unknown\n+    local test_ok, test_err = vim._ts_test_parser(parser.name)\n+\n+    if not test_ok then\n       health.error(\n         string.format(\n-          'Parser \"%s\" failed to load (path: %s): %s',\n+          'Parser \"%s\" crashed during test (path: %s): %s\\nRecommendation: Run :TSUninstall %s and :TSInstall %s to rebuild',",
            "html_url": "https://github.com/neovim/neovim/pull/36902#discussion_r2606834520",
            "id": 2606834520,
            "line": 94,
            "node_id": "PRRC_kwDOAPphoM6bYSNY",
            "original_commit_id": "2f952e037968713d454df4e89950acfe8521c7e5",
            "original_line": 94,
            "original_position": 56,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/health.lua",
            "position": 56,
            "pull_request_review_id": 3562764070,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/36902",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606834520/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-12-10T14:15:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606834520",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6256228?v=4",
                "events_url": "https://api.github.com/users/seandewar/events{/privacy}",
                "followers_url": "https://api.github.com/users/seandewar/followers",
                "following_url": "https://api.github.com/users/seandewar/following{/other_user}",
                "gists_url": "https://api.github.com/users/seandewar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seandewar",
                "id": 6256228,
                "login": "seandewar",
                "node_id": "MDQ6VXNlcjYyNTYyMjg=",
                "organizations_url": "https://api.github.com/users/seandewar/orgs",
                "received_events_url": "https://api.github.com/users/seandewar/received_events",
                "repos_url": "https://api.github.com/users/seandewar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seandewar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seandewar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seandewar",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/36902#discussion_r2606841427"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/36902"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606841427"
                }
            },
            "author_association": "MEMBER",
            "body": "Yeah, needs to be removed. You can't assume the parsers came from nvim-treesitter (in fact, this could be one of the bundled parsers which you _can't_ uninstall).",
            "commit_id": "2f952e037968713d454df4e89950acfe8521c7e5",
            "created_at": "2025-12-10T14:16:46Z",
            "diff_hunk": "@@ -40,29 +40,73 @@ function M.check()\n     end\n   end)\n \n+  -- Show quarantined parsers first\n+  local quarantined = ts.language.get_quarantined()\n+  if vim.tbl_count(quarantined) > 0 then\n+    health.start('Quarantined parsers (previously crashed)')\n+    for lang, err_msg in pairs(quarantined) do\n+      health.error(string.format('Parser: %s - %s', lang, err_msg))\n+    end\n+  end\n+\n+  -- Test all parsers\n+  health.start('Parser health check')\n   for i, parser in ipairs(sorted_parsers) do\n+    -- Skip if this is a duplicate parser (lower priority in runtime path)\n+    if i > 1 and sorted_parsers[i - 1].name == parser.name then\n+      health.ok(string.format('Parser: %-20s (not loaded), path: %s', parser.name, parser.path))\n+      goto continue\n+    end\n+\n+    -- Try to load the parser\n     local is_loadable, err_or_nil = pcall(ts.language.add, parser.name)\n \n     if not is_loadable then\n+      -- Failed to load - check if it's quarantined\n+      if ts.language.is_quarantined(parser.name) then\n+        health.error(\n+          string.format(\n+            'Parser \"%s\" is quarantined (crashed during load), path: %s',\n+            parser.name,\n+            parser.path\n+          )\n+        )\n+      else\n+        health.error(\n+          string.format(\n+            'Parser \"%s\" failed to load (path: %s): %s',\n+            parser.name,\n+            parser.path,\n+            err_or_nil or '?'\n+          )\n+        )\n+      end\n+      goto continue\n+    end\n+\n+    -- Parser loaded successfully - now test it\n+    ---@diagnostic disable-next-line: no-unknown\n+    local test_ok, test_err = vim._ts_test_parser(parser.name)\n+\n+    if not test_ok then\n       health.error(\n         string.format(\n-          'Parser \"%s\" failed to load (path: %s): %s',\n+          'Parser \"%s\" crashed during test (path: %s): %s\\nRecommendation: Run :TSUninstall %s and :TSInstall %s to rebuild',",
            "html_url": "https://github.com/neovim/neovim/pull/36902#discussion_r2606841427",
            "id": 2606841427,
            "in_reply_to_id": 2606834520,
            "line": 94,
            "node_id": "PRRC_kwDOAPphoM6bYT5T",
            "original_commit_id": "2f952e037968713d454df4e89950acfe8521c7e5",
            "original_line": 94,
            "original_position": 56,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/health.lua",
            "position": 56,
            "pull_request_review_id": 3562773246,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/36902",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606841427/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-12-10T14:16:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2606841427",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "MEMBER",
            "body": "This PR looks like it was created with AI. Can you confirm?",
            "created_at": "2025-12-10T12:51:56Z",
            "html_url": "https://github.com/neovim/neovim/pull/36902#issuecomment-3636956470",
            "id": 3636956470,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36902",
            "node_id": "IC_kwDOAPphoM7Yx402",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3636956470/reactions"
            },
            "updated_at": "2025-12-10T12:51:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3636956470",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> This PR looks like it was created with AI. Can you confirm?\r\n\r\ni did use claude code. happy to refactor or change anything to fit expectations. or, don't move forward with this and treat this like a bug report. just trying to help.\r\n\r\nworking on ci issues. obv didn't account for platform support.",
            "created_at": "2025-12-10T12:58:44Z",
            "html_url": "https://github.com/neovim/neovim/pull/36902#issuecomment-3636981149",
            "id": 3636981149,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36902",
            "node_id": "IC_kwDOAPphoM7Yx-2d",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3636981149/reactions"
            },
            "updated_at": "2025-12-10T13:14:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3636981149",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/194275?v=4",
                "events_url": "https://api.github.com/users/joshuarubin/events{/privacy}",
                "followers_url": "https://api.github.com/users/joshuarubin/followers",
                "following_url": "https://api.github.com/users/joshuarubin/following{/other_user}",
                "gists_url": "https://api.github.com/users/joshuarubin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/joshuarubin",
                "id": 194275,
                "login": "joshuarubin",
                "node_id": "MDQ6VXNlcjE5NDI3NQ==",
                "organizations_url": "https://api.github.com/users/joshuarubin/orgs",
                "received_events_url": "https://api.github.com/users/joshuarubin/received_events",
                "repos_url": "https://api.github.com/users/joshuarubin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/joshuarubin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/joshuarubin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/joshuarubin",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Some concerns have been raised that catching and trying to recover from segfaults isn't the safest thing to do and an alterntive solution could be to load the parser in a separate process first (to test it's ok) before loading it in the main process.\r\n\r\n---\r\n\r\n I asked Chatgpt what it thinks. It also suggested process isolation:\r\n\r\n<details>\r\n<summary>Details</summary>\r\n\r\nPrompt:\r\n> someone has raised a neovim pr which attempts to recover from segfaults that happen when loading treesitter parsers (.so files).\r\n>\r\n> Can this be done safely?\r\n\r\nReply:\r\n> Short answer: almost certainly not safely, and definitely not in the “this is fine, let’s keep running” sense people usually imagine.\r\n> \r\n> I’ll break down why.\r\n> \r\n> ⸻\r\n> \r\n> 1. What a segfault actually means\r\n> \r\n> A segfault in C land (which is what .so parsers are) almost always means:\r\n> \t•\tYou hit undefined behavior (UB): invalid pointer, buffer overrun, use-after-free, wild write, etc.\r\n> \t•\tThe process memory may already be corrupted before the signal is raised.\r\n> \t•\tThe CPU/runtime only noticed at the first illegal access. The bug could have stomped random heap or stack earlier.\r\n> \r\n> Trying to “recover” from that and continue as if nothing happened is like noticing your house is on fire and deciding to just close the door to that room and invite guests over anyway.\r\n> \r\n> ⸻\r\n> \r\n> 2. Signal handlers can’t safely “fix” this\r\n> \r\n> To “recover” a segfault you basically have to:\r\n> \t•\tInstall a SIGSEGV handler\r\n> \t•\tsiglongjmp / longjmp / pthread_cancel your way back to some “safe” point in Neovim\r\n> \t•\tPretend the failed call never happened\r\n> \r\n> Huge problems with that:\r\n> \t1.\tAsync-signal-safety\r\n> In a SIGSEGV handler you’re only allowed to call async-signal-safe functions (basically low-level POSIX stuff).\r\n> Anything like:\r\n> \t•\tAllocating memory\r\n> \t•\tTouching most globals\r\n> \t•\tUsing Lua, msgpack, logging, pretty much all of Neovim’s subsystems\r\n> …is technically UB.\r\n> \t2.\tStack / heap may be trashed\r\n> Even if you siglongjmp out, the stack frames you’re returning through may have:\r\n> \t•\tBroken invariants\r\n> \t•\tCorrupted locals\r\n> \t•\tPartially constructed objects (C, C++, Lua state, etc.)\r\n> So the code that thinks it’s back in a clean state really isn’t.\r\n> \t3.\tLibrary-global state is unknown\r\n> Treesitter parsers are shared objects. If a parser segfaults, its internal static state / caches might be corrupt. Unloading/reloading the .so doesn’t magically reset everything safely at the process level if it scribbled on shared heap or Neovim’s memory.\r\n> \r\n> ⸻\r\n> \r\n> 3. Why “just ignore treesitter for this buffer” is still sketchy\r\n> \r\n> Even a seemingly modest goal like:\r\n> \r\n> If a parser segfaults, catch it and disable treesitter for that buffer, but keep Neovim running.\r\n> \r\n> is dangerous:\r\n> \t•\tThe segfault could have:\r\n> \t•\tCorrupted Neovim’s allocator metadata\r\n> \t•\tOverwritten Neovim’s internal structs\r\n> \t•\tMessed with Lua’s heap\r\n> \t•\tThose issues may not crash immediately. They can show up as:\r\n> \t•\tWeird, nondeterministic crashes later\r\n> \t•\tSilent data corruption\r\n> \t•\tSecurity issues (RCE primitives via plugin/parser)\r\n> \r\n> From a correctness and security POV, continuing execution is not really defensible.\r\n> \r\n> ⸻\r\n> \r\n> 4. What is a sane approach?\r\n> \r\n> If you want robustness around buggy parsers:\r\n> \t1.\tProcess isolation (the only truly safe way)\r\n> Run parsers in a separate process and communicate via RPC/IPC:\r\n> \t•\tIf the parser segfaults → that helper process dies.\r\n> \t•\tNeovim keeps running, logs the failure, and maybe:\r\n> \t•\tRestarts the helper\r\n> \t•\tDisables that parser\r\n> \t•\tYour main process memory never gets corrupted by the parser, because it’s literally a different address space.\r\n> This is the pattern browsers use for JS engines / render processes, language servers for user code, etc.\r\n> \t2.\tPre-flight sanity checks\r\n> \t•\tVersion checks on .so ABI.\r\n> \t•\tCheck that the .so actually exports the expected symbols.\r\n> \t•\tMaybe run a tiny test parse at startup in a separate process (again: process boundary).\r\n> \t3.\tFail-fast in the main process\r\n> If a parser segfaults inside the Neovim process:\r\n> \t•\tBest practice is: crash hard, with a clear message and repro instructions.\r\n> \t•\tDon’t try to limp on; encourage users to update/remove the broken parser.\r\n> \r\n> ⸻\r\n> \r\n> 5. How does this usually go in C projects?\r\n> \r\n> For in-process native plugins / extensions, most serious projects treat a segfault as:\r\n> \t•\tFatal bug in that module\r\n> \t•\tFatal for the process\r\n> \r\n> Some projects do use SIGSEGV handlers but typically for:\r\n> \t•\tLogging a backtrace\r\n> \t•\tDumping crash info\r\n> \t•\tMaybe trying to flush logs / state and then _exit()\r\n> \r\n> Not for “lol, let’s keep going.”\r\n> \r\n> ⸻\r\n> \r\n> 6. Answering your exact question\r\n> \r\n> Someone has raised a Neovim PR which attempts to recover from segfaults that happen when loading treesitter parsers (.so files).\r\n> Can this be done safely?\r\n> \r\n> Given the usual constraints:\r\n> \t•\tIn-process .so parsers\r\n> \t•\tPlain C ABI\r\n> \t•\tNo process isolation\r\n> \t•\tAttempting to catch the segfault and continue Neovim execution\r\n> \r\n> The realistic answer is:\r\n> \t•\tNo, you cannot do this safely in any robust, well-defined way.\r\n> \t•\tAt best you get a “seems to work most of the time” hack that hides memory corruption and makes debugging harder.\r\n> \t•\tThe only really safe pattern is to move parser execution into a separate process and treat a crash as “helper died, recover at the process boundary”.\r\n\r\n\r\n</details>",
            "created_at": "2025-12-10T14:38:19Z",
            "html_url": "https://github.com/neovim/neovim/pull/36902#issuecomment-3637397276",
            "id": 3637397276,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36902",
            "node_id": "IC_kwDOAPphoM7Yzkcc",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3637397276/reactions"
            },
            "updated_at": "2025-12-10T14:44:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3637397276",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Besides the above comments, I would suggest taking an \"opt in\" approach. I.e. an optional `add()` flag. Yes, that means `add()` by default will still crash, but that is acceptable because it's extremely rare, and avoids (1) the permanent perf cost for every `add()` and (2) a whole lot of spread-out logic that mostly isn't relevant.\r\n\r\n- by default, the optional flag will only be used by the healthcheck.\r\n- the entire logic can be done in Lua instead of `treesitter.c`, by using `vim.spawn` or `vim.fn.jobstart` to spawn a child `nvim`.",
            "created_at": "2025-12-10T14:53:22Z",
            "html_url": "https://github.com/neovim/neovim/pull/36902#issuecomment-3637475249",
            "id": 3637475249,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36902",
            "node_id": "IC_kwDOAPphoM7Yz3ex",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3637475249/reactions"
            },
            "updated_at": "2025-12-10T14:53:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3637475249",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/36902/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/36902/commits",
    "created_at": "2025-12-10T12:44:07Z",
    "diff_url": "https://github.com/neovim/neovim/pull/36902.diff",
    "draft": false,
    "head": {
        "label": "joshuarubin:fix/treesitter-parser-crash-protection",
        "ref": "fix/treesitter-parser-crash-protection",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/joshuarubin/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/joshuarubin/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/joshuarubin/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/joshuarubin/neovim/branches{/branch}",
            "clone_url": "https://github.com/joshuarubin/neovim.git",
            "collaborators_url": "https://api.github.com/repos/joshuarubin/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/joshuarubin/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/joshuarubin/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/joshuarubin/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/joshuarubin/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/joshuarubin/neovim/contributors",
            "created_at": "2019-10-25T12:59:03Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/joshuarubin/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/joshuarubin/neovim/downloads",
            "events_url": "https://api.github.com/repos/joshuarubin/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/joshuarubin/neovim/forks",
            "full_name": "joshuarubin/neovim",
            "git_commits_url": "https://api.github.com/repos/joshuarubin/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/joshuarubin/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/joshuarubin/neovim/git/tags{/sha}",
            "git_url": "git://github.com/joshuarubin/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/joshuarubin/neovim/hooks",
            "html_url": "https://github.com/joshuarubin/neovim",
            "id": 217534177,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/joshuarubin/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/joshuarubin/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/joshuarubin/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/joshuarubin/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/joshuarubin/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/joshuarubin/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/joshuarubin/neovim/merges",
            "milestones_url": "https://api.github.com/repos/joshuarubin/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkyMTc1MzQxNzc=",
            "notifications_url": "https://api.github.com/repos/joshuarubin/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/194275?v=4",
                "events_url": "https://api.github.com/users/joshuarubin/events{/privacy}",
                "followers_url": "https://api.github.com/users/joshuarubin/followers",
                "following_url": "https://api.github.com/users/joshuarubin/following{/other_user}",
                "gists_url": "https://api.github.com/users/joshuarubin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/joshuarubin",
                "id": 194275,
                "login": "joshuarubin",
                "node_id": "MDQ6VXNlcjE5NDI3NQ==",
                "organizations_url": "https://api.github.com/users/joshuarubin/orgs",
                "received_events_url": "https://api.github.com/users/joshuarubin/received_events",
                "repos_url": "https://api.github.com/users/joshuarubin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/joshuarubin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/joshuarubin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/joshuarubin",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/joshuarubin/neovim/pulls{/number}",
            "pushed_at": "2025-12-15T05:20:12Z",
            "releases_url": "https://api.github.com/repos/joshuarubin/neovim/releases{/id}",
            "size": 343187,
            "ssh_url": "git@github.com:joshuarubin/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/joshuarubin/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/joshuarubin/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/joshuarubin/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/joshuarubin/neovim/subscription",
            "svn_url": "https://github.com/joshuarubin/neovim",
            "tags_url": "https://api.github.com/repos/joshuarubin/neovim/tags",
            "teams_url": "https://api.github.com/repos/joshuarubin/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/joshuarubin/neovim/git/trees{/sha}",
            "updated_at": "2025-12-10T12:25:05Z",
            "url": "https://api.github.com/repos/joshuarubin/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "2f952e037968713d454df4e89950acfe8521c7e5",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/194275?v=4",
            "events_url": "https://api.github.com/users/joshuarubin/events{/privacy}",
            "followers_url": "https://api.github.com/users/joshuarubin/followers",
            "following_url": "https://api.github.com/users/joshuarubin/following{/other_user}",
            "gists_url": "https://api.github.com/users/joshuarubin/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/joshuarubin",
            "id": 194275,
            "login": "joshuarubin",
            "node_id": "MDQ6VXNlcjE5NDI3NQ==",
            "organizations_url": "https://api.github.com/users/joshuarubin/orgs",
            "received_events_url": "https://api.github.com/users/joshuarubin/received_events",
            "repos_url": "https://api.github.com/users/joshuarubin/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/joshuarubin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/joshuarubin/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/joshuarubin",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/36902",
    "id": 3089229858,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/36902",
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 1799626557,
            "name": "treesitter",
            "node_id": "MDU6TGFiZWwxNzk5NjI2NTU3",
            "url": "https://api.github.com/repos/neovim/neovim/labels/treesitter"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 7015246296,
            "name": "checkhealth",
            "node_id": "LA_kwDOAPphoM8AAAABoiQp2A",
            "url": "https://api.github.com/repos/neovim/neovim/labels/checkhealth"
        },
        {
            "color": "8B601E",
            "default": false,
            "description": "Change was developed with AI",
            "id": 9676241542,
            "name": "AI assisted 🤖",
            "node_id": "LA_kwDOAPphoM8AAAACQL-6hg",
            "url": "https://api.github.com/repos/neovim/neovim/labels/AI%20assisted%20%F0%9F%A4%96"
        }
    ],
    "locked": false,
    "merge_commit_sha": null,
    "merged_at": null,
    "milestone": null,
    "node_id": "PR_kwDOAPphoM64Iegi",
    "number": 36902,
    "patch_url": "https://github.com/neovim/neovim/pull/36902.patch",
    "requested_reviewers": [
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
            "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
            "followers_url": "https://api.github.com/users/bfredl/followers",
            "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
            "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/bfredl",
            "id": 1363104,
            "login": "bfredl",
            "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
            "organizations_url": "https://api.github.com/users/bfredl/orgs",
            "received_events_url": "https://api.github.com/users/bfredl/received_events",
            "repos_url": "https://api.github.com/users/bfredl/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/bfredl",
            "user_view_type": "public"
        },
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
            "events_url": "https://api.github.com/users/clason/events{/privacy}",
            "followers_url": "https://api.github.com/users/clason/followers",
            "following_url": "https://api.github.com/users/clason/following{/other_user}",
            "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/clason",
            "id": 2361214,
            "login": "clason",
            "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
            "organizations_url": "https://api.github.com/users/clason/orgs",
            "received_events_url": "https://api.github.com/users/clason/received_events",
            "repos_url": "https://api.github.com/users/clason/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/clason",
            "user_view_type": "public"
        },
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/55766287?v=4",
            "events_url": "https://api.github.com/users/ribru17/events{/privacy}",
            "followers_url": "https://api.github.com/users/ribru17/followers",
            "following_url": "https://api.github.com/users/ribru17/following{/other_user}",
            "gists_url": "https://api.github.com/users/ribru17/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/ribru17",
            "id": 55766287,
            "login": "ribru17",
            "node_id": "MDQ6VXNlcjU1NzY2Mjg3",
            "organizations_url": "https://api.github.com/users/ribru17/orgs",
            "received_events_url": "https://api.github.com/users/ribru17/received_events",
            "repos_url": "https://api.github.com/users/ribru17/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/ribru17/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ribru17/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/ribru17",
            "user_view_type": "public"
        },
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/1009873?v=4",
            "events_url": "https://api.github.com/users/wookayin/events{/privacy}",
            "followers_url": "https://api.github.com/users/wookayin/followers",
            "following_url": "https://api.github.com/users/wookayin/following{/other_user}",
            "gists_url": "https://api.github.com/users/wookayin/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/wookayin",
            "id": 1009873,
            "login": "wookayin",
            "node_id": "MDQ6VXNlcjEwMDk4NzM=",
            "organizations_url": "https://api.github.com/users/wookayin/orgs",
            "received_events_url": "https://api.github.com/users/wookayin/received_events",
            "repos_url": "https://api.github.com/users/wookayin/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/wookayin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wookayin/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/wookayin",
            "user_view_type": "public"
        }
    ],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/36902/comments",
    "state": "open",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/2f952e037968713d454df4e89950acfe8521c7e5",
    "title": "fix(treesitter): prevent crashes from corrupted parser binaries",
    "updated_at": "2025-12-10T14:53:22Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/36902",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/194275?v=4",
        "events_url": "https://api.github.com/users/joshuarubin/events{/privacy}",
        "followers_url": "https://api.github.com/users/joshuarubin/followers",
        "following_url": "https://api.github.com/users/joshuarubin/following{/other_user}",
        "gists_url": "https://api.github.com/users/joshuarubin/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/joshuarubin",
        "id": 194275,
        "login": "joshuarubin",
        "node_id": "MDQ6VXNlcjE5NDI3NQ==",
        "organizations_url": "https://api.github.com/users/joshuarubin/orgs",
        "received_events_url": "https://api.github.com/users/joshuarubin/received_events",
        "repos_url": "https://api.github.com/users/joshuarubin/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/joshuarubin/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/joshuarubin/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/joshuarubin",
        "user_view_type": "public"
    }
}