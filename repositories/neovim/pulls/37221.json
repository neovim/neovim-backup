{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/37221/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/37221/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/37221"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/37221"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/37221/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/91a6fd0648786fe33aba576f3f7eec11170bd7eb"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 6562,
            "forks_count": 6562,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 2079,
            "open_issues_count": 2079,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2026-02-03T03:16:17Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 368582,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 96189,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2026-02-03T03:16:22Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 96189,
            "watchers_count": 96189,
            "web_commit_signoff_required": false
        },
        "sha": "41336a35905b4c17978de4bb3be7ba82eb0214b5",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim",
            "user_view_type": "public"
        }
    },
    "body": "Work on #37166 \r\n- Capability Checking\r\n\r\nFully closes #37150\r\n\r\nFollow up to the relevant conversation here from when `textDocument/diagnostics` was implemented\r\nhttps://github.com/neovim/neovim/pull/24128/changes#r1253360435\r\n\r\nDiscussion points: \r\n- Naming\r\n- Because we will handle the multiple registrations, there will be lots of iterations from the callers, even though often there will just be one item, is there a better API design here? ",
    "closed_at": null,
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2670632888"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670632888"
                }
            },
            "author_association": "MEMBER",
            "body": "would `vim.tbl_extend()` be clearer here",
            "commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "created_at": "2026-01-08T02:16:18Z",
            "diff_hunk": "@@ -616,19 +616,28 @@ end\n function Client:_process_static_registrations()\n   local static_registrations = {} ---@type lsp.Registration[]\n \n-  for method, capability in pairs(lsp.protocol._request_name_to_server_capability) do\n+  for method, _ in pairs(lsp.protocol._method_allows_static_registration) do\n+    local capability = lsp.protocol._request_name_to_server_capability[method]\n     if\n-      vim.tbl_get(self.server_capabilities, unpack(capability), 'id')\n+      vim.tbl_get(self.server_capabilities, capability[1], 'id')\n       --- @cast method vim.lsp.protocol.Method\n       and self:_supports_registration(method)\n     then\n-      local cap = vim.tbl_get(self.server_capabilities, unpack(capability))\n+      local cap = vim.tbl_get(self.server_capabilities, capability[1])\n       static_registrations[#static_registrations + 1] = {\n         id = cap.id,\n         method = method,\n-        registerOptions = {\n-          documentSelector = cap.documentSelector, ---@type lsp.DocumentSelector|lsp.null\n-        },\n+        registerOptions = (function()\n+          local opts = {}\n+          ---@diagnostic disable-next-line: no-unknown\n+          for k, v in pairs(cap) do\n+            if k ~= 'id' then\n+              ---@diagnostic disable-next-line: no-unknown\n+              opts[k] = v",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2670632888",
            "id": 2670632888,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6fLp-4",
            "original_commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "original_line": 636,
            "original_position": 27,
            "original_start_line": 631,
            "path": "runtime/lua/vim/lsp/client.lua",
            "position": 1,
            "pull_request_review_id": 3637431864,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670632888/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-01-08T02:16:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670632888",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2670640423"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670640423"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\n  ['workspace/didChangeWorkspaceFolders'] = true\n```",
            "commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "created_at": "2026-01-08T02:22:06Z",
            "diff_hunk": "@@ -1359,4 +1338,52 @@ protocol._request_name_allows_registration = {\n }\n -- stylua: ignore end\n \n+-- stylua: ignore start\n+-- Generated by gen_lsp.lua, keep at end of file.\n+protocol._method_allows_static_registration = {\n+  ['textDocument/codeAction'] = true,\n+  ['textDocument/codeLens'] = true,\n+  ['textDocument/colorPresentation'] = true,\n+  ['textDocument/completion'] = true,\n+  ['textDocument/declaration'] = true,\n+  ['textDocument/definition'] = true,\n+  ['textDocument/diagnostic'] = true,\n+  ['textDocument/didChange'] = true,\n+  ['textDocument/documentColor'] = true,\n+  ['textDocument/documentHighlight'] = true,\n+  ['textDocument/documentLink'] = true,\n+  ['textDocument/documentSymbol'] = true,\n+  ['textDocument/foldingRange'] = true,\n+  ['textDocument/formatting'] = true,\n+  ['textDocument/hover'] = true,\n+  ['textDocument/implementation'] = true,\n+  ['textDocument/inlayHint'] = true,\n+  ['textDocument/inlineCompletion'] = true,\n+  ['textDocument/inlineValue'] = true,\n+  ['textDocument/linkedEditingRange'] = true,\n+  ['textDocument/moniker'] = true,\n+  ['textDocument/onTypeFormatting'] = true,\n+  ['textDocument/prepareCallHierarchy'] = true,\n+  ['textDocument/prepareTypeHierarchy'] = true,\n+  ['textDocument/rangeFormatting'] = true,\n+  ['textDocument/references'] = true,\n+  ['textDocument/rename'] = true,\n+  ['textDocument/selectionRange'] = true,\n+  ['textDocument/semanticTokens/full'] = true,\n+  ['textDocument/signatureHelp'] = true,\n+  ['textDocument/typeDefinition'] = true,\n+  ['workspace/executeCommand'] = true,\n+  ['workspace/symbol'] = true,\n+}\n+-- stylua: ignore end\n+\n+-- stylua: ignore start\n+-- Generated by gen_lsp.lua, keep at end of file.\n+-- These methods have no registration options but can still be registered dynamically.\n+protocol._methods_with_no_registration_options =\n+{\n+  [\"workspace/didChangeWorkspaceFolders\"] = true",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2670640423",
            "id": 2670640423,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6fLr0n",
            "original_commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "original_line": 1385,
            "original_position": 201,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/protocol.lua",
            "position": 1,
            "pull_request_review_id": 3637439572,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670640423/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-01-08T02:22:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670640423",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2670642612"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670642612"
                }
            },
            "author_association": "MEMBER",
            "body": "is there a difference between \"allow\" vs \"supports\" (`_method_supports_dynamic_registration`)? if not can we use consistent names. ",
            "commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "created_at": "2026-01-08T02:23:40Z",
            "diff_hunk": "@@ -1359,4 +1338,52 @@ protocol._request_name_allows_registration = {\n }\n -- stylua: ignore end\n \n+-- stylua: ignore start\n+-- Generated by gen_lsp.lua, keep at end of file.\n+protocol._method_allows_static_registration = {",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2670642612",
            "id": 2670642612,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6fLsW0",
            "original_commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "original_line": 1343,
            "original_position": 159,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/protocol.lua",
            "position": 1,
            "pull_request_review_id": 3637441736,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670642612/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-01-08T02:23:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670642612",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2670654938"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670654938"
                }
            },
            "author_association": "MEMBER",
            "body": "\"data\" like this should live at the top of the file i guess, since it needs to be maintained.",
            "commit_id": "91a6fd0648786fe33aba576f3f7eec11170bd7eb",
            "created_at": "2026-01-08T02:32:00Z",
            "diff_hunk": "@@ -280,25 +286,65 @@ local function write_to_vim_protocol(protocol)\n       )\n     end\n \n+    --- workspace/didChangeWatchedFiles has no server capability but we need to map it for\n+    --- registration\n+    output[#output + 1] = (\"  ['%s'] = { '%s' },\"):format(\n+      'workspace/didChangeWatchedFiles',\n+      'workspace/didChangeWatchedFiles'\n+    )\n+\n     output[#output + 1] = '}'\n     output[#output + 1] = '-- stylua: ignore end'\n \n     vim.list_extend(output, {\n       '',\n       '-- stylua: ignore start',\n       '-- Generated by gen_lsp.lua, keep at end of file.',\n-      '--- Maps method names to the required client capability',\n-      'protocol._request_name_allows_registration = {',\n+      'protocol._method_supports_dynamic_registration = {',\n     })\n \n+    --- These methods have no registrationOptions but can still be registered\n+    local methods_with_no_registration_options = {\n+      ['workspace/didChangeWorkspaceFolders'] = true,\n+    }",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2670654938",
            "id": 2670654938,
            "line": 309,
            "node_id": "PRRC_kwDOAPphoM6fLvXa",
            "original_commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "original_line": 309,
            "original_position": 51,
            "original_start_line": 306,
            "path": "src/gen/gen_lsp.lua",
            "position": 51,
            "pull_request_review_id": 3637452971,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670654938/reactions"
            },
            "side": "RIGHT",
            "start_line": 306,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-01-08T02:32:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670654938",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2670655964"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670655964"
                }
            },
            "author_association": "MEMBER",
            "body": "split(vim.inspect()) seems ... fragile. \n\n",
            "commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "created_at": "2026-01-08T02:32:48Z",
            "diff_hunk": "@@ -280,25 +286,65 @@ local function write_to_vim_protocol(protocol)\n       )\n     end\n \n+    --- workspace/didChangeWatchedFiles has no server capability but we need to map it for\n+    --- registration\n+    output[#output + 1] = (\"  ['%s'] = { '%s' },\"):format(\n+      'workspace/didChangeWatchedFiles',\n+      'workspace/didChangeWatchedFiles'\n+    )\n+\n     output[#output + 1] = '}'\n     output[#output + 1] = '-- stylua: ignore end'\n \n     vim.list_extend(output, {\n       '',\n       '-- stylua: ignore start',\n       '-- Generated by gen_lsp.lua, keep at end of file.',\n-      '--- Maps method names to the required client capability',\n-      'protocol._request_name_allows_registration = {',\n+      'protocol._method_supports_dynamic_registration = {',\n     })\n \n+    --- These methods have no registrationOptions but can still be registered\n+    local methods_with_no_registration_options = {\n+      ['workspace/didChangeWorkspaceFolders'] = true,\n+    }\n+\n     for _, item in ipairs(all) do\n-      if item.registrationOptions then\n+      if item.registrationOptions or methods_with_no_registration_options[item.method] then\n         output[#output + 1] = (\"  ['%s'] = %s,\"):format(item.method, true)\n       end\n     end\n \n     output[#output + 1] = '}'\n     output[#output + 1] = '-- stylua: ignore end'\n+\n+    vim.list_extend(output, {\n+      '',\n+      '-- stylua: ignore start',\n+      '-- Generated by gen_lsp.lua, keep at end of file.',\n+      'protocol._method_allows_static_registration = {',\n+    })\n+\n+    for _, item in ipairs(all) do\n+      if\n+        item.registrationOptions\n+        and (item.serverCapability and not item.serverCapability:find('%.'))\n+      then\n+        output[#output + 1] = (\"  ['%s'] = %s,\"):format(item.method, true)\n+      end\n+    end\n+\n+    output[#output + 1] = '}'\n+    output[#output + 1] = '-- stylua: ignore end'\n+\n+    vim.list_extend(output, {\n+      '',\n+      '-- stylua: ignore start',\n+      '-- Generated by gen_lsp.lua, keep at end of file.',\n+      '-- These methods have no registration options but can still be registered dynamically.',\n+      'protocol._methods_with_no_registration_options =',\n+    })\n+    vim.list_extend(output, vim.split(vim.inspect(methods_with_no_registration_options), '\\n'))",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2670655964",
            "id": 2670655964,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6fLvnc",
            "original_commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "original_line": 346,
            "original_position": 89,
            "original_start_line": null,
            "path": "src/gen/gen_lsp.lua",
            "position": 1,
            "pull_request_review_id": 3637453974,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670655964/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-01-08T02:32:48Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670655964",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2670656471"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670656471"
                }
            },
            "author_association": "MEMBER",
            "body": "at this point it seems like the 4th time we have written this logic, is there any way to dedupe it",
            "commit_id": "91a6fd0648786fe33aba576f3f7eec11170bd7eb",
            "created_at": "2026-01-08T02:33:12Z",
            "diff_hunk": "@@ -280,25 +286,65 @@ local function write_to_vim_protocol(protocol)\n       )\n     end\n \n+    --- workspace/didChangeWatchedFiles has no server capability but we need to map it for\n+    --- registration\n+    output[#output + 1] = (\"  ['%s'] = { '%s' },\"):format(\n+      'workspace/didChangeWatchedFiles',\n+      'workspace/didChangeWatchedFiles'\n+    )\n+\n     output[#output + 1] = '}'\n     output[#output + 1] = '-- stylua: ignore end'\n \n     vim.list_extend(output, {\n       '',\n       '-- stylua: ignore start',\n       '-- Generated by gen_lsp.lua, keep at end of file.',\n-      '--- Maps method names to the required client capability',\n-      'protocol._request_name_allows_registration = {',\n+      'protocol._method_supports_dynamic_registration = {',\n     })\n \n+    --- These methods have no registrationOptions but can still be registered\n+    local methods_with_no_registration_options = {\n+      ['workspace/didChangeWorkspaceFolders'] = true,\n+    }\n+\n     for _, item in ipairs(all) do\n-      if item.registrationOptions then\n+      if item.registrationOptions or methods_with_no_registration_options[item.method] then\n         output[#output + 1] = (\"  ['%s'] = %s,\"):format(item.method, true)\n       end\n     end\n \n     output[#output + 1] = '}'\n     output[#output + 1] = '-- stylua: ignore end'\n+\n+    vim.list_extend(output, {\n+      '',\n+      '-- stylua: ignore start',\n+      '-- Generated by gen_lsp.lua, keep at end of file.',",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2670656471",
            "id": 2670656471,
            "line": 323,
            "node_id": "PRRC_kwDOAPphoM6fLvvX",
            "original_commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "original_line": 323,
            "original_position": 66,
            "original_start_line": 322,
            "path": "src/gen/gen_lsp.lua",
            "position": 66,
            "pull_request_review_id": 3637454484,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670656471/reactions"
            },
            "side": "RIGHT",
            "start_line": 322,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-01-08T02:33:24Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670656471",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2673037550"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673037550"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "This was a by-product of the `vim.inspect`. I have replaced with a regular loop",
            "commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "created_at": "2026-01-08T16:27:22Z",
            "diff_hunk": "@@ -1359,4 +1338,52 @@ protocol._request_name_allows_registration = {\n }\n -- stylua: ignore end\n \n+-- stylua: ignore start\n+-- Generated by gen_lsp.lua, keep at end of file.\n+protocol._method_allows_static_registration = {\n+  ['textDocument/codeAction'] = true,\n+  ['textDocument/codeLens'] = true,\n+  ['textDocument/colorPresentation'] = true,\n+  ['textDocument/completion'] = true,\n+  ['textDocument/declaration'] = true,\n+  ['textDocument/definition'] = true,\n+  ['textDocument/diagnostic'] = true,\n+  ['textDocument/didChange'] = true,\n+  ['textDocument/documentColor'] = true,\n+  ['textDocument/documentHighlight'] = true,\n+  ['textDocument/documentLink'] = true,\n+  ['textDocument/documentSymbol'] = true,\n+  ['textDocument/foldingRange'] = true,\n+  ['textDocument/formatting'] = true,\n+  ['textDocument/hover'] = true,\n+  ['textDocument/implementation'] = true,\n+  ['textDocument/inlayHint'] = true,\n+  ['textDocument/inlineCompletion'] = true,\n+  ['textDocument/inlineValue'] = true,\n+  ['textDocument/linkedEditingRange'] = true,\n+  ['textDocument/moniker'] = true,\n+  ['textDocument/onTypeFormatting'] = true,\n+  ['textDocument/prepareCallHierarchy'] = true,\n+  ['textDocument/prepareTypeHierarchy'] = true,\n+  ['textDocument/rangeFormatting'] = true,\n+  ['textDocument/references'] = true,\n+  ['textDocument/rename'] = true,\n+  ['textDocument/selectionRange'] = true,\n+  ['textDocument/semanticTokens/full'] = true,\n+  ['textDocument/signatureHelp'] = true,\n+  ['textDocument/typeDefinition'] = true,\n+  ['workspace/executeCommand'] = true,\n+  ['workspace/symbol'] = true,\n+}\n+-- stylua: ignore end\n+\n+-- stylua: ignore start\n+-- Generated by gen_lsp.lua, keep at end of file.\n+-- These methods have no registration options but can still be registered dynamically.\n+protocol._methods_with_no_registration_options =\n+{\n+  [\"workspace/didChangeWorkspaceFolders\"] = true",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2673037550",
            "id": 2673037550,
            "in_reply_to_id": 2670640423,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6fU1Du",
            "original_commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "original_line": 1385,
            "original_position": 201,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/protocol.lua",
            "position": 1,
            "pull_request_review_id": 3640225061,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673037550/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-01-08T16:27:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673037550",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/18444302?v=4",
                "events_url": "https://api.github.com/users/tris203/events{/privacy}",
                "followers_url": "https://api.github.com/users/tris203/followers",
                "following_url": "https://api.github.com/users/tris203/following{/other_user}",
                "gists_url": "https://api.github.com/users/tris203/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/tris203",
                "id": 18444302,
                "login": "tris203",
                "node_id": "MDQ6VXNlcjE4NDQ0MzAy",
                "organizations_url": "https://api.github.com/users/tris203/orgs",
                "received_events_url": "https://api.github.com/users/tris203/received_events",
                "repos_url": "https://api.github.com/users/tris203/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/tris203/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tris203/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/tris203",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2673041647"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673041647"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "It's generator code, so I don't mind it being repetitive and explicit. If you are in here, then you are probably deep in the weeds, so I think less abstraction is better for mental capacity\r\n\r\nI can refactor into a helper function, but I would prefer to do that in a separate PR",
            "commit_id": "91a6fd0648786fe33aba576f3f7eec11170bd7eb",
            "created_at": "2026-01-08T16:28:36Z",
            "diff_hunk": "@@ -280,25 +286,65 @@ local function write_to_vim_protocol(protocol)\n       )\n     end\n \n+    --- workspace/didChangeWatchedFiles has no server capability but we need to map it for\n+    --- registration\n+    output[#output + 1] = (\"  ['%s'] = { '%s' },\"):format(\n+      'workspace/didChangeWatchedFiles',\n+      'workspace/didChangeWatchedFiles'\n+    )\n+\n     output[#output + 1] = '}'\n     output[#output + 1] = '-- stylua: ignore end'\n \n     vim.list_extend(output, {\n       '',\n       '-- stylua: ignore start',\n       '-- Generated by gen_lsp.lua, keep at end of file.',\n-      '--- Maps method names to the required client capability',\n-      'protocol._request_name_allows_registration = {',\n+      'protocol._method_supports_dynamic_registration = {',\n     })\n \n+    --- These methods have no registrationOptions but can still be registered\n+    local methods_with_no_registration_options = {\n+      ['workspace/didChangeWorkspaceFolders'] = true,\n+    }\n+\n     for _, item in ipairs(all) do\n-      if item.registrationOptions then\n+      if item.registrationOptions or methods_with_no_registration_options[item.method] then\n         output[#output + 1] = (\"  ['%s'] = %s,\"):format(item.method, true)\n       end\n     end\n \n     output[#output + 1] = '}'\n     output[#output + 1] = '-- stylua: ignore end'\n+\n+    vim.list_extend(output, {\n+      '',\n+      '-- stylua: ignore start',\n+      '-- Generated by gen_lsp.lua, keep at end of file.',",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2673041647",
            "id": 2673041647,
            "in_reply_to_id": 2670656471,
            "line": 323,
            "node_id": "PRRC_kwDOAPphoM6fU2Dv",
            "original_commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "original_line": 323,
            "original_position": 66,
            "original_start_line": 322,
            "path": "src/gen/gen_lsp.lua",
            "position": 66,
            "pull_request_review_id": 3640229645,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673041647/reactions"
            },
            "side": "RIGHT",
            "start_line": 322,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-01-08T16:28:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673041647",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/18444302?v=4",
                "events_url": "https://api.github.com/users/tris203/events{/privacy}",
                "followers_url": "https://api.github.com/users/tris203/followers",
                "following_url": "https://api.github.com/users/tris203/following{/other_user}",
                "gists_url": "https://api.github.com/users/tris203/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/tris203",
                "id": 18444302,
                "login": "tris203",
                "node_id": "MDQ6VXNlcjE4NDQ0MzAy",
                "organizations_url": "https://api.github.com/users/tris203/orgs",
                "received_events_url": "https://api.github.com/users/tris203/received_events",
                "repos_url": "https://api.github.com/users/tris203/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/tris203/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tris203/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/tris203",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2673044891"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673044891"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "I have raised https://github.com/microsoft/language-server-protocol/issues/2218\r\n\r\nIf/When the spec is updated, then this could be removed entirely",
            "commit_id": "91a6fd0648786fe33aba576f3f7eec11170bd7eb",
            "created_at": "2026-01-08T16:29:34Z",
            "diff_hunk": "@@ -280,25 +286,65 @@ local function write_to_vim_protocol(protocol)\n       )\n     end\n \n+    --- workspace/didChangeWatchedFiles has no server capability but we need to map it for\n+    --- registration\n+    output[#output + 1] = (\"  ['%s'] = { '%s' },\"):format(\n+      'workspace/didChangeWatchedFiles',\n+      'workspace/didChangeWatchedFiles'\n+    )\n+\n     output[#output + 1] = '}'\n     output[#output + 1] = '-- stylua: ignore end'\n \n     vim.list_extend(output, {\n       '',\n       '-- stylua: ignore start',\n       '-- Generated by gen_lsp.lua, keep at end of file.',\n-      '--- Maps method names to the required client capability',\n-      'protocol._request_name_allows_registration = {',\n+      'protocol._method_supports_dynamic_registration = {',\n     })\n \n+    --- These methods have no registrationOptions but can still be registered\n+    local methods_with_no_registration_options = {\n+      ['workspace/didChangeWorkspaceFolders'] = true,\n+    }",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2673044891",
            "id": 2673044891,
            "in_reply_to_id": 2670654938,
            "line": 309,
            "node_id": "PRRC_kwDOAPphoM6fU22b",
            "original_commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "original_line": 309,
            "original_position": 51,
            "original_start_line": 306,
            "path": "src/gen/gen_lsp.lua",
            "position": 51,
            "pull_request_review_id": 3640233365,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673044891/reactions"
            },
            "side": "RIGHT",
            "start_line": 306,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-01-08T16:29:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673044891",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/18444302?v=4",
                "events_url": "https://api.github.com/users/tris203/events{/privacy}",
                "followers_url": "https://api.github.com/users/tris203/followers",
                "following_url": "https://api.github.com/users/tris203/following{/other_user}",
                "gists_url": "https://api.github.com/users/tris203/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/tris203",
                "id": 18444302,
                "login": "tris203",
                "node_id": "MDQ6VXNlcjE4NDQ0MzAy",
                "organizations_url": "https://api.github.com/users/tris203/orgs",
                "received_events_url": "https://api.github.com/users/tris203/received_events",
                "repos_url": "https://api.github.com/users/tris203/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/tris203/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tris203/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/tris203",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2673050127"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673050127"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Yes, it changes the logic slightly as `id` would be included in the registerOptions as well as in the higher-level registration table.\r\nAlthough I just checked, the VS Code implementation puts it in both places. So I don't think this is a problem",
            "commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "created_at": "2026-01-08T16:31:04Z",
            "diff_hunk": "@@ -616,19 +616,28 @@ end\n function Client:_process_static_registrations()\n   local static_registrations = {} ---@type lsp.Registration[]\n \n-  for method, capability in pairs(lsp.protocol._request_name_to_server_capability) do\n+  for method, _ in pairs(lsp.protocol._method_allows_static_registration) do\n+    local capability = lsp.protocol._request_name_to_server_capability[method]\n     if\n-      vim.tbl_get(self.server_capabilities, unpack(capability), 'id')\n+      vim.tbl_get(self.server_capabilities, capability[1], 'id')\n       --- @cast method vim.lsp.protocol.Method\n       and self:_supports_registration(method)\n     then\n-      local cap = vim.tbl_get(self.server_capabilities, unpack(capability))\n+      local cap = vim.tbl_get(self.server_capabilities, capability[1])\n       static_registrations[#static_registrations + 1] = {\n         id = cap.id,\n         method = method,\n-        registerOptions = {\n-          documentSelector = cap.documentSelector, ---@type lsp.DocumentSelector|lsp.null\n-        },\n+        registerOptions = (function()\n+          local opts = {}\n+          ---@diagnostic disable-next-line: no-unknown\n+          for k, v in pairs(cap) do\n+            if k ~= 'id' then\n+              ---@diagnostic disable-next-line: no-unknown\n+              opts[k] = v",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2673050127",
            "id": 2673050127,
            "in_reply_to_id": 2670632888,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6fU4IP",
            "original_commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "original_line": 636,
            "original_position": 27,
            "original_start_line": 631,
            "path": "runtime/lua/vim/lsp/client.lua",
            "position": 1,
            "pull_request_review_id": 3640239198,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673050127/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-01-08T16:31:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673050127",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/18444302?v=4",
                "events_url": "https://api.github.com/users/tris203/events{/privacy}",
                "followers_url": "https://api.github.com/users/tris203/followers",
                "following_url": "https://api.github.com/users/tris203/following{/other_user}",
                "gists_url": "https://api.github.com/users/tris203/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/tris203",
                "id": 18444302,
                "login": "tris203",
                "node_id": "MDQ6VXNlcjE4NDQ0MzAy",
                "organizations_url": "https://api.github.com/users/tris203/orgs",
                "received_events_url": "https://api.github.com/users/tris203/received_events",
                "repos_url": "https://api.github.com/users/tris203/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/tris203/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tris203/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/tris203",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2673606569"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673606569"
                }
            },
            "author_association": "MEMBER",
            "body": "Nit:\r\n```suggestion\r\n  for method in pairs(lsp.protocol._method_supports_static_registration) do\r\n```",
            "commit_id": "2fe7d4c7ca9cf85f94096cc4c7e1315a57fdccea",
            "created_at": "2026-01-08T19:26:19Z",
            "diff_hunk": "@@ -616,19 +616,17 @@ end\n function Client:_process_static_registrations()\n   local static_registrations = {} ---@type lsp.Registration[]\n \n-  for method, capability in pairs(lsp.protocol._request_name_to_server_capability) do\n+  for method, _ in pairs(lsp.protocol._method_supports_static_registration) do",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2673606569",
            "id": 2673606569,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6fW_-p",
            "original_commit_id": "2fe7d4c7ca9cf85f94096cc4c7e1315a57fdccea",
            "original_line": 618,
            "original_position": 5,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/client.lua",
            "position": 1,
            "pull_request_review_id": 3640925977,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673606569/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-01-08T19:29:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673606569",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2673610984"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673610984"
                }
            },
            "author_association": "MEMBER",
            "body": "Why not use `cap or {}`?",
            "commit_id": "2fe7d4c7ca9cf85f94096cc4c7e1315a57fdccea",
            "created_at": "2026-01-08T19:27:47Z",
            "diff_hunk": "@@ -616,19 +616,17 @@ end\n function Client:_process_static_registrations()\n   local static_registrations = {} ---@type lsp.Registration[]\n \n-  for method, capability in pairs(lsp.protocol._request_name_to_server_capability) do\n+  for method, _ in pairs(lsp.protocol._method_supports_static_registration) do\n+    local capability = lsp.protocol._request_name_to_server_capability[method]\n     if\n-      vim.tbl_get(self.server_capabilities, unpack(capability), 'id')\n-      --- @cast method vim.lsp.protocol.Method\n+      vim.tbl_get(self.server_capabilities, capability[1], 'id')\n       and self:_supports_registration(method)\n     then\n-      local cap = vim.tbl_get(self.server_capabilities, unpack(capability))\n+      local cap = vim.tbl_get(self.server_capabilities, capability[1])\n       static_registrations[#static_registrations + 1] = {\n         id = cap.id,\n         method = method,\n-        registerOptions = {\n-          documentSelector = cap.documentSelector, ---@type lsp.DocumentSelector|lsp.null\n-        },\n+        registerOptions = vim.tbl_extend('force', {}, cap),",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2673610984",
            "id": 2673610984,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6fXBDo",
            "original_commit_id": "2fe7d4c7ca9cf85f94096cc4c7e1315a57fdccea",
            "original_line": 629,
            "original_position": 21,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/client.lua",
            "position": 1,
            "pull_request_review_id": 3640925977,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673610984/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-01-08T19:29:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673610984",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2673975088"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673975088"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "You are absolutely right ;)\r\nI think i Just didnt see the wood for the trees and over complicated it thinking about this https://github.com/neovim/neovim/pull/37221#discussion_r2673050127",
            "commit_id": "2fe7d4c7ca9cf85f94096cc4c7e1315a57fdccea",
            "created_at": "2026-01-08T21:31:28Z",
            "diff_hunk": "@@ -616,19 +616,17 @@ end\n function Client:_process_static_registrations()\n   local static_registrations = {} ---@type lsp.Registration[]\n \n-  for method, capability in pairs(lsp.protocol._request_name_to_server_capability) do\n+  for method, _ in pairs(lsp.protocol._method_supports_static_registration) do\n+    local capability = lsp.protocol._request_name_to_server_capability[method]\n     if\n-      vim.tbl_get(self.server_capabilities, unpack(capability), 'id')\n-      --- @cast method vim.lsp.protocol.Method\n+      vim.tbl_get(self.server_capabilities, capability[1], 'id')\n       and self:_supports_registration(method)\n     then\n-      local cap = vim.tbl_get(self.server_capabilities, unpack(capability))\n+      local cap = vim.tbl_get(self.server_capabilities, capability[1])\n       static_registrations[#static_registrations + 1] = {\n         id = cap.id,\n         method = method,\n-        registerOptions = {\n-          documentSelector = cap.documentSelector, ---@type lsp.DocumentSelector|lsp.null\n-        },\n+        registerOptions = vim.tbl_extend('force', {}, cap),",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2673975088",
            "id": 2673975088,
            "in_reply_to_id": 2673610984,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6fYZ8w",
            "original_commit_id": "2fe7d4c7ca9cf85f94096cc4c7e1315a57fdccea",
            "original_line": 629,
            "original_position": 21,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/client.lua",
            "position": 1,
            "pull_request_review_id": 3641406341,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673975088/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-01-08T21:31:28Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673975088",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/18444302?v=4",
                "events_url": "https://api.github.com/users/tris203/events{/privacy}",
                "followers_url": "https://api.github.com/users/tris203/followers",
                "following_url": "https://api.github.com/users/tris203/following{/other_user}",
                "gists_url": "https://api.github.com/users/tris203/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/tris203",
                "id": 18444302,
                "login": "tris203",
                "node_id": "MDQ6VXNlcjE4NDQ0MzAy",
                "organizations_url": "https://api.github.com/users/tris203/orgs",
                "received_events_url": "https://api.github.com/users/tris203/received_events",
                "repos_url": "https://api.github.com/users/tris203/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/tris203/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tris203/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/tris203",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2684161919"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2684161919"
                }
            },
            "author_association": "MEMBER",
            "body": "I'm still not seeing this change in the PR (?).",
            "commit_id": "2fe7d4c7ca9cf85f94096cc4c7e1315a57fdccea",
            "created_at": "2026-01-12T22:49:27Z",
            "diff_hunk": "@@ -616,19 +616,17 @@ end\n function Client:_process_static_registrations()\n   local static_registrations = {} ---@type lsp.Registration[]\n \n-  for method, capability in pairs(lsp.protocol._request_name_to_server_capability) do\n+  for method, _ in pairs(lsp.protocol._method_supports_static_registration) do",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2684161919",
            "id": 2684161919,
            "in_reply_to_id": 2673606569,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6f_Q9_",
            "original_commit_id": "2fe7d4c7ca9cf85f94096cc4c7e1315a57fdccea",
            "original_line": 618,
            "original_position": 5,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/client.lua",
            "position": 1,
            "pull_request_review_id": 3653032396,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2684161919/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-01-12T22:49:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2684161919",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2684174137"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2684174137"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "my mistake, i read the diff for the change i made, i thought you _wanted_ the underscore. fixed",
            "commit_id": "2fe7d4c7ca9cf85f94096cc4c7e1315a57fdccea",
            "created_at": "2026-01-12T22:55:41Z",
            "diff_hunk": "@@ -616,19 +616,17 @@ end\n function Client:_process_static_registrations()\n   local static_registrations = {} ---@type lsp.Registration[]\n \n-  for method, capability in pairs(lsp.protocol._request_name_to_server_capability) do\n+  for method, _ in pairs(lsp.protocol._method_supports_static_registration) do",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2684174137",
            "id": 2684174137,
            "in_reply_to_id": 2673606569,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6f_T85",
            "original_commit_id": "2fe7d4c7ca9cf85f94096cc4c7e1315a57fdccea",
            "original_line": 618,
            "original_position": 5,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/client.lua",
            "position": 1,
            "pull_request_review_id": 3653046181,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2684174137/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-01-12T22:56:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2684174137",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/18444302?v=4",
                "events_url": "https://api.github.com/users/tris203/events{/privacy}",
                "followers_url": "https://api.github.com/users/tris203/followers",
                "following_url": "https://api.github.com/users/tris203/following{/other_user}",
                "gists_url": "https://api.github.com/users/tris203/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/tris203",
                "id": 18444302,
                "login": "tris203",
                "node_id": "MDQ6VXNlcjE4NDQ0MzAy",
                "organizations_url": "https://api.github.com/users/tris203/orgs",
                "received_events_url": "https://api.github.com/users/tris203/received_events",
                "repos_url": "https://api.github.com/users/tris203/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/tris203/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tris203/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/tris203",
                "user_view_type": "public"
            }
        }
    ],
    "comment_regular_data": [],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/37221/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/37221/commits",
    "created_at": "2026-01-03T16:46:52Z",
    "diff_url": "https://github.com/neovim/neovim/pull/37221.diff",
    "draft": false,
    "head": {
        "label": "tris203:dynamic_provider_values",
        "ref": "dynamic_provider_values",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/tris203/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/tris203/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/tris203/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/tris203/neovim/branches{/branch}",
            "clone_url": "https://github.com/tris203/neovim.git",
            "collaborators_url": "https://api.github.com/repos/tris203/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/tris203/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/tris203/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/tris203/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/tris203/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/tris203/neovim/contributors",
            "created_at": "2024-09-01T13:29:52Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/tris203/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/tris203/neovim/downloads",
            "events_url": "https://api.github.com/repos/tris203/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/tris203/neovim/forks",
            "full_name": "tris203/neovim",
            "git_commits_url": "https://api.github.com/repos/tris203/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/tris203/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/tris203/neovim/git/tags{/sha}",
            "git_url": "git://github.com/tris203/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/tris203/neovim/hooks",
            "html_url": "https://github.com/tris203/neovim",
            "id": 850679366,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/tris203/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/tris203/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/tris203/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/tris203/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/tris203/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/tris203/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/tris203/neovim/merges",
            "milestones_url": "https://api.github.com/repos/tris203/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "R_kgDOMrRWRg",
            "notifications_url": "https://api.github.com/repos/tris203/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/18444302?v=4",
                "events_url": "https://api.github.com/users/tris203/events{/privacy}",
                "followers_url": "https://api.github.com/users/tris203/followers",
                "following_url": "https://api.github.com/users/tris203/following{/other_user}",
                "gists_url": "https://api.github.com/users/tris203/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/tris203",
                "id": 18444302,
                "login": "tris203",
                "node_id": "MDQ6VXNlcjE4NDQ0MzAy",
                "organizations_url": "https://api.github.com/users/tris203/orgs",
                "received_events_url": "https://api.github.com/users/tris203/received_events",
                "repos_url": "https://api.github.com/users/tris203/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/tris203/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tris203/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/tris203",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/tris203/neovim/pulls{/number}",
            "pushed_at": "2026-01-28T21:36:16Z",
            "releases_url": "https://api.github.com/repos/tris203/neovim/releases{/id}",
            "size": 361962,
            "ssh_url": "git@github.com:tris203/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/tris203/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/tris203/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/tris203/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/tris203/neovim/subscription",
            "svn_url": "https://github.com/tris203/neovim",
            "tags_url": "https://api.github.com/repos/tris203/neovim/tags",
            "teams_url": "https://api.github.com/repos/tris203/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/tris203/neovim/git/trees{/sha}",
            "updated_at": "2026-01-28T21:31:33Z",
            "url": "https://api.github.com/repos/tris203/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "91a6fd0648786fe33aba576f3f7eec11170bd7eb",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/18444302?v=4",
            "events_url": "https://api.github.com/users/tris203/events{/privacy}",
            "followers_url": "https://api.github.com/users/tris203/followers",
            "following_url": "https://api.github.com/users/tris203/following{/other_user}",
            "gists_url": "https://api.github.com/users/tris203/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/tris203",
            "id": 18444302,
            "login": "tris203",
            "node_id": "MDQ6VXNlcjE4NDQ0MzAy",
            "organizations_url": "https://api.github.com/users/tris203/orgs",
            "received_events_url": "https://api.github.com/users/tris203/received_events",
            "repos_url": "https://api.github.com/users/tris203/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/tris203/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tris203/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/tris203",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/37221",
    "id": 3143671626,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37221",
    "labels": [
        {
            "color": "C5DEF5",
            "default": false,
            "description": "changes that are not features or bugfixes",
            "id": 106949155,
            "name": "refactor",
            "node_id": "MDU6TGFiZWwxMDY5NDkxNTU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/refactor"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": null,
            "id": 662566370,
            "name": "lsp",
            "node_id": "MDU6TGFiZWw2NjI1NjYzNzA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lsp"
        }
    ],
    "locked": false,
    "merge_commit_sha": "fbdccf486e0df227e13acfc344545d2d86fbee87",
    "merged_at": null,
    "milestone": null,
    "node_id": "PR_kwDOAPphoM67YJ9K",
    "number": 37221,
    "patch_url": "https://github.com/neovim/neovim/pull/37221.patch",
    "requested_reviewers": [
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/55766287?v=4",
            "events_url": "https://api.github.com/users/ribru17/events{/privacy}",
            "followers_url": "https://api.github.com/users/ribru17/followers",
            "following_url": "https://api.github.com/users/ribru17/following{/other_user}",
            "gists_url": "https://api.github.com/users/ribru17/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/ribru17",
            "id": 55766287,
            "login": "ribru17",
            "node_id": "MDQ6VXNlcjU1NzY2Mjg3",
            "organizations_url": "https://api.github.com/users/ribru17/orgs",
            "received_events_url": "https://api.github.com/users/ribru17/received_events",
            "repos_url": "https://api.github.com/users/ribru17/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/ribru17/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ribru17/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/ribru17",
            "user_view_type": "public"
        }
    ],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/37221/comments",
    "state": "open",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/91a6fd0648786fe33aba576f3f7eec11170bd7eb",
    "title": "refactor(lsp): centralize provider capability resolution",
    "updated_at": "2026-01-28T21:36:18Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/18444302?v=4",
        "events_url": "https://api.github.com/users/tris203/events{/privacy}",
        "followers_url": "https://api.github.com/users/tris203/followers",
        "following_url": "https://api.github.com/users/tris203/following{/other_user}",
        "gists_url": "https://api.github.com/users/tris203/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/tris203",
        "id": 18444302,
        "login": "tris203",
        "node_id": "MDQ6VXNlcjE4NDQ0MzAy",
        "organizations_url": "https://api.github.com/users/tris203/orgs",
        "received_events_url": "https://api.github.com/users/tris203/received_events",
        "repos_url": "https://api.github.com/users/tris203/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/tris203/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/tris203/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/tris203",
        "user_view_type": "public"
    }
}