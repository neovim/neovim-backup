{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/37221/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/37221/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/37221"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/37221"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/37221/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/ec19342e34253264f67f852b191e7b4895ae19b2"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 6587,
            "forks_count": 6587,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_pull_requests": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 2031,
            "open_issues_count": 2031,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim",
                "user_view_type": "public"
            },
            "private": false,
            "pull_request_creation_policy": "all",
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2026-02-17T03:34:12Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 369888,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 96478,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2026-02-17T03:34:17Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 96478,
            "watchers_count": 96478,
            "web_commit_signoff_required": false
        },
        "sha": "a512af0d7401b60ed0dddc2520f2c569508bbc38",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim",
            "user_view_type": "public"
        }
    },
    "body": "Work on #37166 \r\n- Capability Checking\r\n\r\nFully closes #37150\r\n\r\nFollow up to the relevant conversation here from when `textDocument/diagnostics` was implemented\r\nhttps://github.com/neovim/neovim/pull/24128/changes#r1253360435\r\n\r\nDiscussion points: \r\n- Naming\r\n- Because we will handle the multiple registrations, there will be lots of iterations from the callers, even though often there will just be one item, is there a better API design here? ",
    "closed_at": "2026-02-14T15:50:48Z",
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2670632888"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670632888"
                }
            },
            "author_association": "MEMBER",
            "body": "would `vim.tbl_extend()` be clearer here",
            "commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "created_at": "2026-01-08T02:16:18Z",
            "diff_hunk": "@@ -616,19 +616,28 @@ end\n function Client:_process_static_registrations()\n   local static_registrations = {} ---@type lsp.Registration[]\n \n-  for method, capability in pairs(lsp.protocol._request_name_to_server_capability) do\n+  for method, _ in pairs(lsp.protocol._method_allows_static_registration) do\n+    local capability = lsp.protocol._request_name_to_server_capability[method]\n     if\n-      vim.tbl_get(self.server_capabilities, unpack(capability), 'id')\n+      vim.tbl_get(self.server_capabilities, capability[1], 'id')\n       --- @cast method vim.lsp.protocol.Method\n       and self:_supports_registration(method)\n     then\n-      local cap = vim.tbl_get(self.server_capabilities, unpack(capability))\n+      local cap = vim.tbl_get(self.server_capabilities, capability[1])\n       static_registrations[#static_registrations + 1] = {\n         id = cap.id,\n         method = method,\n-        registerOptions = {\n-          documentSelector = cap.documentSelector, ---@type lsp.DocumentSelector|lsp.null\n-        },\n+        registerOptions = (function()\n+          local opts = {}\n+          ---@diagnostic disable-next-line: no-unknown\n+          for k, v in pairs(cap) do\n+            if k ~= 'id' then\n+              ---@diagnostic disable-next-line: no-unknown\n+              opts[k] = v",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2670632888",
            "id": 2670632888,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6fLp-4",
            "original_commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "original_line": 636,
            "original_position": 27,
            "original_start_line": 631,
            "path": "runtime/lua/vim/lsp/client.lua",
            "position": 1,
            "pull_request_review_id": 3637431864,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670632888/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-01-08T02:16:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670632888",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2670640423"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670640423"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\n  ['workspace/didChangeWorkspaceFolders'] = true\n```",
            "commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "created_at": "2026-01-08T02:22:06Z",
            "diff_hunk": "@@ -1359,4 +1338,52 @@ protocol._request_name_allows_registration = {\n }\n -- stylua: ignore end\n \n+-- stylua: ignore start\n+-- Generated by gen_lsp.lua, keep at end of file.\n+protocol._method_allows_static_registration = {\n+  ['textDocument/codeAction'] = true,\n+  ['textDocument/codeLens'] = true,\n+  ['textDocument/colorPresentation'] = true,\n+  ['textDocument/completion'] = true,\n+  ['textDocument/declaration'] = true,\n+  ['textDocument/definition'] = true,\n+  ['textDocument/diagnostic'] = true,\n+  ['textDocument/didChange'] = true,\n+  ['textDocument/documentColor'] = true,\n+  ['textDocument/documentHighlight'] = true,\n+  ['textDocument/documentLink'] = true,\n+  ['textDocument/documentSymbol'] = true,\n+  ['textDocument/foldingRange'] = true,\n+  ['textDocument/formatting'] = true,\n+  ['textDocument/hover'] = true,\n+  ['textDocument/implementation'] = true,\n+  ['textDocument/inlayHint'] = true,\n+  ['textDocument/inlineCompletion'] = true,\n+  ['textDocument/inlineValue'] = true,\n+  ['textDocument/linkedEditingRange'] = true,\n+  ['textDocument/moniker'] = true,\n+  ['textDocument/onTypeFormatting'] = true,\n+  ['textDocument/prepareCallHierarchy'] = true,\n+  ['textDocument/prepareTypeHierarchy'] = true,\n+  ['textDocument/rangeFormatting'] = true,\n+  ['textDocument/references'] = true,\n+  ['textDocument/rename'] = true,\n+  ['textDocument/selectionRange'] = true,\n+  ['textDocument/semanticTokens/full'] = true,\n+  ['textDocument/signatureHelp'] = true,\n+  ['textDocument/typeDefinition'] = true,\n+  ['workspace/executeCommand'] = true,\n+  ['workspace/symbol'] = true,\n+}\n+-- stylua: ignore end\n+\n+-- stylua: ignore start\n+-- Generated by gen_lsp.lua, keep at end of file.\n+-- These methods have no registration options but can still be registered dynamically.\n+protocol._methods_with_no_registration_options =\n+{\n+  [\"workspace/didChangeWorkspaceFolders\"] = true",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2670640423",
            "id": 2670640423,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6fLr0n",
            "original_commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "original_line": 1385,
            "original_position": 201,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/protocol.lua",
            "position": 1,
            "pull_request_review_id": 3637439572,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670640423/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-01-08T02:22:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670640423",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2670642612"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670642612"
                }
            },
            "author_association": "MEMBER",
            "body": "is there a difference between \"allow\" vs \"supports\" (`_method_supports_dynamic_registration`)? if not can we use consistent names. ",
            "commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "created_at": "2026-01-08T02:23:40Z",
            "diff_hunk": "@@ -1359,4 +1338,52 @@ protocol._request_name_allows_registration = {\n }\n -- stylua: ignore end\n \n+-- stylua: ignore start\n+-- Generated by gen_lsp.lua, keep at end of file.\n+protocol._method_allows_static_registration = {",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2670642612",
            "id": 2670642612,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6fLsW0",
            "original_commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "original_line": 1343,
            "original_position": 159,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/protocol.lua",
            "position": 1,
            "pull_request_review_id": 3637441736,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670642612/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-01-08T02:23:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670642612",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2670654938"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670654938"
                }
            },
            "author_association": "MEMBER",
            "body": "\"data\" like this should live at the top of the file i guess, since it needs to be maintained.",
            "commit_id": "ec19342e34253264f67f852b191e7b4895ae19b2",
            "created_at": "2026-01-08T02:32:00Z",
            "diff_hunk": "@@ -280,25 +286,65 @@ local function write_to_vim_protocol(protocol)\n       )\n     end\n \n+    --- workspace/didChangeWatchedFiles has no server capability but we need to map it for\n+    --- registration\n+    output[#output + 1] = (\"  ['%s'] = { '%s' },\"):format(\n+      'workspace/didChangeWatchedFiles',\n+      'workspace/didChangeWatchedFiles'\n+    )\n+\n     output[#output + 1] = '}'\n     output[#output + 1] = '-- stylua: ignore end'\n \n     vim.list_extend(output, {\n       '',\n       '-- stylua: ignore start',\n       '-- Generated by gen_lsp.lua, keep at end of file.',\n-      '--- Maps method names to the required client capability',\n-      'protocol._request_name_allows_registration = {',\n+      'protocol._method_supports_dynamic_registration = {',\n     })\n \n+    --- These methods have no registrationOptions but can still be registered\n+    local methods_with_no_registration_options = {\n+      ['workspace/didChangeWorkspaceFolders'] = true,\n+    }",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2670654938",
            "id": 2670654938,
            "line": 323,
            "node_id": "PRRC_kwDOAPphoM6fLvXa",
            "original_commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "original_line": 309,
            "original_position": 51,
            "original_start_line": 306,
            "path": "src/gen/gen_lsp.lua",
            "position": 71,
            "pull_request_review_id": 3637452971,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670654938/reactions"
            },
            "side": "RIGHT",
            "start_line": 319,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-01-08T02:32:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670654938",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2670655964"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670655964"
                }
            },
            "author_association": "MEMBER",
            "body": "split(vim.inspect()) seems ... fragile. \n\n",
            "commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "created_at": "2026-01-08T02:32:48Z",
            "diff_hunk": "@@ -280,25 +286,65 @@ local function write_to_vim_protocol(protocol)\n       )\n     end\n \n+    --- workspace/didChangeWatchedFiles has no server capability but we need to map it for\n+    --- registration\n+    output[#output + 1] = (\"  ['%s'] = { '%s' },\"):format(\n+      'workspace/didChangeWatchedFiles',\n+      'workspace/didChangeWatchedFiles'\n+    )\n+\n     output[#output + 1] = '}'\n     output[#output + 1] = '-- stylua: ignore end'\n \n     vim.list_extend(output, {\n       '',\n       '-- stylua: ignore start',\n       '-- Generated by gen_lsp.lua, keep at end of file.',\n-      '--- Maps method names to the required client capability',\n-      'protocol._request_name_allows_registration = {',\n+      'protocol._method_supports_dynamic_registration = {',\n     })\n \n+    --- These methods have no registrationOptions but can still be registered\n+    local methods_with_no_registration_options = {\n+      ['workspace/didChangeWorkspaceFolders'] = true,\n+    }\n+\n     for _, item in ipairs(all) do\n-      if item.registrationOptions then\n+      if item.registrationOptions or methods_with_no_registration_options[item.method] then\n         output[#output + 1] = (\"  ['%s'] = %s,\"):format(item.method, true)\n       end\n     end\n \n     output[#output + 1] = '}'\n     output[#output + 1] = '-- stylua: ignore end'\n+\n+    vim.list_extend(output, {\n+      '',\n+      '-- stylua: ignore start',\n+      '-- Generated by gen_lsp.lua, keep at end of file.',\n+      'protocol._method_allows_static_registration = {',\n+    })\n+\n+    for _, item in ipairs(all) do\n+      if\n+        item.registrationOptions\n+        and (item.serverCapability and not item.serverCapability:find('%.'))\n+      then\n+        output[#output + 1] = (\"  ['%s'] = %s,\"):format(item.method, true)\n+      end\n+    end\n+\n+    output[#output + 1] = '}'\n+    output[#output + 1] = '-- stylua: ignore end'\n+\n+    vim.list_extend(output, {\n+      '',\n+      '-- stylua: ignore start',\n+      '-- Generated by gen_lsp.lua, keep at end of file.',\n+      '-- These methods have no registration options but can still be registered dynamically.',\n+      'protocol._methods_with_no_registration_options =',\n+    })\n+    vim.list_extend(output, vim.split(vim.inspect(methods_with_no_registration_options), '\\n'))",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2670655964",
            "id": 2670655964,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6fLvnc",
            "original_commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "original_line": 346,
            "original_position": 89,
            "original_start_line": null,
            "path": "src/gen/gen_lsp.lua",
            "position": 1,
            "pull_request_review_id": 3637453974,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670655964/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-01-08T02:32:48Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670655964",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2670656471"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670656471"
                }
            },
            "author_association": "MEMBER",
            "body": "at this point it seems like the 4th time we have written this logic, is there any way to dedupe it",
            "commit_id": "ec19342e34253264f67f852b191e7b4895ae19b2",
            "created_at": "2026-01-08T02:33:12Z",
            "diff_hunk": "@@ -280,25 +286,65 @@ local function write_to_vim_protocol(protocol)\n       )\n     end\n \n+    --- workspace/didChangeWatchedFiles has no server capability but we need to map it for\n+    --- registration\n+    output[#output + 1] = (\"  ['%s'] = { '%s' },\"):format(\n+      'workspace/didChangeWatchedFiles',\n+      'workspace/didChangeWatchedFiles'\n+    )\n+\n     output[#output + 1] = '}'\n     output[#output + 1] = '-- stylua: ignore end'\n \n     vim.list_extend(output, {\n       '',\n       '-- stylua: ignore start',\n       '-- Generated by gen_lsp.lua, keep at end of file.',\n-      '--- Maps method names to the required client capability',\n-      'protocol._request_name_allows_registration = {',\n+      'protocol._method_supports_dynamic_registration = {',\n     })\n \n+    --- These methods have no registrationOptions but can still be registered\n+    local methods_with_no_registration_options = {\n+      ['workspace/didChangeWorkspaceFolders'] = true,\n+    }\n+\n     for _, item in ipairs(all) do\n-      if item.registrationOptions then\n+      if item.registrationOptions or methods_with_no_registration_options[item.method] then\n         output[#output + 1] = (\"  ['%s'] = %s,\"):format(item.method, true)\n       end\n     end\n \n     output[#output + 1] = '}'\n     output[#output + 1] = '-- stylua: ignore end'\n+\n+    vim.list_extend(output, {\n+      '',\n+      '-- stylua: ignore start',\n+      '-- Generated by gen_lsp.lua, keep at end of file.',",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2670656471",
            "id": 2670656471,
            "line": 341,
            "node_id": "PRRC_kwDOAPphoM6fLvvX",
            "original_commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "original_line": 323,
            "original_position": 66,
            "original_start_line": 322,
            "path": "src/gen/gen_lsp.lua",
            "position": 89,
            "pull_request_review_id": 3637454484,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670656471/reactions"
            },
            "side": "RIGHT",
            "start_line": 340,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-01-08T02:33:24Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2670656471",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2673037550"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673037550"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "This was a by-product of the `vim.inspect`. I have replaced with a regular loop",
            "commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "created_at": "2026-01-08T16:27:22Z",
            "diff_hunk": "@@ -1359,4 +1338,52 @@ protocol._request_name_allows_registration = {\n }\n -- stylua: ignore end\n \n+-- stylua: ignore start\n+-- Generated by gen_lsp.lua, keep at end of file.\n+protocol._method_allows_static_registration = {\n+  ['textDocument/codeAction'] = true,\n+  ['textDocument/codeLens'] = true,\n+  ['textDocument/colorPresentation'] = true,\n+  ['textDocument/completion'] = true,\n+  ['textDocument/declaration'] = true,\n+  ['textDocument/definition'] = true,\n+  ['textDocument/diagnostic'] = true,\n+  ['textDocument/didChange'] = true,\n+  ['textDocument/documentColor'] = true,\n+  ['textDocument/documentHighlight'] = true,\n+  ['textDocument/documentLink'] = true,\n+  ['textDocument/documentSymbol'] = true,\n+  ['textDocument/foldingRange'] = true,\n+  ['textDocument/formatting'] = true,\n+  ['textDocument/hover'] = true,\n+  ['textDocument/implementation'] = true,\n+  ['textDocument/inlayHint'] = true,\n+  ['textDocument/inlineCompletion'] = true,\n+  ['textDocument/inlineValue'] = true,\n+  ['textDocument/linkedEditingRange'] = true,\n+  ['textDocument/moniker'] = true,\n+  ['textDocument/onTypeFormatting'] = true,\n+  ['textDocument/prepareCallHierarchy'] = true,\n+  ['textDocument/prepareTypeHierarchy'] = true,\n+  ['textDocument/rangeFormatting'] = true,\n+  ['textDocument/references'] = true,\n+  ['textDocument/rename'] = true,\n+  ['textDocument/selectionRange'] = true,\n+  ['textDocument/semanticTokens/full'] = true,\n+  ['textDocument/signatureHelp'] = true,\n+  ['textDocument/typeDefinition'] = true,\n+  ['workspace/executeCommand'] = true,\n+  ['workspace/symbol'] = true,\n+}\n+-- stylua: ignore end\n+\n+-- stylua: ignore start\n+-- Generated by gen_lsp.lua, keep at end of file.\n+-- These methods have no registration options but can still be registered dynamically.\n+protocol._methods_with_no_registration_options =\n+{\n+  [\"workspace/didChangeWorkspaceFolders\"] = true",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2673037550",
            "id": 2673037550,
            "in_reply_to_id": 2670640423,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6fU1Du",
            "original_commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "original_line": 1385,
            "original_position": 201,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/protocol.lua",
            "position": 1,
            "pull_request_review_id": 3640225061,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673037550/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-01-08T16:27:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673037550",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/18444302?v=4",
                "events_url": "https://api.github.com/users/tris203/events{/privacy}",
                "followers_url": "https://api.github.com/users/tris203/followers",
                "following_url": "https://api.github.com/users/tris203/following{/other_user}",
                "gists_url": "https://api.github.com/users/tris203/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/tris203",
                "id": 18444302,
                "login": "tris203",
                "node_id": "MDQ6VXNlcjE4NDQ0MzAy",
                "organizations_url": "https://api.github.com/users/tris203/orgs",
                "received_events_url": "https://api.github.com/users/tris203/received_events",
                "repos_url": "https://api.github.com/users/tris203/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/tris203/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tris203/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/tris203",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2673041647"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673041647"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "It's generator code, so I don't mind it being repetitive and explicit. If you are in here, then you are probably deep in the weeds, so I think less abstraction is better for mental capacity\r\n\r\nI can refactor into a helper function, but I would prefer to do that in a separate PR",
            "commit_id": "ec19342e34253264f67f852b191e7b4895ae19b2",
            "created_at": "2026-01-08T16:28:36Z",
            "diff_hunk": "@@ -280,25 +286,65 @@ local function write_to_vim_protocol(protocol)\n       )\n     end\n \n+    --- workspace/didChangeWatchedFiles has no server capability but we need to map it for\n+    --- registration\n+    output[#output + 1] = (\"  ['%s'] = { '%s' },\"):format(\n+      'workspace/didChangeWatchedFiles',\n+      'workspace/didChangeWatchedFiles'\n+    )\n+\n     output[#output + 1] = '}'\n     output[#output + 1] = '-- stylua: ignore end'\n \n     vim.list_extend(output, {\n       '',\n       '-- stylua: ignore start',\n       '-- Generated by gen_lsp.lua, keep at end of file.',\n-      '--- Maps method names to the required client capability',\n-      'protocol._request_name_allows_registration = {',\n+      'protocol._method_supports_dynamic_registration = {',\n     })\n \n+    --- These methods have no registrationOptions but can still be registered\n+    local methods_with_no_registration_options = {\n+      ['workspace/didChangeWorkspaceFolders'] = true,\n+    }\n+\n     for _, item in ipairs(all) do\n-      if item.registrationOptions then\n+      if item.registrationOptions or methods_with_no_registration_options[item.method] then\n         output[#output + 1] = (\"  ['%s'] = %s,\"):format(item.method, true)\n       end\n     end\n \n     output[#output + 1] = '}'\n     output[#output + 1] = '-- stylua: ignore end'\n+\n+    vim.list_extend(output, {\n+      '',\n+      '-- stylua: ignore start',\n+      '-- Generated by gen_lsp.lua, keep at end of file.',",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2673041647",
            "id": 2673041647,
            "in_reply_to_id": 2670656471,
            "line": 341,
            "node_id": "PRRC_kwDOAPphoM6fU2Dv",
            "original_commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "original_line": 323,
            "original_position": 66,
            "original_start_line": 322,
            "path": "src/gen/gen_lsp.lua",
            "position": 89,
            "pull_request_review_id": 3640229645,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673041647/reactions"
            },
            "side": "RIGHT",
            "start_line": 340,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-01-08T16:28:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673041647",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/18444302?v=4",
                "events_url": "https://api.github.com/users/tris203/events{/privacy}",
                "followers_url": "https://api.github.com/users/tris203/followers",
                "following_url": "https://api.github.com/users/tris203/following{/other_user}",
                "gists_url": "https://api.github.com/users/tris203/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/tris203",
                "id": 18444302,
                "login": "tris203",
                "node_id": "MDQ6VXNlcjE4NDQ0MzAy",
                "organizations_url": "https://api.github.com/users/tris203/orgs",
                "received_events_url": "https://api.github.com/users/tris203/received_events",
                "repos_url": "https://api.github.com/users/tris203/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/tris203/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tris203/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/tris203",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2673044891"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673044891"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "I have raised https://github.com/microsoft/language-server-protocol/issues/2218\r\n\r\nIf/When the spec is updated, then this could be removed entirely",
            "commit_id": "ec19342e34253264f67f852b191e7b4895ae19b2",
            "created_at": "2026-01-08T16:29:34Z",
            "diff_hunk": "@@ -280,25 +286,65 @@ local function write_to_vim_protocol(protocol)\n       )\n     end\n \n+    --- workspace/didChangeWatchedFiles has no server capability but we need to map it for\n+    --- registration\n+    output[#output + 1] = (\"  ['%s'] = { '%s' },\"):format(\n+      'workspace/didChangeWatchedFiles',\n+      'workspace/didChangeWatchedFiles'\n+    )\n+\n     output[#output + 1] = '}'\n     output[#output + 1] = '-- stylua: ignore end'\n \n     vim.list_extend(output, {\n       '',\n       '-- stylua: ignore start',\n       '-- Generated by gen_lsp.lua, keep at end of file.',\n-      '--- Maps method names to the required client capability',\n-      'protocol._request_name_allows_registration = {',\n+      'protocol._method_supports_dynamic_registration = {',\n     })\n \n+    --- These methods have no registrationOptions but can still be registered\n+    local methods_with_no_registration_options = {\n+      ['workspace/didChangeWorkspaceFolders'] = true,\n+    }",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2673044891",
            "id": 2673044891,
            "in_reply_to_id": 2670654938,
            "line": 323,
            "node_id": "PRRC_kwDOAPphoM6fU22b",
            "original_commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "original_line": 309,
            "original_position": 51,
            "original_start_line": 306,
            "path": "src/gen/gen_lsp.lua",
            "position": 71,
            "pull_request_review_id": 3640233365,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673044891/reactions"
            },
            "side": "RIGHT",
            "start_line": 319,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-01-08T16:29:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673044891",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/18444302?v=4",
                "events_url": "https://api.github.com/users/tris203/events{/privacy}",
                "followers_url": "https://api.github.com/users/tris203/followers",
                "following_url": "https://api.github.com/users/tris203/following{/other_user}",
                "gists_url": "https://api.github.com/users/tris203/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/tris203",
                "id": 18444302,
                "login": "tris203",
                "node_id": "MDQ6VXNlcjE4NDQ0MzAy",
                "organizations_url": "https://api.github.com/users/tris203/orgs",
                "received_events_url": "https://api.github.com/users/tris203/received_events",
                "repos_url": "https://api.github.com/users/tris203/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/tris203/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tris203/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/tris203",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2673050127"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673050127"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Yes, it changes the logic slightly as `id` would be included in the registerOptions as well as in the higher-level registration table.\r\nAlthough I just checked, the VS Code implementation puts it in both places. So I don't think this is a problem",
            "commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "created_at": "2026-01-08T16:31:04Z",
            "diff_hunk": "@@ -616,19 +616,28 @@ end\n function Client:_process_static_registrations()\n   local static_registrations = {} ---@type lsp.Registration[]\n \n-  for method, capability in pairs(lsp.protocol._request_name_to_server_capability) do\n+  for method, _ in pairs(lsp.protocol._method_allows_static_registration) do\n+    local capability = lsp.protocol._request_name_to_server_capability[method]\n     if\n-      vim.tbl_get(self.server_capabilities, unpack(capability), 'id')\n+      vim.tbl_get(self.server_capabilities, capability[1], 'id')\n       --- @cast method vim.lsp.protocol.Method\n       and self:_supports_registration(method)\n     then\n-      local cap = vim.tbl_get(self.server_capabilities, unpack(capability))\n+      local cap = vim.tbl_get(self.server_capabilities, capability[1])\n       static_registrations[#static_registrations + 1] = {\n         id = cap.id,\n         method = method,\n-        registerOptions = {\n-          documentSelector = cap.documentSelector, ---@type lsp.DocumentSelector|lsp.null\n-        },\n+        registerOptions = (function()\n+          local opts = {}\n+          ---@diagnostic disable-next-line: no-unknown\n+          for k, v in pairs(cap) do\n+            if k ~= 'id' then\n+              ---@diagnostic disable-next-line: no-unknown\n+              opts[k] = v",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2673050127",
            "id": 2673050127,
            "in_reply_to_id": 2670632888,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6fU4IP",
            "original_commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "original_line": 636,
            "original_position": 27,
            "original_start_line": 631,
            "path": "runtime/lua/vim/lsp/client.lua",
            "position": 1,
            "pull_request_review_id": 3640239198,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673050127/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-01-08T16:31:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673050127",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/18444302?v=4",
                "events_url": "https://api.github.com/users/tris203/events{/privacy}",
                "followers_url": "https://api.github.com/users/tris203/followers",
                "following_url": "https://api.github.com/users/tris203/following{/other_user}",
                "gists_url": "https://api.github.com/users/tris203/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/tris203",
                "id": 18444302,
                "login": "tris203",
                "node_id": "MDQ6VXNlcjE4NDQ0MzAy",
                "organizations_url": "https://api.github.com/users/tris203/orgs",
                "received_events_url": "https://api.github.com/users/tris203/received_events",
                "repos_url": "https://api.github.com/users/tris203/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/tris203/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tris203/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/tris203",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2673606569"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673606569"
                }
            },
            "author_association": "MEMBER",
            "body": "Nit:\r\n```suggestion\r\n  for method in pairs(lsp.protocol._method_supports_static_registration) do\r\n```",
            "commit_id": "2fe7d4c7ca9cf85f94096cc4c7e1315a57fdccea",
            "created_at": "2026-01-08T19:26:19Z",
            "diff_hunk": "@@ -616,19 +616,17 @@ end\n function Client:_process_static_registrations()\n   local static_registrations = {} ---@type lsp.Registration[]\n \n-  for method, capability in pairs(lsp.protocol._request_name_to_server_capability) do\n+  for method, _ in pairs(lsp.protocol._method_supports_static_registration) do",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2673606569",
            "id": 2673606569,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6fW_-p",
            "original_commit_id": "2fe7d4c7ca9cf85f94096cc4c7e1315a57fdccea",
            "original_line": 619,
            "original_position": 5,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/client.lua",
            "position": 1,
            "pull_request_review_id": 3640925977,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673606569/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-01-08T19:29:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673606569",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2673610984"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673610984"
                }
            },
            "author_association": "MEMBER",
            "body": "Why not use `cap or {}`?",
            "commit_id": "2fe7d4c7ca9cf85f94096cc4c7e1315a57fdccea",
            "created_at": "2026-01-08T19:27:47Z",
            "diff_hunk": "@@ -616,19 +616,17 @@ end\n function Client:_process_static_registrations()\n   local static_registrations = {} ---@type lsp.Registration[]\n \n-  for method, capability in pairs(lsp.protocol._request_name_to_server_capability) do\n+  for method, _ in pairs(lsp.protocol._method_supports_static_registration) do\n+    local capability = lsp.protocol._request_name_to_server_capability[method]\n     if\n-      vim.tbl_get(self.server_capabilities, unpack(capability), 'id')\n-      --- @cast method vim.lsp.protocol.Method\n+      vim.tbl_get(self.server_capabilities, capability[1], 'id')\n       and self:_supports_registration(method)\n     then\n-      local cap = vim.tbl_get(self.server_capabilities, unpack(capability))\n+      local cap = vim.tbl_get(self.server_capabilities, capability[1])\n       static_registrations[#static_registrations + 1] = {\n         id = cap.id,\n         method = method,\n-        registerOptions = {\n-          documentSelector = cap.documentSelector, ---@type lsp.DocumentSelector|lsp.null\n-        },\n+        registerOptions = vim.tbl_extend('force', {}, cap),",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2673610984",
            "id": 2673610984,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6fXBDo",
            "original_commit_id": "2fe7d4c7ca9cf85f94096cc4c7e1315a57fdccea",
            "original_line": 629,
            "original_position": 21,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/client.lua",
            "position": 1,
            "pull_request_review_id": 3640925977,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673610984/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-01-08T19:29:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673610984",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2673975088"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673975088"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "You are absolutely right ;)\r\nI think i Just didnt see the wood for the trees and over complicated it thinking about this https://github.com/neovim/neovim/pull/37221#discussion_r2673050127",
            "commit_id": "2fe7d4c7ca9cf85f94096cc4c7e1315a57fdccea",
            "created_at": "2026-01-08T21:31:28Z",
            "diff_hunk": "@@ -616,19 +616,17 @@ end\n function Client:_process_static_registrations()\n   local static_registrations = {} ---@type lsp.Registration[]\n \n-  for method, capability in pairs(lsp.protocol._request_name_to_server_capability) do\n+  for method, _ in pairs(lsp.protocol._method_supports_static_registration) do\n+    local capability = lsp.protocol._request_name_to_server_capability[method]\n     if\n-      vim.tbl_get(self.server_capabilities, unpack(capability), 'id')\n-      --- @cast method vim.lsp.protocol.Method\n+      vim.tbl_get(self.server_capabilities, capability[1], 'id')\n       and self:_supports_registration(method)\n     then\n-      local cap = vim.tbl_get(self.server_capabilities, unpack(capability))\n+      local cap = vim.tbl_get(self.server_capabilities, capability[1])\n       static_registrations[#static_registrations + 1] = {\n         id = cap.id,\n         method = method,\n-        registerOptions = {\n-          documentSelector = cap.documentSelector, ---@type lsp.DocumentSelector|lsp.null\n-        },\n+        registerOptions = vim.tbl_extend('force', {}, cap),",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2673975088",
            "id": 2673975088,
            "in_reply_to_id": 2673610984,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6fYZ8w",
            "original_commit_id": "2fe7d4c7ca9cf85f94096cc4c7e1315a57fdccea",
            "original_line": 629,
            "original_position": 21,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/client.lua",
            "position": 1,
            "pull_request_review_id": 3641406341,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673975088/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-01-08T21:31:28Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2673975088",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/18444302?v=4",
                "events_url": "https://api.github.com/users/tris203/events{/privacy}",
                "followers_url": "https://api.github.com/users/tris203/followers",
                "following_url": "https://api.github.com/users/tris203/following{/other_user}",
                "gists_url": "https://api.github.com/users/tris203/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/tris203",
                "id": 18444302,
                "login": "tris203",
                "node_id": "MDQ6VXNlcjE4NDQ0MzAy",
                "organizations_url": "https://api.github.com/users/tris203/orgs",
                "received_events_url": "https://api.github.com/users/tris203/received_events",
                "repos_url": "https://api.github.com/users/tris203/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/tris203/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tris203/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/tris203",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2684161919"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2684161919"
                }
            },
            "author_association": "MEMBER",
            "body": "I'm still not seeing this change in the PR (?).",
            "commit_id": "2fe7d4c7ca9cf85f94096cc4c7e1315a57fdccea",
            "created_at": "2026-01-12T22:49:27Z",
            "diff_hunk": "@@ -616,19 +616,17 @@ end\n function Client:_process_static_registrations()\n   local static_registrations = {} ---@type lsp.Registration[]\n \n-  for method, capability in pairs(lsp.protocol._request_name_to_server_capability) do\n+  for method, _ in pairs(lsp.protocol._method_supports_static_registration) do",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2684161919",
            "id": 2684161919,
            "in_reply_to_id": 2673606569,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6f_Q9_",
            "original_commit_id": "2fe7d4c7ca9cf85f94096cc4c7e1315a57fdccea",
            "original_line": 619,
            "original_position": 5,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/client.lua",
            "position": 1,
            "pull_request_review_id": 3653032396,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2684161919/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-01-12T22:49:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2684161919",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2684174137"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2684174137"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "my mistake, i read the diff for the change i made, i thought you _wanted_ the underscore. fixed",
            "commit_id": "2fe7d4c7ca9cf85f94096cc4c7e1315a57fdccea",
            "created_at": "2026-01-12T22:55:41Z",
            "diff_hunk": "@@ -616,19 +616,17 @@ end\n function Client:_process_static_registrations()\n   local static_registrations = {} ---@type lsp.Registration[]\n \n-  for method, capability in pairs(lsp.protocol._request_name_to_server_capability) do\n+  for method, _ in pairs(lsp.protocol._method_supports_static_registration) do",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2684174137",
            "id": 2684174137,
            "in_reply_to_id": 2673606569,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6f_T85",
            "original_commit_id": "2fe7d4c7ca9cf85f94096cc4c7e1315a57fdccea",
            "original_line": 619,
            "original_position": 5,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/client.lua",
            "position": 1,
            "pull_request_review_id": 3653046181,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2684174137/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-01-12T22:56:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2684174137",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/18444302?v=4",
                "events_url": "https://api.github.com/users/tris203/events{/privacy}",
                "followers_url": "https://api.github.com/users/tris203/followers",
                "following_url": "https://api.github.com/users/tris203/following{/other_user}",
                "gists_url": "https://api.github.com/users/tris203/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/tris203",
                "id": 18444302,
                "login": "tris203",
                "node_id": "MDQ6VXNlcjE4NDQ0MzAy",
                "organizations_url": "https://api.github.com/users/tris203/orgs",
                "received_events_url": "https://api.github.com/users/tris203/received_events",
                "repos_url": "https://api.github.com/users/tris203/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/tris203/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tris203/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/tris203",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2759482541"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759482541"
                }
            },
            "author_association": "MEMBER",
            "body": "add a TODO comment with that URL?",
            "commit_id": "ec19342e34253264f67f852b191e7b4895ae19b2",
            "created_at": "2026-02-03T14:51:05Z",
            "diff_hunk": "@@ -280,25 +286,65 @@ local function write_to_vim_protocol(protocol)\n       )\n     end\n \n+    --- workspace/didChangeWatchedFiles has no server capability but we need to map it for\n+    --- registration\n+    output[#output + 1] = (\"  ['%s'] = { '%s' },\"):format(\n+      'workspace/didChangeWatchedFiles',\n+      'workspace/didChangeWatchedFiles'\n+    )\n+\n     output[#output + 1] = '}'\n     output[#output + 1] = '-- stylua: ignore end'\n \n     vim.list_extend(output, {\n       '',\n       '-- stylua: ignore start',\n       '-- Generated by gen_lsp.lua, keep at end of file.',\n-      '--- Maps method names to the required client capability',\n-      'protocol._request_name_allows_registration = {',\n+      'protocol._method_supports_dynamic_registration = {',\n     })\n \n+    --- These methods have no registrationOptions but can still be registered\n+    local methods_with_no_registration_options = {\n+      ['workspace/didChangeWorkspaceFolders'] = true,\n+    }",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2759482541",
            "id": 2759482541,
            "in_reply_to_id": 2670654938,
            "line": 323,
            "node_id": "PRRC_kwDOAPphoM6kelyt",
            "original_commit_id": "1853f17fa515d39437bb99960337f278dda39d38",
            "original_line": 309,
            "original_position": 51,
            "original_start_line": 306,
            "path": "src/gen/gen_lsp.lua",
            "position": 71,
            "pull_request_review_id": 3745745126,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759482541/reactions"
            },
            "side": "RIGHT",
            "start_line": 319,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-03T14:51:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759482541",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2759718909"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759718909"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "It seems the original tracking method was more appropriate? Many method names are left here as keys, yet it is called `provider_to_client_registration.`",
            "commit_id": "ec19342e34253264f67f852b191e7b4895ae19b2",
            "created_at": "2026-02-03T15:43:11Z",
            "diff_hunk": "@@ -1157,79 +1166,48 @@ protocol.Methods = {\n -- stylua: ignore start\n -- Generated by gen_lsp.lua, keep at end of file.\n --- Maps method names to the required client capability\n-protocol._request_name_to_client_capability = {\n-  ['codeAction/resolve'] = { 'textDocument', 'codeAction', 'resolveSupport' },\n-  ['codeLens/resolve'] = { 'textDocument', 'codeLens', 'resolveSupport' },\n-  ['completionItem/resolve'] = { 'textDocument', 'completion', 'completionItem', 'resolveSupport' },\n-  ['documentLink/resolve'] = { 'textDocument', 'documentLink' },\n-  ['inlayHint/resolve'] = { 'textDocument', 'inlayHint', 'resolveSupport' },\n-  ['textDocument/codeAction'] = { 'textDocument', 'codeAction' },\n-  ['textDocument/codeLens'] = { 'textDocument', 'codeLens' },\n-  ['textDocument/colorPresentation'] = { 'textDocument', 'colorProvider' },\n-  ['textDocument/completion'] = { 'textDocument', 'completion' },\n-  ['textDocument/declaration'] = { 'textDocument', 'declaration' },\n-  ['textDocument/definition'] = { 'textDocument', 'definition' },\n-  ['textDocument/diagnostic'] = { 'textDocument', 'diagnostic' },\n-  ['textDocument/didChange'] = { 'textDocument', 'synchronization' },\n-  ['textDocument/didClose'] = { 'textDocument', 'synchronization' },\n-  ['textDocument/didOpen'] = { 'textDocument', 'synchronization' },\n-  ['textDocument/didSave'] = { 'textDocument', 'synchronization', 'didSave' },\n-  ['textDocument/documentColor'] = { 'textDocument', 'colorProvider' },\n-  ['textDocument/documentHighlight'] = { 'textDocument', 'documentHighlight' },\n-  ['textDocument/documentLink'] = { 'textDocument', 'documentLink' },\n-  ['textDocument/documentSymbol'] = { 'textDocument', 'documentSymbol' },\n-  ['textDocument/foldingRange'] = { 'textDocument', 'foldingRange' },\n-  ['textDocument/formatting'] = { 'textDocument', 'formatting' },\n-  ['textDocument/hover'] = { 'textDocument', 'hover' },\n-  ['textDocument/implementation'] = { 'textDocument', 'implementation' },\n-  ['textDocument/inlayHint'] = { 'textDocument', 'inlayHint' },\n-  ['textDocument/inlineCompletion'] = { 'textDocument', 'inlineCompletion' },\n-  ['textDocument/inlineValue'] = { 'textDocument', 'inlineValue' },\n-  ['textDocument/linkedEditingRange'] = { 'textDocument', 'linkedEditingRange' },\n-  ['textDocument/moniker'] = { 'textDocument', 'moniker' },\n-  ['textDocument/onTypeFormatting'] = { 'textDocument', 'onTypeFormatting' },\n-  ['textDocument/prepareCallHierarchy'] = { 'textDocument', 'callHierarchy' },\n-  ['textDocument/prepareRename'] = { 'textDocument', 'rename', 'prepareSupport' },\n-  ['textDocument/prepareTypeHierarchy'] = { 'textDocument', 'typeHierarchy' },\n-  ['textDocument/publishDiagnostics'] = { 'textDocument', 'publishDiagnostics' },\n-  ['textDocument/rangeFormatting'] = { 'textDocument', 'rangeFormatting' },\n-  ['textDocument/rangesFormatting'] = { 'textDocument', 'rangeFormatting', 'rangesSupport' },\n-  ['textDocument/references'] = { 'textDocument', 'references' },\n-  ['textDocument/rename'] = { 'textDocument', 'rename' },\n-  ['textDocument/selectionRange'] = { 'textDocument', 'selectionRange' },\n-  ['textDocument/semanticTokens/full'] = { 'textDocument', 'semanticTokens' },\n-  ['textDocument/semanticTokens/full/delta'] = { 'textDocument', 'semanticTokens', 'requests', 'full', 'delta' },\n-  ['textDocument/semanticTokens/range'] = { 'textDocument', 'semanticTokens', 'requests', 'range' },\n-  ['textDocument/signatureHelp'] = { 'textDocument', 'signatureHelp' },\n-  ['textDocument/typeDefinition'] = { 'textDocument', 'typeDefinition' },\n-  ['textDocument/willSave'] = { 'textDocument', 'synchronization', 'willSave' },\n-  ['textDocument/willSaveWaitUntil'] = { 'textDocument', 'synchronization', 'willSaveWaitUntil' },\n-  ['window/showDocument'] = { 'window', 'showDocument', 'support' },\n-  ['window/showMessage'] = { 'window', 'showMessage' },\n-  ['window/showMessageRequest'] = { 'window', 'showMessage' },\n-  ['window/workDoneProgress/create'] = { 'window', 'workDoneProgress' },\n-  ['workspaceSymbol/resolve'] = { 'workspace', 'symbol', 'resolveSupport' },\n-  ['workspace/applyEdit'] = { 'workspace', 'applyEdit' },\n-  ['workspace/codeLens/refresh'] = { 'workspace', 'codeLens' },\n-  ['workspace/configuration'] = { 'workspace', 'configuration' },\n-  ['workspace/diagnostic'] = { 'workspace', 'diagnostics' },\n-  ['workspace/diagnostic/refresh'] = { 'workspace', 'diagnostics', 'refreshSupport' },\n+protocol._provider_to_client_registration = {\n+  ['codeActionProvider'] = { 'textDocument', 'codeAction' },\n+  ['codeLensProvider'] = { 'textDocument', 'codeLens' },\n+  ['colorProvider'] = { 'textDocument', 'colorProvider' },\n+  ['completionProvider'] = { 'textDocument', 'completion' },\n+  ['declarationProvider'] = { 'textDocument', 'declaration' },\n+  ['definitionProvider'] = { 'textDocument', 'definition' },\n+  ['diagnosticProvider'] = { 'textDocument', 'diagnostic' },\n+  ['textDocumentSync'] = { 'textDocument', 'synchronization' },\n+  ['documentHighlightProvider'] = { 'textDocument', 'documentHighlight' },\n+  ['documentLinkProvider'] = { 'textDocument', 'documentLink' },\n+  ['documentSymbolProvider'] = { 'textDocument', 'documentSymbol' },\n+  ['foldingRangeProvider'] = { 'textDocument', 'foldingRange' },\n+  ['documentFormattingProvider'] = { 'textDocument', 'formatting' },\n+  ['hoverProvider'] = { 'textDocument', 'hover' },\n+  ['implementationProvider'] = { 'textDocument', 'implementation' },\n+  ['inlayHintProvider'] = { 'textDocument', 'inlayHint' },\n+  ['inlineCompletionProvider'] = { 'textDocument', 'inlineCompletion' },\n+  ['inlineValueProvider'] = { 'textDocument', 'inlineValue' },\n+  ['linkedEditingRangeProvider'] = { 'textDocument', 'linkedEditingRange' },\n+  ['monikerProvider'] = { 'textDocument', 'moniker' },\n+  ['documentOnTypeFormattingProvider'] = { 'textDocument', 'onTypeFormatting' },\n+  ['callHierarchyProvider'] = { 'textDocument', 'callHierarchy' },\n+  ['typeHierarchyProvider'] = { 'textDocument', 'typeHierarchy' },\n+  ['documentRangeFormattingProvider'] = { 'textDocument', 'rangeFormatting' },\n+  ['referencesProvider'] = { 'textDocument', 'references' },\n+  ['renameProvider'] = { 'textDocument', 'rename' },\n+  ['selectionRangeProvider'] = { 'textDocument', 'selectionRange' },\n+  ['semanticTokensProvider'] = { 'textDocument', 'semanticTokens' },\n+  ['signatureHelpProvider'] = { 'textDocument', 'signatureHelp' },\n+  ['typeDefinitionProvider'] = { 'textDocument', 'typeDefinition' },\n   ['workspace/didChangeConfiguration'] = { 'workspace', 'didChangeConfiguration' },\n   ['workspace/didChangeWatchedFiles'] = { 'workspace', 'didChangeWatchedFiles' },\n   ['workspace/didCreateFiles'] = { 'workspace', 'fileOperations', 'didCreate' },\n   ['workspace/didDeleteFiles'] = { 'workspace', 'fileOperations', 'didDelete' },\n   ['workspace/didRenameFiles'] = { 'workspace', 'fileOperations', 'didRename' },",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2759718909",
            "id": 2759718909,
            "line": 1209,
            "node_id": "PRRC_kwDOAPphoM6kfff9",
            "original_commit_id": "91a6fd0648786fe33aba576f3f7eec11170bd7eb",
            "original_line": 1204,
            "original_position": 112,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/protocol.lua",
            "position": 114,
            "pull_request_review_id": 3746024933,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759718909/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-03T15:54:47Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2759718909",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/61115159?v=4",
                "events_url": "https://api.github.com/users/ofseed/events{/privacy}",
                "followers_url": "https://api.github.com/users/ofseed/followers",
                "following_url": "https://api.github.com/users/ofseed/following{/other_user}",
                "gists_url": "https://api.github.com/users/ofseed/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ofseed",
                "id": 61115159,
                "login": "ofseed",
                "node_id": "MDQ6VXNlcjYxMTE1MTU5",
                "organizations_url": "https://api.github.com/users/ofseed/orgs",
                "received_events_url": "https://api.github.com/users/ofseed/received_events",
                "repos_url": "https://api.github.com/users/ofseed/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ofseed/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ofseed/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ofseed",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2787609259"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2787609259"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\n    --- These methods have no registrationOptions but can still be registered\n    --- TODO: remove if resolved upstream: https://github.com/microsoft/language-server-protocol/issues/2218\n```",
            "commit_id": "ec19342e34253264f67f852b191e7b4895ae19b2",
            "created_at": "2026-02-10T12:13:51Z",
            "diff_hunk": "@@ -280,25 +286,72 @@ local function write_to_vim_protocol(protocol)\n       )\n     end\n \n+    --- workspace/didChangeWatchedFiles has no server capability but we need to map it for\n+    --- registration\n+    output[#output + 1] = (\"  ['%s'] = { '%s' },\"):format(\n+      'workspace/didChangeWatchedFiles',\n+      'workspace/didChangeWatchedFiles'\n+    )\n+\n     output[#output + 1] = '}'\n     output[#output + 1] = '-- stylua: ignore end'\n \n     vim.list_extend(output, {\n       '',\n       '-- stylua: ignore start',\n       '-- Generated by gen_lsp.lua, keep at end of file.',\n-      '--- Maps method names to the required client capability',\n-      'protocol._request_name_allows_registration = {',\n+      'protocol._method_supports_dynamic_registration = {',\n     })\n \n+    --- These methods have no registrationOptions but can still be registered",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2787609259",
            "id": 2787609259,
            "line": 319,
            "node_id": "PRRC_kwDOAPphoM6mJ4qr",
            "original_commit_id": "2011354658678dea8fdf6db112835ab0f5253c3b",
            "original_line": 306,
            "original_position": 48,
            "original_start_line": null,
            "path": "src/gen/gen_lsp.lua",
            "position": 67,
            "pull_request_review_id": 3778586983,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2787609259/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-10T12:13:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2787609259",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2787681068"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2787681068"
                }
            },
            "author_association": "MEMBER",
            "body": "1 or 2 concrete examples ?",
            "commit_id": "2011354658678dea8fdf6db112835ab0f5253c3b",
            "created_at": "2026-02-10T12:30:16Z",
            "diff_hunk": "@@ -1226,6 +1230,36 @@ function Client:supports_method(method, bufnr)\n   return required_capability == nil\n end\n \n+--- Gets a capability value from the server, checking first static registrations, then dynamic ones.",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2787681068",
            "id": 2787681068,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6mKKMs",
            "original_commit_id": "2011354658678dea8fdf6db112835ab0f5253c3b",
            "original_line": 1233,
            "original_position": 73,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/client.lua",
            "position": 1,
            "pull_request_review_id": 3778659327,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2787681068/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-10T12:30:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2787681068",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2787681835"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2787681835"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\n  elseif dynamic_regs then\n```",
            "commit_id": "2011354658678dea8fdf6db112835ab0f5253c3b",
            "created_at": "2026-02-10T12:30:28Z",
            "diff_hunk": "@@ -1226,6 +1230,36 @@ function Client:supports_method(method, bufnr)\n   return required_capability == nil\n end\n \n+--- Gets a capability value from the server, checking first static registrations, then dynamic ones.\n+--- @param method vim.lsp.protocol.Method.ClientToServer | vim.lsp.protocol.Method.Registration LSP method name\n+--- @param ... any Additional keys to index into the capability\n+--- @return lsp.LSPAny[] # The capability value if it exists, empty table if not found\n+function Client:_provider_value_get(method, ...)\n+  local matched_regs = {} --- @type any[]\n+  local provider = self:_registration_provider(method)\n+  local dynamic_regs = self:_get_registrations(provider)\n+  if not provider then\n+    return matched_regs\n+  elseif not dynamic_regs then\n+    -- First check static capabilities\n+    local static_reg = vim.tbl_get(self.server_capabilities, provider)\n+    if static_reg then\n+      matched_regs[1] = vim.tbl_get(static_reg, ...) or vim.NIL\n+    end\n+  else\n+    if dynamic_regs then",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2787681835",
            "id": 2787681835,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6mKKYr",
            "original_commit_id": "2011354658678dea8fdf6db112835ab0f5253c3b",
            "original_line": 1250,
            "original_position": 90,
            "original_start_line": 1249,
            "path": "runtime/lua/vim/lsp/client.lua",
            "position": 1,
            "pull_request_review_id": 3778660241,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2787681835/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-10T12:30:28Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2787681835",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2787702818"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2787702818"
                }
            },
            "author_association": "MEMBER",
            "body": "should these be sorted by key",
            "commit_id": "3a781c6095f7dfc3447133ab8c4b42ded1254a86",
            "created_at": "2026-02-10T12:35:07Z",
            "diff_hunk": "@@ -1160,79 +1169,48 @@ protocol.Methods = {\n -- stylua: ignore start\n -- Generated by gen_lsp.lua, keep at end of file.\n --- Maps method names to the required client capability\n-protocol._request_name_to_client_capability = {\n-  ['codeAction/resolve'] = { 'textDocument', 'codeAction', 'resolveSupport' },\n-  ['codeLens/resolve'] = { 'textDocument', 'codeLens', 'resolveSupport' },\n-  ['completionItem/resolve'] = { 'textDocument', 'completion', 'completionItem', 'resolveSupport' },\n-  ['documentLink/resolve'] = { 'textDocument', 'documentLink' },\n-  ['inlayHint/resolve'] = { 'textDocument', 'inlayHint', 'resolveSupport' },\n-  ['textDocument/codeAction'] = { 'textDocument', 'codeAction' },\n-  ['textDocument/codeLens'] = { 'textDocument', 'codeLens' },\n-  ['textDocument/colorPresentation'] = { 'textDocument', 'colorProvider' },\n-  ['textDocument/completion'] = { 'textDocument', 'completion' },\n-  ['textDocument/declaration'] = { 'textDocument', 'declaration' },\n-  ['textDocument/definition'] = { 'textDocument', 'definition' },\n-  ['textDocument/diagnostic'] = { 'textDocument', 'diagnostic' },\n-  ['textDocument/didChange'] = { 'textDocument', 'synchronization' },\n-  ['textDocument/didClose'] = { 'textDocument', 'synchronization' },\n-  ['textDocument/didOpen'] = { 'textDocument', 'synchronization' },\n-  ['textDocument/didSave'] = { 'textDocument', 'synchronization', 'didSave' },\n-  ['textDocument/documentColor'] = { 'textDocument', 'colorProvider' },\n-  ['textDocument/documentHighlight'] = { 'textDocument', 'documentHighlight' },\n-  ['textDocument/documentLink'] = { 'textDocument', 'documentLink' },\n-  ['textDocument/documentSymbol'] = { 'textDocument', 'documentSymbol' },\n-  ['textDocument/foldingRange'] = { 'textDocument', 'foldingRange' },\n-  ['textDocument/formatting'] = { 'textDocument', 'formatting' },\n-  ['textDocument/hover'] = { 'textDocument', 'hover' },\n-  ['textDocument/implementation'] = { 'textDocument', 'implementation' },\n-  ['textDocument/inlayHint'] = { 'textDocument', 'inlayHint' },\n-  ['textDocument/inlineCompletion'] = { 'textDocument', 'inlineCompletion' },\n-  ['textDocument/inlineValue'] = { 'textDocument', 'inlineValue' },\n-  ['textDocument/linkedEditingRange'] = { 'textDocument', 'linkedEditingRange' },\n-  ['textDocument/moniker'] = { 'textDocument', 'moniker' },\n-  ['textDocument/onTypeFormatting'] = { 'textDocument', 'onTypeFormatting' },\n-  ['textDocument/prepareCallHierarchy'] = { 'textDocument', 'callHierarchy' },\n-  ['textDocument/prepareRename'] = { 'textDocument', 'rename', 'prepareSupport' },\n-  ['textDocument/prepareTypeHierarchy'] = { 'textDocument', 'typeHierarchy' },\n-  ['textDocument/publishDiagnostics'] = { 'textDocument', 'publishDiagnostics' },\n-  ['textDocument/rangeFormatting'] = { 'textDocument', 'rangeFormatting' },\n-  ['textDocument/rangesFormatting'] = { 'textDocument', 'rangeFormatting', 'rangesSupport' },\n-  ['textDocument/references'] = { 'textDocument', 'references' },\n-  ['textDocument/rename'] = { 'textDocument', 'rename' },\n-  ['textDocument/selectionRange'] = { 'textDocument', 'selectionRange' },\n-  ['textDocument/semanticTokens/full'] = { 'textDocument', 'semanticTokens' },\n-  ['textDocument/semanticTokens/full/delta'] = { 'textDocument', 'semanticTokens', 'requests', 'full', 'delta' },\n-  ['textDocument/semanticTokens/range'] = { 'textDocument', 'semanticTokens', 'requests', 'range' },\n-  ['textDocument/signatureHelp'] = { 'textDocument', 'signatureHelp' },\n-  ['textDocument/typeDefinition'] = { 'textDocument', 'typeDefinition' },\n-  ['textDocument/willSave'] = { 'textDocument', 'synchronization', 'willSave' },\n-  ['textDocument/willSaveWaitUntil'] = { 'textDocument', 'synchronization', 'willSaveWaitUntil' },\n-  ['window/showDocument'] = { 'window', 'showDocument', 'support' },\n-  ['window/showMessage'] = { 'window', 'showMessage' },\n-  ['window/showMessageRequest'] = { 'window', 'showMessage' },\n-  ['window/workDoneProgress/create'] = { 'window', 'workDoneProgress' },\n-  ['workspaceSymbol/resolve'] = { 'workspace', 'symbol', 'resolveSupport' },\n-  ['workspace/applyEdit'] = { 'workspace', 'applyEdit' },\n-  ['workspace/codeLens/refresh'] = { 'workspace', 'codeLens' },\n-  ['workspace/configuration'] = { 'workspace', 'configuration' },\n-  ['workspace/diagnostic'] = { 'workspace', 'diagnostics' },\n-  ['workspace/diagnostic/refresh'] = { 'workspace', 'diagnostics', 'refreshSupport' },\n+protocol._provider_to_client_registration = {\n+  ['codeActionProvider'] = { 'textDocument', 'codeAction' },\n+  ['codeLensProvider'] = { 'textDocument', 'codeLens' },\n+  ['colorProvider'] = { 'textDocument', 'colorProvider' },\n+  ['completionProvider'] = { 'textDocument', 'completion' },\n+  ['declarationProvider'] = { 'textDocument', 'declaration' },\n+  ['definitionProvider'] = { 'textDocument', 'definition' },\n+  ['diagnosticProvider'] = { 'textDocument', 'diagnostic' },\n+  ['textDocumentSync'] = { 'textDocument', 'synchronization' },\n+  ['documentHighlightProvider'] = { 'textDocument', 'documentHighlight' },\n+  ['documentLinkProvider'] = { 'textDocument', 'documentLink' },\n+  ['documentSymbolProvider'] = { 'textDocument', 'documentSymbol' },\n+  ['foldingRangeProvider'] = { 'textDocument', 'foldingRange' },\n+  ['documentFormattingProvider'] = { 'textDocument', 'formatting' },\n+  ['hoverProvider'] = { 'textDocument', 'hover' },\n+  ['implementationProvider'] = { 'textDocument', 'implementation' },\n+  ['inlayHintProvider'] = { 'textDocument', 'inlayHint' },\n+  ['inlineCompletionProvider'] = { 'textDocument', 'inlineCompletion' },\n+  ['inlineValueProvider'] = { 'textDocument', 'inlineValue' },\n+  ['linkedEditingRangeProvider'] = { 'textDocument', 'linkedEditingRange' },\n+  ['monikerProvider'] = { 'textDocument', 'moniker' },\n+  ['documentOnTypeFormattingProvider'] = { 'textDocument', 'onTypeFormatting' },\n+  ['callHierarchyProvider'] = { 'textDocument', 'callHierarchy' },\n+  ['typeHierarchyProvider'] = { 'textDocument', 'typeHierarchy' },\n+  ['documentRangeFormattingProvider'] = { 'textDocument', 'rangeFormatting' },",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2787702818",
            "id": 2787702818,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6mKPgi",
            "original_commit_id": "2011354658678dea8fdf6db112835ab0f5253c3b",
            "original_line": 1196,
            "original_position": 101,
            "original_start_line": 1195,
            "path": "runtime/lua/vim/lsp/protocol.lua",
            "position": 1,
            "pull_request_review_id": 3778681694,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2787702818/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-10T12:35:07Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2787702818",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2787708965"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2787708965"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\n      '--- Maps method names to the required client capability',\n      '--- TODO: also has workspace/* items because spec lacks a top-level \"workspaceProvider\"\n```",
            "commit_id": "ec19342e34253264f67f852b191e7b4895ae19b2",
            "created_at": "2026-02-10T12:36:29Z",
            "diff_hunk": "@@ -224,15 +224,21 @@ local function write_to_vim_protocol(protocol)\n       '-- stylua: ignore start',\n       '-- Generated by gen_lsp.lua, keep at end of file.',\n       '--- Maps method names to the required client capability',",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2787708965",
            "id": 2787708965,
            "line": 226,
            "node_id": "PRRC_kwDOAPphoM6mKRAl",
            "original_commit_id": "2011354658678dea8fdf6db112835ab0f5253c3b",
            "original_line": 226,
            "original_position": 3,
            "original_start_line": null,
            "path": "src/gen/gen_lsp.lua",
            "position": 3,
            "pull_request_review_id": 3778687915,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2787708965/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-10T12:36:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2787708965",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2790290054"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2790290054"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "They are currently in the order that they appear in the spec.\r\nI think that is okay, but I am happy to add sorting if you think it would be better",
            "commit_id": "3a781c6095f7dfc3447133ab8c4b42ded1254a86",
            "created_at": "2026-02-10T21:06:20Z",
            "diff_hunk": "@@ -1160,79 +1169,48 @@ protocol.Methods = {\n -- stylua: ignore start\n -- Generated by gen_lsp.lua, keep at end of file.\n --- Maps method names to the required client capability\n-protocol._request_name_to_client_capability = {\n-  ['codeAction/resolve'] = { 'textDocument', 'codeAction', 'resolveSupport' },\n-  ['codeLens/resolve'] = { 'textDocument', 'codeLens', 'resolveSupport' },\n-  ['completionItem/resolve'] = { 'textDocument', 'completion', 'completionItem', 'resolveSupport' },\n-  ['documentLink/resolve'] = { 'textDocument', 'documentLink' },\n-  ['inlayHint/resolve'] = { 'textDocument', 'inlayHint', 'resolveSupport' },\n-  ['textDocument/codeAction'] = { 'textDocument', 'codeAction' },\n-  ['textDocument/codeLens'] = { 'textDocument', 'codeLens' },\n-  ['textDocument/colorPresentation'] = { 'textDocument', 'colorProvider' },\n-  ['textDocument/completion'] = { 'textDocument', 'completion' },\n-  ['textDocument/declaration'] = { 'textDocument', 'declaration' },\n-  ['textDocument/definition'] = { 'textDocument', 'definition' },\n-  ['textDocument/diagnostic'] = { 'textDocument', 'diagnostic' },\n-  ['textDocument/didChange'] = { 'textDocument', 'synchronization' },\n-  ['textDocument/didClose'] = { 'textDocument', 'synchronization' },\n-  ['textDocument/didOpen'] = { 'textDocument', 'synchronization' },\n-  ['textDocument/didSave'] = { 'textDocument', 'synchronization', 'didSave' },\n-  ['textDocument/documentColor'] = { 'textDocument', 'colorProvider' },\n-  ['textDocument/documentHighlight'] = { 'textDocument', 'documentHighlight' },\n-  ['textDocument/documentLink'] = { 'textDocument', 'documentLink' },\n-  ['textDocument/documentSymbol'] = { 'textDocument', 'documentSymbol' },\n-  ['textDocument/foldingRange'] = { 'textDocument', 'foldingRange' },\n-  ['textDocument/formatting'] = { 'textDocument', 'formatting' },\n-  ['textDocument/hover'] = { 'textDocument', 'hover' },\n-  ['textDocument/implementation'] = { 'textDocument', 'implementation' },\n-  ['textDocument/inlayHint'] = { 'textDocument', 'inlayHint' },\n-  ['textDocument/inlineCompletion'] = { 'textDocument', 'inlineCompletion' },\n-  ['textDocument/inlineValue'] = { 'textDocument', 'inlineValue' },\n-  ['textDocument/linkedEditingRange'] = { 'textDocument', 'linkedEditingRange' },\n-  ['textDocument/moniker'] = { 'textDocument', 'moniker' },\n-  ['textDocument/onTypeFormatting'] = { 'textDocument', 'onTypeFormatting' },\n-  ['textDocument/prepareCallHierarchy'] = { 'textDocument', 'callHierarchy' },\n-  ['textDocument/prepareRename'] = { 'textDocument', 'rename', 'prepareSupport' },\n-  ['textDocument/prepareTypeHierarchy'] = { 'textDocument', 'typeHierarchy' },\n-  ['textDocument/publishDiagnostics'] = { 'textDocument', 'publishDiagnostics' },\n-  ['textDocument/rangeFormatting'] = { 'textDocument', 'rangeFormatting' },\n-  ['textDocument/rangesFormatting'] = { 'textDocument', 'rangeFormatting', 'rangesSupport' },\n-  ['textDocument/references'] = { 'textDocument', 'references' },\n-  ['textDocument/rename'] = { 'textDocument', 'rename' },\n-  ['textDocument/selectionRange'] = { 'textDocument', 'selectionRange' },\n-  ['textDocument/semanticTokens/full'] = { 'textDocument', 'semanticTokens' },\n-  ['textDocument/semanticTokens/full/delta'] = { 'textDocument', 'semanticTokens', 'requests', 'full', 'delta' },\n-  ['textDocument/semanticTokens/range'] = { 'textDocument', 'semanticTokens', 'requests', 'range' },\n-  ['textDocument/signatureHelp'] = { 'textDocument', 'signatureHelp' },\n-  ['textDocument/typeDefinition'] = { 'textDocument', 'typeDefinition' },\n-  ['textDocument/willSave'] = { 'textDocument', 'synchronization', 'willSave' },\n-  ['textDocument/willSaveWaitUntil'] = { 'textDocument', 'synchronization', 'willSaveWaitUntil' },\n-  ['window/showDocument'] = { 'window', 'showDocument', 'support' },\n-  ['window/showMessage'] = { 'window', 'showMessage' },\n-  ['window/showMessageRequest'] = { 'window', 'showMessage' },\n-  ['window/workDoneProgress/create'] = { 'window', 'workDoneProgress' },\n-  ['workspaceSymbol/resolve'] = { 'workspace', 'symbol', 'resolveSupport' },\n-  ['workspace/applyEdit'] = { 'workspace', 'applyEdit' },\n-  ['workspace/codeLens/refresh'] = { 'workspace', 'codeLens' },\n-  ['workspace/configuration'] = { 'workspace', 'configuration' },\n-  ['workspace/diagnostic'] = { 'workspace', 'diagnostics' },\n-  ['workspace/diagnostic/refresh'] = { 'workspace', 'diagnostics', 'refreshSupport' },\n+protocol._provider_to_client_registration = {\n+  ['codeActionProvider'] = { 'textDocument', 'codeAction' },\n+  ['codeLensProvider'] = { 'textDocument', 'codeLens' },\n+  ['colorProvider'] = { 'textDocument', 'colorProvider' },\n+  ['completionProvider'] = { 'textDocument', 'completion' },\n+  ['declarationProvider'] = { 'textDocument', 'declaration' },\n+  ['definitionProvider'] = { 'textDocument', 'definition' },\n+  ['diagnosticProvider'] = { 'textDocument', 'diagnostic' },\n+  ['textDocumentSync'] = { 'textDocument', 'synchronization' },\n+  ['documentHighlightProvider'] = { 'textDocument', 'documentHighlight' },\n+  ['documentLinkProvider'] = { 'textDocument', 'documentLink' },\n+  ['documentSymbolProvider'] = { 'textDocument', 'documentSymbol' },\n+  ['foldingRangeProvider'] = { 'textDocument', 'foldingRange' },\n+  ['documentFormattingProvider'] = { 'textDocument', 'formatting' },\n+  ['hoverProvider'] = { 'textDocument', 'hover' },\n+  ['implementationProvider'] = { 'textDocument', 'implementation' },\n+  ['inlayHintProvider'] = { 'textDocument', 'inlayHint' },\n+  ['inlineCompletionProvider'] = { 'textDocument', 'inlineCompletion' },\n+  ['inlineValueProvider'] = { 'textDocument', 'inlineValue' },\n+  ['linkedEditingRangeProvider'] = { 'textDocument', 'linkedEditingRange' },\n+  ['monikerProvider'] = { 'textDocument', 'moniker' },\n+  ['documentOnTypeFormattingProvider'] = { 'textDocument', 'onTypeFormatting' },\n+  ['callHierarchyProvider'] = { 'textDocument', 'callHierarchy' },\n+  ['typeHierarchyProvider'] = { 'textDocument', 'typeHierarchy' },\n+  ['documentRangeFormattingProvider'] = { 'textDocument', 'rangeFormatting' },",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2790290054",
            "id": 2790290054,
            "in_reply_to_id": 2787702818,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6mUHKG",
            "original_commit_id": "2011354658678dea8fdf6db112835ab0f5253c3b",
            "original_line": 1196,
            "original_position": 101,
            "original_start_line": 1195,
            "path": "runtime/lua/vim/lsp/protocol.lua",
            "position": 1,
            "pull_request_review_id": 3781612709,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2790290054/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-10T21:06:20Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2790290054",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/18444302?v=4",
                "events_url": "https://api.github.com/users/tris203/events{/privacy}",
                "followers_url": "https://api.github.com/users/tris203/followers",
                "following_url": "https://api.github.com/users/tris203/following{/other_user}",
                "gists_url": "https://api.github.com/users/tris203/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/tris203",
                "id": 18444302,
                "login": "tris203",
                "node_id": "MDQ6VXNlcjE4NDQ0MzAy",
                "organizations_url": "https://api.github.com/users/tris203/orgs",
                "received_events_url": "https://api.github.com/users/tris203/received_events",
                "repos_url": "https://api.github.com/users/tris203/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/tris203/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tris203/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/tris203",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2792986078"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2792986078"
                }
            },
            "author_association": "MEMBER",
            "body": "sorting will help imo",
            "commit_id": "3a781c6095f7dfc3447133ab8c4b42ded1254a86",
            "created_at": "2026-02-11T12:20:52Z",
            "diff_hunk": "@@ -1160,79 +1169,48 @@ protocol.Methods = {\n -- stylua: ignore start\n -- Generated by gen_lsp.lua, keep at end of file.\n --- Maps method names to the required client capability\n-protocol._request_name_to_client_capability = {\n-  ['codeAction/resolve'] = { 'textDocument', 'codeAction', 'resolveSupport' },\n-  ['codeLens/resolve'] = { 'textDocument', 'codeLens', 'resolveSupport' },\n-  ['completionItem/resolve'] = { 'textDocument', 'completion', 'completionItem', 'resolveSupport' },\n-  ['documentLink/resolve'] = { 'textDocument', 'documentLink' },\n-  ['inlayHint/resolve'] = { 'textDocument', 'inlayHint', 'resolveSupport' },\n-  ['textDocument/codeAction'] = { 'textDocument', 'codeAction' },\n-  ['textDocument/codeLens'] = { 'textDocument', 'codeLens' },\n-  ['textDocument/colorPresentation'] = { 'textDocument', 'colorProvider' },\n-  ['textDocument/completion'] = { 'textDocument', 'completion' },\n-  ['textDocument/declaration'] = { 'textDocument', 'declaration' },\n-  ['textDocument/definition'] = { 'textDocument', 'definition' },\n-  ['textDocument/diagnostic'] = { 'textDocument', 'diagnostic' },\n-  ['textDocument/didChange'] = { 'textDocument', 'synchronization' },\n-  ['textDocument/didClose'] = { 'textDocument', 'synchronization' },\n-  ['textDocument/didOpen'] = { 'textDocument', 'synchronization' },\n-  ['textDocument/didSave'] = { 'textDocument', 'synchronization', 'didSave' },\n-  ['textDocument/documentColor'] = { 'textDocument', 'colorProvider' },\n-  ['textDocument/documentHighlight'] = { 'textDocument', 'documentHighlight' },\n-  ['textDocument/documentLink'] = { 'textDocument', 'documentLink' },\n-  ['textDocument/documentSymbol'] = { 'textDocument', 'documentSymbol' },\n-  ['textDocument/foldingRange'] = { 'textDocument', 'foldingRange' },\n-  ['textDocument/formatting'] = { 'textDocument', 'formatting' },\n-  ['textDocument/hover'] = { 'textDocument', 'hover' },\n-  ['textDocument/implementation'] = { 'textDocument', 'implementation' },\n-  ['textDocument/inlayHint'] = { 'textDocument', 'inlayHint' },\n-  ['textDocument/inlineCompletion'] = { 'textDocument', 'inlineCompletion' },\n-  ['textDocument/inlineValue'] = { 'textDocument', 'inlineValue' },\n-  ['textDocument/linkedEditingRange'] = { 'textDocument', 'linkedEditingRange' },\n-  ['textDocument/moniker'] = { 'textDocument', 'moniker' },\n-  ['textDocument/onTypeFormatting'] = { 'textDocument', 'onTypeFormatting' },\n-  ['textDocument/prepareCallHierarchy'] = { 'textDocument', 'callHierarchy' },\n-  ['textDocument/prepareRename'] = { 'textDocument', 'rename', 'prepareSupport' },\n-  ['textDocument/prepareTypeHierarchy'] = { 'textDocument', 'typeHierarchy' },\n-  ['textDocument/publishDiagnostics'] = { 'textDocument', 'publishDiagnostics' },\n-  ['textDocument/rangeFormatting'] = { 'textDocument', 'rangeFormatting' },\n-  ['textDocument/rangesFormatting'] = { 'textDocument', 'rangeFormatting', 'rangesSupport' },\n-  ['textDocument/references'] = { 'textDocument', 'references' },\n-  ['textDocument/rename'] = { 'textDocument', 'rename' },\n-  ['textDocument/selectionRange'] = { 'textDocument', 'selectionRange' },\n-  ['textDocument/semanticTokens/full'] = { 'textDocument', 'semanticTokens' },\n-  ['textDocument/semanticTokens/full/delta'] = { 'textDocument', 'semanticTokens', 'requests', 'full', 'delta' },\n-  ['textDocument/semanticTokens/range'] = { 'textDocument', 'semanticTokens', 'requests', 'range' },\n-  ['textDocument/signatureHelp'] = { 'textDocument', 'signatureHelp' },\n-  ['textDocument/typeDefinition'] = { 'textDocument', 'typeDefinition' },\n-  ['textDocument/willSave'] = { 'textDocument', 'synchronization', 'willSave' },\n-  ['textDocument/willSaveWaitUntil'] = { 'textDocument', 'synchronization', 'willSaveWaitUntil' },\n-  ['window/showDocument'] = { 'window', 'showDocument', 'support' },\n-  ['window/showMessage'] = { 'window', 'showMessage' },\n-  ['window/showMessageRequest'] = { 'window', 'showMessage' },\n-  ['window/workDoneProgress/create'] = { 'window', 'workDoneProgress' },\n-  ['workspaceSymbol/resolve'] = { 'workspace', 'symbol', 'resolveSupport' },\n-  ['workspace/applyEdit'] = { 'workspace', 'applyEdit' },\n-  ['workspace/codeLens/refresh'] = { 'workspace', 'codeLens' },\n-  ['workspace/configuration'] = { 'workspace', 'configuration' },\n-  ['workspace/diagnostic'] = { 'workspace', 'diagnostics' },\n-  ['workspace/diagnostic/refresh'] = { 'workspace', 'diagnostics', 'refreshSupport' },\n+protocol._provider_to_client_registration = {\n+  ['codeActionProvider'] = { 'textDocument', 'codeAction' },\n+  ['codeLensProvider'] = { 'textDocument', 'codeLens' },\n+  ['colorProvider'] = { 'textDocument', 'colorProvider' },\n+  ['completionProvider'] = { 'textDocument', 'completion' },\n+  ['declarationProvider'] = { 'textDocument', 'declaration' },\n+  ['definitionProvider'] = { 'textDocument', 'definition' },\n+  ['diagnosticProvider'] = { 'textDocument', 'diagnostic' },\n+  ['textDocumentSync'] = { 'textDocument', 'synchronization' },\n+  ['documentHighlightProvider'] = { 'textDocument', 'documentHighlight' },\n+  ['documentLinkProvider'] = { 'textDocument', 'documentLink' },\n+  ['documentSymbolProvider'] = { 'textDocument', 'documentSymbol' },\n+  ['foldingRangeProvider'] = { 'textDocument', 'foldingRange' },\n+  ['documentFormattingProvider'] = { 'textDocument', 'formatting' },\n+  ['hoverProvider'] = { 'textDocument', 'hover' },\n+  ['implementationProvider'] = { 'textDocument', 'implementation' },\n+  ['inlayHintProvider'] = { 'textDocument', 'inlayHint' },\n+  ['inlineCompletionProvider'] = { 'textDocument', 'inlineCompletion' },\n+  ['inlineValueProvider'] = { 'textDocument', 'inlineValue' },\n+  ['linkedEditingRangeProvider'] = { 'textDocument', 'linkedEditingRange' },\n+  ['monikerProvider'] = { 'textDocument', 'moniker' },\n+  ['documentOnTypeFormattingProvider'] = { 'textDocument', 'onTypeFormatting' },\n+  ['callHierarchyProvider'] = { 'textDocument', 'callHierarchy' },\n+  ['typeHierarchyProvider'] = { 'textDocument', 'typeHierarchy' },\n+  ['documentRangeFormattingProvider'] = { 'textDocument', 'rangeFormatting' },",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2792986078",
            "id": 2792986078,
            "in_reply_to_id": 2787702818,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6meZXe",
            "original_commit_id": "2011354658678dea8fdf6db112835ab0f5253c3b",
            "original_line": 1196,
            "original_position": 101,
            "original_start_line": 1195,
            "path": "runtime/lua/vim/lsp/protocol.lua",
            "position": 1,
            "pull_request_review_id": 3784472285,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2792986078/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-11T12:20:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2792986078",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2807602521"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2807602521"
                }
            },
            "author_association": "MEMBER",
            "body": "too verbose. in the next pr can you try to clean this up. and show a concrete example in the docstring",
            "commit_id": "ec19342e34253264f67f852b191e7b4895ae19b2",
            "created_at": "2026-02-14T15:45:55Z",
            "diff_hunk": "@@ -1226,6 +1230,40 @@ function Client:supports_method(method, bufnr)\n   return required_capability == nil\n end\n \n+--- Retrieves all capability values for a given LSP method, handling both static and dynamic registrations.\n+--- This function abstracts over differences between capabilities declared in `server_capabilities`\n+--- and those registered dynamically at runtime, returning all matching capability values.\n+--- It also handles cases where the registration method differs from the calling method by abstracting to the Provider.\n+--- For example, `workspace/diagnostic` uses capabilities registered under `textDocument/diagnostic`.\n+--- This is useful for features like diagnostics and formatting, where servers may register multiple providers\n+--- with different options (such as specific filetypes or document selectors).",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2807602521",
            "id": 2807602521,
            "line": 1239,
            "node_id": "PRRC_kwDOAPphoM6nWJ1Z",
            "original_commit_id": "92a5d91cc78d82b52d238b4c5f205e55c308c4db",
            "original_line": 1239,
            "original_position": 79,
            "original_start_line": 1233,
            "path": "runtime/lua/vim/lsp/client.lua",
            "position": 79,
            "pull_request_review_id": 3801970576,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2807602521/reactions"
            },
            "side": "RIGHT",
            "start_line": 1233,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-14T15:46:13Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2807602521",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2807603974"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2807603974"
                }
            },
            "author_association": "MEMBER",
            "body": "i wonder if this is a good interface:\n\n```suggestion\n    client:_provider_foreach('workspace/diagnostic', 'identifier', function(id)\n      ...\n    end)\n```",
            "commit_id": "ec19342e34253264f67f852b191e7b4895ae19b2",
            "created_at": "2026-02-14T15:47:24Z",
            "diff_hunk": "@@ -532,13 +523,16 @@ function M._workspace_diagnostics(opts)\n   end\n \n   for _, client in ipairs(clients) do\n-    --- @type lsp.WorkspaceDiagnosticParams\n-    local params = {\n-      identifier = vim.tbl_get(client, 'server_capabilities', 'diagnosticProvider', 'identifier'),\n-      previousResultIds = previous_result_ids(client.id),\n-    }\n-\n-    client:request('workspace/diagnostic', params, handler)\n+    local identifiers = client:_provider_value_get('workspace/diagnostic', 'identifier')\n+    for _, id in ipairs(identifiers) do",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2807603974",
            "id": 2807603974,
            "line": 527,
            "node_id": "PRRC_kwDOAPphoM6nWKMG",
            "original_commit_id": "92a5d91cc78d82b52d238b4c5f205e55c308c4db",
            "original_line": 527,
            "original_position": 41,
            "original_start_line": 526,
            "path": "runtime/lua/vim/lsp/diagnostic.lua",
            "position": 41,
            "pull_request_review_id": 3801971720,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2807603974/reactions"
            },
            "side": "RIGHT",
            "start_line": 526,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2026-02-14T15:47:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2807603974",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/37221#discussion_r2807607021"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/37221"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2807607021"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\n```",
            "commit_id": "92a5d91cc78d82b52d238b4c5f205e55c308c4db",
            "created_at": "2026-02-14T15:49:03Z",
            "diff_hunk": "@@ -280,25 +299,74 @@ local function write_to_vim_protocol(protocol)\n       )\n     end\n \n+    --- workspace/didChangeWatchedFiles has no server capability but we need to map it for\n+    --- registration\n+    output[#output + 1] = (\"  ['%s'] = { '%s' },\"):format(\n+      'workspace/didChangeWatchedFiles',\n+      'workspace/didChangeWatchedFiles'\n+    )\n+\n     output[#output + 1] = '}'\n     output[#output + 1] = '-- stylua: ignore end'\n \n     vim.list_extend(output, {\n       '',\n       '-- stylua: ignore start',\n       '-- Generated by gen_lsp.lua, keep at end of file.',\n-      '--- Maps method names to the required client capability',\n-      'protocol._request_name_allows_registration = {',\n+      'protocol._method_supports_dynamic_registration = {',\n     })\n \n+    --- These methods have no registrationOptions but can still be registered\n+    --- TODO: remove if resolved upstream: https://github.com/microsoft/language-server-protocol/issues/2218\n+",
            "html_url": "https://github.com/neovim/neovim/pull/37221#discussion_r2807607021",
            "id": 2807607021,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6nWK7t",
            "original_commit_id": "92a5d91cc78d82b52d238b4c5f205e55c308c4db",
            "original_line": 321,
            "original_position": 69,
            "original_start_line": null,
            "path": "src/gen/gen_lsp.lua",
            "position": 1,
            "pull_request_review_id": 3801974639,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2807607021/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2026-02-14T15:49:03Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2807607021",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "MEMBER",
            "body": "Wondering if @ofseed has comments on this, or just a +1",
            "created_at": "2026-02-03T14:48:57Z",
            "html_url": "https://github.com/neovim/neovim/pull/37221#issuecomment-3841788587",
            "id": 3841788587,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37221",
            "node_id": "IC_kwDOAPphoM7k_Qqr",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3841788587/reactions"
            },
            "updated_at": "2026-02-03T14:48:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3841788587",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> IMHO, this is not an issue because, in the LSP documentation, client and server capabilities are always associated with a method, as are registration options. Therefore, we can map the corresponding client capability, server capability, and registration option (if they exist) to a method name in the code. Even if there are exceptions like `workspace/diagnose`, we can just handle them as special cases (i.e., checking `textDocument/pullDiagnostic` instead of itself in the implementation). \n\nBut that means that it requires deep knowledge of the LSP spec to work on any feature. As you also have to hold in your head that the method your working on (especially with dynamic registration) may need RegistrationOptions from another (seemingly unconnected) method. The method -> provider is what connects these\n\n> I think we should first adhere to the explicit structure in the specification; otherwise, I suspect we will introduce even more edge cases.\n\nConsidering this is all generated from the meta model (with issues opened to unify the edge cases I'd say that's exactly what we're doing?)\n\nThe reason the `workspace/*` methods are still there is because they are slightly different in the spec in that there isn't a workspaceProvider at the top level of the server capabilities are per the rest of the spec I think we can tidy that up in the future\n",
            "created_at": "2026-02-03T18:49:19Z",
            "html_url": "https://github.com/neovim/neovim/pull/37221#issuecomment-3843056056",
            "id": 3843056056,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37221",
            "node_id": "IC_kwDOAPphoM7lEGG4",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3843056056/reactions"
            },
            "updated_at": "2026-02-03T18:49:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3843056056",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/18444302?v=4",
                "events_url": "https://api.github.com/users/tris203/events{/privacy}",
                "followers_url": "https://api.github.com/users/tris203/followers",
                "following_url": "https://api.github.com/users/tris203/following{/other_user}",
                "gists_url": "https://api.github.com/users/tris203/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/tris203",
                "id": 18444302,
                "login": "tris203",
                "node_id": "MDQ6VXNlcjE4NDQ0MzAy",
                "organizations_url": "https://api.github.com/users/tris203/orgs",
                "received_events_url": "https://api.github.com/users/tris203/received_events",
                "repos_url": "https://api.github.com/users/tris203/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/tris203/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tris203/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/tris203",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "What is a key before/after example that shows what is gained here? That will be useful in the commit message. Also could use some more hints in the docstrings where applicable.",
            "created_at": "2026-02-10T12:37:57Z",
            "html_url": "https://github.com/neovim/neovim/pull/37221#issuecomment-3877341875",
            "id": 3877341875,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37221",
            "node_id": "IC_kwDOAPphoM7nG4qz",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3877341875/reactions"
            },
            "updated_at": "2026-02-10T12:37:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3877341875",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> What is a key before/after example that shows what is gained here? That will be useful in the commit message. Also could use some more hints in the docstrings where applicable.\r\n\r\nI have improved the docstring\r\n\r\nThe advantage is three-foid. If we take `textDocument/diagostic`\r\n\r\nBefore:\r\n```lua\r\nlocal identifier = vim.tbl_get(client, 'server_capabilities', 'diagnosticProvider', 'identifier')\r\n-- Returns: single value or nil\r\n```\r\nAfter:\r\n```lua\r\nlocal identifiers = client:_provider_value_get('textDocument/diagnostic', 'identifier')\r\n-- Returns: { \"static-id\", \"dynamic-id-1\", \"dynamic-id-2\" } -- all matching values\r\n```\r\n\r\nKey advantages:\r\n1. Dynamic registration support - The old approach only checked server_capabilities, missing capabilities registered  via `client/registerCapability`. Per LSP spec, servers should only register statically when clients don't support dynamic registration.\r\n2. Multiple registrations - Servers can register the same capability multiple times with different options (e.g., `textDocument/diagnostic` with different documentSelector patterns or workspaceDiagnostics enabled for some but not others). The old approach returned a single value; this returns all matching registrations.\r\n3. Provider-level abstraction - Some capabilities alias to different methods (e.g., `workspace/diagnostic` uses the diagnosticProvider from `textDocument/diagnostic`). This function abstracts to the Provider level, so you query by logical method and get back all relevant capabilities \r\n",
            "created_at": "2026-02-10T21:33:21Z",
            "html_url": "https://github.com/neovim/neovim/pull/37221#issuecomment-3880830585",
            "id": 3880830585,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37221",
            "node_id": "IC_kwDOAPphoM7nUMZ5",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3880830585/reactions"
            },
            "updated_at": "2026-02-11T07:44:24Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3880830585",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/18444302?v=4",
                "events_url": "https://api.github.com/users/tris203/events{/privacy}",
                "followers_url": "https://api.github.com/users/tris203/followers",
                "following_url": "https://api.github.com/users/tris203/following{/other_user}",
                "gists_url": "https://api.github.com/users/tris203/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/tris203",
                "id": 18444302,
                "login": "tris203",
                "node_id": "MDQ6VXNlcjE4NDQ0MzAy",
                "organizations_url": "https://api.github.com/users/tris203/orgs",
                "received_events_url": "https://api.github.com/users/tris203/received_events",
                "repos_url": "https://api.github.com/users/tris203/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/tris203/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tris203/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/tris203",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Thanks, that before/after example definitely looks useful. Presumably `_provider_value_get` can be used in many more places, this is just a first step.\r\n\r\n> Because we will handle the multiple registrations, there will be lots of iterations from the callers, even though often there will just be one item, is there a better API design here?\r\n\r\nDo you mean this:\r\n\r\n```\r\n    local identifiers = client:_provider_value_get('workspace/diagnostic', 'identifier')\r\n    for _, id in ipairs(identifiers) do\r\n```\r\n\r\nI think that's ok. If it gets cumbersome we could consider `client:_foreach_provider_value`.\r\n",
            "created_at": "2026-02-11T12:38:36Z",
            "html_url": "https://github.com/neovim/neovim/pull/37221#issuecomment-3884170933",
            "id": 3884170933,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37221",
            "node_id": "IC_kwDOAPphoM7ng761",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3884170933/reactions"
            },
            "updated_at": "2026-02-11T12:38:36Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3884170933",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> Thanks, that before/after example definitely looks useful. Presumably `_provider_value_get` can be used in many more places, this is just a first step.\r\n> \r\n\r\nYes, we should use this pattern everywhere (most importantly where we support dynamic registration)\r\n\r\n> > Because we will handle the multiple registrations, there will be lots of iterations from the callers, even though often there will just be one item, is there a better API design here?\r\n> \r\n> Do you mean this:\r\n> \r\n> ```\r\n>     local identifiers = client:_provider_value_get('workspace/diagnostic', 'identifier')\r\n>     for _, id in ipairs(identifiers) do\r\n> ```\r\n> \r\n> I think that's ok. If it gets cumbersome we could consider `client:_foreach_provider_value`.\r\n\r\nSounds good to me.\r\n",
            "created_at": "2026-02-14T13:39:05Z",
            "html_url": "https://github.com/neovim/neovim/pull/37221#issuecomment-3901930661",
            "id": 3901930661,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37221",
            "node_id": "IC_kwDOAPphoM7okryl",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3901930661/reactions"
            },
            "updated_at": "2026-02-14T13:58:25Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3901930661",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/18444302?v=4",
                "events_url": "https://api.github.com/users/tris203/events{/privacy}",
                "followers_url": "https://api.github.com/users/tris203/followers",
                "following_url": "https://api.github.com/users/tris203/following{/other_user}",
                "gists_url": "https://api.github.com/users/tris203/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/tris203",
                "id": 18444302,
                "login": "tris203",
                "node_id": "MDQ6VXNlcjE4NDQ0MzAy",
                "organizations_url": "https://api.github.com/users/tris203/orgs",
                "received_events_url": "https://api.github.com/users/tris203/received_events",
                "repos_url": "https://api.github.com/users/tris203/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/tris203/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tris203/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/tris203",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "here we go... [joker.gif]",
            "created_at": "2026-02-14T15:49:49Z",
            "html_url": "https://github.com/neovim/neovim/pull/37221#issuecomment-3902086347",
            "id": 3902086347,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37221",
            "node_id": "IC_kwDOAPphoM7olRzL",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3902086347/reactions"
            },
            "updated_at": "2026-02-14T15:49:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3902086347",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I see you have had a long discussion about this, and I don't understand all the details, but I think this PR introduced a bug with the `workspace/didChangeConfiguration` method.\r\nhttps://github.com/neovim/neovim/issues/37895",
            "created_at": "2026-02-16T10:15:39Z",
            "html_url": "https://github.com/neovim/neovim/pull/37221#issuecomment-3907607134",
            "id": 3907607134,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37221",
            "node_id": "IC_kwDOAPphoM7o6Vpe",
            "performed_via_github_app": null,
            "pin": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3907607134/reactions"
            },
            "updated_at": "2026-02-16T10:15:39Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/3907607134",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3479579?v=4",
                "events_url": "https://api.github.com/users/rsreimer/events{/privacy}",
                "followers_url": "https://api.github.com/users/rsreimer/followers",
                "following_url": "https://api.github.com/users/rsreimer/following{/other_user}",
                "gists_url": "https://api.github.com/users/rsreimer/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rsreimer",
                "id": 3479579,
                "login": "rsreimer",
                "node_id": "MDQ6VXNlcjM0Nzk1Nzk=",
                "organizations_url": "https://api.github.com/users/rsreimer/orgs",
                "received_events_url": "https://api.github.com/users/rsreimer/received_events",
                "repos_url": "https://api.github.com/users/rsreimer/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rsreimer/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rsreimer/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rsreimer",
                "user_view_type": "public"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/37221/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/37221/commits",
    "created_at": "2026-01-03T16:46:52Z",
    "diff_url": "https://github.com/neovim/neovim/pull/37221.diff",
    "draft": false,
    "head": {
        "label": "tris203:dynamic_provider_values",
        "ref": "dynamic_provider_values",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/tris203/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/tris203/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/tris203/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/tris203/neovim/branches{/branch}",
            "clone_url": "https://github.com/tris203/neovim.git",
            "collaborators_url": "https://api.github.com/repos/tris203/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/tris203/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/tris203/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/tris203/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/tris203/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/tris203/neovim/contributors",
            "created_at": "2024-09-01T13:29:52Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/tris203/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/tris203/neovim/downloads",
            "events_url": "https://api.github.com/repos/tris203/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/tris203/neovim/forks",
            "full_name": "tris203/neovim",
            "git_commits_url": "https://api.github.com/repos/tris203/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/tris203/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/tris203/neovim/git/tags{/sha}",
            "git_url": "git://github.com/tris203/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_pull_requests": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/tris203/neovim/hooks",
            "html_url": "https://github.com/tris203/neovim",
            "id": 850679366,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/tris203/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/tris203/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/tris203/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/tris203/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/tris203/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/tris203/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/tris203/neovim/merges",
            "milestones_url": "https://api.github.com/repos/tris203/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "R_kgDOMrRWRg",
            "notifications_url": "https://api.github.com/repos/tris203/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/18444302?v=4",
                "events_url": "https://api.github.com/users/tris203/events{/privacy}",
                "followers_url": "https://api.github.com/users/tris203/followers",
                "following_url": "https://api.github.com/users/tris203/following{/other_user}",
                "gists_url": "https://api.github.com/users/tris203/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/tris203",
                "id": 18444302,
                "login": "tris203",
                "node_id": "MDQ6VXNlcjE4NDQ0MzAy",
                "organizations_url": "https://api.github.com/users/tris203/orgs",
                "received_events_url": "https://api.github.com/users/tris203/received_events",
                "repos_url": "https://api.github.com/users/tris203/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/tris203/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tris203/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/tris203",
                "user_view_type": "public"
            },
            "private": false,
            "pull_request_creation_policy": "all",
            "pulls_url": "https://api.github.com/repos/tris203/neovim/pulls{/number}",
            "pushed_at": "2026-02-16T22:31:48Z",
            "releases_url": "https://api.github.com/repos/tris203/neovim/releases{/id}",
            "size": 363451,
            "ssh_url": "git@github.com:tris203/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/tris203/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/tris203/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/tris203/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/tris203/neovim/subscription",
            "svn_url": "https://github.com/tris203/neovim",
            "tags_url": "https://api.github.com/repos/tris203/neovim/tags",
            "teams_url": "https://api.github.com/repos/tris203/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/tris203/neovim/git/trees{/sha}",
            "updated_at": "2026-02-16T15:36:44Z",
            "url": "https://api.github.com/repos/tris203/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "ec19342e34253264f67f852b191e7b4895ae19b2",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/18444302?v=4",
            "events_url": "https://api.github.com/users/tris203/events{/privacy}",
            "followers_url": "https://api.github.com/users/tris203/followers",
            "following_url": "https://api.github.com/users/tris203/following{/other_user}",
            "gists_url": "https://api.github.com/users/tris203/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/tris203",
            "id": 18444302,
            "login": "tris203",
            "node_id": "MDQ6VXNlcjE4NDQ0MzAy",
            "organizations_url": "https://api.github.com/users/tris203/orgs",
            "received_events_url": "https://api.github.com/users/tris203/received_events",
            "repos_url": "https://api.github.com/users/tris203/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/tris203/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tris203/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/tris203",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/37221",
    "id": 3143671626,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/37221",
    "labels": [
        {
            "color": "C5DEF5",
            "default": false,
            "description": "changes that are not features or bugfixes",
            "id": 106949155,
            "name": "refactor",
            "node_id": "MDU6TGFiZWwxMDY5NDkxNTU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/refactor"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": null,
            "id": 662566370,
            "name": "lsp",
            "node_id": "MDU6TGFiZWw2NjI1NjYzNzA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lsp"
        }
    ],
    "locked": false,
    "merge_commit_sha": "b99cdd08de42804b0ea2448d6f9f4e476b931b80",
    "merged_at": "2026-02-14T15:50:48Z",
    "milestone": null,
    "node_id": "PR_kwDOAPphoM67YJ9K",
    "number": 37221,
    "patch_url": "https://github.com/neovim/neovim/pull/37221.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/37221/comments",
    "state": "closed",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/ec19342e34253264f67f852b191e7b4895ae19b2",
    "title": "refactor(lsp): centralize provider capability resolution",
    "updated_at": "2026-02-16T10:15:39Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/37221",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/18444302?v=4",
        "events_url": "https://api.github.com/users/tris203/events{/privacy}",
        "followers_url": "https://api.github.com/users/tris203/followers",
        "following_url": "https://api.github.com/users/tris203/following{/other_user}",
        "gists_url": "https://api.github.com/users/tris203/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/tris203",
        "id": 18444302,
        "login": "tris203",
        "node_id": "MDQ6VXNlcjE4NDQ0MzAy",
        "organizations_url": "https://api.github.com/users/tris203/orgs",
        "received_events_url": "https://api.github.com/users/tris203/received_events",
        "repos_url": "https://api.github.com/users/tris203/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/tris203/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/tris203/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/tris203",
        "user_view_type": "public"
    }
}