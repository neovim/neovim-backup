{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/31341/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/31341/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/31341"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/31341"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/31341/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/31341"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/63fa9601f131d81d20558a8c9c1e2a0b3021d867"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 5732,
            "forks_count": 5732,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 1845,
            "open_issues_count": 1845,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2024-12-10T00:27:40Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 298178,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 83978,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2024-12-10T01:06:50Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 83978,
            "watchers_count": 83978,
            "web_commit_signoff_required": false
        },
        "sha": "ae93c7f369a174f3d738ab55030de2c9dfc10c57",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim",
            "user_view_type": "public"
        }
    },
    "body": "Now that [`nvim-lspconfig` is no longer using `vim.lsp.start_client`](https://github.com/neovim/nvim-lspconfig/pull/3450), it sounds like we're ready to start eliminating it.\r\n\r\nPrevious discussion can be found in https://github.com/neovim/neovim/pull/28478 (and a bunch of other places, but this is a recent-ish one).",
    "closed_at": "2024-12-04T13:14:47Z",
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31341#discussion_r1864261964"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31341"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864261964"
                }
            },
            "author_association": "MEMBER",
            "body": "I think you could move this above lsp.start() as `local function start_client(config)` ",
            "commit_id": "63fa9601f131d81d20558a8c9c1e2a0b3021d867",
            "created_at": "2024-11-30T13:55:52Z",
            "diff_hunk": "@@ -453,13 +464,14 @@ local function on_client_exit(code, signal, client_id)\n   end)\n end\n \n---- Starts and initializes a client with the given configuration.\n+--- @private\n+--- Creates and initializes a client with the given configuration.\n --- @param config vim.lsp.ClientConfig Configuration for the server.\n --- @return integer? client_id |vim.lsp.get_client_by_id()| Note: client may not be\n ---         fully initialized. Use `on_init` to do any actions once\n ---         the client has been initialized.\n --- @return string? # Error message, if any\n-function lsp.start_client(config)\n+function lsp._create_and_initialize_client(config)",
            "html_url": "https://github.com/neovim/neovim/pull/31341#discussion_r1864261964",
            "id": 1864261964,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5vHmFM",
            "original_commit_id": "cbbdc0f07c19d2f3d13ec62a094bbaae173e2764",
            "original_line": 474,
            "original_position": 67,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": null,
            "pull_request_review_id": 2470908695,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31341",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864261964/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-11-30T13:58:32Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864261964",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/38700?v=4",
                "events_url": "https://api.github.com/users/mfussenegger/events{/privacy}",
                "followers_url": "https://api.github.com/users/mfussenegger/followers",
                "following_url": "https://api.github.com/users/mfussenegger/following{/other_user}",
                "gists_url": "https://api.github.com/users/mfussenegger/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mfussenegger",
                "id": 38700,
                "login": "mfussenegger",
                "node_id": "MDQ6VXNlcjM4NzAw",
                "organizations_url": "https://api.github.com/users/mfussenegger/orgs",
                "received_events_url": "https://api.github.com/users/mfussenegger/received_events",
                "repos_url": "https://api.github.com/users/mfussenegger/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mfussenegger/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mfussenegger/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mfussenegger",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31341#discussion_r1864262735"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31341"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864262735"
                }
            },
            "author_association": "MEMBER",
            "body": "If I read `lsp.start(config, { reuse_client = false })` I'd interpret that to mean \"never re-use a client\" and not make the connection that it influences the buffer attachment.\r\n\r\nI think this should be something like `lsp.start(config, { attach = false })` instead. With the default reuse_client that would either be a no-op or start the client and server.",
            "commit_id": "63fa9601f131d81d20558a8c9c1e2a0b3021d867",
            "created_at": "2024-11-30T13:58:29Z",
            "diff_hunk": "@@ -260,10 +262,19 @@ end\n --- `ftplugin/<filetype_name>.lua` (See |ftplugin-name|)\n ---\n --- @param config vim.lsp.ClientConfig Configuration for the server.\n---- @param opts vim.lsp.start.Opts? Optional keyword arguments\n+--- @param opts vim.lsp.start.Opts? Optional keyword arguments.\n --- @return integer? client_id\n function lsp.start(config, opts)\n   opts = opts or {}\n+\n+  if opts.reuse_client == false then\n+    local client_id, err = lsp._create_and_initialize_client(config)\n+    if err and not opts.silent then\n+      vim.notify(err, vim.log.levels.WARN)\n+    end\n+    return client_id\n+  end\n+",
            "html_url": "https://github.com/neovim/neovim/pull/31341#discussion_r1864262735",
            "id": 1864262735,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5vHmRP",
            "original_commit_id": "cbbdc0f07c19d2f3d13ec62a094bbaae173e2764",
            "original_line": 375,
            "original_position": 41,
            "original_start_line": 269,
            "path": "runtime/lua/vim/lsp.lua",
            "position": null,
            "pull_request_review_id": 2470908695,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31341",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864262735/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2024-11-30T13:58:32Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864262735",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/38700?v=4",
                "events_url": "https://api.github.com/users/mfussenegger/events{/privacy}",
                "followers_url": "https://api.github.com/users/mfussenegger/followers",
                "following_url": "https://api.github.com/users/mfussenegger/following{/other_user}",
                "gists_url": "https://api.github.com/users/mfussenegger/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mfussenegger",
                "id": 38700,
                "login": "mfussenegger",
                "node_id": "MDQ6VXNlcjM4NzAw",
                "organizations_url": "https://api.github.com/users/mfussenegger/orgs",
                "received_events_url": "https://api.github.com/users/mfussenegger/received_events",
                "repos_url": "https://api.github.com/users/mfussenegger/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mfussenegger/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mfussenegger/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mfussenegger",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31341#discussion_r1864263173"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31341"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864263173"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n  vim.deprecate('vim.lsp.start_client()', 'vim.lsp.start()', '0.13')\r\n```\r\n\r\nSo that users have the full 0.11 - 0.12 cycle to switch to `lsp.start`, otherwise they'd need to add compat logic and check `vim.fn.has(nvim-0.11)` (and merging this would lead to warnings for users running master until plugins have done that)",
            "commit_id": "63fa9601f131d81d20558a8c9c1e2a0b3021d867",
            "created_at": "2024-11-30T14:00:00Z",
            "diff_hunk": "@@ -477,6 +489,18 @@ function lsp.start_client(config)\n   return client.id, nil\n end\n \n+--- @deprecated\n+--- Starts and initializes a client with the given configuration.\n+--- @param config vim.lsp.ClientConfig Configuration for the server.\n+--- @return integer? client_id |vim.lsp.get_client_by_id()| Note: client may not be\n+---         fully initialized. Use `on_init` to do any actions once\n+---         the client has been initialized.\n+--- @return string? # Error message, if any\n+function lsp.start_client(config)\n+  vim.deprecate('vim.lsp.start_client()', 'vim.lsp.start()', '0.12')",
            "html_url": "https://github.com/neovim/neovim/pull/31341#discussion_r1864263173",
            "id": 1864263173,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5vHmYF",
            "original_commit_id": "cbbdc0f07c19d2f3d13ec62a094bbaae173e2764",
            "original_line": 501,
            "original_position": 83,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": null,
            "pull_request_review_id": 2470909281,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31341",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864263173/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-11-30T15:09:03Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864263173",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/38700?v=4",
                "events_url": "https://api.github.com/users/mfussenegger/events{/privacy}",
                "followers_url": "https://api.github.com/users/mfussenegger/followers",
                "following_url": "https://api.github.com/users/mfussenegger/following{/other_user}",
                "gists_url": "https://api.github.com/users/mfussenegger/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mfussenegger",
                "id": 38700,
                "login": "mfussenegger",
                "node_id": "MDQ6VXNlcjM4NzAw",
                "organizations_url": "https://api.github.com/users/mfussenegger/orgs",
                "received_events_url": "https://api.github.com/users/mfussenegger/received_events",
                "repos_url": "https://api.github.com/users/mfussenegger/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mfussenegger/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mfussenegger/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mfussenegger",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31341#discussion_r1864269433"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31341"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864269433"
                }
            },
            "author_association": "MEMBER",
            "body": "And just to note these numbers aren't strict versions in which things will be removed. Just a minimum version.",
            "commit_id": "63fa9601f131d81d20558a8c9c1e2a0b3021d867",
            "created_at": "2024-11-30T14:25:10Z",
            "diff_hunk": "@@ -477,6 +489,18 @@ function lsp.start_client(config)\n   return client.id, nil\n end\n \n+--- @deprecated\n+--- Starts and initializes a client with the given configuration.\n+--- @param config vim.lsp.ClientConfig Configuration for the server.\n+--- @return integer? client_id |vim.lsp.get_client_by_id()| Note: client may not be\n+---         fully initialized. Use `on_init` to do any actions once\n+---         the client has been initialized.\n+--- @return string? # Error message, if any\n+function lsp.start_client(config)\n+  vim.deprecate('vim.lsp.start_client()', 'vim.lsp.start()', '0.12')",
            "html_url": "https://github.com/neovim/neovim/pull/31341#discussion_r1864269433",
            "id": 1864269433,
            "in_reply_to_id": 1864263173,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5vHn55",
            "original_commit_id": "cbbdc0f07c19d2f3d13ec62a094bbaae173e2764",
            "original_line": 501,
            "original_position": 83,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": null,
            "pull_request_review_id": 2470913890,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31341",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864269433/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-11-30T14:25:10Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864269433",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31341#discussion_r1864426356"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31341"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864426356"
                }
            },
            "author_association": "MEMBER",
            "body": "Hmm good point.",
            "commit_id": "63fa9601f131d81d20558a8c9c1e2a0b3021d867",
            "created_at": "2024-11-30T18:26:42Z",
            "diff_hunk": "@@ -260,10 +262,19 @@ end\n --- `ftplugin/<filetype_name>.lua` (See |ftplugin-name|)\n ---\n --- @param config vim.lsp.ClientConfig Configuration for the server.\n---- @param opts vim.lsp.start.Opts? Optional keyword arguments\n+--- @param opts vim.lsp.start.Opts? Optional keyword arguments.\n --- @return integer? client_id\n function lsp.start(config, opts)\n   opts = opts or {}\n+\n+  if opts.reuse_client == false then\n+    local client_id, err = lsp._create_and_initialize_client(config)\n+    if err and not opts.silent then\n+      vim.notify(err, vim.log.levels.WARN)\n+    end\n+    return client_id\n+  end\n+",
            "html_url": "https://github.com/neovim/neovim/pull/31341#discussion_r1864426356",
            "id": 1864426356,
            "in_reply_to_id": 1864262735,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5vION0",
            "original_commit_id": "cbbdc0f07c19d2f3d13ec62a094bbaae173e2764",
            "original_line": 375,
            "original_position": 41,
            "original_start_line": 269,
            "path": "runtime/lua/vim/lsp.lua",
            "position": null,
            "pull_request_review_id": 2471034613,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31341",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864426356/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2024-11-30T18:26:42Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864426356",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31341#discussion_r1864429311"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31341"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864429311"
                }
            },
            "author_association": "MEMBER",
            "body": "Sorry for the large reordering diff here. Needed to move stuff around to make `create_and_initialize_client` a local function. `reset_defaults` and `on_client_exit` haven't been modified.",
            "commit_id": "63fa9601f131d81d20558a8c9c1e2a0b3021d867",
            "created_at": "2024-11-30T18:39:20Z",
            "diff_hunk": "@@ -209,17 +209,117 @@ local function reuse_client_default(client, config)\n   return false\n end\n \n+--- Reset defaults set by `set_defaults`.\n+--- Must only be called if the last client attached to a buffer exits.\n+local function reset_defaults(bufnr)",
            "html_url": "https://github.com/neovim/neovim/pull/31341#discussion_r1864429311",
            "id": 1864429311,
            "line": 214,
            "node_id": "PRRC_kwDOAPphoM5vIO7_",
            "original_commit_id": "ab76e5a3c608ddaa17ae0159a451d07910e0daa7",
            "original_line": 214,
            "original_position": 6,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": 6,
            "pull_request_review_id": 2471035921,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31341",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864429311/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-11-30T18:39:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864429311",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31341#discussion_r1866654906"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31341"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1866654906"
                }
            },
            "author_association": "MEMBER",
            "body": "backticks seem worthwhile here\r\n```suggestion\r\n                              user-defined functions. Commands passed to `start()`\r\n```",
            "commit_id": "63fa9601f131d81d20558a8c9c1e2a0b3021d867",
            "created_at": "2024-12-02T21:34:47Z",
            "diff_hunk": "@@ -1048,11 +1036,11 @@ Lua module: vim.lsp.client                                        *lsp-client*\n                               |vim.lsp.Client|.\n       â€¢ {commands}?           (`table<string,fun(command: lsp.Command, ctx: table)>`)\n                               Table that maps string of clientside commands to\n-                              user-defined functions. Commands passed to\n-                              start_client take precedence over the global\n-                              command registry. Each key must be a unique\n-                              command name, and the value is a function which\n-                              is called if any LSP action (code action, code\n+                              user-defined functions. Commands passed to start",
            "html_url": "https://github.com/neovim/neovim/pull/31341#discussion_r1866654906",
            "id": 1866654906,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5vQuS6",
            "original_commit_id": "033fd21bad7b06ed0fbf2e225971b7304d48d974",
            "original_line": 1039,
            "original_position": 72,
            "original_start_line": null,
            "path": "runtime/doc/lsp.txt",
            "position": null,
            "pull_request_review_id": 2473986446,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31341",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1866654906/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-12-02T21:34:48Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1866654906",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31341#discussion_r1866658863"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31341"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1866658863"
                }
            },
            "author_association": "MEMBER",
            "body": "Just for my reference: any reason this couldn't call `start()` ?",
            "commit_id": "63fa9601f131d81d20558a8c9c1e2a0b3021d867",
            "created_at": "2024-12-02T21:38:13Z",
            "diff_hunk": "@@ -381,100 +490,16 @@ function lsp._set_defaults(client, bufnr)\n   end\n end\n \n---- Reset defaults set by `set_defaults`.\n---- Must only be called if the last client attached to a buffer exits.\n-local function reset_defaults(bufnr)\n-  if vim.bo[bufnr].tagfunc == 'v:lua.vim.lsp.tagfunc' then\n-    vim.bo[bufnr].tagfunc = nil\n-  end\n-  if vim.bo[bufnr].omnifunc == 'v:lua.vim.lsp.omnifunc' then\n-    vim.bo[bufnr].omnifunc = nil\n-  end\n-  if vim.bo[bufnr].formatexpr == 'v:lua.vim.lsp.formatexpr()' then\n-    vim.bo[bufnr].formatexpr = nil\n-  end\n-  vim._with({ buf = bufnr }, function()\n-    local keymap = vim.fn.maparg('K', 'n', false, true)\n-    if keymap and keymap.callback == vim.lsp.buf.hover and keymap.buffer == 1 then\n-      vim.keymap.del('n', 'K', { buffer = bufnr })\n-    end\n-  end)\n-end\n-\n---- @param code integer\n---- @param signal integer\n---- @param client_id integer\n-local function on_client_exit(code, signal, client_id)\n-  local client = all_clients[client_id]\n-\n-  vim.schedule(function()\n-    for bufnr in pairs(client.attached_buffers) do\n-      if client and client.attached_buffers[bufnr] and api.nvim_buf_is_valid(bufnr) then\n-        api.nvim_exec_autocmds('LspDetach', {\n-          buffer = bufnr,\n-          modeline = false,\n-          data = { client_id = client_id },\n-        })\n-      end\n-\n-      client.attached_buffers[bufnr] = nil\n-\n-      if #lsp.get_clients({ bufnr = bufnr, _uninitialized = true }) == 0 then\n-        reset_defaults(bufnr)\n-      end\n-    end\n-\n-    local namespace = vim.lsp.diagnostic.get_namespace(client_id)\n-    vim.diagnostic.reset(namespace)\n-  end)\n-\n-  local name = client.name or 'unknown'\n-\n-  -- Schedule the deletion of the client object so that it exists in the execution of LspDetach\n-  -- autocommands\n-  vim.schedule(function()\n-    all_clients[client_id] = nil\n-\n-    -- Client can be absent if executable starts, but initialize fails\n-    -- init/attach won't have happened\n-    if client then\n-      changetracking.reset(client)\n-    end\n-    if code ~= 0 or (signal ~= 0 and signal ~= 15) then\n-      local msg = string.format(\n-        'Client %s quit with exit code %s and signal %s. Check log for errors: %s',\n-        name,\n-        code,\n-        signal,\n-        lsp.get_log_path()\n-      )\n-      vim.notify(msg, vim.log.levels.WARN)\n-    end\n-  end)\n-end\n-\n+--- @deprecated\n --- Starts and initializes a client with the given configuration.\n --- @param config vim.lsp.ClientConfig Configuration for the server.\n --- @return integer? client_id |vim.lsp.get_client_by_id()| Note: client may not be\n ---         fully initialized. Use `on_init` to do any actions once\n ---         the client has been initialized.\n --- @return string? # Error message, if any\n function lsp.start_client(config)\n-  local ok, res = pcall(require('vim.lsp.client').create, config)\n-  if not ok then\n-    return nil, res --[[@as string]]\n-  end\n-\n-  local client = assert(res)\n-\n-  --- @diagnostic disable-next-line: invisible\n-  table.insert(client._on_exit_cbs, on_client_exit)\n-\n-  all_clients[client.id] = client\n-\n-  client:initialize()\n-\n-  return client.id, nil\n+  vim.deprecate('vim.lsp.start_client()', 'vim.lsp.start()', '0.13')\n+  return create_and_initialize_client(config)",
            "html_url": "https://github.com/neovim/neovim/pull/31341#discussion_r1866658863",
            "id": 1866658863,
            "line": 501,
            "node_id": "PRRC_kwDOAPphoM5vQvQv",
            "original_commit_id": "033fd21bad7b06ed0fbf2e225971b7304d48d974",
            "original_line": 501,
            "original_position": 262,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": 272,
            "pull_request_review_id": 2473993096,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31341",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1866658863/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-12-02T21:38:13Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1866658863",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31341#discussion_r1866997344"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31341"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1866997344"
                }
            },
            "author_association": "MEMBER",
            "body": "`create_and_initialize_client` is actually the same as the current `vim.lsp.start_client`, so it's more convenient. Also the return types are different.",
            "commit_id": "63fa9601f131d81d20558a8c9c1e2a0b3021d867",
            "created_at": "2024-12-03T03:51:43Z",
            "diff_hunk": "@@ -381,100 +490,16 @@ function lsp._set_defaults(client, bufnr)\n   end\n end\n \n---- Reset defaults set by `set_defaults`.\n---- Must only be called if the last client attached to a buffer exits.\n-local function reset_defaults(bufnr)\n-  if vim.bo[bufnr].tagfunc == 'v:lua.vim.lsp.tagfunc' then\n-    vim.bo[bufnr].tagfunc = nil\n-  end\n-  if vim.bo[bufnr].omnifunc == 'v:lua.vim.lsp.omnifunc' then\n-    vim.bo[bufnr].omnifunc = nil\n-  end\n-  if vim.bo[bufnr].formatexpr == 'v:lua.vim.lsp.formatexpr()' then\n-    vim.bo[bufnr].formatexpr = nil\n-  end\n-  vim._with({ buf = bufnr }, function()\n-    local keymap = vim.fn.maparg('K', 'n', false, true)\n-    if keymap and keymap.callback == vim.lsp.buf.hover and keymap.buffer == 1 then\n-      vim.keymap.del('n', 'K', { buffer = bufnr })\n-    end\n-  end)\n-end\n-\n---- @param code integer\n---- @param signal integer\n---- @param client_id integer\n-local function on_client_exit(code, signal, client_id)\n-  local client = all_clients[client_id]\n-\n-  vim.schedule(function()\n-    for bufnr in pairs(client.attached_buffers) do\n-      if client and client.attached_buffers[bufnr] and api.nvim_buf_is_valid(bufnr) then\n-        api.nvim_exec_autocmds('LspDetach', {\n-          buffer = bufnr,\n-          modeline = false,\n-          data = { client_id = client_id },\n-        })\n-      end\n-\n-      client.attached_buffers[bufnr] = nil\n-\n-      if #lsp.get_clients({ bufnr = bufnr, _uninitialized = true }) == 0 then\n-        reset_defaults(bufnr)\n-      end\n-    end\n-\n-    local namespace = vim.lsp.diagnostic.get_namespace(client_id)\n-    vim.diagnostic.reset(namespace)\n-  end)\n-\n-  local name = client.name or 'unknown'\n-\n-  -- Schedule the deletion of the client object so that it exists in the execution of LspDetach\n-  -- autocommands\n-  vim.schedule(function()\n-    all_clients[client_id] = nil\n-\n-    -- Client can be absent if executable starts, but initialize fails\n-    -- init/attach won't have happened\n-    if client then\n-      changetracking.reset(client)\n-    end\n-    if code ~= 0 or (signal ~= 0 and signal ~= 15) then\n-      local msg = string.format(\n-        'Client %s quit with exit code %s and signal %s. Check log for errors: %s',\n-        name,\n-        code,\n-        signal,\n-        lsp.get_log_path()\n-      )\n-      vim.notify(msg, vim.log.levels.WARN)\n-    end\n-  end)\n-end\n-\n+--- @deprecated\n --- Starts and initializes a client with the given configuration.\n --- @param config vim.lsp.ClientConfig Configuration for the server.\n --- @return integer? client_id |vim.lsp.get_client_by_id()| Note: client may not be\n ---         fully initialized. Use `on_init` to do any actions once\n ---         the client has been initialized.\n --- @return string? # Error message, if any\n function lsp.start_client(config)\n-  local ok, res = pcall(require('vim.lsp.client').create, config)\n-  if not ok then\n-    return nil, res --[[@as string]]\n-  end\n-\n-  local client = assert(res)\n-\n-  --- @diagnostic disable-next-line: invisible\n-  table.insert(client._on_exit_cbs, on_client_exit)\n-\n-  all_clients[client.id] = client\n-\n-  client:initialize()\n-\n-  return client.id, nil\n+  vim.deprecate('vim.lsp.start_client()', 'vim.lsp.start()', '0.13')\n+  return create_and_initialize_client(config)",
            "html_url": "https://github.com/neovim/neovim/pull/31341#discussion_r1866997344",
            "id": 1866997344,
            "in_reply_to_id": 1866658863,
            "line": 501,
            "node_id": "PRRC_kwDOAPphoM5vSB5g",
            "original_commit_id": "033fd21bad7b06ed0fbf2e225971b7304d48d974",
            "original_line": 501,
            "original_position": 262,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": 272,
            "pull_request_review_id": 2474496246,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31341",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1866997344/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-12-03T03:51:43Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1866997344",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31341#discussion_r1868068546"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31341"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1868068546"
                }
            },
            "author_association": "MEMBER",
            "body": "Thoughts on doing something like this instead:\r\n\r\n```lua\r\nfunction lsp.start(config, opts)\r\n  opts = opts or {}\r\n  local reuse_client = opts.reuse_client or reuse_client_default\r\n  local bufnr = resolve_bufnr(opts.bufnr)\r\n\r\n  for _, client in pairs(all_clients) do\r\n    if reuse_client(client, config) then\r\n      if opts.attach == false then\r\n        return client.id\r\n      end\r\n      if lsp.buf_attach_client(bufnr, client.id) then\r\n        return client.id\r\n      else\r\n        return nil\r\n      end\r\n    end\r\n  end\r\n\r\n  local client_id, err = create_and_initialize_client(config)\r\n  if err then\r\n    if not opts.silent then\r\n      vim.notify(err, vim.log.levels.WARN)\r\n    end\r\n    return nil\r\n  end\r\n\r\n  if opts.attach == false then\r\n    return client_id\r\n  end\r\n  if client_id and lsp.buf_attach_client(bufnr, client_id) then\r\n    return client_id\r\n  end\r\n\r\n  return nil\r\nend\r\n```\r\n\r\nBasically remove the by-pass of `reuse_client` if `attach == false` and instead simply skip the `buf_attach_client` calls.\r\n\r\nIf one wanted to force creation of a new client they'd have to use `lsp.start(config, { reuse_client = function() return false end, attach = false })`, but for the mentioned use-case of restarting a client without attaching it to a possibly wrong buffer the existing `reuse_client_default` would do the right thing - start if it's missing, re-use it if not. So it would still be `vim.lsp.start(config, { attach = false })` for that use-case, but imho with more predictable behavior as it's \"`lsp.start` except without attaching\" instead of `lsp.start` except without attaching or re-using clients\".\r\n",
            "commit_id": "63fa9601f131d81d20558a8c9c1e2a0b3021d867",
            "created_at": "2024-12-03T16:45:30Z",
            "diff_hunk": "@@ -260,10 +360,19 @@ end\n --- `ftplugin/<filetype_name>.lua` (See |ftplugin-name|)\n ---\n --- @param config vim.lsp.ClientConfig Configuration for the server.\n---- @param opts vim.lsp.start.Opts? Optional keyword arguments\n+--- @param opts vim.lsp.start.Opts? Optional keyword arguments.\n --- @return integer? client_id\n function lsp.start(config, opts)\n   opts = opts or {}\n+\n+  if opts.attach == false then\n+    local client_id, err = create_and_initialize_client(config)\n+    if err and not opts.silent then\n+      vim.notify(err, vim.log.levels.WARN)\n+    end\n+    return client_id\n+  end",
            "html_url": "https://github.com/neovim/neovim/pull/31341#discussion_r1868068546",
            "id": 1868068546,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5vWHbC",
            "original_commit_id": "e2aa7076ebc40fa1b6838d34f9c6fd90f28c323c",
            "original_line": 374,
            "original_position": 148,
            "original_start_line": 368,
            "path": "runtime/lua/vim/lsp.lua",
            "position": null,
            "pull_request_review_id": 2476253049,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31341",
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1868068546/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2024-12-03T16:45:31Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1868068546",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/38700?v=4",
                "events_url": "https://api.github.com/users/mfussenegger/events{/privacy}",
                "followers_url": "https://api.github.com/users/mfussenegger/followers",
                "following_url": "https://api.github.com/users/mfussenegger/following{/other_user}",
                "gists_url": "https://api.github.com/users/mfussenegger/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mfussenegger",
                "id": 38700,
                "login": "mfussenegger",
                "node_id": "MDQ6VXNlcjM4NzAw",
                "organizations_url": "https://api.github.com/users/mfussenegger/orgs",
                "received_events_url": "https://api.github.com/users/mfussenegger/received_events",
                "repos_url": "https://api.github.com/users/mfussenegger/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mfussenegger/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mfussenegger/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mfussenegger",
                "user_view_type": "public"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "MEMBER",
            "body": "Updating tests later until I get a thumbs up for this.",
            "created_at": "2024-11-24T23:05:18Z",
            "html_url": "https://github.com/neovim/neovim/pull/31341#issuecomment-2496307450",
            "id": 2496307450,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31341",
            "node_id": "IC_kwDOAPphoM6UyqD6",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2496307450/reactions"
            },
            "updated_at": "2024-11-24T23:05:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2496307450",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Seems reasonable, but I wonder if there are any plugins that currently use this. I could imagine there might be some use cases that require controlling a client separate to any buffer.\n\nEither way, I'll defer the final say to @mfussenegger ",
            "created_at": "2024-11-24T23:15:10Z",
            "html_url": "https://github.com/neovim/neovim/pull/31341#issuecomment-2496314174",
            "id": 2496314174,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31341",
            "node_id": "IC_kwDOAPphoM6Uyrs-",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2496314174/reactions"
            },
            "updated_at": "2024-11-24T23:15:10Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2496314174",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "We can mark it as private/internal, though (underscore) and deprecate the non-underscored version (if we want to consolidate the API).\r\n\r\nAlternatively, given that both have legitimate use cases, it we could improve the documentation of both to make clear what use each is meant for.",
            "created_at": "2024-11-25T11:12:03Z",
            "html_url": "https://github.com/neovim/neovim/pull/31341#issuecomment-2497713719",
            "id": 2497713719,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31341",
            "node_id": "IC_kwDOAPphoM6U4BY3",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2497713719/reactions"
            },
            "updated_at": "2024-11-25T11:12:03Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2497713719",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> But aside from that, I think `start_client` still has its uses because it allows users to do things like eagerly start a client/server without being in a buffer where the client should be attached too.\r\n\r\nCan we make this a flag on `start`? It's awkward to have both, with nearly identical params, yet slightly different.",
            "created_at": "2024-11-25T11:30:07Z",
            "html_url": "https://github.com/neovim/neovim/pull/31341#issuecomment-2497754180",
            "id": 2497754180,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31341",
            "node_id": "IC_kwDOAPphoM6U4LRE",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2497754180/reactions"
            },
            "updated_at": "2024-11-25T11:30:41Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2497754180",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Potentially, the flag would need to force `opts.reuse_client` to be ignored and not use the default value, and, not to attach to `opts.bufnr`. `silent` already covers the remaining block of code. Maybe allowing both `opts.reuse_client` and `opts.bufnr` to be set to `false` covers this?",
            "created_at": "2024-11-25T11:37:49Z",
            "html_url": "https://github.com/neovim/neovim/pull/31341#issuecomment-2497770904",
            "id": 2497770904,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31341",
            "node_id": "IC_kwDOAPphoM6U4PWY",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 1,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2497770904/reactions"
            },
            "updated_at": "2024-11-25T11:37:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2497770904",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Just for the record: From my POV as plugin author we're definitely starting to exceed my personal tolerance for deprecations.",
            "created_at": "2024-11-25T16:15:23Z",
            "html_url": "https://github.com/neovim/neovim/pull/31341#issuecomment-2498455792",
            "id": 2498455792,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31341",
            "node_id": "IC_kwDOAPphoM6U62jw",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2498455792/reactions"
            },
            "updated_at": "2024-11-25T16:15:23Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2498455792",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/38700?v=4",
                "events_url": "https://api.github.com/users/mfussenegger/events{/privacy}",
                "followers_url": "https://api.github.com/users/mfussenegger/followers",
                "following_url": "https://api.github.com/users/mfussenegger/following{/other_user}",
                "gists_url": "https://api.github.com/users/mfussenegger/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mfussenegger",
                "id": 38700,
                "login": "mfussenegger",
                "node_id": "MDQ6VXNlcjM4NzAw",
                "organizations_url": "https://api.github.com/users/mfussenegger/orgs",
                "received_events_url": "https://api.github.com/users/mfussenegger/received_events",
                "repos_url": "https://api.github.com/users/mfussenegger/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mfussenegger/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mfussenegger/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mfussenegger",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I can understand that. At least we can position 0.11 as a big release for LSP. A lot of the depreciations we've done have also been quite soft. If there were any that weren't then we can review softening them further.\n\nAlso, it can be beneficial to do lots of deprecations in one go instead of doing them slowly over several releases. The opposite is probably true for breaking changes.",
            "created_at": "2024-11-25T16:51:27Z",
            "html_url": "https://github.com/neovim/neovim/pull/31341#issuecomment-2498539557",
            "id": 2498539557,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31341",
            "node_id": "IC_kwDOAPphoM6U7LAl",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2498539557/reactions"
            },
            "updated_at": "2024-11-25T16:51:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2498539557",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> A lot of the depreciations we've done have also been quite soft. If there were any that weren't then we can review softening them further.\r\n\r\nFair point and don't get me wrong, I also think that most of what we did so far in 0.11 has been worth it, especially those done by you with the multi-client support and also the client method changes.\r\nBut I'm getting the impression we're now starting to change things which cause work for plugin authors without providing much - if any - value at all.\r\n\r\nI might see this differently if we frequently had(?) issues where people were confused by `start`/`start_client` but as far as I'm aware the fact that `start_client` exists hasn't caused any friction and we need to have the logic anyway since `start` is using it. So I don't really see the cost of keeping it as is.",
            "created_at": "2024-11-25T18:01:06Z",
            "html_url": "https://github.com/neovim/neovim/pull/31341#issuecomment-2498692438",
            "id": 2498692438,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31341",
            "node_id": "IC_kwDOAPphoM6U7wVW",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2498692438/reactions"
            },
            "updated_at": "2024-11-25T18:01:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2498692438",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/38700?v=4",
                "events_url": "https://api.github.com/users/mfussenegger/events{/privacy}",
                "followers_url": "https://api.github.com/users/mfussenegger/followers",
                "following_url": "https://api.github.com/users/mfussenegger/following{/other_user}",
                "gists_url": "https://api.github.com/users/mfussenegger/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mfussenegger",
                "id": 38700,
                "login": "mfussenegger",
                "node_id": "MDQ6VXNlcjM4NzAw",
                "organizations_url": "https://api.github.com/users/mfussenegger/orgs",
                "received_events_url": "https://api.github.com/users/mfussenegger/received_events",
                "repos_url": "https://api.github.com/users/mfussenegger/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mfussenegger/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mfussenegger/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mfussenegger",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Fair point and don't get me wrong, I also think that most of what we did so far in 0.11 has been worth it, especially those done by you with the multi-client support and also the client method changes. But I'm getting the impression we're now starting to change things which cause work for plugin authors without providing much - if any - value at all.\r\n\r\nI don't want this to look as me just throwing a random PR. It was under my impression from other discussions that removing `start_client` (or at least not having it as part of the public API) was an eventual goal. I genuinely consider this a refactor, not good ol' bikeshedding.\r\n\r\n> I might see this differently if we frequently had(?) issues where people were confused by `start`/`start_client` but as far as I'm aware the fact that `start_client` exists hasn't caused any friction and we need to have the logic anyway since `start` is using it. So I don't really see the cost of keeping it as is.\r\n\r\nI do find it confusing though. If one reads the LSP docs it's unclear of when to use `start` versus `start_client`, specially when the former says \"yeah for the parameters of this function just refer to the other function\". \r\n\r\nAlso, as we add extra options to `vim.lsp.start` we might need to duplicate the feature in `vim.lsp.start_client` (causing code duplication) and if we don't add it then we end up with different ways of starting an LSP server, differences which I think are strange from an API and documentation perspective.\r\n\r\nAll that being said if we find this change too painful for it to be worth it then I can close it.",
            "created_at": "2024-11-25T18:48:37Z",
            "html_url": "https://github.com/neovim/neovim/pull/31341#issuecomment-2498787959",
            "id": 2498787959,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31341",
            "node_id": "IC_kwDOAPphoM6U8Hp3",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2498787959/reactions"
            },
            "updated_at": "2024-11-25T18:48:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2498787959",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "FWIW, I find `start_client()` confusing too. It wasn't until the recommendation of `start()` that I was able to migrate away from lspconfig.",
            "created_at": "2024-11-25T23:05:08Z",
            "html_url": "https://github.com/neovim/neovim/pull/31341#issuecomment-2499213044",
            "id": 2499213044,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31341",
            "node_id": "IC_kwDOAPphoM6U9vb0",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2499213044/reactions"
            },
            "updated_at": "2024-11-25T23:05:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2499213044",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> From my POV as plugin author we're definitely starting to exceed my personal tolerance for deprecations.\r\n\r\nWe can have both. start_client is exactly the kind of thing that can live on in a `deprecated.lua` module for \"ABI compat\" while being completely moved out of the way for all other intents and purposes.\r\n\r\nAnd to make the deprecation extra chill, we can drop the '0.12' target if we want.\r\n\r\nSo if that allows this PR to move forward, let's do that. Eliminating start_client and focusing on a single start() interface is the main gain, I don't want to lose that.",
            "created_at": "2024-11-26T15:53:06Z",
            "html_url": "https://github.com/neovim/neovim/pull/31341#issuecomment-2501228134",
            "id": 2501228134,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31341",
            "node_id": "IC_kwDOAPphoM6VFbZm",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2501228134/reactions"
            },
            "updated_at": "2024-11-26T15:53:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2501228134",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Hmmm, test failures look unrelated.\r\n\r\nShould I mention this in `news.txt`? It seems like deprecated features aren't there and instead just listed in `deprecated.txt`.",
            "created_at": "2024-11-30T21:16:56Z",
            "html_url": "https://github.com/neovim/neovim/pull/31341#issuecomment-2509388271",
            "id": 2509388271,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31341",
            "node_id": "IC_kwDOAPphoM6Vkjnv",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2509388271/reactions"
            },
            "updated_at": "2024-11-30T21:16:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2509388271",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> It seems like deprecated features aren't there and instead just listed in `deprecated.txt`\r\n\r\ncorrect",
            "created_at": "2024-12-02T21:30:35Z",
            "html_url": "https://github.com/neovim/neovim/pull/31341#issuecomment-2512931240",
            "id": 2512931240,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31341",
            "node_id": "IC_kwDOAPphoM6VyEmo",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2512931240/reactions"
            },
            "updated_at": "2024-12-02T21:30:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2512931240",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Thank you for this!\r\n\r\nThank you. I actually needed to hear this, I was starting to feel like this refactor wasn't actually desired.",
            "created_at": "2024-12-03T03:52:27Z",
            "html_url": "https://github.com/neovim/neovim/pull/31341#issuecomment-2513490974",
            "id": 2513490974,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31341",
            "node_id": "IC_kwDOAPphoM6V0NQe",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2513490974/reactions"
            },
            "updated_at": "2024-12-03T03:52:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2513490974",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Are there any remaining/blocking comments?",
            "created_at": "2024-12-03T11:20:14Z",
            "html_url": "https://github.com/neovim/neovim/pull/31341#issuecomment-2514267932",
            "id": 2514267932,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31341",
            "node_id": "IC_kwDOAPphoM6V3K8c",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2514267932/reactions"
            },
            "updated_at": "2024-12-03T11:20:34Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2514267932",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/31341/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/31341/commits",
    "created_at": "2024-11-24T22:23:46Z",
    "diff_url": "https://github.com/neovim/neovim/pull/31341.diff",
    "draft": false,
    "head": {
        "label": "MariaSolOs:start-client",
        "ref": "start-client",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/MariaSolOs/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/MariaSolOs/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/MariaSolOs/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/MariaSolOs/neovim/branches{/branch}",
            "clone_url": "https://github.com/MariaSolOs/neovim.git",
            "collaborators_url": "https://api.github.com/repos/MariaSolOs/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/MariaSolOs/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/MariaSolOs/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/MariaSolOs/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/MariaSolOs/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/MariaSolOs/neovim/contributors",
            "created_at": "2023-08-05T17:10:58Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/MariaSolOs/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/MariaSolOs/neovim/downloads",
            "events_url": "https://api.github.com/repos/MariaSolOs/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/MariaSolOs/neovim/forks",
            "full_name": "MariaSolOs/neovim",
            "git_commits_url": "https://api.github.com/repos/MariaSolOs/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/MariaSolOs/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/MariaSolOs/neovim/git/tags{/sha}",
            "git_url": "git://github.com/MariaSolOs/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/MariaSolOs/neovim/hooks",
            "html_url": "https://github.com/MariaSolOs/neovim",
            "id": 675070403,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/MariaSolOs/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/MariaSolOs/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/MariaSolOs/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/MariaSolOs/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/MariaSolOs/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/MariaSolOs/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/MariaSolOs/neovim/merges",
            "milestones_url": "https://api.github.com/repos/MariaSolOs/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "R_kgDOKDzBww",
            "notifications_url": "https://api.github.com/repos/MariaSolOs/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/MariaSolOs/neovim/pulls{/number}",
            "pushed_at": "2024-12-09T17:30:21Z",
            "releases_url": "https://api.github.com/repos/MariaSolOs/neovim/releases{/id}",
            "size": 290325,
            "ssh_url": "git@github.com:MariaSolOs/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/MariaSolOs/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/MariaSolOs/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/MariaSolOs/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/MariaSolOs/neovim/subscription",
            "svn_url": "https://github.com/MariaSolOs/neovim",
            "tags_url": "https://api.github.com/repos/MariaSolOs/neovim/tags",
            "teams_url": "https://api.github.com/repos/MariaSolOs/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/MariaSolOs/neovim/git/trees{/sha}",
            "updated_at": "2024-12-08T02:47:57Z",
            "url": "https://api.github.com/repos/MariaSolOs/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "63fa9601f131d81d20558a8c9c1e2a0b3021d867",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
            "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
            "followers_url": "https://api.github.com/users/MariaSolOs/followers",
            "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
            "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/MariaSolOs",
            "id": 62502207,
            "login": "MariaSolOs",
            "node_id": "MDQ6VXNlcjYyNTAyMjA3",
            "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
            "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
            "repos_url": "https://api.github.com/users/MariaSolOs/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/MariaSolOs",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/31341",
    "id": 2197007642,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31341",
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": null,
            "id": 662566370,
            "name": "lsp",
            "node_id": "MDU6TGFiZWw2NjI1NjYzNzA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lsp"
        },
        {
            "color": "0052CC",
            "default": false,
            "description": "",
            "id": 6664957181,
            "name": "ci:skip-news",
            "node_id": "LA_kwDOAPphoM8AAAABjUMs_Q",
            "url": "https://api.github.com/repos/neovim/neovim/labels/ci:skip-news"
        }
    ],
    "locked": false,
    "merge_commit_sha": "e56437cd48f7df87ccdfb79812ee56241c0da0cb",
    "merged_at": "2024-12-04T13:14:47Z",
    "milestone": null,
    "node_id": "PR_kwDOAPphoM6C860a",
    "number": 31341,
    "patch_url": "https://github.com/neovim/neovim/pull/31341.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/31341/comments",
    "state": "closed",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/63fa9601f131d81d20558a8c9c1e2a0b3021d867",
    "title": "feat(lsp): deprecate vim.lsp.start_client",
    "updated_at": "2024-12-04T14:36:28Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/31341",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
        "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
        "followers_url": "https://api.github.com/users/MariaSolOs/followers",
        "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
        "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/MariaSolOs",
        "id": 62502207,
        "login": "MariaSolOs",
        "node_id": "MDQ6VXNlcjYyNTAyMjA3",
        "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
        "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
        "repos_url": "https://api.github.com/users/MariaSolOs/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/MariaSolOs",
        "user_view_type": "public"
    }
}