{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/34523/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/34523/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/34523"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/34523"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/34523/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/34523"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/6ad65156bf6d36ef21cbf9505efd4cfbed31b374"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 6150,
            "forks_count": 6150,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 1963,
            "open_issues_count": 1963,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2025-06-30T23:58:06Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 330464,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 90708,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2025-07-01T02:27:30Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 90708,
            "watchers_count": 90708,
            "web_commit_signoff_required": false
        },
        "sha": "f7c939fa7af9744bcb6d79100a7e126f7e9c8f5c",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim",
            "user_view_type": "public"
        }
    },
    "body": "<!--\r\n  Thank you for contributing to Neovim!\r\n  If this is your first time, check out https://github.com/neovim/neovim/blob/master/CONTRIBUTING.md#pull-requests-prs\r\n  for our PR guidelines.\r\n-->\r\n\r\nPart of https://github.com/neovim/neovim/issues/31206",
    "closed_at": null,
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/34523#discussion_r2149228897"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/34523"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2149228897"
                }
            },
            "author_association": "MEMBER",
            "body": "Can we avoid this pattern for giving callback a default as it breaks typing? Or maybe reapply a `@type`?",
            "commit_id": "6ad65156bf6d36ef21cbf9505efd4cfbed31b374",
            "created_at": "2025-06-16T07:26:06Z",
            "diff_hunk": "@@ -46,10 +46,15 @@ local hover_ns = api.nvim_create_namespace('nvim.lsp.hover_range')\n --- })\n --- ```\n --- @param config? vim.lsp.buf.hover.Opts\n-function M.hover(config)\n+--- @param callback? fun(err: lsp.ResponseError[]) Function called after the request is completed.\n+--- Any errors are passed as the first argument.\n+function M.hover(config, callback)\n   config = config or {}\n+  callback = callback or function() end",
            "html_url": "https://github.com/neovim/neovim/pull/34523#discussion_r2149228897",
            "id": 2149228897,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6AGqFh",
            "original_commit_id": "7ce41a1d3685440415b7caaa80a20251680122a2",
            "original_line": 53,
            "original_position": 9,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/buf.lua",
            "position": null,
            "pull_request_review_id": 2930918958,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/34523",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2149228897/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-06-16T07:27:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2149228897",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/34523#discussion_r2163179724"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/34523"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2163179724"
                }
            },
            "author_association": "MEMBER",
            "body": "Maybe this shouldn't be called if a callback is provided?",
            "commit_id": "6ad65156bf6d36ef21cbf9505efd4cfbed31b374",
            "created_at": "2025-06-24T07:34:04Z",
            "diff_hunk": "@@ -162,14 +178,18 @@ end\n \n ---@param method vim.lsp.protocol.Method.ClientToServer.Request\n ---@param opts? vim.lsp.LocationOpts\n-local function get_locations(method, opts)\n+---@param callback? fun(errors?: string|lsp.ResponseError[])\n+local function get_locations(method, opts, callback)\n   opts = opts or {}\n+\n   local bufnr = api.nvim_get_current_buf()\n   local win = api.nvim_get_current_win()\n \n   local clients = lsp.get_clients({ method = method, bufnr = bufnr })\n   if not next(clients) then\n-    vim.notify(lsp._unsupported_method(method), vim.log.levels.WARN)\n+    local msg = lsp._unsupported_method(method)\n+    vim.notify(msg, vim.log.levels.WARN)",
            "html_url": "https://github.com/neovim/neovim/pull/34523#discussion_r2163179724",
            "id": 2163179724,
            "line": 190,
            "node_id": "PRRC_kwDOAPphoM6A74DM",
            "original_commit_id": "93b8d56b1637fd06aea4e589804655cf1c81838b",
            "original_line": 190,
            "original_position": 69,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/buf.lua",
            "position": 70,
            "pull_request_review_id": 2952517840,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/34523",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2163179724/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-06-24T07:34:39Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2163179724",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/34523#discussion_r2164526832"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/34523"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2164526832"
                }
            },
            "author_association": "MEMBER",
            "body": "How would we distinguish the difference between receiving no responses and no requests being made?",
            "commit_id": "6ad65156bf6d36ef21cbf9505efd4cfbed31b374",
            "created_at": "2025-06-24T17:16:16Z",
            "diff_hunk": "@@ -162,14 +178,18 @@ end\n \n ---@param method vim.lsp.protocol.Method.ClientToServer.Request\n ---@param opts? vim.lsp.LocationOpts\n-local function get_locations(method, opts)\n+---@param callback? fun(errors?: string|lsp.ResponseError[])\n+local function get_locations(method, opts, callback)\n   opts = opts or {}\n+\n   local bufnr = api.nvim_get_current_buf()\n   local win = api.nvim_get_current_win()\n \n   local clients = lsp.get_clients({ method = method, bufnr = bufnr })\n   if not next(clients) then\n-    vim.notify(lsp._unsupported_method(method), vim.log.levels.WARN)\n+    local msg = lsp._unsupported_method(method)\n+    vim.notify(msg, vim.log.levels.WARN)",
            "html_url": "https://github.com/neovim/neovim/pull/34523#discussion_r2164526832",
            "id": 2164526832,
            "in_reply_to_id": 2163179724,
            "line": 190,
            "node_id": "PRRC_kwDOAPphoM6BBA7w",
            "original_commit_id": "93b8d56b1637fd06aea4e589804655cf1c81838b",
            "original_line": 190,
            "original_position": 69,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/buf.lua",
            "position": 70,
            "pull_request_review_id": 2954687659,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/34523",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2164526832/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-06-24T17:16:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2164526832",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/34523#discussion_r2164585141"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/34523"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2164585141"
                }
            },
            "author_association": "MEMBER",
            "body": "I don't understand, I'm suggesting:\n\n```lua\nif not callback then\n  vim.notify(msg, vim.log.levels.WARN)\nend\n```\n\nBasically if the user has provided a continuation and thus is probably calling this function in a script, we should minimize effects like `vim.notify()`.",
            "commit_id": "6ad65156bf6d36ef21cbf9505efd4cfbed31b374",
            "created_at": "2025-06-24T17:51:59Z",
            "diff_hunk": "@@ -162,14 +178,18 @@ end\n \n ---@param method vim.lsp.protocol.Method.ClientToServer.Request\n ---@param opts? vim.lsp.LocationOpts\n-local function get_locations(method, opts)\n+---@param callback? fun(errors?: string|lsp.ResponseError[])\n+local function get_locations(method, opts, callback)\n   opts = opts or {}\n+\n   local bufnr = api.nvim_get_current_buf()\n   local win = api.nvim_get_current_win()\n \n   local clients = lsp.get_clients({ method = method, bufnr = bufnr })\n   if not next(clients) then\n-    vim.notify(lsp._unsupported_method(method), vim.log.levels.WARN)\n+    local msg = lsp._unsupported_method(method)\n+    vim.notify(msg, vim.log.levels.WARN)",
            "html_url": "https://github.com/neovim/neovim/pull/34523#discussion_r2164585141",
            "id": 2164585141,
            "in_reply_to_id": 2163179724,
            "line": 190,
            "node_id": "PRRC_kwDOAPphoM6BBPK1",
            "original_commit_id": "93b8d56b1637fd06aea4e589804655cf1c81838b",
            "original_line": 190,
            "original_position": 69,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/buf.lua",
            "position": 70,
            "pull_request_review_id": 2954788640,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/34523",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2164585141/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-06-24T17:51:59Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2164585141",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/34523#discussion_r2164589796"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/34523"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2164589796"
                }
            },
            "author_association": "MEMBER",
            "body": "pcall masks errors. If you don't want errors to potentially mess up the flow then you can invoke the callback in `vim.schedule`",
            "commit_id": "6ad65156bf6d36ef21cbf9505efd4cfbed31b374",
            "created_at": "2025-06-24T17:54:50Z",
            "diff_hunk": "@@ -23,6 +23,13 @@ local function client_positional_params(params)\n   end\n end\n \n+--- @param callback? function\n+local function invoke_callback(callback, ...)\n+  if callback then\n+    pcall(callback, ...)",
            "html_url": "https://github.com/neovim/neovim/pull/34523#discussion_r2164589796",
            "id": 2164589796,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM6BBQTk",
            "original_commit_id": "93b8d56b1637fd06aea4e589804655cf1c81838b",
            "original_line": 29,
            "original_position": 7,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/buf.lua",
            "position": null,
            "pull_request_review_id": 2954795990,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/34523",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2164589796/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-06-24T17:55:05Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2164589796",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/34523#discussion_r2164591910"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/34523"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2164591910"
                }
            },
            "author_association": "MEMBER",
            "body": "Oh I see. I thought you were suggesting that we should let the callback figure out how to deal with the case of now clients supporting the method, and I was saying how there might not be enough information for it to know when that's the case.",
            "commit_id": "6ad65156bf6d36ef21cbf9505efd4cfbed31b374",
            "created_at": "2025-06-24T17:55:55Z",
            "diff_hunk": "@@ -162,14 +178,18 @@ end\n \n ---@param method vim.lsp.protocol.Method.ClientToServer.Request\n ---@param opts? vim.lsp.LocationOpts\n-local function get_locations(method, opts)\n+---@param callback? fun(errors?: string|lsp.ResponseError[])\n+local function get_locations(method, opts, callback)\n   opts = opts or {}\n+\n   local bufnr = api.nvim_get_current_buf()\n   local win = api.nvim_get_current_win()\n \n   local clients = lsp.get_clients({ method = method, bufnr = bufnr })\n   if not next(clients) then\n-    vim.notify(lsp._unsupported_method(method), vim.log.levels.WARN)\n+    local msg = lsp._unsupported_method(method)\n+    vim.notify(msg, vim.log.levels.WARN)",
            "html_url": "https://github.com/neovim/neovim/pull/34523#discussion_r2164591910",
            "id": 2164591910,
            "in_reply_to_id": 2163179724,
            "line": 190,
            "node_id": "PRRC_kwDOAPphoM6BBQ0m",
            "original_commit_id": "93b8d56b1637fd06aea4e589804655cf1c81838b",
            "original_line": 190,
            "original_position": 69,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/buf.lua",
            "position": 70,
            "pull_request_review_id": 2954799075,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/34523",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2164591910/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-06-24T17:55:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2164591910",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/34523#discussion_r2164596382"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/34523"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2164596382"
                }
            },
            "author_association": "MEMBER",
            "body": "The callback needs to be presented with enough information to understand what happened. Usually that's done with a distinct (and preferably static) value for `err`.",
            "commit_id": "6ad65156bf6d36ef21cbf9505efd4cfbed31b374",
            "created_at": "2025-06-24T17:58:51Z",
            "diff_hunk": "@@ -162,14 +178,18 @@ end\n \n ---@param method vim.lsp.protocol.Method.ClientToServer.Request\n ---@param opts? vim.lsp.LocationOpts\n-local function get_locations(method, opts)\n+---@param callback? fun(errors?: string|lsp.ResponseError[])\n+local function get_locations(method, opts, callback)\n   opts = opts or {}\n+\n   local bufnr = api.nvim_get_current_buf()\n   local win = api.nvim_get_current_win()\n \n   local clients = lsp.get_clients({ method = method, bufnr = bufnr })\n   if not next(clients) then\n-    vim.notify(lsp._unsupported_method(method), vim.log.levels.WARN)\n+    local msg = lsp._unsupported_method(method)\n+    vim.notify(msg, vim.log.levels.WARN)",
            "html_url": "https://github.com/neovim/neovim/pull/34523#discussion_r2164596382",
            "id": 2164596382,
            "in_reply_to_id": 2163179724,
            "line": 190,
            "node_id": "PRRC_kwDOAPphoM6BBR6e",
            "original_commit_id": "93b8d56b1637fd06aea4e589804655cf1c81838b",
            "original_line": 190,
            "original_position": 69,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp/buf.lua",
            "position": 70,
            "pull_request_review_id": 2954807750,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/34523",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2164596382/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-06-24T17:59:01Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2164596382",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/34523#discussion_r2174716003"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/34523"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2174716003"
                }
            },
            "author_association": "MEMBER",
            "body": "is there an `on_foo` name we can use? same for the others. \r\n```suggestion\r\ndeclaration({opts}, {on_result})                    *vim.lsp.buf.declaration()*\r\n```",
            "commit_id": "6ad65156bf6d36ef21cbf9505efd4cfbed31b374",
            "created_at": "2025-06-30T10:08:50Z",
            "diff_hunk": "@@ -1689,21 +1689,25 @@ code_action({opts})                                *vim.lsp.buf.code_action()*\n       • https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocument_codeAction\n       • vim.lsp.protocol.CodeActionTriggerKind\n \n-declaration({opts})                                *vim.lsp.buf.declaration()*\n+declaration({opts}, {callback})                    *vim.lsp.buf.declaration()*",
            "html_url": "https://github.com/neovim/neovim/pull/34523#discussion_r2174716003",
            "id": 2174716003,
            "line": 1692,
            "node_id": "PRRC_kwDOAPphoM6Bn4hj",
            "original_commit_id": "6ad65156bf6d36ef21cbf9505efd4cfbed31b374",
            "original_line": 1692,
            "original_position": 5,
            "original_start_line": null,
            "path": "runtime/doc/lsp.txt",
            "position": 5,
            "pull_request_review_id": 2970663485,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/34523",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2174716003/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-06-30T10:08:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2174716003",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/34523#discussion_r2175602462"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/34523"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/2175602462"
                }
            },
            "author_association": "MEMBER",
            "body": "I think `callback` feels better as `result` does have a \"positive\" connotation, but this callback should always be invoked regardless of the request completing successfully or not.",
            "commit_id": "6ad65156bf6d36ef21cbf9505efd4cfbed31b374",
            "created_at": "2025-06-30T17:50:52Z",
            "diff_hunk": "@@ -1689,21 +1689,25 @@ code_action({opts})                                *vim.lsp.buf.code_action()*\n       • https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocument_codeAction\n       • vim.lsp.protocol.CodeActionTriggerKind\n \n-declaration({opts})                                *vim.lsp.buf.declaration()*\n+declaration({opts}, {callback})                    *vim.lsp.buf.declaration()*",
            "html_url": "https://github.com/neovim/neovim/pull/34523#discussion_r2175602462",
            "id": 2175602462,
            "in_reply_to_id": 2174716003,
            "line": 1692,
            "node_id": "PRRC_kwDOAPphoM6BrQ8e",
            "original_commit_id": "6ad65156bf6d36ef21cbf9505efd4cfbed31b374",
            "original_line": 1692,
            "original_position": 5,
            "original_start_line": null,
            "path": "runtime/doc/lsp.txt",
            "position": 5,
            "pull_request_review_id": 2972157564,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/34523",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2175602462/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-06-30T17:50:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/2175602462",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "MEMBER",
            "body": "@lewis6991 I'm not done ofc but I would appreciate a quick look before I continue to ensure that this matches what you had in mind.",
            "created_at": "2025-06-16T01:30:55Z",
            "html_url": "https://github.com/neovim/neovim/pull/34523#issuecomment-2974860375",
            "id": 2974860375,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34523",
            "node_id": "IC_kwDOAPphoM6xUMRX",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2974860375/reactions"
            },
            "updated_at": "2025-06-16T01:30:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2974860375",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "One thing that was a bit of a question mark about the callback approach is how LSP cancellation would work. Not just interrupting the async task, but also sending the cancel notification to the server. And that would have to work for synthesized actions that make multiple requests like code actions or rename. See also https://github.com/neovim/neovim/issues/31206#issuecomment-2476397351\r\n\r\nCould be that we need an abstraction on top of vim.async for the higher level LSP functions.",
            "created_at": "2025-06-16T07:24:34Z",
            "html_url": "https://github.com/neovim/neovim/pull/34523#issuecomment-2975391322",
            "id": 2975391322,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34523",
            "node_id": "IC_kwDOAPphoM6xWN5a",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2975391322/reactions"
            },
            "updated_at": "2025-06-16T07:24:34Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2975391322",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/38700?v=4",
                "events_url": "https://api.github.com/users/mfussenegger/events{/privacy}",
                "followers_url": "https://api.github.com/users/mfussenegger/followers",
                "following_url": "https://api.github.com/users/mfussenegger/following{/other_user}",
                "gists_url": "https://api.github.com/users/mfussenegger/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mfussenegger",
                "id": 38700,
                "login": "mfussenegger",
                "node_id": "MDQ6VXNlcjM4NzAw",
                "organizations_url": "https://api.github.com/users/mfussenegger/orgs",
                "received_events_url": "https://api.github.com/users/mfussenegger/received_events",
                "repos_url": "https://api.github.com/users/mfussenegger/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mfussenegger/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mfussenegger/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mfussenegger",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> One thing that was a bit of a question mark about the callback approach is how LSP cancellation would work. Not just interrupting the async task, but also sending the cancel notification to the server. And that would have to work for synthesized actions that make multiple requests like code actions or rename. See also https://github.com/neovim/neovim/issues/31206#issuecomment-2476397351\r\n>\r\n> Could be that we need an abstraction on top of vim.async for the higher level LSP functions.\r\n\r\nI thought that comment was addressed by simply passing back a `cancel` method. I'm not sure what else is needed. I certainly don't understand the need for a `vim.async` abstraction. We only need to send cancel notifications, so it's not like we need to wait for the cancellation to finish. Are you able to elaborate further?\r\n\r\nEDIT: I see you might be missing some context here. I've asked Maria to add both continuations to every function and to also return something like `{ cancel = function() ... end }`, so the requests can be cancelled.",
            "created_at": "2025-06-16T16:04:44Z",
            "html_url": "https://github.com/neovim/neovim/pull/34523#issuecomment-2977209969",
            "id": 2977209969,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34523",
            "node_id": "IC_kwDOAPphoM6xdJ5x",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2977209969/reactions"
            },
            "updated_at": "2025-06-16T16:07:05Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2977209969",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@lewis6991 @mfussenegger is it okay if I add the cancellation logic in a later PR?",
            "created_at": "2025-06-16T16:39:30Z",
            "html_url": "https://github.com/neovim/neovim/pull/34523#issuecomment-2977316837",
            "id": 2977316837,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34523",
            "node_id": "IC_kwDOAPphoM6xdj_l",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2977316837/reactions"
            },
            "updated_at": "2025-06-16T16:39:30Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2977316837",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Why? There's no rush for this. You can add it as a separate commit if that's better.",
            "created_at": "2025-06-16T17:04:53Z",
            "html_url": "https://github.com/neovim/neovim/pull/34523#issuecomment-2977385159",
            "id": 2977385159,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34523",
            "node_id": "IC_kwDOAPphoM6xd0rH",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2977385159/reactions"
            },
            "updated_at": "2025-06-16T17:04:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2977385159",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Why? There's no rush for this. You can add it as a separate commit if that's better.\r\n\r\nIt feels like there's still some pending design discussions around it and I don't want to block these changes on that.\r\n\r\nI also think that focusing on the callback arguments for now will make this PR easier to review (and revert if needed). But I'm not going to die on a hill over Git etiquette or conventions.",
            "created_at": "2025-06-16T17:29:27Z",
            "html_url": "https://github.com/neovim/neovim/pull/34523#issuecomment-2977450302",
            "id": 2977450302,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34523",
            "node_id": "IC_kwDOAPphoM6xeEk-",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2977450302/reactions"
            },
            "updated_at": "2025-06-16T17:30:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2977450302",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "What pending decisions though? I'm not sure if there are any ([ref](https://github.com/neovim/neovim/pull/34506#issuecomment-2973298872)), and if there are, that's then the important work that needs doing. It would help if something was added here. Mathias reviewed this with the context that this PR didn't add any cancellation, saying that we need to add it, and was just reiterating what he [commented](https://github.com/neovim/neovim/issues/31206#issuecomment-2476397351) in the other issue. It then seems that you've interpreted that comment as there being some pending decisions, when really we've just gone in a circle.\n\nIt's ok if you just don't want to do it though, the callbacks on their own are still useful.",
            "created_at": "2025-06-16T19:16:31Z",
            "html_url": "https://github.com/neovim/neovim/pull/34523#issuecomment-2977799120",
            "id": 2977799120,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34523",
            "node_id": "IC_kwDOAPphoM6xfZvQ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2977799120/reactions"
            },
            "updated_at": "2025-06-16T19:23:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2977799120",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> What pending decisions though? I'm not sure if there are any ([ref](https://github.com/neovim/neovim/pull/34506#issuecomment-2973298872)), and if there are, that's then the important work that needs doing. It would help if something was added here. Mathias reviewed this with the context that this PR didn't add any cancellation, saying that we need to add it, and was just reiterating what he [commented](https://github.com/neovim/neovim/issues/31206#issuecomment-2476397351) in the other issue. It then seems that you've interpreted that comment as there being some pending decisions, when really we've just gone in a circle.\r\n> \r\n> It's ok if you just don't want to do it though, the callbacks on their own are still useful.\r\n\r\nI'm okay with doing it. I'll add it to this PR if you prefer.",
            "created_at": "2025-06-16T20:09:32Z",
            "html_url": "https://github.com/neovim/neovim/pull/34523#issuecomment-2977967139",
            "id": 2977967139,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34523",
            "node_id": "IC_kwDOAPphoM6xgCwj",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2977967139/reactions"
            },
            "updated_at": "2025-06-16T20:09:32Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2977967139",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> I thought that comment was addressed by simply passing back a cancel method. I'm not sure what else is needed. I certainly don't understand the need for a vim.async abstraction. We only need to send cancel notifications, so it's not like we need to wait for the cancellation to finish. Are you able to elaborate further?\r\n\r\n> EDIT: I see you might be missing some context here. I've asked Maria to add both continuations to every function and to also return something like { cancel = function() ... end }, so the requests can be cancelled.\r\n\r\nDo I get it right that it would then look something like this with https://github.com/neovim/neovim/pull/34473 ?\r\n\r\n\r\n```lua\r\nasync.run(function()\r\n  local result = async.await(function(on_result)\r\n    local obj = vim.lsp.declaration({}, on_result)\r\n    -- obj.cancel() or obj:cancel() ?\r\n  end)\r\nend)\r\n```\r\n\r\nIf so - I'd have found something a bit higher level justified for these functions, given that they're kinda higher level themselves. Something closer to what `vim.system()` provides, e.g.:\r\n\r\n```lua\r\nlocal obj = vim.lsp.declaration(opts)\r\n-- obj:cancel() -- lsp cancellation\r\n-- obj:wait([timeout])\r\n-- obj:wait(function(err, result) ... end)\r\n```\r\n\r\n\r\nWhat also feels a bit clunky is that some of the functions already have result callbacks with `on_list` in `:h vim.lsp.ListOpts`.\r\n",
            "created_at": "2025-06-16T20:14:49Z",
            "html_url": "https://github.com/neovim/neovim/pull/34523#issuecomment-2977983448",
            "id": 2977983448,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34523",
            "node_id": "IC_kwDOAPphoM6xgGvY",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2977983448/reactions"
            },
            "updated_at": "2025-06-16T20:14:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2977983448",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/38700?v=4",
                "events_url": "https://api.github.com/users/mfussenegger/events{/privacy}",
                "followers_url": "https://api.github.com/users/mfussenegger/followers",
                "following_url": "https://api.github.com/users/mfussenegger/following{/other_user}",
                "gists_url": "https://api.github.com/users/mfussenegger/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mfussenegger",
                "id": 38700,
                "login": "mfussenegger",
                "node_id": "MDQ6VXNlcjM4NzAw",
                "organizations_url": "https://api.github.com/users/mfussenegger/orgs",
                "received_events_url": "https://api.github.com/users/mfussenegger/received_events",
                "repos_url": "https://api.github.com/users/mfussenegger/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mfussenegger/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mfussenegger/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mfussenegger",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Close. It would be:\n\n```lua\nasync.run(function()\n  local result = async.await(function(on_result)\n    local obj = vim.lsp.declaration({}, on_result)\n    return { \n      cancel = function()\n        obj:cancel()\n      end\n    }\n  end)\nend)\n```\n\nOr probably just even:\n\n```lua\nasync.run(function()\n  local result = async.await(2, vim.lsp.declaration)\nend)\n```\n\nOr even simpler for sync uses:\n\n```lua\nlocal task = async.run(async.await, 2, vim.lsp.declaration)\n-- task:cancel()\n-- task:wait([timeout])\n-- task:wait(function(err, result) ... end)\n```\n\nIf that is too clunky then it can even be:\n\n```lua\nlocal task = async.run(2, vim.lsp.declaration)\n-- task:cancel()\n-- task:wait([timeout])\n-- task:wait(function(err, result) ... end)\n```\n\nBut this requires that all callback functions return a consistent object.\n\n`async.run` provides the `wait()` interface so I'd like to avoid replicating it everywhere, and instead have all of nvims callback functions implementing a consistent interface. The one in `vim.system()` won't be needed anymore but will remain for legacy.",
            "created_at": "2025-06-16T20:33:51Z",
            "html_url": "https://github.com/neovim/neovim/pull/34523#issuecomment-2978041761",
            "id": 2978041761,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34523",
            "node_id": "IC_kwDOAPphoM6xgU-h",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 1,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2978041761/reactions"
            },
            "updated_at": "2025-06-16T20:35:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2978041761",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Or probably just even:\r\n> [...]\r\n\r\nOkay that seems good enough.\r\n\r\n> async.run provides the wait() interface so I'd like to avoid replicating it everywhere\r\n\r\nMakes sense, :+1: \r\n\r\n\r\nSo main remaining question would be how to deal with the functions that already have some sort of callback. E.g. `vim.lsp.declaration({ on_list = ...})` exists already. Having `vim.lsp.declaration({ on_list = ...}, callback)` seems odd. We probably don't need to add another callback for those?\r\n",
            "created_at": "2025-06-16T20:46:08Z",
            "html_url": "https://github.com/neovim/neovim/pull/34523#issuecomment-2978079321",
            "id": 2978079321,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34523",
            "node_id": "IC_kwDOAPphoM6xgeJZ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2978079321/reactions"
            },
            "updated_at": "2025-06-16T20:46:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2978079321",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/38700?v=4",
                "events_url": "https://api.github.com/users/mfussenegger/events{/privacy}",
                "followers_url": "https://api.github.com/users/mfussenegger/followers",
                "following_url": "https://api.github.com/users/mfussenegger/following{/other_user}",
                "gists_url": "https://api.github.com/users/mfussenegger/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mfussenegger",
                "id": 38700,
                "login": "mfussenegger",
                "node_id": "MDQ6VXNlcjM4NzAw",
                "organizations_url": "https://api.github.com/users/mfussenegger/orgs",
                "received_events_url": "https://api.github.com/users/mfussenegger/received_events",
                "repos_url": "https://api.github.com/users/mfussenegger/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mfussenegger/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mfussenegger/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mfussenegger",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "My preference would be to just (long) deprecate them, otherwise for this to gel with vim.async you need to do:\n\n```lua\nlocal obi = async.await(function(on_result)\n  return vim.lsp.declaration({ on_list = on_result })\nend)\n```\n\nNot the worst, but I'd rather we just enforce a consistent style everywhere. \n\nI also want to deprecate some stuff in `vim.lsp.buf.format` (or whatever the format function is called), in the same vein.",
            "created_at": "2025-06-16T20:51:30Z",
            "html_url": "https://github.com/neovim/neovim/pull/34523#issuecomment-2978095542",
            "id": 2978095542,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34523",
            "node_id": "IC_kwDOAPphoM6xgiG2",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2978095542/reactions"
            },
            "updated_at": "2025-06-16T20:51:30Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2978095542",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> My preference would be to just (long) deprecate them\r\n\r\nSounds okay to me.\r\nWould be good to have the deprecations in this PR.\r\n\r\nI don't mind if the cancel logic is done in a follow up. Only wanted to double check that both async and it will work together. ",
            "created_at": "2025-06-16T21:11:37Z",
            "html_url": "https://github.com/neovim/neovim/pull/34523#issuecomment-2978163316",
            "id": 2978163316,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34523",
            "node_id": "IC_kwDOAPphoM6xgyp0",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2978163316/reactions"
            },
            "updated_at": "2025-06-16T21:11:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2978163316",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/38700?v=4",
                "events_url": "https://api.github.com/users/mfussenegger/events{/privacy}",
                "followers_url": "https://api.github.com/users/mfussenegger/followers",
                "following_url": "https://api.github.com/users/mfussenegger/following{/other_user}",
                "gists_url": "https://api.github.com/users/mfussenegger/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mfussenegger",
                "id": 38700,
                "login": "mfussenegger",
                "node_id": "MDQ6VXNlcjM4NzAw",
                "organizations_url": "https://api.github.com/users/mfussenegger/orgs",
                "received_events_url": "https://api.github.com/users/mfussenegger/received_events",
                "repos_url": "https://api.github.com/users/mfussenegger/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mfussenegger/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mfussenegger/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mfussenegger",
                "user_view_type": "public"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/34523/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/34523/commits",
    "created_at": "2025-06-16T01:29:16Z",
    "diff_url": "https://github.com/neovim/neovim/pull/34523.diff",
    "draft": true,
    "head": {
        "label": "MariaSolOs:continuations",
        "ref": "continuations",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/MariaSolOs/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/MariaSolOs/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/MariaSolOs/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/MariaSolOs/neovim/branches{/branch}",
            "clone_url": "https://github.com/MariaSolOs/neovim.git",
            "collaborators_url": "https://api.github.com/repos/MariaSolOs/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/MariaSolOs/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/MariaSolOs/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/MariaSolOs/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/MariaSolOs/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/MariaSolOs/neovim/contributors",
            "created_at": "2023-08-05T17:10:58Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/MariaSolOs/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/MariaSolOs/neovim/downloads",
            "events_url": "https://api.github.com/repos/MariaSolOs/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/MariaSolOs/neovim/forks",
            "full_name": "MariaSolOs/neovim",
            "git_commits_url": "https://api.github.com/repos/MariaSolOs/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/MariaSolOs/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/MariaSolOs/neovim/git/tags{/sha}",
            "git_url": "git://github.com/MariaSolOs/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/MariaSolOs/neovim/hooks",
            "html_url": "https://github.com/MariaSolOs/neovim",
            "id": 675070403,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/MariaSolOs/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/MariaSolOs/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/MariaSolOs/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/MariaSolOs/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/MariaSolOs/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/MariaSolOs/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/MariaSolOs/neovim/merges",
            "milestones_url": "https://api.github.com/repos/MariaSolOs/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "R_kgDOKDzBww",
            "notifications_url": "https://api.github.com/repos/MariaSolOs/neovim/notifications{?since,all,participating}",
            "open_issues": 1,
            "open_issues_count": 1,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/MariaSolOs/neovim/pulls{/number}",
            "pushed_at": "2025-06-30T01:23:34Z",
            "releases_url": "https://api.github.com/repos/MariaSolOs/neovim/releases{/id}",
            "size": 320815,
            "ssh_url": "git@github.com:MariaSolOs/neovim.git",
            "stargazers_count": 4,
            "stargazers_url": "https://api.github.com/repos/MariaSolOs/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/MariaSolOs/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/MariaSolOs/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/MariaSolOs/neovim/subscription",
            "svn_url": "https://github.com/MariaSolOs/neovim",
            "tags_url": "https://api.github.com/repos/MariaSolOs/neovim/tags",
            "teams_url": "https://api.github.com/repos/MariaSolOs/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/MariaSolOs/neovim/git/trees{/sha}",
            "updated_at": "2025-06-27T17:51:30Z",
            "url": "https://api.github.com/repos/MariaSolOs/neovim",
            "visibility": "public",
            "watchers": 4,
            "watchers_count": 4,
            "web_commit_signoff_required": false
        },
        "sha": "6ad65156bf6d36ef21cbf9505efd4cfbed31b374",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
            "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
            "followers_url": "https://api.github.com/users/MariaSolOs/followers",
            "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
            "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/MariaSolOs",
            "id": 62502207,
            "login": "MariaSolOs",
            "node_id": "MDQ6VXNlcjYyNTAyMjA3",
            "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
            "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
            "repos_url": "https://api.github.com/users/MariaSolOs/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/MariaSolOs",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/34523",
    "id": 2594201299,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/34523",
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": null,
            "id": 662566370,
            "name": "lsp",
            "node_id": "MDU6TGFiZWw2NjI1NjYzNzA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lsp"
        }
    ],
    "locked": false,
    "merge_commit_sha": "d386e364503a53bd42d2171435a2b9ce55168f98",
    "merged_at": null,
    "milestone": null,
    "node_id": "PR_kwDOAPphoM6aoF7T",
    "number": 34523,
    "patch_url": "https://github.com/neovim/neovim/pull/34523.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/34523/comments",
    "state": "open",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/6ad65156bf6d36ef21cbf9505efd4cfbed31b374",
    "title": "feat(lsp): add continuations to `vim.lsp.buf*` functions",
    "updated_at": "2025-06-30T17:50:52Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/34523",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
        "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
        "followers_url": "https://api.github.com/users/MariaSolOs/followers",
        "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
        "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/MariaSolOs",
        "id": 62502207,
        "login": "MariaSolOs",
        "node_id": "MDQ6VXNlcjYyNTAyMjA3",
        "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
        "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
        "repos_url": "https://api.github.com/users/MariaSolOs/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/MariaSolOs",
        "user_view_type": "public"
    }
}