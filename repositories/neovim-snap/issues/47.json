{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "Hi,\n\nwhen using the neovim snap packages (ubuntu) and `lsp` when starting nvim `gopls` give me messages like this one\n\n```\n[gopls] identify GOROOT dir cmd failed with code 0: { \"go\", \"env\", \"GOROOT\" }\n```\nsame message for `GOPATH` and `GOMODCACHE`. and I have to confirm these messages on start and every time I open a new (go) file.\n\nUsing neovim from a classic installation (same version) works with no warnings.\n\n`go`  is installed via snap package too,  `gopls`  is installed in go dir in my home `/home/myuser/go/bin/gopls`.\n\nThanks for the help.",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Why do you think this has anything to do with Neovim, as opposed to a general issue about snap?",
            "created_at": "2025-11-19T18:49:48Z",
            "html_url": "https://github.com/neovim/neovim-snap/issues/47#issuecomment-3554168284",
            "id": 3554168284,
            "issue_url": "https://api.github.com/repos/neovim/neovim-snap/issues/47",
            "node_id": "IC_kwDOEXS3_s7T2E3c",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim-snap/issues/comments/3554168284/reactions"
            },
            "updated_at": "2025-11-19T18:49:48Z",
            "url": "https://api.github.com/repos/neovim/neovim-snap/issues/comments/3554168284",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I'm not sure how snap sandboxing works exactly, but I reported it here because the issue only happens with neovim-snap. The same Neovim version installed normally works fine with no warnings. If this should be reported somewhere else, let me know.",
            "created_at": "2025-11-19T19:00:48Z",
            "html_url": "https://github.com/neovim/neovim-snap/issues/47#issuecomment-3554205253",
            "id": 3554205253,
            "issue_url": "https://api.github.com/repos/neovim/neovim-snap/issues/47",
            "node_id": "IC_kwDOEXS3_s7T2N5F",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim-snap/issues/comments/3554205253/reactions"
            },
            "updated_at": "2025-11-19T19:00:48Z",
            "url": "https://api.github.com/repos/neovim/neovim-snap/issues/comments/3554205253",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/88270312?v=4",
                "events_url": "https://api.github.com/users/fedxyz/events{/privacy}",
                "followers_url": "https://api.github.com/users/fedxyz/followers",
                "following_url": "https://api.github.com/users/fedxyz/following{/other_user}",
                "gists_url": "https://api.github.com/users/fedxyz/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/fedxyz",
                "id": 88270312,
                "login": "fedxyz",
                "node_id": "MDQ6VXNlcjg4MjcwMzEy",
                "organizations_url": "https://api.github.com/users/fedxyz/orgs",
                "received_events_url": "https://api.github.com/users/fedxyz/received_events",
                "repos_url": "https://api.github.com/users/fedxyz/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/fedxyz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/fedxyz/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/fedxyz",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> only happens with neovim-snap\n\nAs in, you tried other snap apps and confirmed it doesn't happen in other snap apps? The env vars are visible in those snap apps?\n\nComparing to non-snap Neovim does not tell us much.",
            "created_at": "2025-11-19T19:08:10Z",
            "html_url": "https://github.com/neovim/neovim-snap/issues/47#issuecomment-3554228779",
            "id": 3554228779,
            "issue_url": "https://api.github.com/repos/neovim/neovim-snap/issues/47",
            "node_id": "IC_kwDOEXS3_s7T2Tor",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim-snap/issues/comments/3554228779/reactions"
            },
            "updated_at": "2025-11-19T19:08:10Z",
            "url": "https://api.github.com/repos/neovim/neovim-snap/issues/comments/3554228779",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I haven't tested other snap apps because I don't use any that would need these specific Go env vars. I do use other snaps (Firefox, Chrome, IntelliJ) but I have no way to tell if they read env variables the same way gopls does. This is a specific nvim+LSP+Go setup that I can't reproduce elsewhere.\n\nI reported it here because I'm using neovim-snap and non-snap Neovim works fine. Where else would you suggest reporting an issue like this?",
            "created_at": "2025-11-19T19:17:32Z",
            "html_url": "https://github.com/neovim/neovim-snap/issues/47#issuecomment-3554263820",
            "id": 3554263820,
            "issue_url": "https://api.github.com/repos/neovim/neovim-snap/issues/47",
            "node_id": "IC_kwDOEXS3_s7T2cMM",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim-snap/issues/comments/3554263820/reactions"
            },
            "updated_at": "2025-11-19T19:17:32Z",
            "url": "https://api.github.com/repos/neovim/neovim-snap/issues/comments/3554263820",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/88270312?v=4",
                "events_url": "https://api.github.com/users/fedxyz/events{/privacy}",
                "followers_url": "https://api.github.com/users/fedxyz/followers",
                "following_url": "https://api.github.com/users/fedxyz/following{/other_user}",
                "gists_url": "https://api.github.com/users/fedxyz/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/fedxyz",
                "id": 88270312,
                "login": "fedxyz",
                "node_id": "MDQ6VXNlcjg4MjcwMzEy",
                "organizations_url": "https://api.github.com/users/fedxyz/orgs",
                "received_events_url": "https://api.github.com/users/fedxyz/received_events",
                "repos_url": "https://api.github.com/users/fedxyz/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/fedxyz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/fedxyz/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/fedxyz",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> `go` is installed via snap package too, `gopls` is installed in go dir in my home `/home/myuser/go/bin/gopls`.\n\nDoes `which go` and `which gopls` show the correct paths when run from `:terminal` in the snap Nvim? And do those commands work from `:terminal` ?\n\nIt might be related to snap \"sandboxing\".\n\n\n\n> I reported it here because I'm using neovim-snap and non-snap Neovim works fine. Where else would you suggest reporting an issue like this?\n\nThis is likely a behavior related to snap in general, so start with their docs. I don't know much about snap. ",
            "created_at": "2025-11-19T21:28:46Z",
            "html_url": "https://github.com/neovim/neovim-snap/issues/47#issuecomment-3554704837",
            "id": 3554704837,
            "issue_url": "https://api.github.com/repos/neovim/neovim-snap/issues/47",
            "node_id": "IC_kwDOEXS3_s7T4H3F",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim-snap/issues/comments/3554704837/reactions"
            },
            "updated_at": "2025-11-19T21:28:46Z",
            "url": "https://api.github.com/repos/neovim/neovim-snap/issues/comments/3554704837",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "in `:terminal`  `which go`  and ` which gopls`  works\n\nI've tested it: :`!go env GOROOT` (`GOPATH` and `GOMODCACHE` too) works in standard Neovim but returns nothing in neovim-snap. \nIf this is an unfixable snap limitation, then the snap package doesn't provide equivalent functionality to standard Neovim for LSP usage, which imho seems like a significant problem.\n\nEdit:\n`:terminal go env GOROOT/GOPATH/GOMODCACHE`  works",
            "created_at": "2025-11-19T22:09:22Z",
            "html_url": "https://github.com/neovim/neovim-snap/issues/47#issuecomment-3554822883",
            "id": 3554822883,
            "issue_url": "https://api.github.com/repos/neovim/neovim-snap/issues/47",
            "node_id": "IC_kwDOEXS3_s7T4krj",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim-snap/issues/comments/3554822883/reactions"
            },
            "updated_at": "2025-11-19T22:13:01Z",
            "url": "https://api.github.com/repos/neovim/neovim-snap/issues/comments/3554822883",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/88270312?v=4",
                "events_url": "https://api.github.com/users/fedxyz/events{/privacy}",
                "followers_url": "https://api.github.com/users/fedxyz/followers",
                "following_url": "https://api.github.com/users/fedxyz/following{/other_user}",
                "gists_url": "https://api.github.com/users/fedxyz/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/fedxyz",
                "id": 88270312,
                "login": "fedxyz",
                "node_id": "MDQ6VXNlcjg4MjcwMzEy",
                "organizations_url": "https://api.github.com/users/fedxyz/orgs",
                "received_events_url": "https://api.github.com/users/fedxyz/received_events",
                "repos_url": "https://api.github.com/users/fedxyz/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/fedxyz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/fedxyz/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/fedxyz",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> snap package doesn't provide equivalent functionality to standard Neovim for LSP usage, which imho seems like a significant problem.\n\nIndeed. We are open to concrete improvements to the snap build, if possible, but it may not be fully fixable because of Snap design. Nothing we can do about that.",
            "created_at": "2025-11-19T22:14:18Z",
            "html_url": "https://github.com/neovim/neovim-snap/issues/47#issuecomment-3554838039",
            "id": 3554838039,
            "issue_url": "https://api.github.com/repos/neovim/neovim-snap/issues/47",
            "node_id": "IC_kwDOEXS3_s7T4oYX",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim-snap/issues/comments/3554838039/reactions"
            },
            "updated_at": "2025-11-19T22:14:18Z",
            "url": "https://api.github.com/repos/neovim/neovim-snap/issues/comments/3554838039",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 7,
    "comments_url": "https://api.github.com/repos/neovim/neovim-snap/issues/47/comments",
    "created_at": "2025-11-19T17:10:54Z",
    "events_url": "https://api.github.com/repos/neovim/neovim-snap/issues/47/events",
    "html_url": "https://github.com/neovim/neovim-snap/issues/47",
    "id": 3643675097,
    "issue_dependencies_summary": {
        "blocked_by": 0,
        "blocking": 0,
        "total_blocked_by": 0,
        "total_blocking": 0
    },
    "labels": [],
    "labels_url": "https://api.github.com/repos/neovim/neovim-snap/issues/47/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOEXS3_s7ZLhHZ",
    "number": 47,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim-snap/issues/47/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim-snap",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim-snap/issues/47/timeline",
    "title": "gopls warn that it cannot read env variables GOROOT, GOPATH, GOMODCACHE",
    "type": null,
    "updated_at": "2025-11-19T22:14:18Z",
    "url": "https://api.github.com/repos/neovim/neovim-snap/issues/47",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/88270312?v=4",
        "events_url": "https://api.github.com/users/fedxyz/events{/privacy}",
        "followers_url": "https://api.github.com/users/fedxyz/followers",
        "following_url": "https://api.github.com/users/fedxyz/following{/other_user}",
        "gists_url": "https://api.github.com/users/fedxyz/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/fedxyz",
        "id": 88270312,
        "login": "fedxyz",
        "node_id": "MDQ6VXNlcjg4MjcwMzEy",
        "organizations_url": "https://api.github.com/users/fedxyz/orgs",
        "received_events_url": "https://api.github.com/users/fedxyz/received_events",
        "repos_url": "https://api.github.com/users/fedxyz/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/fedxyz/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fedxyz/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/fedxyz",
        "user_view_type": "public"
    }
}